{"version":3,"file":"okta-sign-in.oie.min.js","mappings":"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AAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJ5mD,GAAI,MACJ6mD,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJ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","sources":["webpack://OktaSignIn/webpack/universalModuleDefinition","webpack://OktaSignIn/./node_modules/@sindresorhus/to-milliseconds/index.js","webpack://OktaSignIn/./node_modules/parse-ms/index.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/_commonjsHelpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/backbone.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/base.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/block-helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/create-new-lookup-object.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/decorators.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/each.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/exception.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/handlebars.runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/helpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/if.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/inline.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/js.cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/log.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/lookup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/no-conflict.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/proto-access.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/safe-string.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/underscore-min.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/utils.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/with.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/wrapHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/base.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/decorators.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/exception.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/each.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/if.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/log.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/with.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/proto-access.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/wrapHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/no-conflict.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/safe-string.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/utils.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/underscore/underscore-min.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/Collection.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/ListView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/Model.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/View.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseCollection.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseSchema.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/Model.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/SchemaProperty.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/BaseController.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/BaseRouter.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/ButtonFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Class.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Clipboard.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Keys.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/SchemaUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/SettingsModel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/StateMachine.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/StringUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/TemplateUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Time.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Util.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/ViewUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/lib/js.cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/chosen.jquery.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/jquery.custominput.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/jquery.placeholder.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/BaseView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/BaseButtonLink.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/BaseDropDown.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/Callout.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/Notification.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/BaseForm.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/BaseInput.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/components/ReadModeBar.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/components/Toolbar.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/EnumTypeHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/ErrorBanner.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/ErrorParser.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/FormUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputContainer.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputLabel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputRegistry.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputWrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/SchemaFormFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/BooleanSelect.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/CheckBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/DeletableBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/InputGroup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/PasswordBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Radio.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Select.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/TextBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/TextBoxSet.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/empty.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/index.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/util/scrollParent.js","webpack://OktaSignIn/./packages/vendor/duo_web_sdk/index.js","webpack://OktaSignIn/./src/util/Animations.js","webpack://OktaSignIn/./src/util/ColorsUtil.js","webpack://OktaSignIn/./src/util/CookieUtil.js","webpack://OktaSignIn/./src/util/CountryUtil.js","webpack://OktaSignIn/./src/util/CryptoUtil.js","webpack://OktaSignIn/./src/util/Enums.js","webpack://OktaSignIn/./src/util/FactorUtil.js","webpack://OktaSignIn/./src/util/FidoUtil.js","webpack://OktaSignIn/./src/util/Hooks.js","webpack://OktaSignIn/./src/util/IDP.js","webpack://OktaSignIn/./src/util/LanguageUtil.js","webpack://OktaSignIn/./src/util/Logger.js","webpack://OktaSignIn/./src/util/OAuth2Util.js","webpack://OktaSignIn/./src/util/TimeUtil.js","webpack://OktaSignIn/./src/util/Util.js","webpack://OktaSignIn/./src/util/countryCallingCodes.js","webpack://OktaSignIn/./src/util/webauthn.js","webpack://OktaSignIn/./src/v1/views/admin-consent/ScopeItem.js","webpack://OktaSignIn/./src/v1/views/admin-consent/ScopeList.js","webpack://OktaSignIn/./src/v1/views/consent/ScopeItem.js","webpack://OktaSignIn/./src/v1/views/consent/ScopeList.js","webpack://OktaSignIn/./src/v1/views/shared/AuthContainer.js","webpack://OktaSignIn/./src/v1/views/shared/LoadingBeacon.js","webpack://OktaSignIn/./src/v2/client/constants.js","webpack://OktaSignIn/./src/v2/client/handleConfiguredFlow.js","webpack://OktaSignIn/./src/v2/client/index.js","webpack://OktaSignIn/./src/v2/client/interactionCodeFlow.js","webpack://OktaSignIn/./src/v2/client/sessionStorageHelper.js","webpack://OktaSignIn/./src/v2/ion/IonResponseHelper.js","webpack://OktaSignIn/./src/v2/ion/RemediationConstants.js","webpack://OktaSignIn/./src/v2/ion/ViewClassNamesFactory.js","webpack://OktaSignIn/./src/v2/ion/i18nTransformer.js","webpack://OktaSignIn/./src/v2/ion/i18nUtils.js","webpack://OktaSignIn/./src/v2/ion/payloadTransformer.js","webpack://OktaSignIn/./src/v2/ion/responseTransformer.js","webpack://OktaSignIn/./src/v2/ion/transformIdxResponse.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-boolean-handler.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-object-handler.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-string-handler.js","webpack://OktaSignIn/./src/v2/ion/uiSchemaTransformer.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorEnrollOptions.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorVerifyOptions.js","webpack://OktaSignIn/./src/v2/view-builder/components/BaseAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/components/ChallengeWebauthnFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/EmailAuthenticatorHeader.js","webpack://OktaSignIn/./src/v2/view-builder/components/HeaderBeacon.js","webpack://OktaSignIn/./src/v2/view-builder/components/IdentifierFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/Link.js","webpack://OktaSignIn/./src/v2/view-builder/components/MdmOktaVerifyTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/components/OdaOktaVerifyTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/components/OktaVerifyAuthenticatorHeader.js","webpack://OktaSignIn/./src/v2/view-builder/components/ScopeCheckBox.js","webpack://OktaSignIn/./src/v2/view-builder/components/SkipOptionalEnrollmentButton.js","webpack://OktaSignIn/./src/v2/view-builder/components/ToggleTextLink.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseFooter.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseFormWithPolling.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseHeader.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseModel.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseOktaVerifyChallengeView.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseView.js","webpack://OktaSignIn/./src/v2/view-builder/internals/index.js","webpack://OktaSignIn/./src/v2/view-builder/utils/AuthenticatorUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/AutoRedirectUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/ChallengeViewUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/Constants.js","webpack://OktaSignIn/./src/v2/view-builder/utils/DeviceFingerprinting.js","webpack://OktaSignIn/./src/v2/view-builder/utils/LinksUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/TimeZone.js","webpack://OktaSignIn/./src/v2/view-builder/views/AutoRedirectView.js","webpack://OktaSignIn/./src/v2/view-builder/views/EnrollProfileUpdateView.js","webpack://OktaSignIn/./src/v2/view-builder/views/EnrollProfileView.js","webpack://OktaSignIn/./src/v2/view-builder/views/IdentifierView.js","webpack://OktaSignIn/./src/v2/view-builder/views/IdentifyRecoveryView.js","webpack://OktaSignIn/./src/v2/view-builder/views/PollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/RedirectIdPView.js","webpack://OktaSignIn/./src/v2/view-builder/views/SelectAuthenticatorEnrollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/SelectAuthenticatorVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/TerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/activation/RequestActivationEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/authenticator/SelectAuthenticatorUnlockAccountView.js","webpack://OktaSignIn/./src/v2/view-builder/views/authenticator/UnlockAccountView.js","webpack://OktaSignIn/./src/v2/view-builder/views/captcha/CaptchaView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/AdminConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/AdminConsentViewHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/ConsentViewForm.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EmailMagicLinkOTPTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentAgreementText.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentViewFooter.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentViewHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserEmailConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/GranularConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-app/ChallengeCustomAppResendPushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-otp/ChallengeCustomOTPAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-password/ReEnrollCustomPasswordExpiryView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-password/ReEnrollCustomPasswordExpiryWarningView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device-assurance-grace-period/DeviceAssuranceGracePeriodView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceChallengePollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceCodeActivateView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceEnrollmentTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/SSOExtensionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/SignInDeviceView.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/BaseDuoAuthenticatorForm.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/ChallengeDuoAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/EnrollDuoAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/AuthenticatorEmailViewUtil.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/BaseAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/ChallengeAuthenticatorDataEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/ChallengeAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/EnrollAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/end-user-remediation/EndUserRemediationMessages.js","webpack://OktaSignIn/./src/v2/view-builder/views/enroll-profile/i18nBaseAttributeMappings.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/ChallengeGoogleAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollAuthenticatorGoogleAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollAuthenticatorManualSetupView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollGoogleAuthenticatorBarcodeView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/AuthenticatorIdPEnrollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/AuthenticatorIdPVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/BaseIdpAuthenticator.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/RedirectIdvView.js","webpack://OktaSignIn/./src/v2/view-builder/views/keep-me-signed-in/PostAuthKeepMeSignedInView.js","webpack://OktaSignIn/./src/v2/view-builder/views/on-prem/ChallengeAuthenticatorOnPremView.js","webpack://OktaSignIn/./src/v2/view-builder/views/on-prem/EnrollAuthenticatorOnPremView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyFastPassView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyResendPushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifySSOExtensionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyTotpView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollChannelPollDescriptionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollPollOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollementChannelDataOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/NumberChallengePhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/NumberChallengePushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/OVResendView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ResendNumberChallengeView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/SameDeviceEnrollLink.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/SelectEnrollmentChannelOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/SwitchEnrollChannelLinkView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ChallengeAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/EnrollAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/PasswordPolicyUtil.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ReEnrollAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ReEnrollAuthenticatorWarningPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ResetAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/ChallengeAuthenticatorDataPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/ChallengeAuthenticatorPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/EnrollAuthenticatorDataPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/EnrollAuthenticatorPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/piv/ChallengePIVView.js","webpack://OktaSignIn/./src/v2/view-builder/views/piv/PIVHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/security-question/ChallengeAuthenticatorSecurityQuestion.js","webpack://OktaSignIn/./src/v2/view-builder/views/security-question/EnrollAuthenticatorSecurityQuestionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/BaseResendView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppDataView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppFormView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppPushOnlyFormView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengePushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/CustomAccessDeniedErrorMessage.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/email.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/polling.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/CustomButtons.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithDeviceOption.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithIdps.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithWebAuthn.js","webpack://OktaSignIn/./src/v2/view-builder/views/symantec/AuthenticatorSymantecView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/ChallengeWebauthnInfoView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/ChallengeWebauthnView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebAuthnResidentkeyLinkView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebauthnInfoView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebauthnView.js","webpack://OktaSignIn/./src/v2/view-builder/views/yubikey/AuthenticatorYubiKeyView.js","webpack://OktaSignIn/./src/widget/buildRenderOptions.js","webpack://OktaSignIn/./src/widget/createRouter.js","webpack://OktaSignIn/./src/authClient/oie.ts","webpack://OktaSignIn/./src/exports/cdn/oie.ts","webpack://OktaSignIn/./src/exports/oie.ts","webpack://OktaSignIn/./src/models/Hooks.ts","webpack://OktaSignIn/./src/models/Settings.ts","webpack://OktaSignIn/./src/router/oie.ts","webpack://OktaSignIn/./src/types/index.ts","webpack://OktaSignIn/./src/util/BrowserFeatures.ts","webpack://OktaSignIn/./src/util/Bundles.ts","webpack://OktaSignIn/./src/util/Errors.ts","webpack://OktaSignIn/./src/util/OAuthErrors.ts","webpack://OktaSignIn/./src/util/loc.ts","webpack://OktaSignIn/./src/v1/views/shared/Header.ts","webpack://OktaSignIn/./src/v2/BaseLoginRouter.ts","webpack://OktaSignIn/./src/v2/WidgetRouter.ts","webpack://OktaSignIn/./src/v2/client/emailVerifyCallback.ts","webpack://OktaSignIn/./src/v2/client/formatError.ts","webpack://OktaSignIn/./src/v2/client/startLoginFlow.ts","webpack://OktaSignIn/./src/v2/client/updateAppState.ts","webpack://OktaSignIn/./src/v2/controllers/FormController.ts","webpack://OktaSignIn/./src/v2/mixins/mixins.ts","webpack://OktaSignIn/./src/v2/models/AppState.ts","webpack://OktaSignIn/./src/v2/view-builder/ViewFactory.ts","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseForm.ts","webpack://OktaSignIn/./src/v2/view-builder/internals/FormInputFactory.ts","webpack://OktaSignIn/./src/widget/OktaSignIn.ts","webpack://OktaSignIn/./src/widget/getAuthClient.ts","webpack://OktaSignIn/OktaAuth/webpack/universalModuleDefinition","webpack://OktaSignIn/OktaAuth/./lib/base/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/base/options.ts","webpack://OktaSignIn/OktaAuth/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://OktaSignIn/OktaAuth/./lib/browser/browserStorage.ts","webpack://OktaSignIn/OktaAuth/./lib/browser/fingerprint.ts","webpack://OktaSignIn/OktaAuth/./lib/constants.ts","webpack://OktaSignIn/OktaAuth/./lib/core/AuthStateManager.ts","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/util.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/native.js","webpack://OktaSignIn/OktaAuth/./node_modules/oblivious-set/dist/es/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/options.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/indexed-db.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/localstorage.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/simulate.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/method-chooser.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/broadcast-channel.js","webpack://OktaSignIn/OktaAuth/./node_modules/unload/dist/es/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/unload/dist/es/node.js","webpack://OktaSignIn/OktaAuth/./node_modules/unload/dist/es/browser.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/leader-election-util.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/leader-election-web-lock.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/leader-election.js","webpack://OktaSignIn/OktaAuth/./lib/services/LeaderElectionService.ts","webpack://OktaSignIn/OktaAuth/./lib/services/AutoRenewService.ts","webpack://OktaSignIn/OktaAuth/./lib/services/SyncStorageService.ts","webpack://OktaSignIn/OktaAuth/./lib/services/RenewOnTabActivationService.ts","webpack://OktaSignIn/OktaAuth/./lib/core/ServiceManager/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/core/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/core/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/core/options.ts","webpack://OktaSignIn/OktaAuth/./lib/core/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/base64.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/oidcHash.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/verifyToken.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthApiError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthPollStopError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthSdkError.ts","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://OktaSignIn/OktaAuth/./lib/errors/CustomError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/OAuthError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/WWWAuthError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/index.ts","webpack://OktaSignIn/OktaAuth/./node_modules/ua-parser-js/src/main/ua-parser.mjs","webpack://OktaSignIn/OktaAuth/./lib/features.ts","webpack://OktaSignIn/OktaAuth/./lib/http/OktaUserAgent.ts","webpack://OktaSignIn/OktaAuth/./lib/http/headers.ts","webpack://OktaSignIn/OktaAuth/./lib/http/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/fetch/fetchRequest.ts","webpack://OktaSignIn/OktaAuth/./lib/http/options.ts","webpack://OktaSignIn/OktaAuth/./lib/http/request.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/IdxTransactionManager.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/Authenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/OktaPassword.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/cancel.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/emailVerify.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/OktaAuthIdx.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/api.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/AuthenticationFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/PasswordRecoveryFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/RegistrationFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/AccountUnlockFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/FlowSpecification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/handleInteractionCodeRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/actionParser.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/generateIdxAction.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/remediationParser.ts","webpack://OktaSignIn/OktaAuth/./lib/util/jsonpath.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/idxResponseParser.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/parsers.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/makeIdxState.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/index.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/mixinMinimal.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/minimalApi.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/mixin/minimal.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/factory/baseApi.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/MinimalOktaAuthIdx.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/interact.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/introspect.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/options.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/poll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/proceed.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/recoverPassword.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/register.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/AuthenticatorEnrollmentData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/AuthenticatorVerificationData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/AuthenticatorData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/Remediator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/SelectAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/VerificationCodeAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/OktaVerifyTotp.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/SecurityQuestionEnrollment.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/SecurityQuestionVerification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/WebauthnEnrollment.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/WebauthnVerification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/VerifyAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/getAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ChallengeAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ChallengePoll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollPoll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollProfile.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollmentChannelData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/GenericRemediator/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/GenericRemediator/GenericRemediator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Identify.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ReEnrollAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ReEnrollAuthenticatorWarning.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/RedirectIdp.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ResetAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorAuthenticate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorEnroll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorUnlockAccount.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectEnrollProfile.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectEnrollmentChannel.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Skip.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/run.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/startTransaction.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/transactionMeta.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/types/api.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/types/idx-js.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/unlockAccount.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/webauthn.ts","webpack://OktaSignIn/OktaAuth/./lib/clock.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/TokenManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/sharedStorage.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/TransactionManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/decodeToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/dpop.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/authorize.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/token.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/well-known.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/exchangeCodeForTokens.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/enrollAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/factory/api.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/factory/OktaAuthOAuth.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getUserInfo.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithPopup.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithoutPrompt.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/handleOAuthResponse.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/introspect.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/mixin/index.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/mixin/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/options/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/options/OAuthOptionsConstructor.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/parseFromUrl.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewTokens.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewTokensWithRefresh.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/revokeToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/Token.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/TokenManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/Transaction.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/defaultEnrollAuthenticatorParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/defaultTokenParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/enrollAuthenticatorMeta.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/errors.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/loginRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/oauth.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/oauthMeta.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/pkce.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/prepareEnrollAuthenticatorParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/prepareTokenParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/refreshToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/urlParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/validateClaims.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/validateToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/verifyToken.ts","webpack://OktaSignIn/OktaAuth/./lib/session/api.ts","webpack://OktaSignIn/OktaAuth/./lib/session/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/session/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/BaseStorageManager.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/SavedObject.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/options/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/options/StorageOptionsConstructor.ts","webpack://OktaSignIn/OktaAuth/./lib/util/PromiseQueue.ts","webpack://OktaSignIn/OktaAuth/./lib/util/console.ts","webpack://OktaSignIn/OktaAuth/./lib/util/misc.ts","webpack://OktaSignIn/OktaAuth/./lib/util/object.ts","webpack://OktaSignIn/OktaAuth/./lib/util/types.ts","webpack://OktaSignIn/OktaAuth/./lib/util/url.ts","webpack://OktaSignIn/OktaAuth/./node_modules/p-cancelable/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://OktaSignIn/OktaAuth/./node_modules/tiny-emitter/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/construct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/createClass.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/inherits.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/typeof.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/regenerator/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/get.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://OktaSignIn/OktaAuth/webpack/bootstrap","webpack://OktaSignIn/OktaAuth/webpack/runtime/compat get default export","webpack://OktaSignIn/OktaAuth/webpack/runtime/define property getters","webpack://OktaSignIn/OktaAuth/webpack/runtime/global","webpack://OktaSignIn/OktaAuth/webpack/runtime/hasOwnProperty shorthand","webpack://OktaSignIn/OktaAuth/webpack/runtime/make namespace object","webpack://OktaSignIn/OktaAuth/./lib/exports/idx.ts","webpack://OktaSignIn/./node_modules/clipboard/lib/clipboard-action.js","webpack://OktaSignIn/./node_modules/clipboard/lib/clipboard.js","webpack://OktaSignIn/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://OktaSignIn/./node_modules/delegate/src/closest.js","webpack://OktaSignIn/./node_modules/delegate/src/delegate.js","webpack://OktaSignIn/./node_modules/good-listener/src/is.js","webpack://OktaSignIn/./node_modules/good-listener/src/listen.js","webpack://OktaSignIn/./node_modules/jquery/dist/jquery.js","webpack://OktaSignIn/./node_modules/q/q.js","webpack://OktaSignIn/./node_modules/select/src/select.js","webpack://OktaSignIn/./node_modules/tiny-emitter/index.js","webpack://OktaSignIn/./packages/@okta/qtip2/dist/jquery.qtip.js","webpack://OktaSignIn/./node_modules/underscore/underscore-umd-min.js","webpack://OktaSignIn/webpack/bootstrap","webpack://OktaSignIn/webpack/runtime/compat get default export","webpack://OktaSignIn/webpack/runtime/define property getters","webpack://OktaSignIn/webpack/runtime/hasOwnProperty shorthand","webpack://OktaSignIn/webpack/runtime/make namespace object","webpack://OktaSignIn/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaSignIn\"] = factory();\n\telse\n\t\troot[\"OktaSignIn\"] = factory();\n})(self, function() {\nreturn ","'use strict';\n\nconst converters = {\n\tdays: value => value * 864e5,\n\thours: value => value * 36e5,\n\tminutes: value => value * 6e4,\n\tseconds: value => value * 1e3,\n\tmilliseconds: value => value,\n\tmicroseconds: value => value / 1e3,\n\tnanoseconds: value => value / 1e6\n};\n\nconst toMilliseconds = object => Object.entries(object).reduce((milliseconds, [key, value]) => {\n\tif (typeof value !== 'number') {\n\t\tthrow new TypeError(`Expected a \\`number\\` for key \\`${key}\\`, got \\`${value}\\` (${typeof value})`);\n\t}\n\n\tif (!converters[key]) {\n\t\tthrow new Error('Unsupported time key');\n\t}\n\n\treturn milliseconds + converters[key](value);\n}, 0);\n\nmodule.exports = toMilliseconds;\n// TODO: remove this for next major version\nmodule.exports.default = toMilliseconds;\n","'use strict';\nmodule.exports = milliseconds => {\n\tif (typeof milliseconds !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardsZero(milliseconds / 86400000),\n\t\thours: roundTowardsZero(milliseconds / 3600000) % 24,\n\t\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\n\t\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\n\t\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\n\t\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\n\t\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\n\t};\n};\n","var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nexport { commonjsGlobal, getDefaultExportFromCjs };\n","var backbone = {exports: {}};\n\nexport { backbone as b };\n","var base = {};\n\nexport { base as __exports };\n","var blockHelperMissing = {exports: {}};\n\nexport { blockHelperMissing as b };\n","var createNewLookupObject = {};\n\nexport { createNewLookupObject as __exports };\n","var decorators = {};\n\nexport { decorators as __exports };\n","var each = {exports: {}};\n\nexport { each as e };\n","var exception = {exports: {}};\n\nexport { exception as e };\n","var handlebars_runtime = {exports: {}};\n\nexport { handlebars_runtime as h };\n","var helperMissing = {exports: {}};\n\nexport { helperMissing as h };\n","var helpers = {};\n\nexport { helpers as __exports };\n","var _if = {exports: {}};\n\nexport { _if as _ };\n","var inline = {exports: {}};\n\nexport { inline as i };\n","var js_cookie = {exports: {}};\n\nexport { js_cookie as j };\n","var log = {exports: {}};\n\nexport { log as l };\n","var logger = {exports: {}};\n\nexport { logger as l };\n","var lookup = {exports: {}};\n\nexport { lookup as l };\n","var noConflict = {exports: {}};\n\nexport { noConflict as n };\n","var protoAccess = {};\n\nexport { protoAccess as __exports };\n","var runtime = {};\n\nexport { runtime as __exports };\n","var safeString = {exports: {}};\n\nexport { safeString as s };\n","var underscoreMin = {exports: {}};\n\nexport { underscoreMin as u };\n","var utils = {};\n\nexport { utils as __exports };\n","var _with = {exports: {}};\n\nexport { _with as _ };\n","var wrapHelper = {};\n\nexport { wrapHelper as __exports };\n","import { getDefaultExportFromCjs } from '../../../../_virtual/_commonjsHelpers.js';\nimport { h as handlebars_runtime } from '../../../../_virtual/handlebars.runtime.js';\nimport './handlebars/base.js';\nimport './handlebars/safe-string.js';\nimport './handlebars/exception.js';\nimport './handlebars/utils.js';\nimport './handlebars/runtime.js';\nimport './handlebars/no-conflict.js';\nimport { __exports as base } from '../../../../_virtual/base.js';\nimport { __exports as utils } from '../../../../_virtual/utils.js';\nimport { __exports as runtime } from '../../../../_virtual/runtime.js';\nimport { e as exception } from '../../../../_virtual/exception.js';\nimport { n as noConflict } from '../../../../_virtual/no-conflict.js';\nimport { s as safeString } from '../../../../_virtual/safe-string.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n} // istanbul ignore next\n\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _handlebarsBase = base;\n\nvar base$1 = _interopRequireWildcard(_handlebarsBase); // Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\n\nvar _handlebarsSafeString = safeString.exports;\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = exception.exports;\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = utils;\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = runtime;\n\nvar runtime$1 = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = noConflict.exports;\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict); // For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\n\nfunction create() {\n  var hb = new base$1.HandlebarsEnvironment();\n  Utils.extend(hb, base$1);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n  hb.VM = runtime$1;\n\n  hb.template = function (spec) {\n    return runtime$1.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\nexports['default'] = inst;\nmodule.exports = exports['default'];\n}(handlebars_runtime, handlebars_runtime.exports));\n\nvar _Handlebars2 = /*@__PURE__*/getDefaultExportFromCjs(handlebars_runtime.exports);\n\nexport { _Handlebars2 as default };\n","import { __exports as base } from '../../../../../_virtual/base.js';\nexport { __exports as default } from '../../../../../_virtual/base.js';\nimport './utils.js';\nimport './exception.js';\nimport './helpers.js';\nimport './decorators.js';\nimport './logger.js';\nimport './internal/proto-access.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\nimport { __exports as protoAccess } from '../../../../../_virtual/proto-access.js';\nimport { __exports as helpers } from '../../../../../_virtual/helpers.js';\nimport { __exports as decorators } from '../../../../../_virtual/decorators.js';\nimport { l as logger } from '../../../../../_virtual/logger.js';\nimport { e as exception } from '../../../../../_virtual/exception.js';\n\nbase.__esModule = true;\nbase.HandlebarsEnvironment = HandlebarsEnvironment; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = helpers;\n\nvar _decorators = decorators;\n\nvar _logger = logger.exports;\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = protoAccess;\n\nvar VERSION = '4.7.7';\nbase.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nbase.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\nbase.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2',\n  // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\nbase.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\nvar log = _logger2['default'].log;\nbase.log = log;\nbase.createFrame = _utils.createFrame;\nbase.logger = _logger2['default'];\n","import { __exports as decorators } from '../../../../../_virtual/decorators.js';\nexport { __exports as default } from '../../../../../_virtual/decorators.js';\nimport './decorators/inline.js';\nimport { i as inline } from '../../../../../_virtual/inline.js';\n\ndecorators.__esModule = true;\ndecorators.registerDefaultDecorators = registerDefaultDecorators; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _decoratorsInline = inline.exports;\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n","import { i as inline } from '../../../../../../_virtual/inline.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n\n    if (!props.partials) {\n      props.partials = {};\n\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n}(inline, inline.exports));\n","import { e as exception } from '../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message); // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n  /* istanbul ignore else */\n\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber; // Work around issue under safari where we can't directly set the column value\n\n      /* istanbul ignore next */\n\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n}(exception, exception.exports));\n","import { __exports as helpers } from '../../../../../_virtual/helpers.js';\nexport { __exports as default } from '../../../../../_virtual/helpers.js';\nimport './helpers/block-helper-missing.js';\nimport './helpers/each.js';\nimport './helpers/helper-missing.js';\nimport './helpers/if.js';\nimport './helpers/log.js';\nimport './helpers/lookup.js';\nimport './helpers/with.js';\nimport { e as each } from '../../../../../_virtual/each.js';\nimport { h as helperMissing } from '../../../../../_virtual/helper-missing.js';\nimport { _ as _if } from '../../../../../_virtual/if.js';\nimport { l as log } from '../../../../../_virtual/log.js';\nimport { l as lookup } from '../../../../../_virtual/lookup.js';\nimport { _ as _with } from '../../../../../_virtual/with.js';\nimport { b as blockHelperMissing } from '../../../../../_virtual/block-helper-missing.js';\n\nhelpers.__esModule = true;\nhelpers.registerDefaultHelpers = registerDefaultHelpers;\nhelpers.moveHelperToHooks = moveHelperToHooks; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _helpersBlockHelperMissing = blockHelperMissing.exports;\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = each.exports;\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = helperMissing.exports;\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = _if.exports;\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = log.exports;\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = lookup.exports;\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = _with.exports;\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n\n  _helpersEach2['default'](instance);\n\n  _helpersHelperMissing2['default'](instance);\n\n  _helpersIf2['default'](instance);\n\n  _helpersLog2['default'](instance);\n\n  _helpersLookup2['default'](instance);\n\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n","import { b as blockHelperMissing } from '../../../../../../_virtual/block-helper-missing.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = {\n          data: data\n        };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(blockHelperMissing, blockHelperMissing.exports));\n","import { commonjsGlobal } from '../../../../../../_virtual/_commonjsHelpers.js';\nimport { e as each } from '../../../../../../_virtual/each.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (commonjsGlobal.Symbol && context[commonjsGlobal.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[commonjsGlobal.Symbol.iterator]();\n\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n\n        context = newContext;\n\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n\n            priorKey = key;\n            i++;\n          });\n\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n}(each, each.exports));\n","import { h as helperMissing } from '../../../../../../_virtual/helper-missing.js';\nimport '../exception.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function ()\n  /* [args, ]options */\n  {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(helperMissing, helperMissing.exports));\n","import { _ as _if } from '../../../../../../_virtual/if.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    } // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\n\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports['default'];\n}(_if, _if.exports));\n","import { l as log } from '../../../../../../_virtual/log.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function ()\n  /* message, options */\n  {\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n\n    args[0] = level;\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n}(log, log.exports));\n","import { l as lookup } from '../../../../../../_virtual/lookup.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports['default'];\n}(lookup, lookup.exports));\n","import { _ as _with } from '../../../../../../_virtual/with.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(_with, _with.exports));\n","import { __exports as createNewLookupObject$1 } from '../../../../../../_virtual/create-new-lookup-object.js';\nexport { __exports as default } from '../../../../../../_virtual/create-new-lookup-object.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\ncreateNewLookupObject$1.__esModule = true;\ncreateNewLookupObject$1.createNewLookupObject = createNewLookupObject;\n\nvar _utils = utils;\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n","import { __exports as protoAccess } from '../../../../../../_virtual/proto-access.js';\nexport { __exports as default } from '../../../../../../_virtual/proto-access.js';\nimport './create-new-lookup-object.js';\nimport '../logger.js';\nimport { __exports as createNewLookupObject } from '../../../../../../_virtual/create-new-lookup-object.js';\nimport { l as logger$1 } from '../../../../../../_virtual/logger.js';\n\nprotoAccess.__esModule = true;\nprotoAccess.createProtoAccessControl = createProtoAccessControl;\nprotoAccess.resultIsAllowed = resultIsAllowed;\nprotoAccess.resetLoggedProperties = resetLoggedProperties; // istanbul ignore next\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _createNewLookupObject = createNewLookupObject;\n\nvar _logger = logger$1.exports;\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n  var defaultPropertyWhiteList = Object.create(null); // eslint-disable-next-line no-proto\n\n  defaultPropertyWhiteList['__proto__'] = false;\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n","import { __exports as wrapHelper$1 } from '../../../../../../_virtual/wrapHelper.js';\nexport { __exports as default } from '../../../../../../_virtual/wrapHelper.js';\n\nwrapHelper$1.__esModule = true;\nwrapHelper$1.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n\n  var wrapper = function wrapper()\n  /* dynamic arguments */\n  {\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n\n  return wrapper;\n}\n","import { l as logger } from '../../../../../_virtual/logger.js';\nimport './utils.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level]; // eslint-disable-next-line no-console\n\n      if (!console[method]) {\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\nexports['default'] = logger;\nmodule.exports = exports['default'];\n}(logger, logger.exports));\n","import { commonjsGlobal } from '../../../../../_virtual/_commonjsHelpers.js';\nimport { n as noConflict } from '../../../../../_virtual/no-conflict.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n}(noConflict, noConflict.exports));\n","import { __exports as runtime } from '../../../../../_virtual/runtime.js';\nexport { __exports as default } from '../../../../../_virtual/runtime.js';\nimport './utils.js';\nimport './exception.js';\nimport './base.js';\nimport './helpers.js';\nimport './internal/wrapHelper.js';\nimport './internal/proto-access.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\nimport { __exports as base } from '../../../../../_virtual/base.js';\nimport { __exports as protoAccess } from '../../../../../_virtual/proto-access.js';\nimport { __exports as helpers } from '../../../../../_virtual/helpers.js';\nimport { __exports as wrapHelper } from '../../../../../_virtual/wrapHelper.js';\nimport { e as exception } from '../../../../../_virtual/exception.js';\n\nruntime.__esModule = true;\nruntime.checkRevision = checkRevision;\nruntime.template = template;\nruntime.wrapProgram = wrapProgram;\nruntime.resolvePartial = resolvePartial;\nruntime.invokePartial = invokePartial;\nruntime.noop = noop; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n} // istanbul ignore next\n\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _utils = utils;\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = base;\n\nvar _helpers = helpers;\n\nvar _internalWrapHelper = wrapHelper;\n\nvar _internalProtoAccess = protoAccess;\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d; // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n\n  env.VM.checkRevision(templateSpec.compiler); // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n\n        result = lines.join('\\n');\n      }\n\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  } // Just add water\n\n\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n\n      return container.lookupProperty(obj, name);\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n\n      if (result == null) {\n        return result;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n\n      return programWrapper;\n    },\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var data = options.data;\n\n    ret._setup(options);\n\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context\n    /*, options*/\n    ) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var currentDepths = depths;\n\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data); // Wrapper function to get access to currentPartialBlock from the closure\n\n      var fn = options.fn;\n\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1]; // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({\n      lookupProperty: lookupProperty\n    }, options);\n  });\n}\n","import { s as safeString } from '../../../../../_virtual/safe-string.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n}(safeString, safeString.exports));\n","import { __exports as utils } from '../../../../../_virtual/utils.js';\nexport { __exports as default } from '../../../../../_virtual/utils.js';\n\nutils.__esModule = true;\nutils.extend = extend;\nutils.indexOf = indexOf;\nutils.escapeExpression = escapeExpression;\nutils.isEmpty = isEmpty;\nutils.createFrame = createFrame;\nutils.blockParams = blockParams;\nutils.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj\n/* , ...source */\n) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\nutils.toString = toString; // Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\n/* eslint-disable func-style */\n\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n}; // fallback for older versions of Chrome and Safari\n\n/* istanbul ignore next */\n\n\nif (isFunction(/x/)) {\n  utils.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\n\nutils.isFunction = isFunction;\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\n\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nutils.isArray = isArray; // Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    } // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n\n\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n","import { commonjsGlobal } from '../../_virtual/_commonjsHelpers.js';\nimport { u as underscoreMin } from '../../_virtual/underscore-min.js';\n\n(function (module, exports) {\n!function (n, r) {\n  module.exports = r() ;\n}(commonjsGlobal, function () {\n  //     Underscore.js 1.13.1\n  //     https://underscorejs.org\n  //     (c) 2009-2021 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n  var n = \"1.13.1\",\n      r = \"object\" == typeof self && self.self === self && self || \"object\" == typeof commonjsGlobal && commonjsGlobal.global === commonjsGlobal && commonjsGlobal || Function(\"return this\")() || {},\n      t = Array.prototype,\n      e = Object.prototype,\n      u = \"undefined\" != typeof Symbol ? Symbol.prototype : null,\n      o = t.push,\n      i = t.slice,\n      a = e.toString,\n      f = e.hasOwnProperty,\n      c = \"undefined\" != typeof ArrayBuffer,\n      l = \"undefined\" != typeof DataView,\n      s = Array.isArray,\n      p = Object.keys,\n      v = Object.create,\n      h = c && ArrayBuffer.isView,\n      y = isNaN,\n      d = isFinite,\n      g = !{\n    toString: null\n  }.propertyIsEnumerable(\"toString\"),\n      b = [\"valueOf\", \"isPrototypeOf\", \"toString\", \"propertyIsEnumerable\", \"hasOwnProperty\", \"toLocaleString\"],\n      m = Math.pow(2, 53) - 1;\n\n  function j(n, r) {\n    return r = null == r ? n.length - 1 : +r, function () {\n      for (var t = Math.max(arguments.length - r, 0), e = Array(t), u = 0; u < t; u++) e[u] = arguments[u + r];\n\n      switch (r) {\n        case 0:\n          return n.call(this, e);\n\n        case 1:\n          return n.call(this, arguments[0], e);\n\n        case 2:\n          return n.call(this, arguments[0], arguments[1], e);\n      }\n\n      var o = Array(r + 1);\n\n      for (u = 0; u < r; u++) o[u] = arguments[u];\n\n      return o[r] = e, n.apply(this, o);\n    };\n  }\n\n  function _(n) {\n    var r = typeof n;\n    return \"function\" === r || \"object\" === r && !!n;\n  }\n\n  function w(n) {\n    return void 0 === n;\n  }\n\n  function A(n) {\n    return !0 === n || !1 === n || \"[object Boolean]\" === a.call(n);\n  }\n\n  function x(n) {\n    var r = \"[object \" + n + \"]\";\n    return function (n) {\n      return a.call(n) === r;\n    };\n  }\n\n  var S = x(\"String\"),\n      O = x(\"Number\"),\n      M = x(\"Date\"),\n      E = x(\"RegExp\"),\n      B = x(\"Error\"),\n      N = x(\"Symbol\"),\n      I = x(\"ArrayBuffer\"),\n      T = x(\"Function\"),\n      k = r.document && r.document.childNodes;\n  \"function\" != typeof /./ && \"object\" != typeof Int8Array && \"function\" != typeof k && (T = function (n) {\n    return \"function\" == typeof n || !1;\n  });\n  var D = T,\n      R = x(\"Object\"),\n      F = l && R(new DataView(new ArrayBuffer(8))),\n      V = \"undefined\" != typeof Map && R(new Map()),\n      P = x(\"DataView\");\n  var q = F ? function (n) {\n    return null != n && D(n.getInt8) && I(n.buffer);\n  } : P,\n      U = s || x(\"Array\");\n\n  function W(n, r) {\n    return null != n && f.call(n, r);\n  }\n\n  var z = x(\"Arguments\");\n  !function () {\n    z(arguments) || (z = function (n) {\n      return W(n, \"callee\");\n    });\n  }();\n  var L = z;\n\n  function $(n) {\n    return O(n) && y(n);\n  }\n\n  function C(n) {\n    return function () {\n      return n;\n    };\n  }\n\n  function K(n) {\n    return function (r) {\n      var t = n(r);\n      return \"number\" == typeof t && t >= 0 && t <= m;\n    };\n  }\n\n  function J(n) {\n    return function (r) {\n      return null == r ? void 0 : r[n];\n    };\n  }\n\n  var G = J(\"byteLength\"),\n      H = K(G),\n      Q = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n  var X = c ? function (n) {\n    return h ? h(n) && !q(n) : H(n) && Q.test(a.call(n));\n  } : C(!1),\n      Y = J(\"length\");\n\n  function Z(n, r) {\n    r = function (n) {\n      for (var r = {}, t = n.length, e = 0; e < t; ++e) r[n[e]] = !0;\n\n      return {\n        contains: function (n) {\n          return r[n];\n        },\n        push: function (t) {\n          return r[t] = !0, n.push(t);\n        }\n      };\n    }(r);\n\n    var t = b.length,\n        u = n.constructor,\n        o = D(u) && u.prototype || e,\n        i = \"constructor\";\n\n    for (W(n, i) && !r.contains(i) && r.push(i); t--;) (i = b[t]) in n && n[i] !== o[i] && !r.contains(i) && r.push(i);\n  }\n\n  function nn(n) {\n    if (!_(n)) return [];\n    if (p) return p(n);\n    var r = [];\n\n    for (var t in n) W(n, t) && r.push(t);\n\n    return g && Z(n, r), r;\n  }\n\n  function rn(n, r) {\n    var t = nn(r),\n        e = t.length;\n    if (null == n) return !e;\n\n    for (var u = Object(n), o = 0; o < e; o++) {\n      var i = t[o];\n      if (r[i] !== u[i] || !(i in u)) return !1;\n    }\n\n    return !0;\n  }\n\n  function tn(n) {\n    return n instanceof tn ? n : this instanceof tn ? void (this._wrapped = n) : new tn(n);\n  }\n\n  function en(n) {\n    return new Uint8Array(n.buffer || n, n.byteOffset || 0, G(n));\n  }\n\n  tn.VERSION = n, tn.prototype.value = function () {\n    return this._wrapped;\n  }, tn.prototype.valueOf = tn.prototype.toJSON = tn.prototype.value, tn.prototype.toString = function () {\n    return String(this._wrapped);\n  };\n  var un = \"[object DataView]\";\n\n  function on(n, r, t, e) {\n    if (n === r) return 0 !== n || 1 / n == 1 / r;\n    if (null == n || null == r) return !1;\n    if (n != n) return r != r;\n    var o = typeof n;\n    return (\"function\" === o || \"object\" === o || \"object\" == typeof r) && function n(r, t, e, o) {\n      r instanceof tn && (r = r._wrapped);\n      t instanceof tn && (t = t._wrapped);\n      var i = a.call(r);\n      if (i !== a.call(t)) return !1;\n\n      if (F && \"[object Object]\" == i && q(r)) {\n        if (!q(t)) return !1;\n        i = un;\n      }\n\n      switch (i) {\n        case \"[object RegExp]\":\n        case \"[object String]\":\n          return \"\" + r == \"\" + t;\n\n        case \"[object Number]\":\n          return +r != +r ? +t != +t : 0 == +r ? 1 / +r == 1 / t : +r == +t;\n\n        case \"[object Date]\":\n        case \"[object Boolean]\":\n          return +r == +t;\n\n        case \"[object Symbol]\":\n          return u.valueOf.call(r) === u.valueOf.call(t);\n\n        case \"[object ArrayBuffer]\":\n        case un:\n          return n(en(r), en(t), e, o);\n      }\n\n      var f = \"[object Array]\" === i;\n\n      if (!f && X(r)) {\n        if (G(r) !== G(t)) return !1;\n        if (r.buffer === t.buffer && r.byteOffset === t.byteOffset) return !0;\n        f = !0;\n      }\n\n      if (!f) {\n        if (\"object\" != typeof r || \"object\" != typeof t) return !1;\n        var c = r.constructor,\n            l = t.constructor;\n        if (c !== l && !(D(c) && c instanceof c && D(l) && l instanceof l) && \"constructor\" in r && \"constructor\" in t) return !1;\n      }\n\n      o = o || [];\n      var s = (e = e || []).length;\n\n      for (; s--;) if (e[s] === r) return o[s] === t;\n\n      if (e.push(r), o.push(t), f) {\n        if ((s = r.length) !== t.length) return !1;\n\n        for (; s--;) if (!on(r[s], t[s], e, o)) return !1;\n      } else {\n        var p,\n            v = nn(r);\n        if (s = v.length, nn(t).length !== s) return !1;\n\n        for (; s--;) if (p = v[s], !W(t, p) || !on(r[p], t[p], e, o)) return !1;\n      }\n\n      return e.pop(), o.pop(), !0;\n    }(n, r, t, e);\n  }\n\n  function an(n) {\n    if (!_(n)) return [];\n    var r = [];\n\n    for (var t in n) r.push(t);\n\n    return g && Z(n, r), r;\n  }\n\n  function fn(n) {\n    var r = Y(n);\n    return function (t) {\n      if (null == t) return !1;\n      var e = an(t);\n      if (Y(e)) return !1;\n\n      for (var u = 0; u < r; u++) if (!D(t[n[u]])) return !1;\n\n      return n !== hn || !D(t[cn]);\n    };\n  }\n\n  var cn = \"forEach\",\n      ln = \"has\",\n      sn = [\"clear\", \"delete\"],\n      pn = [\"get\", ln, \"set\"],\n      vn = sn.concat(cn, pn),\n      hn = sn.concat(pn),\n      yn = [\"add\"].concat(sn, cn, ln),\n      dn = V ? fn(vn) : x(\"Map\"),\n      gn = V ? fn(hn) : x(\"WeakMap\"),\n      bn = V ? fn(yn) : x(\"Set\"),\n      mn = x(\"WeakSet\");\n\n  function jn(n) {\n    for (var r = nn(n), t = r.length, e = Array(t), u = 0; u < t; u++) e[u] = n[r[u]];\n\n    return e;\n  }\n\n  function _n(n) {\n    for (var r = {}, t = nn(n), e = 0, u = t.length; e < u; e++) r[n[t[e]]] = t[e];\n\n    return r;\n  }\n\n  function wn(n) {\n    var r = [];\n\n    for (var t in n) D(n[t]) && r.push(t);\n\n    return r.sort();\n  }\n\n  function An(n, r) {\n    return function (t) {\n      var e = arguments.length;\n      if (r && (t = Object(t)), e < 2 || null == t) return t;\n\n      for (var u = 1; u < e; u++) for (var o = arguments[u], i = n(o), a = i.length, f = 0; f < a; f++) {\n        var c = i[f];\n        r && void 0 !== t[c] || (t[c] = o[c]);\n      }\n\n      return t;\n    };\n  }\n\n  var xn = An(an),\n      Sn = An(nn),\n      On = An(an, !0);\n\n  function Mn(n) {\n    if (!_(n)) return {};\n    if (v) return v(n);\n\n    var r = function () {};\n\n    r.prototype = n;\n    var t = new r();\n    return r.prototype = null, t;\n  }\n\n  function En(n) {\n    return _(n) ? U(n) ? n.slice() : xn({}, n) : n;\n  }\n\n  function Bn(n) {\n    return U(n) ? n : [n];\n  }\n\n  function Nn(n) {\n    return tn.toPath(n);\n  }\n\n  function In(n, r) {\n    for (var t = r.length, e = 0; e < t; e++) {\n      if (null == n) return;\n      n = n[r[e]];\n    }\n\n    return t ? n : void 0;\n  }\n\n  function Tn(n, r, t) {\n    var e = In(n, Nn(r));\n    return w(e) ? t : e;\n  }\n\n  function kn(n) {\n    return n;\n  }\n\n  function Dn(n) {\n    return n = Sn({}, n), function (r) {\n      return rn(r, n);\n    };\n  }\n\n  function Rn(n) {\n    return n = Nn(n), function (r) {\n      return In(r, n);\n    };\n  }\n\n  function Fn(n, r, t) {\n    if (void 0 === r) return n;\n\n    switch (null == t ? 3 : t) {\n      case 1:\n        return function (t) {\n          return n.call(r, t);\n        };\n\n      case 3:\n        return function (t, e, u) {\n          return n.call(r, t, e, u);\n        };\n\n      case 4:\n        return function (t, e, u, o) {\n          return n.call(r, t, e, u, o);\n        };\n    }\n\n    return function () {\n      return n.apply(r, arguments);\n    };\n  }\n\n  function Vn(n, r, t) {\n    return null == n ? kn : D(n) ? Fn(n, r, t) : _(n) && !U(n) ? Dn(n) : Rn(n);\n  }\n\n  function Pn(n, r) {\n    return Vn(n, r, 1 / 0);\n  }\n\n  function qn(n, r, t) {\n    return tn.iteratee !== Pn ? tn.iteratee(n, r) : Vn(n, r, t);\n  }\n\n  function Un() {}\n\n  function Wn(n, r) {\n    return null == r && (r = n, n = 0), n + Math.floor(Math.random() * (r - n + 1));\n  }\n\n  tn.toPath = Bn, tn.iteratee = Pn;\n\n  var zn = Date.now || function () {\n    return new Date().getTime();\n  };\n\n  function Ln(n) {\n    var r = function (r) {\n      return n[r];\n    },\n        t = \"(?:\" + nn(n).join(\"|\") + \")\",\n        e = RegExp(t),\n        u = RegExp(t, \"g\");\n\n    return function (n) {\n      return n = null == n ? \"\" : \"\" + n, e.test(n) ? n.replace(u, r) : n;\n    };\n  }\n\n  var $n = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#x27;\",\n    \"`\": \"&#x60;\"\n  },\n      Cn = Ln($n),\n      Kn = Ln(_n($n)),\n      Jn = tn.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  },\n      Gn = /(.)^/,\n      Hn = {\n    \"'\": \"'\",\n    \"\\\\\": \"\\\\\",\n    \"\\r\": \"r\",\n    \"\\n\": \"n\",\n    \"\\u2028\": \"u2028\",\n    \"\\u2029\": \"u2029\"\n  },\n      Qn = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  function Xn(n) {\n    return \"\\\\\" + Hn[n];\n  }\n\n  var Yn = /^\\s*(\\w|\\$)+\\s*$/;\n  var Zn = 0;\n\n  function nr(n, r, t, e, u) {\n    if (!(e instanceof r)) return n.apply(t, u);\n    var o = Mn(n.prototype),\n        i = n.apply(o, u);\n    return _(i) ? i : o;\n  }\n\n  var rr = j(function (n, r) {\n    var t = rr.placeholder,\n        e = function () {\n      for (var u = 0, o = r.length, i = Array(o), a = 0; a < o; a++) i[a] = r[a] === t ? arguments[u++] : r[a];\n\n      for (; u < arguments.length;) i.push(arguments[u++]);\n\n      return nr(n, e, this, this, i);\n    };\n\n    return e;\n  });\n  rr.placeholder = tn;\n  var tr = j(function (n, r, t) {\n    if (!D(n)) throw new TypeError(\"Bind must be called on a function\");\n    var e = j(function (u) {\n      return nr(n, e, r, this, t.concat(u));\n    });\n    return e;\n  }),\n      er = K(Y);\n\n  function ur(n, r, t, e) {\n    if (e = e || [], r || 0 === r) {\n      if (r <= 0) return e.concat(n);\n    } else r = 1 / 0;\n\n    for (var u = e.length, o = 0, i = Y(n); o < i; o++) {\n      var a = n[o];\n      if (er(a) && (U(a) || L(a))) {\n        if (r > 1) ur(a, r - 1, t, e), u = e.length;else for (var f = 0, c = a.length; f < c;) e[u++] = a[f++];\n      } else t || (e[u++] = a);\n    }\n\n    return e;\n  }\n\n  var or = j(function (n, r) {\n    var t = (r = ur(r, !1, !1)).length;\n    if (t < 1) throw new Error(\"bindAll must be passed function names\");\n\n    for (; t--;) {\n      var e = r[t];\n      n[e] = tr(n[e], n);\n    }\n\n    return n;\n  });\n  var ir = j(function (n, r, t) {\n    return setTimeout(function () {\n      return n.apply(null, t);\n    }, r);\n  }),\n      ar = rr(ir, tn, 1);\n\n  function fr(n) {\n    return function () {\n      return !n.apply(this, arguments);\n    };\n  }\n\n  function cr(n, r) {\n    var t;\n    return function () {\n      return --n > 0 && (t = r.apply(this, arguments)), n <= 1 && (r = null), t;\n    };\n  }\n\n  var lr = rr(cr, 2);\n\n  function sr(n, r, t) {\n    r = qn(r, t);\n\n    for (var e, u = nn(n), o = 0, i = u.length; o < i; o++) if (r(n[e = u[o]], e, n)) return e;\n  }\n\n  function pr(n) {\n    return function (r, t, e) {\n      t = qn(t, e);\n\n      for (var u = Y(r), o = n > 0 ? 0 : u - 1; o >= 0 && o < u; o += n) if (t(r[o], o, r)) return o;\n\n      return -1;\n    };\n  }\n\n  var vr = pr(1),\n      hr = pr(-1);\n\n  function yr(n, r, t, e) {\n    for (var u = (t = qn(t, e, 1))(r), o = 0, i = Y(n); o < i;) {\n      var a = Math.floor((o + i) / 2);\n      t(n[a]) < u ? o = a + 1 : i = a;\n    }\n\n    return o;\n  }\n\n  function dr(n, r, t) {\n    return function (e, u, o) {\n      var a = 0,\n          f = Y(e);\n      if (\"number\" == typeof o) n > 0 ? a = o >= 0 ? o : Math.max(o + f, a) : f = o >= 0 ? Math.min(o + 1, f) : o + f + 1;else if (t && o && f) return e[o = t(e, u)] === u ? o : -1;\n      if (u != u) return (o = r(i.call(e, a, f), $)) >= 0 ? o + a : -1;\n\n      for (o = n > 0 ? a : f - 1; o >= 0 && o < f; o += n) if (e[o] === u) return o;\n\n      return -1;\n    };\n  }\n\n  var gr = dr(1, vr, yr),\n      br = dr(-1, hr);\n\n  function mr(n, r, t) {\n    var e = (er(n) ? vr : sr)(n, r, t);\n    if (void 0 !== e && -1 !== e) return n[e];\n  }\n\n  function jr(n, r, t) {\n    var e, u;\n    if (r = Fn(r, t), er(n)) for (e = 0, u = n.length; e < u; e++) r(n[e], e, n);else {\n      var o = nn(n);\n\n      for (e = 0, u = o.length; e < u; e++) r(n[o[e]], o[e], n);\n    }\n    return n;\n  }\n\n  function _r(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = Array(u), i = 0; i < u; i++) {\n      var a = e ? e[i] : i;\n      o[i] = r(n[a], a, n);\n    }\n\n    return o;\n  }\n\n  function wr(n) {\n    var r = function (r, t, e, u) {\n      var o = !er(r) && nn(r),\n          i = (o || r).length,\n          a = n > 0 ? 0 : i - 1;\n\n      for (u || (e = r[o ? o[a] : a], a += n); a >= 0 && a < i; a += n) {\n        var f = o ? o[a] : a;\n        e = t(e, r[f], f, r);\n      }\n\n      return e;\n    };\n\n    return function (n, t, e, u) {\n      var o = arguments.length >= 3;\n      return r(n, Fn(t, u, 4), e, o);\n    };\n  }\n\n  var Ar = wr(1),\n      xr = wr(-1);\n\n  function Sr(n, r, t) {\n    var e = [];\n    return r = qn(r, t), jr(n, function (n, t, u) {\n      r(n, t, u) && e.push(n);\n    }), e;\n  }\n\n  function Or(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = 0; o < u; o++) {\n      var i = e ? e[o] : o;\n      if (!r(n[i], i, n)) return !1;\n    }\n\n    return !0;\n  }\n\n  function Mr(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = 0; o < u; o++) {\n      var i = e ? e[o] : o;\n      if (r(n[i], i, n)) return !0;\n    }\n\n    return !1;\n  }\n\n  function Er(n, r, t, e) {\n    return er(n) || (n = jn(n)), (\"number\" != typeof t || e) && (t = 0), gr(n, r, t) >= 0;\n  }\n\n  var Br = j(function (n, r, t) {\n    var e, u;\n    return D(r) ? u = r : (r = Nn(r), e = r.slice(0, -1), r = r[r.length - 1]), _r(n, function (n) {\n      var o = u;\n\n      if (!o) {\n        if (e && e.length && (n = In(n, e)), null == n) return;\n        o = n[r];\n      }\n\n      return null == o ? o : o.apply(n, t);\n    });\n  });\n\n  function Nr(n, r) {\n    return _r(n, Rn(r));\n  }\n\n  function Ir(n, r, t) {\n    var e,\n        u,\n        o = -1 / 0,\n        i = -1 / 0;\n    if (null == r || \"number\" == typeof r && \"object\" != typeof n[0] && null != n) for (var a = 0, f = (n = er(n) ? n : jn(n)).length; a < f; a++) null != (e = n[a]) && e > o && (o = e);else r = qn(r, t), jr(n, function (n, t, e) {\n      ((u = r(n, t, e)) > i || u === -1 / 0 && o === -1 / 0) && (o = n, i = u);\n    });\n    return o;\n  }\n\n  function Tr(n, r, t) {\n    if (null == r || t) return er(n) || (n = jn(n)), n[Wn(n.length - 1)];\n    var e = er(n) ? En(n) : jn(n),\n        u = Y(e);\n    r = Math.max(Math.min(r, u), 0);\n\n    for (var o = u - 1, i = 0; i < r; i++) {\n      var a = Wn(i, o),\n          f = e[i];\n      e[i] = e[a], e[a] = f;\n    }\n\n    return e.slice(0, r);\n  }\n\n  function kr(n, r) {\n    return function (t, e, u) {\n      var o = r ? [[], []] : {};\n      return e = qn(e, u), jr(t, function (r, u) {\n        var i = e(r, u, t);\n        n(o, r, i);\n      }), o;\n    };\n  }\n\n  var Dr = kr(function (n, r, t) {\n    W(n, t) ? n[t].push(r) : n[t] = [r];\n  }),\n      Rr = kr(function (n, r, t) {\n    n[t] = r;\n  }),\n      Fr = kr(function (n, r, t) {\n    W(n, t) ? n[t]++ : n[t] = 1;\n  }),\n      Vr = kr(function (n, r, t) {\n    n[t ? 0 : 1].push(r);\n  }, !0),\n      Pr = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n\n  function qr(n, r, t) {\n    return r in t;\n  }\n\n  var Ur = j(function (n, r) {\n    var t = {},\n        e = r[0];\n    if (null == n) return t;\n    D(e) ? (r.length > 1 && (e = Fn(e, r[1])), r = an(n)) : (e = qr, r = ur(r, !1, !1), n = Object(n));\n\n    for (var u = 0, o = r.length; u < o; u++) {\n      var i = r[u],\n          a = n[i];\n      e(a, i, n) && (t[i] = a);\n    }\n\n    return t;\n  }),\n      Wr = j(function (n, r) {\n    var t,\n        e = r[0];\n    return D(e) ? (e = fr(e), r.length > 1 && (t = r[1])) : (r = _r(ur(r, !1, !1), String), e = function (n, t) {\n      return !Er(r, t);\n    }), Ur(n, e, t);\n  });\n\n  function zr(n, r, t) {\n    return i.call(n, 0, Math.max(0, n.length - (null == r || t ? 1 : r)));\n  }\n\n  function Lr(n, r, t) {\n    return null == n || n.length < 1 ? null == r || t ? void 0 : [] : null == r || t ? n[0] : zr(n, n.length - r);\n  }\n\n  function $r(n, r, t) {\n    return i.call(n, null == r || t ? 1 : r);\n  }\n\n  var Cr = j(function (n, r) {\n    return r = ur(r, !0, !0), Sr(n, function (n) {\n      return !Er(r, n);\n    });\n  }),\n      Kr = j(function (n, r) {\n    return Cr(n, r);\n  });\n\n  function Jr(n, r, t, e) {\n    A(r) || (e = t, t = r, r = !1), null != t && (t = qn(t, e));\n\n    for (var u = [], o = [], i = 0, a = Y(n); i < a; i++) {\n      var f = n[i],\n          c = t ? t(f, i, n) : f;\n      r && !t ? (i && o === c || u.push(f), o = c) : t ? Er(o, c) || (o.push(c), u.push(f)) : Er(u, f) || u.push(f);\n    }\n\n    return u;\n  }\n\n  var Gr = j(function (n) {\n    return Jr(ur(n, !0, !0));\n  });\n\n  function Hr(n) {\n    for (var r = n && Ir(n, Y).length || 0, t = Array(r), e = 0; e < r; e++) t[e] = Nr(n, e);\n\n    return t;\n  }\n\n  var Qr = j(Hr);\n\n  function Xr(n, r) {\n    return n._chain ? tn(r).chain() : r;\n  }\n\n  function Yr(n) {\n    return jr(wn(n), function (r) {\n      var t = tn[r] = n[r];\n\n      tn.prototype[r] = function () {\n        var n = [this._wrapped];\n        return o.apply(n, arguments), Xr(this, t.apply(tn, n));\n      };\n    }), tn;\n  }\n\n  jr([\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"], function (n) {\n    var r = t[n];\n\n    tn.prototype[n] = function () {\n      var t = this._wrapped;\n      return null != t && (r.apply(t, arguments), \"shift\" !== n && \"splice\" !== n || 0 !== t.length || delete t[0]), Xr(this, t);\n    };\n  }), jr([\"concat\", \"join\", \"slice\"], function (n) {\n    var r = t[n];\n\n    tn.prototype[n] = function () {\n      var n = this._wrapped;\n      return null != n && (n = r.apply(n, arguments)), Xr(this, n);\n    };\n  });\n  var Zr = Yr({\n    __proto__: null,\n    VERSION: n,\n    restArguments: j,\n    isObject: _,\n    isNull: function (n) {\n      return null === n;\n    },\n    isUndefined: w,\n    isBoolean: A,\n    isElement: function (n) {\n      return !(!n || 1 !== n.nodeType);\n    },\n    isString: S,\n    isNumber: O,\n    isDate: M,\n    isRegExp: E,\n    isError: B,\n    isSymbol: N,\n    isArrayBuffer: I,\n    isDataView: q,\n    isArray: U,\n    isFunction: D,\n    isArguments: L,\n    isFinite: function (n) {\n      return !N(n) && d(n) && !isNaN(parseFloat(n));\n    },\n    isNaN: $,\n    isTypedArray: X,\n    isEmpty: function (n) {\n      if (null == n) return !0;\n      var r = Y(n);\n      return \"number\" == typeof r && (U(n) || S(n) || L(n)) ? 0 === r : 0 === Y(nn(n));\n    },\n    isMatch: rn,\n    isEqual: function (n, r) {\n      return on(n, r);\n    },\n    isMap: dn,\n    isWeakMap: gn,\n    isSet: bn,\n    isWeakSet: mn,\n    keys: nn,\n    allKeys: an,\n    values: jn,\n    pairs: function (n) {\n      for (var r = nn(n), t = r.length, e = Array(t), u = 0; u < t; u++) e[u] = [r[u], n[r[u]]];\n\n      return e;\n    },\n    invert: _n,\n    functions: wn,\n    methods: wn,\n    extend: xn,\n    extendOwn: Sn,\n    assign: Sn,\n    defaults: On,\n    create: function (n, r) {\n      var t = Mn(n);\n      return r && Sn(t, r), t;\n    },\n    clone: En,\n    tap: function (n, r) {\n      return r(n), n;\n    },\n    get: Tn,\n    has: function (n, r) {\n      for (var t = (r = Nn(r)).length, e = 0; e < t; e++) {\n        var u = r[e];\n        if (!W(n, u)) return !1;\n        n = n[u];\n      }\n\n      return !!t;\n    },\n    mapObject: function (n, r, t) {\n      r = qn(r, t);\n\n      for (var e = nn(n), u = e.length, o = {}, i = 0; i < u; i++) {\n        var a = e[i];\n        o[a] = r(n[a], a, n);\n      }\n\n      return o;\n    },\n    identity: kn,\n    constant: C,\n    noop: Un,\n    toPath: Bn,\n    property: Rn,\n    propertyOf: function (n) {\n      return null == n ? Un : function (r) {\n        return Tn(n, r);\n      };\n    },\n    matcher: Dn,\n    matches: Dn,\n    times: function (n, r, t) {\n      var e = Array(Math.max(0, n));\n      r = Fn(r, t, 1);\n\n      for (var u = 0; u < n; u++) e[u] = r(u);\n\n      return e;\n    },\n    random: Wn,\n    now: zn,\n    escape: Cn,\n    unescape: Kn,\n    templateSettings: Jn,\n    template: function (n, r, t) {\n      !r && t && (r = t), r = On({}, r, tn.templateSettings);\n      var e = RegExp([(r.escape || Gn).source, (r.interpolate || Gn).source, (r.evaluate || Gn).source].join(\"|\") + \"|$\", \"g\"),\n          u = 0,\n          o = \"__p+='\";\n      n.replace(e, function (r, t, e, i, a) {\n        return o += n.slice(u, a).replace(Qn, Xn), u = a + r.length, t ? o += \"'+\\n((__t=(\" + t + \"))==null?'':_.escape(__t))+\\n'\" : e ? o += \"'+\\n((__t=(\" + e + \"))==null?'':__t)+\\n'\" : i && (o += \"';\\n\" + i + \"\\n__p+='\"), r;\n      }), o += \"';\\n\";\n      var i,\n          a = r.variable;\n\n      if (a) {\n        if (!Yn.test(a)) throw new Error(\"variable is not a bare identifier: \" + a);\n      } else o = \"with(obj||{}){\\n\" + o + \"}\\n\", a = \"obj\";\n\n      o = \"var __t,__p='',__j=Array.prototype.join,\" + \"print=function(){__p+=__j.call(arguments,'');};\\n\" + o + \"return __p;\\n\";\n\n      try {\n        i = new Function(a, \"_\", o);\n      } catch (n) {\n        throw n.source = o, n;\n      }\n\n      var f = function (n) {\n        return i.call(this, n, tn);\n      };\n\n      return f.source = \"function(\" + a + \"){\\n\" + o + \"}\", f;\n    },\n    result: function (n, r, t) {\n      var e = (r = Nn(r)).length;\n      if (!e) return D(t) ? t.call(n) : t;\n\n      for (var u = 0; u < e; u++) {\n        var o = null == n ? void 0 : n[r[u]];\n        void 0 === o && (o = t, u = e), n = D(o) ? o.call(n) : o;\n      }\n\n      return n;\n    },\n    uniqueId: function (n) {\n      var r = ++Zn + \"\";\n      return n ? n + r : r;\n    },\n    chain: function (n) {\n      var r = tn(n);\n      return r._chain = !0, r;\n    },\n    iteratee: Pn,\n    partial: rr,\n    bind: tr,\n    bindAll: or,\n    memoize: function (n, r) {\n      var t = function (e) {\n        var u = t.cache,\n            o = \"\" + (r ? r.apply(this, arguments) : e);\n        return W(u, o) || (u[o] = n.apply(this, arguments)), u[o];\n      };\n\n      return t.cache = {}, t;\n    },\n    delay: ir,\n    defer: ar,\n    throttle: function (n, r, t) {\n      var e,\n          u,\n          o,\n          i,\n          a = 0;\n      t || (t = {});\n\n      var f = function () {\n        a = !1 === t.leading ? 0 : zn(), e = null, i = n.apply(u, o), e || (u = o = null);\n      },\n          c = function () {\n        var c = zn();\n        a || !1 !== t.leading || (a = c);\n        var l = r - (c - a);\n        return u = this, o = arguments, l <= 0 || l > r ? (e && (clearTimeout(e), e = null), a = c, i = n.apply(u, o), e || (u = o = null)) : e || !1 === t.trailing || (e = setTimeout(f, l)), i;\n      };\n\n      return c.cancel = function () {\n        clearTimeout(e), a = 0, e = u = o = null;\n      }, c;\n    },\n    debounce: function (n, r, t) {\n      var e,\n          u,\n          o,\n          i,\n          a,\n          f = function () {\n        var c = zn() - u;\n        r > c ? e = setTimeout(f, r - c) : (e = null, t || (i = n.apply(a, o)), e || (o = a = null));\n      },\n          c = j(function (c) {\n        return a = this, o = c, u = zn(), e || (e = setTimeout(f, r), t && (i = n.apply(a, o))), i;\n      });\n\n      return c.cancel = function () {\n        clearTimeout(e), e = o = a = null;\n      }, c;\n    },\n    wrap: function (n, r) {\n      return rr(r, n);\n    },\n    negate: fr,\n    compose: function () {\n      var n = arguments,\n          r = n.length - 1;\n      return function () {\n        for (var t = r, e = n[r].apply(this, arguments); t--;) e = n[t].call(this, e);\n\n        return e;\n      };\n    },\n    after: function (n, r) {\n      return function () {\n        if (--n < 1) return r.apply(this, arguments);\n      };\n    },\n    before: cr,\n    once: lr,\n    findKey: sr,\n    findIndex: vr,\n    findLastIndex: hr,\n    sortedIndex: yr,\n    indexOf: gr,\n    lastIndexOf: br,\n    find: mr,\n    detect: mr,\n    findWhere: function (n, r) {\n      return mr(n, Dn(r));\n    },\n    each: jr,\n    forEach: jr,\n    map: _r,\n    collect: _r,\n    reduce: Ar,\n    foldl: Ar,\n    inject: Ar,\n    reduceRight: xr,\n    foldr: xr,\n    filter: Sr,\n    select: Sr,\n    reject: function (n, r, t) {\n      return Sr(n, fr(qn(r)), t);\n    },\n    every: Or,\n    all: Or,\n    some: Mr,\n    any: Mr,\n    contains: Er,\n    includes: Er,\n    include: Er,\n    invoke: Br,\n    pluck: Nr,\n    where: function (n, r) {\n      return Sr(n, Dn(r));\n    },\n    max: Ir,\n    min: function (n, r, t) {\n      var e,\n          u,\n          o = 1 / 0,\n          i = 1 / 0;\n      if (null == r || \"number\" == typeof r && \"object\" != typeof n[0] && null != n) for (var a = 0, f = (n = er(n) ? n : jn(n)).length; a < f; a++) null != (e = n[a]) && e < o && (o = e);else r = qn(r, t), jr(n, function (n, t, e) {\n        ((u = r(n, t, e)) < i || u === 1 / 0 && o === 1 / 0) && (o = n, i = u);\n      });\n      return o;\n    },\n    shuffle: function (n) {\n      return Tr(n, 1 / 0);\n    },\n    sample: Tr,\n    sortBy: function (n, r, t) {\n      var e = 0;\n      return r = qn(r, t), Nr(_r(n, function (n, t, u) {\n        return {\n          value: n,\n          index: e++,\n          criteria: r(n, t, u)\n        };\n      }).sort(function (n, r) {\n        var t = n.criteria,\n            e = r.criteria;\n\n        if (t !== e) {\n          if (t > e || void 0 === t) return 1;\n          if (t < e || void 0 === e) return -1;\n        }\n\n        return n.index - r.index;\n      }), \"value\");\n    },\n    groupBy: Dr,\n    indexBy: Rr,\n    countBy: Fr,\n    partition: Vr,\n    toArray: function (n) {\n      return n ? U(n) ? i.call(n) : S(n) ? n.match(Pr) : er(n) ? _r(n, kn) : jn(n) : [];\n    },\n    size: function (n) {\n      return null == n ? 0 : er(n) ? n.length : nn(n).length;\n    },\n    pick: Ur,\n    omit: Wr,\n    first: Lr,\n    head: Lr,\n    take: Lr,\n    initial: zr,\n    last: function (n, r, t) {\n      return null == n || n.length < 1 ? null == r || t ? void 0 : [] : null == r || t ? n[n.length - 1] : $r(n, Math.max(0, n.length - r));\n    },\n    rest: $r,\n    tail: $r,\n    drop: $r,\n    compact: function (n) {\n      return Sr(n, Boolean);\n    },\n    flatten: function (n, r) {\n      return ur(n, r, !1);\n    },\n    without: Kr,\n    uniq: Jr,\n    unique: Jr,\n    union: Gr,\n    intersection: function (n) {\n      for (var r = [], t = arguments.length, e = 0, u = Y(n); e < u; e++) {\n        var o = n[e];\n\n        if (!Er(r, o)) {\n          var i;\n\n          for (i = 1; i < t && Er(arguments[i], o); i++);\n\n          i === t && r.push(o);\n        }\n      }\n\n      return r;\n    },\n    difference: Cr,\n    unzip: Hr,\n    transpose: Hr,\n    zip: Qr,\n    object: function (n, r) {\n      for (var t = {}, e = 0, u = Y(n); e < u; e++) r ? t[n[e]] = r[e] : t[n[e][0]] = n[e][1];\n\n      return t;\n    },\n    range: function (n, r, t) {\n      null == r && (r = n || 0, n = 0), t || (t = r < n ? -1 : 1);\n\n      for (var e = Math.max(Math.ceil((r - n) / t), 0), u = Array(e), o = 0; o < e; o++, n += t) u[o] = n;\n\n      return u;\n    },\n    chunk: function (n, r) {\n      if (null == r || r < 1) return [];\n\n      for (var t = [], e = 0, u = n.length; e < u;) t.push(i.call(n, e, e += r));\n\n      return t;\n    },\n    mixin: Yr,\n    default: tn\n  });\n  return Zr._ = Zr, Zr;\n});\n}(underscoreMin));\n\nvar _ = underscoreMin.exports;\n\nexport { _ as default };\n","import BaseCollection from './courage/models/BaseCollection.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nimport BaseSchema from './courage/models/BaseSchema.js';\nexport { default as Model } from './courage/models/Model.js';\nimport SchemaProperty from './courage/models/SchemaProperty.js';\nimport BaseController from './courage/util/BaseController.js';\nimport BaseRouter from './courage/util/BaseRouter.js';\nimport ButtonFactory from './courage/util/ButtonFactory.js';\nimport Class from './courage/util/Class.js';\nimport Cookie from './courage/util/Cookie.js';\nimport Clipboard from './courage/util/Clipboard.js';\nimport Keys from './courage/util/Keys.js';\nimport Logger from './courage/util/Logger.js';\nimport StringUtil from './courage/util/StringUtil.js';\nimport Util from './courage/util/Util.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport './courage/util/handlebars/handle-url.js';\nimport './courage/util/handlebars/helper-i18n.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\nimport BaseView from './courage/views/BaseView.js';\nimport BaseDropDown from './courage/views/components/BaseDropDown.js';\nimport Notification from './courage/views/components/Notification.js';\nimport BaseForm from './courage/views/forms/BaseForm.js';\nimport Toolbar from './courage/views/forms/components/Toolbar.js';\nimport FormUtil from './courage/views/forms/helpers/FormUtil.js';\nimport InputRegistry from './courage/views/forms/helpers/InputRegistry.js';\nimport SchemaFormFactory from './courage/views/forms/helpers/SchemaFormFactory.js';\nimport BaseInput from './courage/views/forms/BaseInput.js';\nimport CheckBox from './courage/views/forms/inputs/CheckBox.js';\nimport PasswordBox from './courage/views/forms/inputs/PasswordBox.js';\nimport Radio from './courage/views/forms/inputs/Radio.js';\nimport Select from './courage/views/forms/inputs/Select.js';\nimport InputGroup from './courage/views/forms/inputs/InputGroup.js';\nimport TextBox from './courage/views/forms/inputs/TextBox.js';\nimport Callout from './courage/views/components/Callout.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nimport FrameworkView from './courage/framework/View.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nimport './util/scrollParent.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nimport './courage/util/SettingsModel.js';\n\nconst Controller = BaseController.extend({\n  // The courage BaseController renders asynchronously in current versions of jQuery\n  // https://github.com/okta/okta-ui/blob/master/packages/courage/src/util/BaseController.ts#L117-L119\n  // https://api.jquery.com/jquery/#jQuery-callback\n  // Override so that render is synchronous\n  render: function (...args) {\n    BaseView.prototype.render.apply(this, args);\n    return this;\n  }\n});\n\nSelect.prototype.remove = function () {\n  // Patched to remove unneeded call to\n  // this.$select.trigger('remove');\n  // which causes error on IE11\n  return BaseInput.prototype.remove.apply(this, arguments);\n}; // The string will be returned unchanged. All templates should be precompiled.\n\n\nFrameworkView.prototype.compileTemplate = function (str) {\n  const compiledTmpl = function fakeTemplate() {\n    return str;\n  };\n\n  compiledTmpl.source = ''; // to satisfy TS\n\n  return compiledTmpl;\n}; // Override events to not support `Enter` submitting the form twice - OKTA-321999 and OKTA-317629\n\n\nconst events = {\n  'input input': 'update',\n  'change input': 'update',\n  'keydown input': 'update',\n  'keyup input': function (e) {\n    if (Keys.isEsc(e)) {\n      this.model.trigger('form:cancel');\n    }\n  }\n};\nconst TextBoxForSigninWidget = TextBox.extend({\n  events: events\n});\nconst PasswordBoxForSigninWidget = PasswordBox.extend({\n  events: events\n});\nconst Form = BaseForm.extend({\n  scrollOnError: function () {\n    // scrollOnError is true by default. Override to false if `scrollOnError` has been set to false in widget settings.\n    const {\n      settings: settings\n    } = this.options;\n\n    if (settings.get('features.scrollOnError') === false) {\n      return false;\n    }\n\n    return true;\n  }\n});\nconst loc = StringUtil.localize;\nconst createButton = ButtonFactory.create;\nconst createCallout = Callout.create;\nconst registerInput = InputRegistry.register;\nconst Collection = BaseCollection;\nconst View = BaseView;\nconst Router = BaseRouter;\nconst internal = {\n  util: {\n    Util: Util,\n    Cookie: Cookie,\n    Clipboard: Clipboard,\n    Logger: Logger,\n    Class: Class,\n    Keys: Keys\n  },\n  views: {\n    components: {\n      BaseDropDown: BaseDropDown,\n      Notification: Notification\n    },\n    forms: {\n      helpers: {\n        FormUtil: FormUtil,\n        SchemaFormFactory: SchemaFormFactory\n      },\n      components: {\n        Toolbar: Toolbar\n      },\n      inputs: {\n        TextBox: TextBoxForSigninWidget,\n        PasswordBox: PasswordBoxForSigninWidget,\n        CheckBox: CheckBox,\n        Radio: Radio,\n        Select: Select,\n        InputGroup: InputGroup\n      }\n    }\n  },\n  models: {\n    BaseSchema: BaseSchema,\n    SchemaProperty: SchemaProperty\n  }\n};\nregisterInput('text', TextBoxForSigninWidget);\nregisterInput('password', PasswordBoxForSigninWidget);\nregisterInput('checkbox', CheckBox);\nregisterInput('radio', Radio);\nregisterInput('select', Select);\nregisterInput('group', InputGroup);\n\nexport { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar STATE = '__STATE__';\nvar FETCH_DATA = 'FETCH_DATA';\nvar PAGINATION_DATA = 'PAGINATION_DATA';\nvar DEFAULT_PARAMS = 'DEFAULT_PARAMS';\nvar LINK_BY_HEADER = 'LINK_BY_HEADER';\nvar XHR = 'XHR'; // ################################################\n// # Source: https://gist.github.com/deiu/9335803\n// ################################################\n// unquote string (utility)\n\nfunction unquote(value) {\n  if (value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"') {\n    return value.substring(1, value.length - 1);\n  }\n\n  return value;\n}\n/*\nparse a Link header\nLink:<https://example.org/.meta>; rel=meta\nvar r = parseLinkHeader(xhr.getResponseHeader('Link');\nr['meta']['href'] outputs https://example.org/.meta\n*/\n\n\nfunction parseLinkHeader(header) {\n  /* eslint max-statements: 0 */\n  var linkexp = /<[^>]*>\\s*(\\s*;\\s*[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\")))*(,|$)/g;\n  var paramexp = /[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\"))/g;\n  var matches = header.match(linkexp);\n  var rels = {};\n\n  for (var i = 0; i < matches.length; i++) {\n    var split = matches[i].split('>');\n    var href = split[0].substring(1);\n    var link = {\n      href: undefined,\n      rel: undefined\n    };\n    link.href = href;\n    var s = split[1].match(paramexp);\n\n    for (var j = 0; j < s.length; j++) {\n      var paramsplit = s[j].split('=');\n      var name = paramsplit[0];\n      link[name] = unquote(paramsplit[1]);\n    }\n\n    if (link.rel !== undefined) {\n      rels[link.rel] = link;\n    }\n  }\n\n  return rels;\n}\n/*\n * Sets the next page URL on the collection from link headers\n * See: http://www.rfc-editor.org/rfc/rfc5988.txt\n *\n * This method is looking for a link header with `rel=\"next\"`\n * An set's it as the next page's URL.\n *\n * If it doesn't find a next page, and current page is set by a link header\n * it assumes we are at the last page and deletes the current `next`\n */\n\n\nfunction setLinkHeadersPagination(collection, xhr) {\n  try {\n    var links = parseLinkHeader(xhr.getResponseHeader('link'));\n    collection[STATE].set(LINK_BY_HEADER, true);\n    collection.setPagination(links['next'].href);\n  } catch (e) {\n    if (collection[STATE].get(LINK_BY_HEADER)) {\n      collection.setPagination(null);\n    }\n  }\n}\n\nfunction parseQuery(url) {\n  var params = {};\n  var rawQueryStr = url && url.split('?')[1];\n  var queryString = rawQueryStr && rawQueryStr.split('#')[0]; // Do not decode queryString before split by '&' because '&' can be found in value\n\n  var props = queryString ? queryString.split('&') : [];\n\n  for (var i = 0; i < props.length; i++) {\n    var decode = decodeURIComponent(props[i]).replace(/\\+/g, ' ');\n    var parts = decode.split('=');\n    params[parts.shift()] = parts.join('=');\n  }\n\n  return params;\n} // ################################################\n// # /Source\n// ################################################\n//\n\n\nconst collectionProps =\n/** @lends src/framework/Collection.prototype */\n{\n  /**\n   * Default fetch parameters\n   * @type {Object|Function}\n   */\n  params: {},\n  preinitialize: function (models, options) {\n    const state = new Backbone.Model();\n\n    const defaultParams = oktaUnderscore.defaults(options && options.params || {}, oktaUnderscore.result(this, 'params') || {});\n\n    state.set(DEFAULT_PARAMS, defaultParams);\n    this[STATE] = state; // Adds support for child class to convert to ES6 Class.\n    // After conversion, `this.model` has to be a pure function to return Model Class.\n    // The changes below is trying to distinguish the ambiguity between a Class and normal function,\n    // as both are JavaScript function essentially.\n    // There are three ways to define class for `this.model`\n    // 1. Object properties: `model: BaseModel.extend({..})`\n    // 2. Function constructor:\n    // See example from\n    // - appversions/src/models/CustomType.js\n    // - appversions/src/models/EnumType.js\n    // - appversions/src/models/SignOnMode.js\n    // - authn-factors/src/models/Feature.js\n    // - shared/src/models/SamlAttribute.js\n    // 3. Function that returns a class.\n    //    model: function() { return BaseModel.extend({..}); }\n    //\n    // option 1 and 2 exists in code base today\n    // option 3 is introduced to support child class to convert to ES6 class.\n    // TODO: think of remove following check\n    // The reason for `this.model !== Backbone.Model` is because `this.model` is default to `Backbone.Model`\n    // set at Backbone.Collection.\n\n    if (oktaUnderscore.isFunction(this.model) && this.model.length === 0 && this.model.isCourageModel !== true) {\n      this.model = oktaUnderscore.result(this, 'model');\n    }\n\n    Backbone.Collection.prototype.preinitialize.apply(this, arguments);\n  },\n\n  /**\n   * See [Backbone Collection.sync](http://backbonejs.org/#Collection-sync).\n   */\n  sync: function (method, collection, options) {\n    var self = this;\n    var success = options.success;\n\n    options.success = function (resp, status, xhr) {\n      // its important to set the pagination data *before* we call the success callback\n      // because we want the pagination data to be ready when the collection triggers the `sync` event\n      setLinkHeadersPagination(self, xhr);\n      success.apply(null, arguments);\n    };\n\n    return Backbone.Collection.prototype.sync.call(this, method, collection, options);\n  },\n\n  /**\n   * See [Backbone Collection.fetch](http://backbonejs.org/#Collection-fetch).\n   */\n  fetch: function (options) {\n    options || (options = {});\n    var state = this[STATE];\n    var xhr = state.get(XHR);\n    options.data = oktaUnderscore.extend({}, state.get(DEFAULT_PARAMS), options.data || {});\n    options.fromFetch = true;\n    state.set(FETCH_DATA, options.data);\n\n    if (xhr && xhr.abort && options.abort !== false) {\n      xhr.abort();\n    }\n\n    xhr = Backbone.Collection.prototype.fetch.call(this, options);\n    state.set(XHR, xhr);\n    return xhr;\n  },\n\n  /**\n   * Set pagination data to get to the next page\n   * @param {Mixed} params\n   * @param {Object} [options]\n   * @param {Boolean} [options.fromFetch] should we include data from the previous fetch call in this object\n   * @example\n   * collection.setPagination({q: 'foo', page: '2'}); //=> {q: 'foo', page: '2'}\n   *\n   * collection.setPagination('/path/to/resource?q=baz&page=4'); //=> {q: 'baz', page: '4'}\n   *\n   * collection.setPagination('/path/to/resource'); //=> {}\n   *\n   * collection.fetch({data: {q: 'foo'}});\n   * collection.setPagination({page: 2}, {fromFetch: true}); //=> {q: 'foo', page: 2}\n   *\n   * any \"falsy\" value resets pagination\n   * collection.setPagination(); //=> {}\n   * collection.setPagination(null); //=> {}\n   * collection.setPagination(false); //=> {}\n   * collection.setPagination(''); //=> {}\n   * collection.setPagination(0); //=> {}\n   * @protected\n   */\n  setPagination: function (params, options) {\n    /* eslint complexity: [2, 8] */\n    if (oktaUnderscore.isString(params) && params) {\n      params = parseQuery(params);\n    }\n\n    if (!oktaUnderscore.isObject(params) || oktaUnderscore.isArray(params) || !oktaUnderscore.size(params)) {\n      params = null;\n    } else if (options && options.fromFetch) {\n      params = oktaUnderscore.extend({}, this.getFetchData(), params);\n    }\n\n    this[STATE].set(PAGINATION_DATA, params);\n  },\n\n  /**\n   * Returns the `data` parameters applied in th most recent `fetch` call\n   * It will include parameters set by {@link #params} and optios.params passed to the constructor\n   * @return {Object}\n   * @protected\n   */\n  getFetchData: function () {\n    return this[STATE].get(FETCH_DATA) || {};\n  },\n\n  /**\n   * Data object for constructing a request to fetch the next page\n   * @return {Object}\n   * @protected\n   */\n  getPaginationData: function () {\n    return this[STATE].get(PAGINATION_DATA) || {};\n  },\n\n  /**\n   * Does this collection have more data on the server (e.g is there a next \"page\")\n   * @return {Boolean}\n   */\n  hasMore: function () {\n    return oktaUnderscore.size(this.getPaginationData()) > 0;\n  },\n\n  /**\n   * Get the next page from the server\n   * @return {Object} xhr returned by {@link #fetch}\n   */\n  fetchMore: function () {\n    if (!this.hasMore()) {\n      throw new Error('Invalid Request');\n    }\n\n    return this.fetch({\n      data: this.getPaginationData(),\n      add: true,\n      remove: false,\n      update: true\n    });\n  },\n\n  /**\n   * See [Backbone Collection.reset](http://backbonejs.org/#Collection-reset).\n   */\n  reset: function (models, options) {\n    options || (options = {}); // only reset the pagination when reset is being called explicitly.\n    // this is to avoid link headers pagination being overriden and reset when\n    // fetching the collection using `collection.fetch({reset: true})`\n\n    if (!options.fromFetch) {\n      this.setPagination(null);\n    }\n\n    return Backbone.Collection.prototype.reset.apply(this, arguments);\n  },\n  // we want \"where\" to be able to search through derived properties as well\n  where: function (attrs, first) {\n    if (oktaUnderscore.isEmpty(attrs)) {\n      return first ? void 0 : [];\n    }\n\n    return this[first ? 'find' : 'filter'](function (model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  },\n\n  /**\n   * See [Backbone Collection.create](http://backbonejs.org/#Collection-create).\n   */\n  create: function (model, options) {\n    options || (options = {});\n\n    if (!oktaUnderscore.result(model, 'urlRoot')) {\n      options.url = oktaUnderscore.result(this, 'url');\n    }\n\n    return Backbone.Collection.prototype.create.call(this, model, options);\n  },\n  // Use Object.create instead of {} on _byId to avoid __proto__ functions to return\n  // This can be removed once the issue has addressed in backbone framework\n  // https://github.com/jashkenas/backbone/pull/4225\n  _reset: function () {\n    Backbone.Collection.prototype['_reset'].call(this);\n    this._byId = Object.create(null);\n  }\n};\n/**\n *\n * Archer.Collection is a standard [Backbone.Collection](http://backbonejs.org/#Collection) with pre-set `data`\n * parameters and built in pagination - works with [http link headers](https://tools.ietf.org/html/rfc5988)\n * out of the box:\n *\n * @class src/framework/Collection\n * @extends external:Backbone.Collection\n * @example\n * var Users = Archer.Collection.extend({\n *   url: '/api/v1/users'\n *   params: {expand: true}\n * });\n * var users = new Users(null, {params: {type: 'new'}}),\n *     $button = this.$('a.fetch-more');\n *\n * $button.click(function () {\n *   users.fetchMore();\n * });\n *\n * this.listenTo(users, 'sync', function () {\n *   $button.toggle(users.hasMore());\n * });\n *\n * collection.fetch(); //=> '/api/v1/users?expand=true&type=new'\n */\n\nconst Collection = Backbone.Collection.extend(collectionProps);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Collection Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nCollection.isCourageCollection = true;\n\nexport { Collection as default };\n","import FrameworkView from './View.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\n\n/* eslint-disable max-statements */\n/**\n   * Archer.ListView is a {@link src/framework/View} that operates on a\n   * collection and builds a list of \"things\" of the same type.\n   *\n   * Automagically adds, removes and sorts upon standard collection events.\n   *\n   * Listen to collection events so the ListView will do the right thing when\n   * a model is added or the collection is reset or sorted.\n   *\n   * @class src/framework/ListView\n   * @extends src/framework/View\n   * @param {Object} options options hash\n   * @param {Object} options.collection The collection which this view operates on\n   * @example\n   * var UserList = Archer.ListView.extend({\n   *   tagName: 'ul',\n   *   item: '<li>{{fname}} {{lname}}</li>'\n   * });\n   *\n   * var users = new Archer.Collection([\n   *   {fname: 'John', lname: 'Doe'},\n   *   {fname: 'Jane', lname: 'Doe'}\n   * ]);\n   *\n   * var userList = new UserList({collection: users}).render();\n   * userList.el; //=> \"<ul><li>John Doe</li><li>Jane Doe</li></ul>\"\n   *\n   * users.push({fname: 'Jim', lname: 'Doe'});\n   * userList.el; //=> \"<ul><li>John Doe</li><li>Jane Doe</li><li>Jim Doe</li></ul>\"\n   *\n   * users.first().destroy();\n   * userList.el; //=> \"<ul><li>Jane Doe</li><li>Jim Doe</li></ul>\"\n   */\n\nvar ListView = FrameworkView.extend(\n/** @lends src/framework/ListView.prototype */\n{\n  constructor: function () {\n    FrameworkView.apply(this, arguments);\n\n    if (!this.collection) {\n      throw new Error('Missing collection');\n    }\n\n    this.listenTo(this.collection, 'reset sort', this.reset);\n    this.listenTo(this.collection, 'add', this.addItem);\n\n    if (this.fetchCollection) {\n      this.collection.fetch();\n    } else {\n      this.collection.each(this.addItem, this);\n    }\n  },\n\n  /**\n     * The view/template we will use to render each model in the collection.\n     * @type {String|module:Okta.View}\n     */\n  item: null,\n\n  /**\n     * A selector in the local template where to append each item\n     * @type {String}\n     */\n  itemSelector: null,\n\n  /**\n     * Empty the list and re-add everything from the collection.\n     * Usefull for handling `collection.reset()` or for handling the initial load\n     * @protected\n     */\n  reset: function () {\n    this.removeChildren();\n    this.collection.each((model, index) => {\n      this.addItem(model, index);\n    });\n    return this;\n  },\n\n  /**\n     * Add an item view to the list that will represent one model from the collection\n     *\n     * Listen to the model so when it is destoyed or removed from the collection\n     * this item will remove itself from the list\n     *\n     * @param {Backbone.Model} model The model this row operates on\n     * @protected\n     */\n  addItem: function (model) {\n    var view = this.add(this.item, this.itemSelector, {\n      options: {\n        model: model\n      }\n    }).last();\n\n    if (this.state && this.state.get('trackItemAdded')) {\n      this.state.trigger('itemAdded', view);\n    }\n\n    view.listenTo(model, 'destroy remove', view.remove);\n    return this;\n  },\n  addShowMore: oktaUnderscore.noop\n});\n\nexport { ListView as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\nimport Logger from '../util/Logger.js';\n\nfunction isModelPropertySchema(obj) {\n  return obj && obj.type || obj.deps;\n}\n\n/**\n   * Archer.Model is a standard [Backbone.Model](http://backbonejs.org/#Model) with a few additions:\n   *\n   * - {@link src/framework/Model#derived Derived properties}\n   * - {@link src/framework/Model#props Built in schema validation}\n   * - {@link src/framework/Model#local Private properties (with schema validation)}\n   * - {@link src/framework/Model#flat Flattening of nested objects}\n   *\n   * Both derived and private properties are filtered out when sending the data to the server.\n   *\n   * See [Backbone.Model](http://backbonejs.org/#Model-constructor).\n   *\n   * @class src/framework/Model\n   * @extends external:Backbone.Model\n   * @param {Object} [attributes] - Initial model attributes (data)\n   * @param {Object} [options] - Options hash\n   * @example\n   * var Person = Archer.Model.extend({\n   *   props: {\n   *     'fname': 'string',\n   *     'lname': 'string'\n   *   },\n   *   local: {\n   *     isLoggedIn: 'boolean'\n   *   },\n   *   derived: {\n   *     name: {\n   *       deps: ['fname', 'lname'],\n   *       fn: function (fname, lname) {\n   *         return fname + ' ' + lname;\n   *       }\n   *     }\n   *   }\n   * });\n   * var model = new Person({fname: 'Joe', lname: 'Doe'});\n   * model.get('name'); //=> \"Joe Doe\"\n   * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n   *\n   * model.set('isLoggedIn', true);\n   * model.get('isLoggedIn'); //=> true\n   * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n   */\nlet Model;\nconst statics = {\n  ERROR_BLANK: 'model.validation.field.blank',\n  ERROR_WRONG_TYPE: 'model.validation.field.wrong.type',\n  ERROR_NOT_ALLOWED: 'model.validation.field.value.not.allowed',\n  ERROR_INVALID: 'model.validation.field.invalid',\n  ERROR_IARRAY_UNIQUE: 'model.validation.field.array.unique',\n  ERROR_INVALID_FORMAT_EMAIL: 'model.validation.field.invalid.format.email',\n  ERROR_INVALID_FORMAT_URI: 'model.validation.field.invalid.format.uri',\n  ERROR_INVALID_FORMAT_IPV4: 'model.validation.field.invalid.format.ipv4',\n  ERROR_INVALID_FORMAT_HOSTNAME: 'model.validation.field.invalid.format.hostname',\n  ERROR_STRING_STRING_MIN_LENGTH: 'model.validation.field.string.minLength',\n  ERROR_STRING_STRING_MAX_LENGTH: 'model.validation.field.string.maxLength'\n};\n\nfunction flatten(value, objectTypeFields, key, target) {\n  var filter = oktaUnderscore.contains(objectTypeFields, key);\n\n  target || (target = {});\n\n  if (!filter && oktaUnderscore.isObject(value) && !oktaUnderscore.isArray(value) && !oktaUnderscore.isFunction(value)) {\n    oktaUnderscore.each(value, function (val, i) {\n      flatten(val, objectTypeFields, key ? key + '.' + i : i, target);\n    });\n  } // Case where target is an empty object. Guard against returning {undefined: undefined}.\n  else if (key !== undefined) {\n    target[key] = value;\n  }\n\n  return target;\n}\n\nfunction unflatten(data) {\n  oktaUnderscore.each(data, function (value, key, data) {\n    if (key.indexOf('.') === -1) {\n      return;\n    }\n\n    var part;\n    var ref = data;\n    var parts = key.split('.');\n\n    while ((part = parts.shift()) !== undefined) {\n      if (!ref[part]) {\n        ref[part] = parts.length ? {} : value;\n      }\n\n      ref = ref[part];\n    }\n\n    delete data[key];\n  });\n\n  return data;\n}\n\nfunction createMessage(field, msg) {\n  var obj = {};\n  obj[field.name] = msg;\n  return obj;\n}\n\nfunction normalizeSchemaDef(field, name) {\n  var target;\n\n  if (oktaUnderscore.isString(field)) {\n    target = {\n      type: field\n    };\n  } else if (oktaUnderscore.isArray(field)) {\n    target = {\n      type: field[0],\n      required: field[1],\n      value: field[2]\n    };\n  } else {\n    target = oktaUnderscore.clone(field);\n  }\n\n  oktaUnderscore.defaults(target, {\n    required: false,\n    name: name\n  });\n\n  return target;\n}\n\nfunction capitalize(string) {\n  return string.toLowerCase().replace(/\\b[a-z]/g, function (letter) {\n    return letter.toUpperCase();\n  });\n}\n\nfunction _validateRegex(value, pattern, error) {\n  if (!pattern.test(value)) {\n    return error;\n  }\n}\n\nvar StringFormatValidators = {\n  /*eslint max-len: 0 */\n  email: function (value) {\n    // Taken from  http://emailregex.com/ on 2017-03-06.\n    var pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_EMAIL);\n  },\n  uri: function (value) {\n    // source: https://mathiasbynens.be/demo/url-regex\n    var pattern = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_URI);\n  },\n  ipv4: function (value) {\n    // source: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    var pattern = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_IPV4);\n  },\n  hostname: function (value) {\n    // source: http://www.regextester.com/23\n    var pattern = /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_HOSTNAME);\n  }\n};\n\nfunction validateStringFormat(field, value) {\n  var validator = StringFormatValidators[field.format];\n\n  if (field.format && !validator) {\n    throw new TypeError(field.format + ' is not a supported string format');\n  }\n\n  return validator && validator(value);\n}\n\nfunction validateString(field, value) {\n  var createMessageWith = oktaUnderscore.partial(createMessage, field);\n\n  var invalidFormat = validateStringFormat(field, value);\n\n  if (invalidFormat) {\n    return createMessageWith(invalidFormat);\n  }\n\n  if (value && field.minLength && value.length < field.minLength) {\n    return createMessageWith(Model.ERROR_STRING_STRING_MIN_LENGTH);\n  }\n\n  if (value && field.maxLength && value.length > field.maxLength) {\n    return createMessageWith(Model.ERROR_STRING_STRING_MAX_LENGTH);\n  }\n}\n\nfunction validateField(field, value) {\n  /* eslint complexity: [2, 25], max-statements: [2, 30] */\n  var createMessageWith = oktaUnderscore.partial(createMessage, field);\n\n  var isDefined = !oktaUnderscore.isUndefined(value) && !oktaUnderscore.isNull(value);\n  var checkType;\n  var errorMessage; // If using an array validator, perform the validation\n\n  if (Array.isArray(field.validate)) {\n    const output = [];\n    let foundError = false;\n    let result;\n    field.validate.forEach(item => {\n      if (!value) {\n        result = false;\n      } else {\n        switch (item.type.toLowerCase()) {\n          case 'regex':\n            result = new RegExp(item.value.pattern, item.value.flags || '').test(value);\n            break;\n\n          default:\n            result = false;\n        }\n      } // Append the result.\n\n\n      foundError = foundError || !result;\n      output.push({\n        // eslint-disable-next-line no-prototype-builtins\n        message: item.hasOwnProperty('message') ? item.message : '',\n        passed: result\n      });\n    });\n\n    if (foundError) {\n      return createMessageWith(output);\n    }\n\n    return;\n  } // check required fields\n\n\n  if (field.required && (!isDefined || oktaUnderscore.isNull(value) || value === '')) {\n    return createMessageWith(Model.ERROR_BLANK);\n  } // check type\n\n\n  checkType = oktaUnderscore['is' + capitalize(field.type)];\n\n  if (isDefined && field.type !== 'any' && (!oktaUnderscore.isFunction(checkType) || !checkType(value))) {\n    return createMessageWith(Model.ERROR_WRONG_TYPE);\n  } // validate string format\n\n\n  if (value && field.type === 'string') {\n    var error = validateString(field, value);\n\n    if (error) {\n      return error;\n    }\n  } // check pre set values (enum)\n\n\n  if (isDefined && field.values && !oktaUnderscore.contains(field.values, value)) {\n    return createMessageWith(Model.ERROR_NOT_ALLOWED);\n  } // check validate method\n\n\n  if (oktaUnderscore.isFunction(field.validate)) {\n    var result = field.validate(value);\n\n    if (oktaUnderscore.isString(result) && result) {\n      return createMessageWith(result);\n    } else if (result === false) {\n      return createMessageWith(Model.ERROR_INVALID);\n    }\n  } // check array items\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n  if (isDefined && field.type === 'array' && (errorMessage = validateArrayField(field, value))) {\n    return createMessageWith(errorMessage);\n  }\n}\n\nfunction validateArrayField(field, arr) {\n  if (field.minItems && arr.length < field.minItems) {\n    return 'model.validation.field.array.minItems';\n  } else if (field.maxItems && arr.length > field.maxItems) {\n    return 'model.validation.field.array.maxItems';\n  } else if (field.uniqueItems && arr.length > oktaUnderscore.uniq(arr).length) {\n    return Model.ERROR_IARRAY_UNIQUE;\n  } else if (field.items) {\n    /* eslint max-depth: [2, 3] */\n    var arrayField = normalizeSchemaDef(field.items, 'placeholder');\n\n    for (var i = 0; i < arr.length; i++) {\n      var value = arr[i];\n      var error = validateField(arrayField, value);\n\n      if (error) {\n        return error['placeholder'];\n      }\n    }\n  }\n}\n\nconst props =\n/** @lends src/framework/Model.prototype */\n{\n  /**\n     * Pass props as an object to extend, describing the observable properties of your model. The props\n     * properties should not be set on an instance, as this won't define new properties, they should only be passed to\n     * extend.\n     * Properties can be defined in three different ways:\n     *\n     * - As a string with the expected dataType. One of string, number, boolean, array, object, date, or any.\n     * Eg: `name: 'string'`.\n     * - An array of `[dataType, required, default]`\n     * - An object `{type: 'string', format: '', required: true, value: '', values: [], validate: function() {}`\n     *   - `value` will be the value that the property will be set to if it is undefined, either by not being set during\n     *   initialization, or by being explicitly set to undefined.\n     *   - `format` is a json-schame derived string format. Supported formats are: `email`, `uri`, `hostname` and `ipv4`.\n     *   - If `required` is true, one of two things will happen. If a default is set for the property, the property will\n     *   start with that value. If a default is not set for the property, validation will fail\n     *   - If `values` array is passed, then you'll be able to change a property to one of those values only.\n     *   - If `validate` is defined, it should return false or a custom message string when the validation fails.\n     *   - If the type is defined as `array`, the array elements could be defined by `minItems` (Number),\n     *   `uniqueItems` (Boolean) and `items` (a field definition such as this one that will validate each array member)\n     *   To the `validate` method\n     *   - Trying to set a property to an invalid type will raise an exception.\n     *\n     * @type {Mixed|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     name: 'string',\n     *     age: 'number',\n     *     paying: ['boolean', true, false], //required attribute, defaulted to false\n     *     type: {\n     *       type: 'string',\n     *       values: ['regular-hero', 'super-hero', 'mega-hero']\n     *     },\n     *     likes: {\n     *       type: 'string',\n     *       validate: function (value) {\n     *         return /^[\\w]+ing$/.test(value)\n     *       }\n     *     }\n     *   }\n     * });\n     */\n  props: {},\n\n  /**\n     * Derived properties (also known as computed properties) are properties of the model that depend on the\n     * other (props, local or even derived properties to determine their value. Best demonstrated with an example:\n     *\n     * Each derived property, is defined as an object with the current properties:\n     *\n     * - `deps` {Array} - An array of property names which the derived property depends on.\n     * - `fn` {Function} - A function which returns the value of the computed property. It is called in the context of\n     * the current object, so that this is set correctly.\n     * - `cache` {Boolean} -  - Whether to cache the property. Uncached properties are computed every time they are\n     * accessed. Useful if it depends on the current time for example. Defaults to `true`.\n     *\n     * Derived properties are retrieved and fire change events just like any other property. They cannot be set\n     * directly.\n     * @type {Object|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     firstName: 'string',\n     *     lastName: 'string'\n     *   },\n     *   derived: {\n     *     fullName: {\n     *       deps: ['firstName', 'lastName'],\n     *       fn: function (firstName, lastName) {\n     *         return firstName + ' ' + lastName;\n     *       }\n     *     }\n     *   }\n     * });\n     *\n     * var person = new Person({ firstName: 'Phil', lastName: 'Roberts' })\n     * console.log(person.get('fullName')) //=> \"Phil Roberts\"\n     *\n     * person.set('firstName', 'Bob');\n     * console.log(person.get('fullName')) //=> \"Bob Roberts\"\n     */\n  derived: {},\n\n  /**\n     * local properties are defined and work in exactly the same way as {@link src/framework/Model#props|props}, but generally only exist for\n     * the lifetime of the page.\n     * They would not typically be persisted to the server, and are not returned by calls to {@link src/framework/Model#toJSON|toJSON}.\n     *\n     * @type {Object|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     name: 'string',\n     *   },\n     *   local: {\n     *     isLoggedIn: 'boolean'\n     *   }\n     * );\n     */\n  local: {},\n\n  /**\n     * Flatten the payload into dot notation string keys:\n     *\n     * @type {Boolean|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     'profile.fname': 'string',\n     *     'profile.lname': 'string',\n     *     'profile.languages': 'object'\n     *   },\n     *   flat: true\n     * });\n     * var person = new Person({'profile': {\n     *                            'fname': 'John',\n     *                            'lname': 'Doe',\n     *                            'languages': {name: \"English\", value: \"EN\"}\n     *                         }}, {parse: true});\n     * person.get('profile'); //=> undefined\n     * person.get('profile.fname'); //=> 'John'\n     * person.get('profile.lname'); //=> 'Doe'\n     * person.get('profile.languages'); //=> {name: \"English\", value: \"EN\"}\n     * person.get('profile.languages.name'); //=> undefined\n     * person.toJSON(); //=> {'profile': {'fname': 'John'} }\n     */\n  flat: true,\n\n  /**\n     * @deprecated\n     * @alias Backbone.Model#defaults\n     */\n  defaults: {},\n  // FIXME: preinitialize takes parameter `attributes` and `options`, which inherit from constructor.\n  preinitialize: function (options, ...rest) {\n    this.options = options || {};\n    var schema = this['__schema__'] = {};\n    var objectTypeFields = [];\n    schema.computedProperties = {};\n    schema.props = oktaUnderscore.clone(oktaUnderscore.result(this, 'props') || {});\n    schema.derived = oktaUnderscore.clone(oktaUnderscore.result(this, 'derived') || {});\n    schema.local = oktaUnderscore.clone(oktaUnderscore.result(this, 'local') || {});\n    var defaults = {};\n\n    oktaUnderscore.each(oktaUnderscore.extend({}, schema.props, schema.local), function (options, name) {\n      var schemaDef = normalizeSchemaDef(options, name);\n\n      if (!oktaUnderscore.isUndefined(schemaDef.value)) {\n        defaults[name] = schemaDef.value;\n      }\n\n      if (schemaDef.type === 'object') {\n        objectTypeFields.push(name);\n      }\n    }, this);\n\n    if (oktaUnderscore.size(defaults)) {\n      var localDefaults = oktaUnderscore.result(this, 'defaults');\n\n      this.defaults = function () {\n        return oktaUnderscore.defaults({}, defaults, localDefaults);\n      };\n    } // override `validate`\n\n\n    this.validate = oktaUnderscore.wrap(this.validate, function (validate) {\n      var args = oktaUnderscore.rest(arguments);\n\n      var res = oktaUnderscore.extend(this._validateSchema.apply(this, args), validate.apply(this, args));\n\n      return oktaUnderscore.size(res) && res || undefined;\n    }); // override `parse`\n\n    this.parse = oktaUnderscore.wrap(this.parse, function (parse) {\n      var target = parse.apply(this, oktaUnderscore.rest(arguments));\n\n      if (oktaUnderscore.result(this, 'flat')) {\n        target = flatten(target, objectTypeFields);\n      }\n\n      return target;\n    });\n    Backbone.Model.prototype.preinitialize.call(this, options, ...rest);\n  },\n  // FIXME:\n  // constructor takes parameter `attributes` and `options`.\n  constructor: function () {\n    Backbone.Model.apply(this, arguments);\n    var schema = this['__schema__'];\n\n    oktaUnderscore.each(schema.derived, function (options, name) {\n      schema.computedProperties[name] = this.__getDerivedValue(name); // set initial value;\n\n      var deps = isModelPropertySchema(options) ? options.deps || [] : [];\n\n      if (deps.length) {\n        this.on('cache:clear change:' + deps.join(' change:'), function () {\n          var value = this.__getDerivedValue(name);\n\n          if (value !== schema.computedProperties[name]) {\n            schema.computedProperties[name] = value;\n            this.trigger('change:' + name, this, value);\n          }\n        }, this);\n      }\n    }, this);\n\n    this.on('sync', function () {\n      this.__syncedData = this.toJSON();\n    }, this);\n  },\n  validate: function () {},\n\n  /**\n     * Check if the schema settings allow this field to exist in the model\n     * @param  {String} key\n     * @return {Boolean}\n     */\n  allows: function (key) {\n    var schema = this['__schema__'];\n\n    var all = oktaUnderscore.extend({}, schema.props, schema.local);\n\n    if (!oktaUnderscore.has(all, key)) {\n      Logger.warn('Field not defined in schema', key);\n    }\n\n    return true;\n  },\n\n  /**\n     * Returns the schema for the specific property\n     *\n     * @param propName - The name of the property\n     * @returns {*} | null\n     */\n  getPropertySchema: function (propName) {\n    var schema = this['__schema__'];\n    return oktaUnderscore.reduce([schema.props, schema.local], function (result, options) {\n      return result || normalizeSchemaDef(options[propName], propName);\n    }, null);\n  },\n  set: function (key, val) {\n    var attrs;\n\n    if (typeof key === 'object') {\n      attrs = key;\n    } else {\n      (attrs = {})[key] = val;\n    } // Don't override a computed properties\n\n\n    oktaUnderscore.each(attrs, function (value, key) {\n      if (oktaUnderscore.has(this['__schema__'].derived, key)) {\n        throw new Error(`overriding derived properties is not supported: ${key}`);\n      }\n    }, this); // Schema validation\n\n\n    var errorFields = [];\n\n    oktaUnderscore.each(attrs, function (value, key) {\n      this.allows(key) || errorFields.push(key);\n    }, this);\n\n    if (errorFields.length) {\n      throw new Error(`field not allowed: ${errorFields.join(', ')}`);\n    }\n\n    return Backbone.Model.prototype.set.apply(this, arguments);\n  },\n  get: function (attr) {\n    var schema = this['__schema__'];\n\n    if (oktaUnderscore.has(schema.derived, attr)) {\n      if (schema.derived[attr].cache !== false) {\n        return schema.computedProperties[attr];\n      } else {\n        return this.__getDerivedValue(attr);\n      }\n    }\n\n    return Backbone.Model.prototype.get.apply(this, arguments);\n  },\n\n  /**\n     * Return a shallow copy of the model's attributes for JSON stringification.\n     * This can be used for persistence, serialization, or for augmentation before being sent to the server.\n     * The name of this method is a bit confusing, as it doesn't actually return a JSON string —\n     * but I'm afraid that it's the way that the JavaScript API for JSON.stringify works.\n     *\n     * See [Backbone.Model.toJSON](http://backbonejs.org/#Model-toJSON)\n     *\n     * @param  {Object} options\n     * @return {Object}\n     * @example\n     * var artist = new Model({\n     *   firstName: 'Wassily',\n     *   lastName: 'Kandinsky'\n     * });\n     *\n     * artist.set({birthday: 'December 16, 1866'});\n     * JSON.stringify(artist); //=> {'firstName':'Wassily','lastName':'Kandinsky','birthday':'December 16, 1866'}\n     */\n  toJSON: function (options) {\n    options || (options = {});\n\n    var res = oktaUnderscore.clone(Backbone.Model.prototype.toJSON.apply(this, arguments));\n\n    var schema = this['__schema__']; // cleanup local properties\n\n    if (!options.verbose) {\n      res = oktaUnderscore.omit(res, oktaUnderscore.keys(schema.local));\n    } else {\n      // add derived properties\n      oktaUnderscore.each(schema.derived, function (options, name) {\n        res[name] = this.get(name);\n      }, this);\n    }\n\n    if (this.flat) {\n      res = unflatten(res);\n    }\n\n    return res;\n  },\n\n  /**\n     * Removes all attributes from the model, including the id attribute.\n     * Fires a `\"change\"` event unless `silent` is passed as an option.\n     * Sets the default values to the model\n     * @param {Object} [options]\n     */\n  reset: function (options) {\n    this.clear(options);\n    this.set(oktaUnderscore.result(this, 'defaults'), options);\n  },\n\n  /**\n     * Is the data on the model has local modifications since the last sync event?\n     * @return {Boolean} is the model in sync with the server\n     */\n  isSynced: function () {\n    return oktaUnderscore.isEqual(this.__syncedData, this.toJSON());\n  },\n\n  /**\n     * validate a specific field in the model.\n     * @param  {String} key\n     * @return {Object} returns `{fieldName: errorMessage}` if invalid, otherwise undefined.\n     * @readonly\n     */\n  validateField: function (key) {\n    var schema = key && this.getPropertySchema(key);\n    return schema && validateField(schema, this.get(key));\n  },\n\n  /**\n     * Runs local schema validation. Invoked internally by {@link src/framework/Model#validate|validate}.\n     * @return {Object}\n     * @protected\n     */\n  _validateSchema: function () {\n    var schema = this['__schema__'];\n    return oktaUnderscore.reduce(oktaUnderscore.extend({}, schema.props, schema.local), function (memo, options, name) {\n      return oktaUnderscore.extend(memo, this.validateField(name) || {});\n    }, {}, this);\n  },\n  __getDerivedValue: function (name) {\n    var options = this['__schema__'].derived[name];\n\n    if (oktaUnderscore.isString(options)) {\n      var key = options;\n      options = {\n        deps: [key],\n        fn: function () {\n          return this.get(key);\n        }\n      };\n    }\n\n    var deps = options.deps || [];\n    return options.fn.apply(this, oktaUnderscore.map(deps, this.get, this));\n  }\n};\nModel = Backbone.Model.extend(props, statics);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Model Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nModel.isCourageModel = true;\nvar FrameworkModel = Model;\n\nexport { FrameworkModel as default, isModelPropertySchema };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar CHILDREN = '__children__';\nvar RENDERED = '__rendered__';\nvar PARENT = '__parent__';\nvar CHILD_DEFINITIONS = '__children_definitions__';\nvar ADD_TO_CONTAINER = '__add_to_container__';\n\nfunction getIndex(container, view) {\n  for (var i = 0; i < container[CHILDREN].length; i++) {\n    if (view.cid === container[CHILDREN][i].cid) {\n      return i;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction doRender(view) {\n  view[RENDERED] = true;\n  var html = view.renderTemplate(view.template);\n\n  if (html) {\n    view.$el.html(html);\n  } else if (view.length) {\n    view.$el.empty();\n  }\n\n  view.each(function (view) {\n    view[ADD_TO_CONTAINER]();\n  });\n}\n\nfunction subscribeEvents(view) {\n  var isEventPropertyRe = /^(?!(?:delegate|undelegate|_))([a-zA-Z0-9]+)(?:Events)$/;\n\n  oktaUnderscore.each(oktaUnderscore.allKeys(view), function (key) {\n    var matchKeys = key.match(isEventPropertyRe);\n\n    if (!matchKeys) {\n      return;\n    }\n\n    var bindings = oktaUnderscore.result(view, key);\n\n    var entity = view.options[matchKeys[1]] || view[matchKeys[1]];\n\n    if (!entity || !oktaUnderscore.isObject(bindings) || !oktaUnderscore.isFunction(entity.trigger)) {\n      return;\n    }\n\n    oktaUnderscore.each(bindings, function (callback, event) {\n      var callbacks = oktaUnderscore.isFunction(callback) ? [callback] : oktaUnderscore.reduce(callback.split(/\\s+/), (arr, name) => {\n        if (oktaUnderscore.isFunction(view[name])) {\n          arr.push(view[name]);\n        }\n\n        return arr;\n      }, []);\n\n      oktaUnderscore.each(callbacks, function (cb) {\n        view.listenTo(entity, event, cb);\n      });\n    });\n  });\n}\n/**\n   * A View operates on a string template, an token based template, or a model based template, with a few added hooks.\n   * It provides a collection of child views, when a child view could be a View or another View.\n   * Conceptually, if we were in a file system, the View is a folder, when the concrete child views are files,\n   * and the child Views are sub folders.\n   *\n   * *Technically, when using a View as a container, it could have its own concrete logic,\n   * but conceptually we like to keep it separated so a view is either a concrete view or a collection of child views.*\n   *\n   * In addition to the standard backbone options, we added `settings` and `state` as first class options.\n   * it will automatically assign `options` to `this.options` as an instance member.\n   *\n   * See [Backbone.View](http://backbonejs.org/#View).\n   *\n   * @class src/framework/View\n   * @extends external:Backbone.View\n   * @param {Object} [options] options hash\n   * @example\n   * var DocumentView = Archer.View.extend({\n   *   template: [\n   *     '<header></header>',\n   *     '<article></article>',\n   *     '<footer></footer>'\n   *   ].join(''),\n   *   children: [[HeaderView, 'header'], [ContentView, 'article'], [FooterView, 'footer']]\n   * });\n   */\n\n\nlet View;\nconst proto = {\n  /**\n     * An object listing events and callback bind to this.{entity}\n     * @name *Events\n     * @memberof src/framework/View\n     * @type {(Object|Function)}\n     * @instance\n     * @example\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render'\n     *   }\n     * })\n     * //equivalent to ==>\n     * var FooView = View.extend({\n     *   initialize: function() {\n     *     this.listenTo(this.model, 'change:name', this.render);\n     *   }\n     * });\n     *\n     *\n     * //Multiple callbacks:\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render foo'\n     *   },\n     *   foo: function() {}\n     * });\n     *\n     * //Callbacks As Function:\n     * var FooView = View.extend({\n     *   stateEvents: {\n     *     'change': function() {\n     *   }\n     * });\n     *\n     * //Event Configuration As Function\n     * var FooView = View.extend({\n     *   collectionEvents: function() {\n     *     var events = { 'change:name deleteItem': 'render' };\n     *     events['changeItem'] = 'spin';\n     *     events['addItem'] = function() {};\n     *     return events;\n     *   }\n     * });\n     */\n  preinitialize: function (options) {\n    /* eslint max-statements: [2, 17] */\n    this.options = options || {};\n\n    oktaUnderscore.extend(this, oktaUnderscore.pick(this.options, 'state', 'settings')); // init per-instance children collection\n\n\n    this[CHILDREN] = [];\n    this[RENDERED] = false;\n    this[PARENT] = null;\n    this[CHILD_DEFINITIONS] = this.children; // we want to make sure initialize is triggered *after* we append the views from the `this.views` array\n    // FIXME:\n    // It's actually can be done by override initialize method\n    //  initialize() { run extra login; super.initialize(); }\n    // BUT the problem is child classes would override initialize without invoke super.\n    // hence we have to also looking into (refactoring) ALL child classes.\n\n    this.__original_initialize__ = this.initialize;\n    this.initialize = noop;\n  },\n  constructor: function (options, ...rest) {\n    Backbone.View.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, CHILD_DEFINITIONS), function (childDefinition) {\n      this.add.apply(this, oktaUnderscore.isArray(childDefinition) ? childDefinition : [childDefinition]);\n    }, this);\n\n    delete this[CHILD_DEFINITIONS];\n\n    const autoRender = oktaUnderscore.result(this, 'autoRender');\n\n    if (autoRender && this.model) {\n      var event = oktaUnderscore.isArray(autoRender) ? oktaUnderscore.map(autoRender, function (field) {\n        return 'change:' + field;\n      }).join(' ') : 'change';\n      this.listenTo(this.model, event, function () {\n        this.render();\n      });\n    }\n\n    this.initialize = this.__original_initialize__;\n    this.initialize.call(this, options, ...rest); // initialize in child class may have any number of parameters\n\n    subscribeEvents(this);\n  },\n\n  /**\n     * Unregister view from container\n     * Note: this will not remove the view from the dom\n     * and will not call the `remove` method on the view\n     *\n     * @param {src/framework/View} view the view to unregister\n     * @private\n     */\n  unregister: function (view) {\n    this.stopListening(view);\n    var viewIndex = getIndex(this, view); // viewIndex is undefined when the view is not found (may have been removed)\n    // check if it is undefined to prevent unexpected thing to happen\n    // array.splice(undefined, x) removes the first x element(s) from the array\n    // this protects us against issues when calling `remove` on a child view multiple times\n\n    if (oktaUnderscore.isNumber(viewIndex)) {\n      this[CHILDREN].splice(viewIndex, 1);\n    }\n  },\n\n  /**\n     * Should we auto render the view upon model change. Boolean or array of field names to listen to.\n     * @type {Boolean|Array}\n     * @deprecated Instead, please use modelEvents\n     * @example\n     * modelEvents: {\n     *   change:name: 'render'\n     * }\n     */\n  autoRender: false,\n\n  /**\n     *\n     * When the template is an underscore template, the render method will pass the options has to the template\n     * And the associated model, if exists, when it will prefer the model over the options in case of a conflict.\n     * {@link #render View.render}\n     * @type {(String|Function)}\n     * @example\n     * var View = View.extend({\n     *   template: '<p class=\"name\">{{name}}</p>'\n     * };\n     */\n  template: null,\n\n  /**\n     * A list of child view definitions to be passed to {@link #add this.add()}.\n     * Note: these definitions will be added **before** the {@link #constructor initiliaze} method invokes.\n     * @type {(Array|Function)}\n     * @example\n     * var Container = View.extend({\n     *    template: '<p class=\"content\"></p>',\n     *    children: [\n     *      [ContentView, '.content'],\n     *      [OtherContentView, '.content'],\n     *      OtherView\n     *    ]\n     *  })\n     *\n     * var Container = View.extend({\n     *    template: '<dov class=\"form-wrap\"></div>',\n     *    children: function () {\n     *      return [\n     *        [FormView, '.form-wrap', {options: {model: this.optiosn.otherModel}}]\n     *      ]\n     *    }\n     *  })\n     */\n  children: [],\n\n  /**\n     * Add a child view to the container.\n     * If the container is already rendered, will also render the view  and append it to the DOM.\n     * Otherwise will render and append once the container is rendered.\n     *\n     * *We believe that for the sake of encapsulation, a view should control its own chilren, so we treat this method as\n     * protected and even though technically you can call `view.add` externally we strongly discourage it.*\n     *\n     * @param {(src/framework/View|String)} view A class (or an instance which is discouraged) of a View - or an HTML\n     * string/template\n     * @param {String} [selector] selector in the view's template on which the view will be added to\n     * @param {Object} [options]\n     * @param {Boolean} [options.bubble=false] Bubble (proxy) events from this view up the chain\n     * @param {Boolean} [options.prepend=false] Prepend the view instend of appending\n     * @param {String} [options.selector] Selector in the view's template on which the view will be added to\n     * @param {Object} [options.options] Extra options to pass to the child constructor\n     * @protected\n     * @returns {src/framework/View} - The instance of itself for the sake of chaining\n     * @example\n     * var Container = View.extend({\n     *\n     *   template: [\n     *     '<h1></h1>',\n     *     '<section></section>',\n     *   ].join(''),\n     *\n     *   initalize: function () {\n     *\n     *     this.add(TitleView, 'h1'); // will be added to <h1>\n     *\n     *     this.add(ContentView1, 'section'); // will be added to <section>\n     *\n     *     this.add(ContentView2, 'section', {prepend: true}); // will be add into <section> **before** ContentView1\n     *\n     *     this.add(OtherView, {\n     *       options: {\n     *         model: new Model()\n     *       }\n     *     }); // will be added **after** the <section> element\n     *\n     *     this.add('<p class=\"name\">some html</p>'); //=> \"<p class=\"name\">some html</p>\"\n     *     this.add('<p class=\"name\">{{name}}</p>'); //=> \"<p class=\"name\">John Doe</p>\"\n     *     this.add('{{name}}') //=> \"<div>John Doe</div>\"\n     *     this.add('<span>{{name}}</span> w00t') //=> \"<div><span>John Doe</span> w00t</div>\"\n     *   }\n     *\n     * });\n     *\n     * var container - new View({name: 'John Doe'});\n     */\n  add: function (view, selector, bubble, prepend, extraOptions) {\n    /* eslint max-statements: [2, 30], complexity: [2, 12] */\n    var options = {};\n\n    var args = oktaUnderscore.toArray(arguments); // This will throw if a compiled template function is passed accidentally\n\n\n    if (oktaUnderscore.isFunction(view) && (!view.prototype || !view.prototype.render)) {\n      throw new Error('Type passed to add() is not a View');\n    }\n\n    if (oktaUnderscore.isObject(selector)) {\n      options = selector;\n      selector = options.selector;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } else if (oktaUnderscore.isObject(bubble)) {\n      options = bubble;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } // TODO: This will be deprecated at some point. Views should use precompiled templates\n\n\n    if (oktaUnderscore.isString(view)) {\n      view = function (template) {\n        return View.extend({\n          constructor: function () {\n            try {\n              var $el = Backbone.$(template);\n\n              if ($el.length !== 1) {\n                throw new Error('invalid Element');\n              }\n\n              var unescapingRexExp = /&(\\w+|#x\\d+);/g;\n              var elementUnescapedOuterHTMLLength = $el.prop('outerHTML').replace(unescapingRexExp, ' ').length;\n              var templateUnescapedLength = template.replace(unescapingRexExp, ' ').length;\n\n              if (elementUnescapedOuterHTMLLength !== templateUnescapedLength) {\n                throw new Error('invalid Element');\n              }\n\n              this.template = $el.html(); // Template string will be compiled by handlebars\n\n              this.el = $el.empty()[0];\n            } catch (e) {\n              // not a valid html tag.\n              this.template = template;\n            }\n\n            View.apply(this, arguments);\n          }\n        });\n      }(view);\n    }\n\n    if (view.prototype && view.prototype instanceof View) {\n      /* eslint new-cap: 0 */\n      var viewOptions = oktaUnderscore.omit(oktaUnderscore.extend({}, this.options, extraOptions), 'el');\n\n      args[0] = new view(viewOptions);\n      return this.add.apply(this, args);\n    } // prevent dups\n\n\n    if (oktaUnderscore.isNumber(getIndex(this, view))) {\n      throw new Error('Duplicate child');\n    }\n\n    view[PARENT] = this; // make the view responsible for adding itself to the parent:\n    // * register the selector in the closure\n    // * register a reference the parent in the closure\n\n    view[ADD_TO_CONTAINER] = function (selector) {\n      return function () {\n        if (selector && view[PARENT].$(selector).length !== 1) {\n          throw new Error('Invalid selector: ' + selector);\n        }\n\n        var $el = selector ? this[PARENT].$(selector) : this[PARENT].$el;\n        this.render(); // we need to delegate events in case\n        // the view was added and removed before\n\n        this.delegateEvents(); // this[PARENT].at(index).$el.before(this.el);\n\n        prepend ? $el.prepend(this.el) : $el.append(this.el);\n      };\n    }.call(view, selector); // if flag to bubble events is set\n    // proxy all child view events\n\n\n    if (bubble) {\n      this.listenTo(view, 'all', function () {\n        this.trigger.apply(this, arguments);\n      });\n    } // add to the dom if `render` has been called\n\n\n    if (this.rendered()) {\n      view[ADD_TO_CONTAINER]();\n    } // add view to child views collection\n\n\n    this[CHILDREN].push(view);\n    return this;\n  },\n\n  /**\n     * Remove all children from container\n     */\n  removeChildren: function () {\n    this.each(function (view) {\n      view.remove();\n    });\n    return this;\n  },\n\n  /**\n     *  Removes a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo'd.\n     *  Also removes all childern of the view if any, and removes itself from its parent view(s)\n     */\n  remove: function () {\n    this.removeChildren();\n\n    if (this[PARENT]) {\n      this[PARENT].unregister(this);\n    }\n\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n     * Compile the template to function you can apply tokens on on render time.\n     * Uses the underscore tempalting engine by default\n     * @protected\n     * @param  {String} template\n     * @return {Function} a compiled template\n     */\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  compileTemplate: function (template) {\n    /* eslint  @okta/okta-ui/no-specific-methods: 0*/\n    return oktaUnderscore.template(template, undefined);\n  },\n\n  /**\n     * Render a template with `this.model` and `this.options` as parameters\n     * preferring the model over the options.\n     *\n     * @param  {(String|Function)} template The template to build\n     * @return {String} An HTML string\n     * @protected\n     */\n  renderTemplate: function (template) {\n    if (oktaUnderscore.isString(template)) {\n      // TODO: This will be deprecated at some point. Views should use precompiled templates\n      template = this.compileTemplate(template);\n    }\n\n    if (oktaUnderscore.isFunction(template)) {\n      return template(this.getTemplateData());\n    }\n  },\n\n  /**\n     * The data hash passed to the compiled template\n     * @return {Object}\n     * @protected\n     */\n  getTemplateData: function () {\n    var modelData = this.model && this.model.toJSON({\n      verbose: true\n    }) || {};\n\n    var options = oktaUnderscore.omit(this.options, ['state', 'settings', 'model', 'collection']);\n\n    return oktaUnderscore.defaults({}, modelData, options);\n  },\n\n  /**\n     * Renders the template to `$el` and append all children in order\n     * {@link #template View.template}\n     */\n  render: function () {\n    this.preRender();\n    doRender(this);\n    this.postRender();\n    return this;\n  },\n\n  /**\n     * Pre render routine. Will be called right *before* the logic in {@link #render} is executed\n     * @method\n     */\n  preRender: noop,\n\n  /**\n     * Post render routine. Will be called right *after* the logic in {@link #render} is executed\n     * @method\n     */\n  postRender: noop,\n\n  /**\n     * Was this instance rendered\n     */\n  rendered: function () {\n    return this[RENDERED];\n  },\n\n  /**\n     * Get all direct child views.\n     * @returns {src/framework/View[]}\n     * @example\n     * var container = View.extend({\n     *   children: [View1, View2]\n     * }).render();\n     * container.getChildren() //=> [view1, view2];\n     */\n  getChildren: function () {\n    return this.toArray();\n  },\n\n  /**\n     * Get a child by index\n     * @param {number} index\n     * @returns {src/framework/View} The child view\n     */\n  at: function (index) {\n    return this.getChildren()[index];\n  },\n\n  /**\n     * Invokes a method on all children down the tree\n     *\n     * @param {String} method The method to invoke\n     */\n  invoke: function (methodName) {\n    var args = oktaUnderscore.toArray(arguments);\n\n    this.each(function (child) {\n      // if child has children, bubble down the tree\n      if (child.size()) {\n        child.invoke.apply(child, args);\n      } // run the function on the child\n\n\n      if (oktaUnderscore.isFunction(child[methodName])) {\n        child[methodName].apply(child, args.slice(1));\n      }\n    });\n    return this;\n  }\n};\nView = Backbone.View.extend(\n/** @lends src/framework/View.prototype */\nproto); // Code borrowed from Backbone.js source\n// Underscore methods that we want to implement on the Container.\n\nvar methods = ['each', 'map', 'reduce', 'reduceRight', 'find', 'filter', 'reject', 'every', 'some', 'contains', 'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain', 'where', 'findWhere'];\n\noktaUnderscore.each(methods, function (method) {\n  View.prototype[method] = function () {\n    var args = oktaUnderscore.toArray(arguments);\n\n    args.unshift(oktaUnderscore.toArray(this[CHILDREN]));\n    return oktaUnderscore[method].apply(oktaUnderscore, args);\n  };\n});\n/**\n   * See [_.each](http://underscorejs.org/#each)\n   * @name each\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.map](http://underscorejs.org/#map)\n   * @name map\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduce](http://underscorejs.org/#reduce)\n   * @name reduce\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduceRight](http://underscorejs.org/#reduceRight)\n   * @name reduceRight\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.find](http://underscorejs.org/#find)\n   * @name find\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.filter](http://underscorejs.org/#filter)\n   * @name filter\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reject](http://underscorejs.org/#reject)\n   * @name reject\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.every](http://underscorejs.org/#every)\n   * @name every\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.some](http://underscorejs.org/#some)\n   * @name some\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.contains](http://underscorejs.org/#contains)\n   * @name contains\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   */\n\n/**\n   * See [_.toArray](http://underscorejs.org/#toArray)\n   * @name toArray\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.size](http://underscorejs.org/#size)\n   * @name size\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.first](http://underscorejs.org/#first)\n   * @name first\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.initial](http://underscorejs.org/#initial)\n   * @name initial\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.last](http://underscorejs.org/#last)\n   * @name last\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.rest](http://underscorejs.org/#rest)\n   * @name rest\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [index]\n   */\n\n/**\n   * See [_.without](http://underscorejs.org/#without)\n   * @name without\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.indexOf](http://underscorejs.org/#indexOf)\n   * @name indexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Boolean} [isSorted]\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#shuffle)\n   * @name shuffle\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#lastIndexOf)\n   * @name lastIndexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Number} [fromIndex]\n   */\n\n/**\n   * See [_.isEmpty](http://underscorejs.org/#isEmpty)\n   * @name isEmpty\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.chain](http://underscorejs.org/#chain)\n   * @name chain\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.where](http://underscorejs.org/#where)\n   * @name where\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n   * See [_.findWhere](http://underscorejs.org/#findWhere)\n   * @name findWhere\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a View Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\n\nView.isCourageView = true;\nvar FrameworkView = View;\n\nexport { FrameworkView as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Collection from '../framework/Collection.js';\n\nconst baseCollectionProps =\n/** @lends module:Okta.Collection.prototype */\n{\n  /**\n   * Is the end point using the legacy \"secureJSON\" format\n   * @type {Function|Boolean}\n   */\n  secureJSON: false,\n  // TODO: may not be simplily moved to initialize as\n  // child class override initialize but didn't invoke parent.initialize.\n  // need to refactor child classes first.\n  constructor: function () {\n    Collection.apply(this, arguments);\n\n    if (oktaUnderscore.result(this, 'secureJSON')) {\n      this.sync = oktaUnderscore.wrap(this.sync, function (sync, method, collection, options) {\n        return sync.call(this, method, collection, oktaUnderscore.extend({\n          dataType: 'secureJSON'\n        }, options));\n      });\n    }\n  }\n};\n/**\n * Wrapper around the more generic {@link src/framework/Collection} that\n * contains Okta-specific logic.\n * @class module:Okta.Collection\n * @extends src/framework/Collection\n */\n\nvar BaseCollection = Collection.extend(baseCollectionProps);\n\nexport { BaseCollection as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Model from './Model.js';\n\nconst hasProps = function (model) {\n  const local = oktaUnderscore.omit(model.local, oktaUnderscore.keys(model._builtInLocalProps));\n\n  return oktaUnderscore.size(model.props) + oktaUnderscore.size(local) > 0;\n};\n\nconst props =\n/** @lends module:Okta.BaseModel.prototype */\n{\n  /**\n   * @type {Boolean}\n   */\n  flat: false,\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.on('sync', this._setSynced);\n  },\n  allows: function () {\n    if (hasProps(this)) {\n      return Model.prototype.allows.apply(this, arguments);\n    } else {\n      return true;\n    }\n  },\n  // bw compatibility support for old computed properties\n  set: function (key, val) {\n    let attrs;\n\n    if (typeof key === 'object') {\n      attrs = key;\n    } else {\n      (attrs = {})[key] = val;\n    } // computed properties\n\n\n    oktaUnderscore(attrs).each(function (fn, attr) {\n      if (!fn || !oktaUnderscore.isArray(fn.__attributes)) {\n        return;\n      }\n\n      this.on('change:' + fn.__attributes.join(' change:'), function () {\n        const val = this.get(attr);\n\n        if (val !== this['__schema__'].computedProperties[attr]) {\n          this['__schema__'].computedProperties[attr] = val;\n          this.trigger('change:' + attr, val);\n        }\n      }, this);\n    }, this);\n\n    return Model.prototype.set.apply(this, arguments);\n  },\n\n  /**\n   * Get the current value of an attribute from the model. For example: `note.get(\"title\")`\n   *\n   * See [Model.get](http://backbonejs.org/#Model-get)\n   * @param {String} attribute\n   * @return {Mixed} The value of the model attribute\n   */\n  get: function () {\n    const value = Model.prototype.get.apply(this, arguments);\n\n    if (oktaUnderscore.isFunction(value)) {\n      return value.apply(this, oktaUnderscore.map(value.__attributes || [], this.get, this));\n    }\n\n    return value;\n  },\n\n  /**\n   * Return a shallow copy of the model's attributes for JSON stringification.\n   * This can be used for persistence, serialization, or for augmentation before being sent to the server.\n   * The name of this method is a bit confusing, as it doesn't actually return a JSON string —\n   *  but I'm afraid that it's the way that the JavaScript API for JSON.stringify works.\n   *\n   * ```javascript\n   * var artist = new Model({\n   *   firstName: \"Wassily\",\n   *   lastName: \"Kandinsky\"\n   * });\n   *\n   * artist.set({birthday: \"December 16, 1866\"});\n   * alert(JSON.stringify(artist)); // {\"firstName\":\"Wassily\",\"lastName\":\"Kandinsky\",\"birthday\":\"December 16, 1866\"}\n   * ```\n   * See [Model.toJSON](http://backbonejs.org/#Model-toJSON)\n   * @param  {Object} options\n   * @return {Object}\n   */\n  toJSON: function (options) {\n    options || (options = {});\n    const res = Model.prototype.toJSON.apply(this, arguments); // cleanup computed properties\n\n    oktaUnderscore(res).each(function (value, key) {\n      if (typeof value === 'function') {\n        if (options.verbose) {\n          res[key] = this.get(key);\n        } else {\n          delete res[key];\n        }\n      }\n    }, this); // cleanup private properties\n\n\n    if (!options.verbose) {\n      oktaUnderscore(res).each(function (value, key) {\n        if (/^__\\w+__$/.test(key)) {\n          delete res[key];\n        }\n      });\n    }\n\n    return res;\n  },\n  sanitizeAttributes: function (attributes) {\n    const attrs = {};\n\n    oktaUnderscore.each(attributes, function (value, key) {\n      if (!oktaUnderscore.isFunction(value)) {\n        attrs[key] = value;\n      }\n    });\n\n    return attrs;\n  },\n  reset: function (options) {\n    this.clear(options);\n    this.set(this.sanitizeAttributes(this.defaults), options);\n  },\n  clear: function (options) {\n    const attrs = {};\n\n    oktaUnderscore.each(this.sanitizeAttributes(this.attributes), function (value, key) {\n      attrs[key] = void 0;\n    });\n\n    return this.set(attrs, oktaUnderscore.extend({}, options, {\n      unset: true\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _setSynced: function (newModel) {\n    this._syncedData = newModel && oktaUnderscore.isFunction(newModel.toJSON) ? newModel.toJSON() : {};\n  },\n\n  /**\n   * @private\n   */\n  _getSynced: function () {\n    return this._syncedData;\n  },\n  isSynced: function () {\n    return oktaUnderscore.isEqual(this._getSynced(), this.toJSON());\n  }\n};\nconst statics =\n/** @lends module:Okta.BaseModel.prototype */\n{\n  /**\n   * @static\n   *\n   * Example:\n   *\n   * ```javascript\n   * var Model = BaseModel.extend({\n   *   defaults: {\n   *     name: BaseModel.ComputedProperty(['fname', 'lname'], function (fname, lname) {\n   *       return fname + ' ' + lname;\n   *     })\n   *   }\n   * });\n   * var model = new Model({fname: 'Joe', lname: 'Doe'});\n   * model.get('name'); // Joe Doe\n   * model.toJSON(); // {fname: 'Joe', lname: 'Doe'}\n   * ```\n   *\n   * @param {Array} attributes (optional) - an array of the attribute names this method depends on\n   * @param {Function} callback the function that computes the value of the property\n   *\n   * @deprecated Use {@link #derived} instead\n   */\n  ComputedProperty: function (attributes, fn) {\n    // First parameter is optional\n    if (!fn && typeof attributes === 'function') {\n      fn = attributes;\n    } else {\n      fn.__attributes = attributes;\n    }\n\n    return fn;\n  }\n};\n/**\n * @class module:Okta.BaseModel\n * @extends module:Okta.Model\n * @deprecated Use {@link module:Okta.Model|Okta.Model} instead\n * @example\n * var Model = BaseModel.extend({\n *   defaults: {\n *     name: BaseModel.ComputedProperty(['fname', 'lname'], function (fname, lname) {\n *       return fname + ' ' + lname;\n *     })\n *   }\n * });\n * var model = new Model({fname: 'Joe', lname: 'Doe'});\n * model.get('name'); //=> \"Joe Doe\"\n * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n *\n * model.set('__private__', 'private property');\n * model.get('__private__'); //=> \"private property\"\n * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n */\n\nvar BaseModel = Model.extend(props, statics);\n\nexport { BaseModel as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport BaseCollection from './BaseCollection.js';\nimport BaseModel from './BaseModel.js';\nimport SchemaProperty from './SchemaProperty.js';\n\nconst parseProperties = function (resp) {\n  const schemaMeta = oktaUnderscore.pick(resp, 'id', 'name', 'displayName');\n\n  const properties = oktaUnderscore.map(resp.schema.properties, function (property, name) {\n    return oktaUnderscore.extend({\n      name: name\n    }, property);\n  });\n\n  oktaUnderscore.each(properties, function (property) {\n    property['__schemaMeta__'] = schemaMeta;\n\n    if (property.__metadata) {\n      property['__metadata__'] = property.__metadata;\n      delete property.__metadata;\n    }\n  });\n\n  return properties;\n};\n\nconst BaseSchemaSchema = BaseModel.extend({\n  defaults: {\n    id: undefined,\n    displayName: undefined,\n    name: undefined\n  },\n  constructor: function () {\n    this.properties = new SchemaProperty.Collection();\n    BaseModel.apply(this, arguments);\n  },\n  getProperties: function () {\n    return this.properties;\n  },\n  clone: function () {\n    const model = BaseModel.prototype.clone.apply(this, arguments);\n    model.getProperties().set(this.getProperties().toJSON({\n      verbose: true\n    }));\n    return model;\n  },\n  parse: function (resp) {\n    const properties = parseProperties(resp);\n    this.properties.set(properties, {\n      parse: true\n    });\n    return oktaUnderscore.omit(resp, 'schema');\n  },\n  trimProperty: function (property) {\n    return oktaUnderscore.omit(property, 'name');\n  },\n  toJSON: function () {\n    const json = BaseModel.prototype.toJSON.apply(this, arguments);\n    json.schema = {\n      properties: {}\n    };\n    this.getProperties().each(function (model) {\n      const property = model.toJSON();\n      json.schema.properties[property.name] = this.trimProperty(property);\n    }, this);\n    return json;\n  },\n  save: function () {\n    this.getProperties().each(function (model) {\n      model.cleanup();\n    });\n    return BaseModel.prototype.save.apply(this, arguments);\n  }\n});\nconst BaseSchemaSchemas = BaseCollection.extend({\n  model: BaseSchemaSchema\n});\nvar BaseSchema = {\n  parseProperties: parseProperties,\n  Model: BaseSchemaSchema,\n  Collection: BaseSchemaSchemas\n};\n\nexport { BaseSchema as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport FrameworkModel from '../framework/Model.js';\n\n/**\n * Wrapper around the more generic {@link src/framework/Model} that\n * contains Okta-specific logic.\n * @class module:Okta.Model\n * @extends src/framework/Model\n */\nvar Model = FrameworkModel.extend(\n/** @lends module:Okta.Model.prototype */\n{\n  /**\n   * Is the end point using the legacy \"secureJSON\" format\n   * @type {Function|Boolean}\n   */\n  secureJSON: false,\n  _builtInLocalProps: {\n    __edit__: 'boolean',\n    __pending__: 'boolean'\n  },\n  preinitialize: function () {\n    this.local = oktaUnderscore.defaults({}, oktaUnderscore.result(this, 'local'), this._builtInLocalProps);\n    FrameworkModel.prototype.preinitialize.apply(this, arguments);\n  },\n  constructor: function () {\n    FrameworkModel.apply(this, arguments);\n\n    if (oktaUnderscore.result(this, 'secureJSON')) {\n      this.sync = oktaUnderscore.wrap(this.sync, function (sync, method, model, options) {\n        return sync.call(this, method, model, oktaUnderscore.extend({\n          dataType: 'secureJSON'\n        }, options));\n      });\n    }\n  }\n});\n\nexport { Model as default };\n","import oktaJQueryStatic from '../util/jquery-wrapper.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\nimport BaseCollection from './BaseCollection.js';\nimport BaseModel from './BaseModel.js';\nimport Logger from '../util/Logger.js';\nimport SchemaUtils from '../util/SchemaUtil.js';\nimport StringUtil from '../util/StringUtil.js';\nimport EnumTypeHelper from '../views/forms/helpers/EnumTypeHelper.js';\n\n/* eslint-disable inclusive-language/use-inclusive-words */\nconst loc = StringUtil.localize;\nconst STRING = SchemaUtils.STRING;\nconst NUMBER = SchemaUtils.NUMBER;\nconst INTEGER = SchemaUtils.INTEGER;\nconst OBJECT = SchemaUtils.OBJECT;\n\nconst getArrayTypeName = function (type, elementType) {\n  return type + 'of' + elementType;\n};\n\nconst SchemaPropertySubSchema = BaseModel.extend({\n  defaults: {\n    description: undefined,\n    minLength: undefined,\n    maxLength: undefined,\n    format: undefined\n  },\n  parse: function (resp) {\n    if (oktaUnderscore.isString(resp.format)) {\n      const matcher = /^\\/(.+)\\/$/.exec(resp.format);\n\n      if (matcher) {\n        resp.format = matcher[1];\n      }\n    }\n\n    return resp;\n  }\n});\nconst SchemaPropertySubSchemaCollection = BaseCollection.extend({\n  model: SchemaPropertySubSchema\n});\nconst SchemaPropertySubSchemaAllOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'allOf'\n});\nconst SchemaPropertySubSchemaOneOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'oneOf'\n});\nconst SchemaPropertySubSchemaNoneOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'noneOf'\n});\nconst constraintTypeErrorMessages = {\n  string: loc('schema.validation.field.value.must.string', 'courage'),\n  number: loc('schema.validation.field.value.must.number', 'courage'),\n  integer: loc('schema.validation.field.value.must.integer', 'courage'),\n  object: loc('schema.validation.field.value.must.object', 'courage')\n};\nconst loginFormatNonePattern = '.+';\nconst escapedLoginCharsRe = /[^a-zA-Z0-9-]/;\nconst constraintHandlers = {\n  between: '_checkBetweenConstraints',\n  greaterThan: '_checkGreaterThanConstraint',\n  lessThan: '_checkLessThanConstraint',\n  equals: '_checkEqualsConstraint'\n};\nconst SchemaPropertySchemaProperty = BaseModel.extend({\n  idAttribute: 'name',\n  local: {\n    __oneOf__: {\n      type: 'array',\n      minItems: 1\n    }\n  },\n  defaults: {\n    // OKTA-28445, set empty string by default as the key for each property when syncing with server\n    // so that server can respond with error when a name is not provided\n    name: '',\n    title: undefined,\n    type: undefined,\n    description: undefined,\n    required: false,\n    format: undefined,\n    // choose disable option be default.\n    union: undefined,\n    subSchemas: undefined,\n    settings: {\n      permissions: {\n        SELF: SchemaUtils.PERMISSION.READ_ONLY\n      }\n    },\n    unique: undefined,\n    __metadata__: undefined,\n    __isSensitive__: BaseModel.ComputedProperty(['settings'], function (settings) {\n      return !!(settings && settings.sensitive && settings.sensitive !== 'NOT_SENSITIVE');\n    }),\n    __isPendingSensitive__: BaseModel.ComputedProperty(['settings'], function (settings) {\n      return !!(settings && settings.sensitive && settings.sensitive === 'PENDING_SENSITIVE');\n    }),\n    __unique__: false,\n    __isUniqueValidated__: BaseModel.ComputedProperty(['unique'], function (unique) {\n      return unique === SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED;\n    }),\n    __isPendingUniqueness__: BaseModel.ComputedProperty(['unique'], function (unique) {\n      return unique === SchemaUtils.UNIQUENESS.PENDING_UNIQUENESS;\n    }),\n    __isUniqueness__: BaseModel.ComputedProperty(['__isUniqueValidated__', '__isPendingUniqueness__'], function (isValidated, isPending) {\n      return isValidated || isPending;\n    }),\n    __canBeSensitive__: BaseModel.ComputedProperty(['__metadata__'], function (metadata) {\n      return !!(metadata && metadata.sensitivizable);\n    }),\n    __userPermission__: SchemaUtils.PERMISSION.READ_ONLY,\n    __displayType__: undefined,\n    __displayTypeLabel__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return SchemaUtils.DATATYPE[displayType] || displayType;\n    }),\n    __supportsMinMax__: false,\n    // use the private naming convention for these computed properties,\n    // to deal with the complexity in cloning schema with properties (toJSON({verbose: true})),\n    // to make sure these attributes are being excluded from api request\n    __isReadOnly__: BaseModel.ComputedProperty(['mutability'], function (mutability) {\n      return mutability === SchemaUtils.MUTABILITY.READONLY;\n    }),\n    __isWriteOnly__: BaseModel.ComputedProperty(['mutability'], function (mutability) {\n      return mutability === SchemaUtils.MUTABILITY.WRITEONLY;\n    }),\n    __displayScope__: undefined,\n    __isScopeSelf__: BaseModel.ComputedProperty(['scope'], function (scope) {\n      return scope === SchemaUtils.SCOPE.SELF;\n    }),\n    __isNoneScopeArrayType__: BaseModel.ComputedProperty(['__isScopeSelf__', '__displayType__'], function (isScopeSelf, displayType) {\n      return !isScopeSelf && SchemaUtils.isArrayDataType(displayType);\n    }),\n    __isImported__: BaseModel.ComputedProperty(['externalName'], function (externalName) {\n      return !!externalName;\n    }),\n    __isFromBaseSchema__: BaseModel.ComputedProperty(['__schemaMeta__'], function (schemaMeta) {\n      return schemaMeta && schemaMeta.name === 'base';\n    }),\n    // Only UI can turn on __enumDefined__ and reprocess the enum/oneOf value; otherwise,\n    // it should leave existing value untouch\n    __enumDefined__: false,\n    __supportEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains(SchemaUtils.SUPPORTENUM, displayType);\n    }),\n    __isNumberTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.NUMBER, SchemaUtils.ARRAYDISPLAYTYPE.arrayofnumber], displayType);\n    }),\n    __isIntegerTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.INTEGER, SchemaUtils.ARRAYDISPLAYTYPE.arrayofinteger], displayType);\n    }),\n    __isObjectTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.OBJECT, SchemaUtils.ARRAYDISPLAYTYPE.arrayofobject], displayType);\n    }),\n    __isStringTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.STRING, SchemaUtils.ARRAYDISPLAYTYPE.arrayofstring], displayType);\n    }),\n    __enumConstraintType__: BaseModel.ComputedProperty(['__isStringTypeEnum__', '__isNumberTypeEnum__', '__isIntegerTypeEnum__', '__isObjectTypeEnum__'], function (isStringType, isNumberType, isIntegerType, isObjectType) {\n      if (isStringType) {\n        return STRING;\n      }\n\n      if (isNumberType) {\n        return NUMBER;\n      }\n\n      if (isIntegerType) {\n        return INTEGER;\n      }\n\n      if (isObjectType) {\n        return OBJECT;\n      }\n    }),\n    __isEnumDefinedAndSupported__: BaseModel.ComputedProperty(['__enumDefined__', '__supportEnum__'], function (enumDefined, supportEnum) {\n      return enumDefined && supportEnum;\n    }),\n    __isLoginOfBaseSchema__: BaseModel.ComputedProperty(['__isFromBaseSchema__', 'name'], function (isFromBaseSchema, name) {\n      return isFromBaseSchema && name === 'login';\n    }),\n    __isLoginFormatRestrictionToEmail__: BaseModel.ComputedProperty(['__loginFormatRestriction__'], function (loginFormatRestriction) {\n      return loginFormatRestriction === SchemaUtils.LOGINPATTERNFORMAT.EMAIL;\n    })\n  },\n  initialize: function () {\n    BaseModel.prototype.initialize.apply(this, arguments);\n    this.listenTo(this, 'change:__displayType__', this._updateTypeFormatConstraints);\n    this.listenTo(this, 'change:type change:format change:items', this._updateDisplayType);\n    this.listenTo(this, 'change:__minVal__ change:__maxVal__', this._updateMinMax);\n    this.listenTo(this, 'change:__equals__', this._convertEqualsToMinMax);\n    this.listenTo(this, 'change:__constraint__', this._setConstraintText);\n\n    this._setConstraintText();\n\n    this._setLoginPattern();\n  },\n  parse: function (resp) {\n    /* eslint complexity: [2, 9] */\n    resp = oktaUnderscore.clone(resp);\n\n    if (resp.type === 'object' && resp.extendedType === 'image') {\n      resp.type = 'image';\n    }\n\n    resp['__displayType__'] = SchemaUtils.getDisplayType(resp.type, resp.format, resp.items ? resp.items.format ? resp.items.format : resp.items.type : undefined);\n\n    this._setRangeConstraints(resp);\n\n    resp['__supportsMinMax__'] = SchemaUtils.SUPPORTSMINMAX.indexOf(resp['__displayType__']) !== -1;\n    resp['__displayScope__'] = SchemaUtils.DISPLAYSCOPE[resp.scope] || SchemaUtils.DISPLAYSCOPE.NA;\n\n    if (resp.settings && resp.settings.permissions && resp.settings.permissions.SELF) {\n      resp['__userPermission__'] = resp.settings.permissions.SELF;\n    }\n\n    this._setMasterOverride(resp);\n\n    this._setSubSchemas(resp);\n\n    this._setUniqueness(resp);\n\n    return resp;\n  },\n  validate: function () {\n    const enumValidationError = this._validateEnumOneOf();\n\n    if (enumValidationError) {\n      return enumValidationError;\n    }\n\n    if (!this.get('__supportsMinMax__') || !this.get('__constraint__')) {\n      return undefined;\n    }\n\n    const constraitType = this.get('__constraint__');\n    const constraitHandler = this[constraintHandlers[constraitType]];\n\n    if (oktaUnderscore.isFunction(constraitHandler)) {\n      return constraitHandler.call(this);\n    } else {\n      Logger.warn('No constraint handler found for: ' + constraitType);\n      return undefined;\n    }\n  },\n  _checkBetweenConstraints: function () {\n    const minVal = this.get('__minVal__');\n    const maxVal = this.get('__maxVal__');\n\n    if (!minVal && !maxVal) {\n      return;\n    }\n\n    if (!minVal) {\n      return {\n        __minVal__: loc('schema.validation.field.enter.minimum.number', 'courage')\n      };\n    }\n\n    if (!maxVal) {\n      return {\n        __maxVal__: loc('schema.validation.field.enter.maximum.number', 'courage')\n      };\n    }\n\n    let val = this._checkIntegerConstraints('__minVal__', 'Min value');\n\n    if (val) {\n      return val;\n    }\n\n    val = this._checkIntegerConstraints('__maxVal__', 'Max value');\n\n    if (val) {\n      return val;\n    }\n\n    if (+minVal >= +maxVal) {\n      return {\n        __maxVal__: loc('schema.validation.field.maximum.must.be.greater.than.minimum', 'courage')\n      };\n    }\n  },\n  _checkGreaterThanConstraint: function () {\n    const minVal = this.get('__minVal__');\n\n    if (!minVal) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__minVal__', 'Constraint');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkLessThanConstraint: function () {\n    const maxVal = this.get('__maxVal__');\n\n    if (!maxVal) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__maxVal__', 'Constraint');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkEqualsConstraint: function () {\n    const equals = this.get('__equals__');\n\n    if (!equals) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__equals__', 'Constraint');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkIntegerConstraints: function (field, name) {\n    const val = this.get(field);\n    const error = {}; // eslint-disable-next-line no-restricted-globals\n\n    if (isNaN(val)) {\n      if (name === 'Min value') {\n        error[field] = loc('schema.validation.field.minimum.value.must.be.number', 'courage');\n      } else if (name === 'Max value') {\n        error[field] = loc('schema.validation.field.maximum.value.must.be.number', 'courage');\n      } else if (name === 'Constraint') {\n        error[field] = loc('schema.validation.field.constraint.must.be.number', 'courage');\n      }\n\n      return error;\n    }\n\n    if (+val < 0) {\n      if (name === 'Min value') {\n        error[field] = loc('schema.validation.field.minimum.number.must.be.greater.than.zero', 'courage');\n      } else if (name === 'Max value') {\n        error[field] = loc('schema.validation.field.maximum.number.must.be.greater.than.zero', 'courage');\n      } else if (name === 'Constraint') {\n        error[field] = loc('schema.validation.field.number.must.be.greater.than.zero', 'courage');\n      }\n\n      return error;\n    }\n  },\n  _setMasterOverride: function (resp) {\n    if (resp.settings && resp.settings.masterOverride && resp.settings.masterOverride) {\n      const masterOverrideValue = resp.settings.masterOverride.value;\n\n      if (oktaUnderscore.isArray(masterOverrideValue) && !oktaUnderscore.isEmpty(masterOverrideValue)) {\n        resp['__masterOverrideType__'] = 'OVERRIDE';\n        resp['__masterOverrideValue__'] = masterOverrideValue || [];\n      } else {\n        resp['__masterOverrideType__'] = resp.settings.masterOverride.type;\n      }\n    } else {\n      resp['__masterOverrideType__'] = 'INHERIT';\n    }\n  },\n  _setRangeConstraints: function (resp) {\n    /* eslint complexity: [2, 11] */\n    if (resp['__displayType__'] === STRING) {\n      resp['__minVal__'] = resp.minLength;\n      resp['__maxVal__'] = resp.maxLength;\n    } else if (resp['__displayType__'] === INTEGER || resp['__displayType__'] === NUMBER) {\n      resp['__minVal__'] = resp.minimum;\n      resp['__maxVal__'] = resp.maximum;\n    }\n\n    if (resp['__minVal__'] && resp['__maxVal__']) {\n      if (resp['__minVal__'] === resp['__maxVal__']) {\n        resp['__constraint__'] = 'equals';\n        resp['__equals__'] = resp['__minVal__'];\n      } else {\n        resp['__constraint__'] = 'between';\n      }\n    } else if (!resp['__minVal__'] && resp['__maxVal__']) {\n      resp['__constraint__'] = 'lessThan';\n    } else if (!resp['__maxVal__'] && resp['__minVal__']) {\n      resp['__constraint__'] = 'greaterThan';\n    }\n  },\n  _setSubSchemas: function (resp) {\n    if (resp.allOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaAllOfCollection(resp.allOf, {\n        parse: true\n      });\n    } else if (resp.oneOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaOneOfCollection(resp.oneOf, {\n        parse: true\n      });\n    } else if (resp.noneOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaNoneOfCollection(resp.noneOf, {\n        parse: true\n      });\n    }\n  },\n  _setUniqueness: function (resp) {\n    const unique = resp && resp.unique;\n    resp['__unique__'] = !!(unique && (unique === SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED || unique === SchemaUtils.UNIQUENESS.PENDING_UNIQUENESS));\n  },\n  _setLoginPattern: function () {\n    if (!this.get('__isLoginOfBaseSchema__')) {\n      return;\n    }\n\n    const pattern = this.get('pattern');\n\n    if (pattern === loginFormatNonePattern) {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.NONE);\n    } else if (pattern) {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.CUSTOM);\n      this.set('__loginFormatRestrictionCustom__', this._extractLoginPattern(pattern));\n    } else {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.EMAIL);\n    }\n  },\n  _updateDisplayType: function () {\n    const type = this.get('type');\n\n    if (type === STRING && this.get('format')) {\n      this.set('__displayType__', SchemaUtils.FORMATDISPLAYTYPE[this.get('format')]);\n    } else {\n      const items = this.get('items');\n      const arraytype = items && (items.format ? items.format : items.type);\n\n      if (type && arraytype) {\n        this.set('__displayType__', SchemaUtils.ARRAYDISPLAYTYPE[getArrayTypeName(type, arraytype)]);\n      } else {\n        this.set('__displayType__', type);\n      }\n    }\n  },\n  _validateEnumOneOf: function () {\n    if (!this.get('__isEnumDefinedAndSupported__')) {\n      return;\n    }\n\n    const enumOneOf = this.get('__oneOf__') || [];\n\n    if (oktaUnderscore.isEmpty(enumOneOf)) {\n      return {\n        __oneOf__: loc('model.validation.field.blank', 'courage')\n      };\n    }\n\n    if (!this._isValidateOneOfConstraint(enumOneOf)) {\n      const constraintType = this.get('__enumConstraintType__');\n      const errorTypeMsg = constraintTypeErrorMessages[constraintType];\n      return {\n        __oneOf__: errorTypeMsg\n      };\n    }\n  },\n  _isValidateOneOfConstraint: function (values) {\n    const constraintType = this.get('__enumConstraintType__');\n    return oktaUnderscore.all(values, function (value) {\n      return EnumTypeHelper.isConstraintValueMatchType(value.const, constraintType);\n    });\n  },\n  toJSON: function () {\n    let json = BaseModel.prototype.toJSON.apply(this, arguments);\n    json.settings = {\n      permissions: {}\n    };\n    json.settings.permissions['SELF'] = this.get('__userPermission__'); // omit \"sensitive\" filed will have default it value to false.\n\n    if (this.get('__isSensitive__')) {\n      json.settings.sensitive = this.get('__isSensitive__');\n    }\n\n    if (this.get('type') === 'image') {\n      json.type = 'object';\n      json.extendedType = 'image';\n    }\n\n    json = this._enumAssignment(json);\n    json = this._attributeOverrideToJson(json);\n    json = this._normalizeUnionValue(json);\n    json = this._patternAssignment(json);\n    json = this._uniquenessAssignment(json);\n    return json;\n  },\n  _attributeOverrideToJson: function (json) {\n    const masterOverrideType = this.get('__masterOverrideType__');\n    const masterOverrideValue = this.get('__masterOverrideValue__');\n\n    if (masterOverrideType === 'OKTA_MASTERED') {\n      json.settings.masterOverride = {\n        type: 'OKTA_MASTERED'\n      };\n    } else if (masterOverrideType === 'OVERRIDE') {\n      json.settings.masterOverride = {\n        type: 'ORDERED_LIST',\n        value: []\n      };\n\n      if (masterOverrideValue instanceof BaseCollection) {\n        oktaUnderscore.each(masterOverrideValue.toJSON(), function (overrideProfile) {\n          json.settings.masterOverride.value.push(overrideProfile.id);\n        });\n      } else if (masterOverrideValue instanceof Array) {\n        json.settings.masterOverride.value = masterOverrideValue;\n      }\n\n      if (oktaUnderscore.isEmpty(json.settings.masterOverride.value)) {\n        delete json.settings.masterOverride;\n      }\n    }\n\n    if (masterOverrideType === 'INHERIT') {\n      delete json.settings.masterOverride;\n    }\n\n    return json;\n  },\n\n  /**\n   * Only allow set \"union\" value when isScopeSelf is NONE and displayType is\n   * array of (string/number/integer), otherwise reset to default.\n   *\n   * @see /universal-directory/shared/views/components/UnionGroupValuesRadio.js\n   */\n  _normalizeUnionValue: function (json) {\n    if (!this.get('__isNoneScopeArrayType__')) {\n      json['union'] = undefined;\n    }\n\n    return json;\n  },\n  _enumAssignment: function (json) {\n    if (!this.get('__isEnumDefinedAndSupported__')) {\n      return json;\n    } // backfill empty title by constraint\n\n\n    const enumOneOf = this._getEnumOneOfWithTitleCheck();\n\n    if (this.get('type') === 'array') {\n      delete json.items.enum;\n      json.items.oneOf = enumOneOf;\n    } else {\n      delete json.enum;\n      json.oneOf = enumOneOf;\n    }\n\n    return json;\n  },\n  _patternAssignment: function (json) {\n    if (!this.get('__isLoginOfBaseSchema__') || !this.get('__loginFormatRestriction__')) {\n      return json;\n    }\n\n    switch (this.get('__loginFormatRestriction__')) {\n      case SchemaUtils.LOGINPATTERNFORMAT.EMAIL:\n        delete json.pattern;\n        break;\n\n      case SchemaUtils.LOGINPATTERNFORMAT.CUSTOM:\n        json.pattern = this._buildLoginPattern(this.get('__loginFormatRestrictionCustom__'));\n        break;\n\n      case SchemaUtils.LOGINPATTERNFORMAT.NONE:\n        json.pattern = loginFormatNonePattern;\n        break;\n    }\n\n    return json;\n  },\n  _uniquenessAssignment: function (json) {\n    if (!this.get('__unique__')) {\n      delete json.unique;\n    } else if (!this.get('__isUniqueness__')) {\n      json.unique = SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED;\n    }\n\n    return json;\n  },\n\n  /**\n   * Character should be escaped except letters, digits and hyphen\n   */\n  _escapedRegexChar: function (pattern, index) {\n    const char = pattern.charAt(index);\n\n    if (escapedLoginCharsRe.test(char)) {\n      return '\\\\' + char;\n    }\n\n    return char;\n  },\n  _buildLoginPattern: function (pattern) {\n    let result = '';\n\n    for (var i = 0; i < pattern.length; i++) {\n      result += this._escapedRegexChar(pattern, i);\n    }\n\n    return '[' + result + ']+';\n  },\n  _extractLoginPattern: function (pattern) {\n    const re = /^\\[(.*)\\]\\+/;\n    const matches = pattern.match(re);\n    return matches ? matches[1].replace(/\\\\(.)/g, '$1') : pattern;\n  },\n  _getEnumOneOfWithTitleCheck: function () {\n    const enumOneOf = this.get('__oneOf__');\n    return oktaUnderscore.map(enumOneOf, function (value) {\n      if (oktaJQueryStatic.trim(value.title) !== '') {\n        return value;\n      }\n\n      value.title = !oktaUnderscore.isString(value.const) ? JSON.stringify(value.const) : value.const;\n      return value;\n    });\n  },\n  _updateTypeFormatConstraints: function () {\n    const displayType = this.get('__displayType__'); // OKTA-31952 reset format according to its displayType\n\n    this.unset('format', {\n      silent: true\n    });\n    this.unset('items', {\n      silent: true\n    });\n    this.set(SchemaUtils.DISPLAYTYPES[displayType]);\n\n    if (displayType !== NUMBER && displayType !== INTEGER) {\n      this.unset('minimum');\n      this.unset('maximum');\n    }\n\n    if (displayType !== STRING) {\n      this.unset('minLength');\n      this.unset('maxLength');\n    }\n\n    this.unset('__minVal__');\n    this.unset('__maxVal__');\n    this.unset('__equals__');\n    this.set('__supportsMinMax__', SchemaUtils.SUPPORTSMINMAX.indexOf(this.get('__displayType__')) !== -1);\n  },\n  _updateMinMax: function () {\n    let min;\n    let max;\n    const displayType = this.get('__displayType__');\n\n    if (displayType === STRING) {\n      min = 'minLength';\n      max = 'maxLength';\n    } else if (displayType === INTEGER || displayType === NUMBER) {\n      min = 'minimum';\n      max = 'maximum';\n    }\n\n    if (this.get('__minVal__')) {\n      this.set(min, parseInt(this.get('__minVal__'), 10));\n    } else {\n      this.unset(min);\n    }\n\n    if (this.get('__maxVal__')) {\n      this.set(max, parseInt(this.get('__maxVal__'), 10));\n    } else {\n      this.unset(max);\n    }\n  },\n  _convertEqualsToMinMax: function () {\n    const equals = this.get('__equals__');\n\n    if (equals) {\n      this.set('__minVal__', equals);\n      this.set('__maxVal__', equals);\n    }\n  },\n\n  /*\n   Normally we would use a derived property here but derived properties do not work with the model Clone function\n   so we use this workaround instead.\n   */\n  _setConstraintText: function () {\n    const constraint = this.get('__constraint__');\n    const min = this.get('__minVal__');\n    const max = this.get('__maxVal__');\n    const equals = this.get('__equals__');\n\n    switch (constraint) {\n      case 'between':\n        this.set('__constraintText__', 'Between ' + min + ' and ' + max);\n        break;\n\n      case 'greaterThan':\n        this.set('__constraintText__', 'Greater than ' + min);\n        break;\n\n      case 'lessThan':\n        this.set('__constraintText__', 'Less than ' + max);\n        break;\n\n      case 'equals':\n        this.set('__constraintText__', 'Equals ' + equals);\n        break;\n\n      default:\n        this.set('__constraintText__', '');\n        break;\n    }\n  },\n  cleanup: function () {\n    if (this.get('__constraint__') === 'lessThan') {\n      this.unset('__minVal__');\n    } else if (this.get('__constraint__') === 'greaterThan') {\n      this.unset('__maxVal__');\n    }\n\n    if (this.get('scope') !== SchemaUtils.SCOPE.SYSTEM) {\n      if (this.get('__isScopeSelf__') === true) {\n        this.set({\n          scope: SchemaUtils.SCOPE.SELF\n        }, {\n          silent: true\n        });\n      } else {\n        this.unset('scope');\n      }\n    }\n\n    if (!this.get('__unique__')) {\n      this.unset('unique');\n    }\n  },\n\n  /**\n   * Since there is not an dedicated attribute to flag enum type,\n   * use enum values to determine whether the property is enum type or not.\n   */\n  isEnumType: function () {\n    return !!this.getEnumValues();\n  },\n  getEnumValues: function () {\n    return this.get('oneOf') || this.get('enum') || this.get('items') && this.get('items')['oneOf'] || this.get('items') && this.get('items')['enum'];\n  },\n  detectHasEnumDefined: function () {\n    const enumValues = this.getEnumValues();\n\n    if (!enumValues) {\n      return;\n    }\n\n    this.set('__oneOf__', EnumTypeHelper.convertToOneOf(enumValues));\n    this.set('__enumDefined__', true);\n  }\n});\nconst SchemaPropertySchemaProperties = BaseCollection.extend({\n  model: SchemaPropertySchemaProperty,\n  clone: function () {\n    return new this.constructor(this.toJSON({\n      verbose: true\n    }), {\n      parse: true\n    });\n  },\n  areAllReadOnly: function () {\n    return oktaUnderscore.all(this.pluck('__isReadOnly__'));\n  },\n  createModelProperties: function () {\n    return this.reduce(function (p, schemaProperty) {\n      const type = schemaProperty.get('type');\n      p[schemaProperty.id] = oktaUnderscore.clone(SchemaUtils.DISPLAYTYPES[type]);\n\n      if (SchemaUtils.SUPPORTSMINMAX.indexOf(type) !== -1) {\n        p[schemaProperty.id].minLength = schemaProperty.get('minLength');\n        p[schemaProperty.id].maxLength = schemaProperty.get('maxLength');\n      }\n\n      if (type === 'string') {\n        p[schemaProperty.id].format = schemaProperty.get('format');\n      }\n\n      return p;\n    }, {});\n  }\n});\nvar SchemaProperty = {\n  Model: SchemaPropertySchemaProperty,\n  Collection: SchemaPropertySchemaProperties\n};\n\nexport { SchemaProperty as default };\n","import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport BaseRouter from './BaseRouter.js';\nimport SettingsModel from './SettingsModel.js';\nimport StateMachine from './StateMachine.js';\nimport BaseView from '../views/BaseView.js';\n\nfunction clean(obj) {\n  const res = {};\n\n  oktaUnderscore.each(obj, function (value, key) {\n    if (!oktaUnderscore.isNull(value)) {\n      res[key] = value;\n    }\n  });\n\n  return res;\n}\n\nconst proto =\n/** @lends module:Okta.Controller.prototype */\n{\n  preinitialize: function (options = {}) {\n    // If 'state' is passed down as options, use it, else create a 'new StateMachine()'\n    this.state = oktaUnderscore.result(this, 'state');\n    const hasStateBeenInitialized = this.state instanceof StateMachine || options.state instanceof StateMachine;\n\n    if (!hasStateBeenInitialized) {\n      const stateData = oktaUnderscore.defaults(clean(options.state), this.state || {}); // TODO:\n      // `framework/View.js set `this.state = options.state.`.\n      // Therefore we could consider to do\n      // 1. `options.state = new StateMachine()`\n      // 2. remove `delete options.state`\n\n\n      this.state = new StateMachine(stateData);\n      delete options.state;\n    }\n\n    if (!options.settings) {\n      // allow the controller to live without a router\n      options.settings = new SettingsModel(oktaUnderscore.omit(options || {}, 'el'));\n      this.listen('notification', BaseRouter.prototype._notify);\n      this.listen('confirmation', BaseRouter.prototype._confirm);\n    }\n\n    BaseView.prototype.preinitialize.call(this, options);\n  },\n  constructor: function (options = {}) {\n    BaseView.call(this, options);\n    this.listenTo(this.state, '__invoke__', function () {\n      const args = oktaUnderscore.toArray(arguments);\n\n      const method = args.shift();\n\n      if (oktaUnderscore.isFunction(this[method])) {\n        this[method].apply(this, args);\n      }\n    });\n    let MainView; // if `this.View` is already a Backbone View\n\n    if (this.View && this.View.isCourageView) {\n      MainView = this.View;\n    } // if `this.View` is a pure function that returns a Backbone View\n    else if (oktaUnderscore.result(this, 'View') && oktaUnderscore.result(this, 'View').isCourageView) {\n      MainView = oktaUnderscore.result(this, 'View');\n    }\n\n    if (MainView) {\n      this.add(new MainView(this.toJSON()));\n    }\n  },\n\n  /**\n   * The default values of our application state\n   * @type {Object}\n   * @default {}\n   */\n  state: {},\n\n  /**\n   * The main view this controller operate on\n   * @type {module:Okta.View}\n   * @default null\n   */\n  View: null,\n\n  /**\n   * Renders the {@link module:Okta.Controller#View|main view} after the DOM is ready\n   * in case the controller is the root component of the page (e.g there's no router)\n   */\n  render: function () {\n    const args = arguments;\n    const self = this;\n    oktaJQueryStatic(function () {\n      BaseView.prototype.render.apply(self, args);\n    });\n    return this;\n  },\n\n  /**\n   * Creates the view constructor options\n   * @param {Object} [options] Extra options\n   * @return {Object} The view constructor options\n   */\n  toJSON: function (options) {\n    return oktaUnderscore.extend(oktaUnderscore.pick(this, 'state', 'settings', 'collection', 'model'), options || {});\n  },\n\n  /**\n   * Removes the child views, empty the DOM element and stop listening to events\n   */\n  remove: function () {\n    this.removeChildren();\n    this.stopListening();\n    this.$el.empty();\n    return this;\n  }\n}; // eslint-disable-next-line inclusive-language/use-inclusive-words\n\n/**\n * A Controller is our application control flow component.\n *\n * Typically it will:\n * - Initialize the models, controller and main views\n * - Listen to events\n * - Create, read, update and delete models\n * - Create modal dialogs, confirmation dialogs and alert dialogs\n * - Control the application flow\n *\n * The constructor is responsible for:\n * - Create the application state object\n * - Assign or creates the application settings object\n * - Create an instance of the main view with the relevant parameters\n *\n * See:\n * [Hello World Tutorial](https://github.com/okta/courage/wiki/Hello-World),\n * [Test Spec](https://github.com/atko-eng/okta-ui/blob/master/packages/courage/test/spec/util/BaseController_spec.js)\n *\n * @class module:Okta.Controller\n * @param {Object} options Options Hash\n * @param {SettingsModel} [options.settings] Application Settings Model\n * @param {String} options.el a jQuery selector string stating where to attach the controller in the DOM\n */\n\nvar BaseController = BaseView.extend(proto);\n\nexport { BaseController as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport ConfirmationDialog from '../../empty.js';\nimport oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Logger from './Logger.js';\nimport SettingsModel from './SettingsModel.js';\nimport Notification from '../views/components/Notification.js';\n\nfunction getRoute(router, route) {\n  const root = oktaUnderscore.result(router, 'root') || '';\n\n  if (root && oktaUnderscore.isString(route)) {\n    return [root, route].join('/').replace(/\\/{2,}/g, '/');\n  }\n\n  return route;\n}\n/**\n * BaseRouter is a standard [Backbone.Router](http://backbonejs.org/#Router)\n * with a few additions:\n * - Explicit mapping between routes and controllers\n * - Support for rendering notification and confirmation dialogs\n *\n * Checkout the [Hello World Tutorial](https://github.com/okta/courage/wiki/Hello-World)\n * for a step-by-step guide to using this.\n *\n * @class module:Okta.Router\n * @extends external:Backbone.Router\n * @param {Object} options options hash\n * @param {String} options.el a jQuery selector string stating where to attach the controller in the DOM\n */\n\n\nconst props =\n/** @lends module:Okta.Router.prototype */\n{\n  /**\n   * The root URL for the router. When setting {@link http://backbonejs.org/#Router-routes|routes},\n   * it will be prepended to each route.\n   * @type {String|Function}\n   */\n  root: '',\n  listen: Notification.prototype.listen,\n  constructor: function (options = {}) {\n    this.el = options.el;\n    /**\n     * Make sure `this.settings` has been set before invoke super - `Backbone.Router.apply`,\n     * which will invoke `this.initialize`, which could use `this.settings`.\n     *\n     * In theory we can set `this.settings` in `this.initialize` and assume `child.initialize`\n     * will invoke `super.initialize` first. But in reality, `child.initialize` doesn't call\n     * `super.initialize` at all.\n     */\n\n    this.settings = new SettingsModel(oktaUnderscore.omit(options, 'el'));\n\n    if (options.root) {\n      this.root = options.root;\n    }\n\n    Backbone.Router.apply(this, arguments);\n    this.listen('notification', this._notify);\n    this.listen('confirmation', this._confirm);\n  },\n\n  /**\n   * Fires up a confirmation dialog\n   *\n   * @param  {Object} options Options Hash\n   * @param  {String} options.title The title\n   * @param  {Array<string>} buttonOrder The order of the buttons\n   * @param  {String} options.subtitle The explain text\n   * @param  {String} options.save The text for the save button\n   * @param  {Function} options.ok The callback function to run when hitting \"OK\"\n   * @param  {String} options.cancel The text for the cancel button\n   * @param  {Function} options.cancelFn The callback function to run when hitting \"Cancel\"\n   * @param  {Boolean} options.noCancelButton Don't render the cancel button (useful for alert dialogs)\n   * @param  {Boolean} options.noSubmitButton Don't render the primary button (useful for alert dialogs)\n   * @private\n   *\n   * @return {Okta.View} the dialog view\n   */\n  _confirm: function (options = {}) {\n    const Dialog = ConfirmationDialog.extend(oktaUnderscore.pick(options, 'title', 'subtitle', 'save', 'ok', 'cancel', 'cancelFn', 'noCancelButton', 'noSubmitButton', 'content', 'danger', 'type', 'closeOnOverlayClick', 'buttonOrder'));\n    const dialog = new Dialog({\n      model: this.settings\n    }); // The model is here because itsa part of the BaseForm paradigm.\n    // It will be ignored in the context of a confirmation dialog.\n\n    dialog.render();\n    return dialog; // test hook\n  },\n\n  /**\n   * Fires up a notification banner\n   *\n   * @param  {Object} options Options Hash\n   * @return {Okta.View} the notification view\n   * @private\n   */\n  _notify: function (options) {\n    const notification = new Notification(options);\n    oktaJQueryStatic('#content').prepend(notification.render().el);\n    return notification; // test hook\n  },\n\n  /**\n   * Renders a Controller\n   * This will initialize new instance of a controller and call render on it\n   *\n   * @param  {Okta.Controller} Controller The controller Class we which to render\n   * @param  {Object} [options] Extra options to the controller constructor\n   */\n  render: function (Controller, options) {\n    this.unload();\n    options = oktaUnderscore.extend(oktaUnderscore.pick(this, 'settings', 'el'), options || {});\n    this.controller = new Controller(options);\n    this.controller.render();\n  },\n\n  /**\n   * Starts the backbone history object\n   *\n   * Waits for the dom to be ready before calling `Backbone.history.start()` (IE issue).\n   *\n   * See [Backbone History](http://backbonejs.org/#History) for more information.\n   */\n  start: function (...args) {\n    oktaJQueryStatic(function () {\n      if (Backbone.History.started) {\n        Logger.error('History has already been started');\n        return;\n      }\n\n      Backbone.history.start(...args);\n    });\n  },\n\n  /**\n   * Removes active controller and frees up event listeners\n   */\n  unload: function () {\n    if (this.controller) {\n      this.stopListening(this.controller);\n      this.stopListening(this.controller.state);\n      this.controller.remove();\n    }\n  },\n  route: function (route, name, callback) {\n    return Backbone.Router.prototype.route.call(this, getRoute(this, route), name, callback);\n  },\n  navigate: function (fragment, options) {\n    return Backbone.Router.prototype.navigate.call(this, getRoute(this, fragment), options);\n  }\n};\nvar BaseRouter = Backbone.Router.extend(props);\n\nexport { BaseRouter as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport BaseButtonLink from '../views/components/BaseButtonLink.js';\n\n/* eslint '@okta/okta-ui/no-deprecated-methods': [0, [{ name: 'BaseButtonLink.extend', use: 'Okta.createButton'}, ]] */\n/**\n * A factory method wrapper for {@link BaseButtonLink} creation\n * @class module:Okta.internal.util.ButtonFactory\n */\n\nfunction normalizeEvents(options) {\n  const events = oktaUnderscore.extend(options.click ? {\n    click: options.click\n  } : {}, options.events || {});\n\n  const target = {};\n\n  oktaUnderscore.each(events, function (fn, eventName) {\n    target[eventName] = function (e) {\n      if (!options.href) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (!(this.disabled && eventName === 'click')) {\n        fn.apply(this, arguments);\n      }\n    };\n  });\n\n  return target;\n}\n\nvar ButtonFactory = /** @lends module:Okta.internal.util.ButtonFactory */\n{\n  /**\n   * Creates a {@link module:Okta.internal.views.components.BaseButtonLink|BaseButtonLink}.\n   * @param  {Object} options Options hash\n   * @param  {String} [options.title] The button text\n   * @param  {String} [options.icon]\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @param {String} [options.href] The button link\n   * @param {Function} [options.click] On click callback\n   * @param {Object} [options.events] a [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @returns {module:Okta.internal.views.components.BaseButtonLink} BaseButtonLink prototype (\"class\")\n   */\n  create: function (options) {\n    options = oktaUnderscore.clone(options);\n    options.attrs = options.attributes;\n    delete options.attributes;\n    return BaseButtonLink.extend(oktaUnderscore.extend(options, {\n      events: normalizeEvents(options)\n    }));\n  }\n};\n\nexport { ButtonFactory as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport oktaUnderscore from './underscore-wrapper.js';\n\nfunction Class(options) {\n  this.options = oktaUnderscore.clone(options || {});\n  this.cid = oktaUnderscore.uniqueId('class');\n  this.initialize.apply(this, arguments);\n}\n\noktaUnderscore.extend(Class.prototype, Backbone.Events, {\n  initialize: function () {}\n});\n\nClass.extend = Backbone.Model.extend;\n\nexport { Class as default };\n","import clipboard from 'clipboard';\nimport oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport FrameworkView from '../framework/View.js';\nimport Class from './Class.js';\n\nconst Clipboard = clipboard;\nconst OPTIONS = ['success', 'error', 'target', 'text'];\nconst ClipboardClipboardWrapper = Class.extend({\n  initialize: function (el, options) {\n    /* eslint complexity:0, max-statements: [2, 24] */\n    options = oktaUnderscore.pick(options || {}, OPTIONS);\n    let trigger;\n    let target;\n    let text;\n\n    if (oktaUnderscore.isString(el)) {\n      trigger = el;\n    }\n\n    if (oktaUnderscore.isElement(el)) {\n      trigger = el;\n    }\n\n    if (el instanceof oktaJQueryStatic) {\n      trigger = el.selector; // TODO: use stronger type\n    }\n\n    if (el instanceof FrameworkView) {\n      trigger = el.el;\n    }\n\n    if (oktaUnderscore.isFunction(options.target)) {\n      target = options.target;\n    }\n\n    if (oktaUnderscore.isElement(options.target)) {\n      target = oktaUnderscore.constant(options.target);\n    }\n\n    if (oktaUnderscore.isString(options.text)) {\n      text = oktaUnderscore.constant(options.text);\n    } else if (oktaUnderscore.isFunction(options.text)) {\n      text = options.text;\n    }\n\n    this.__instance = new Clipboard(trigger, {\n      target: target,\n      text: text\n    });\n    this.done = oktaUnderscore.partial(this.__setCallback, 'success');\n    this.error = oktaUnderscore.partial(this.__setCallback, 'error');\n    this.done(options.success);\n    this.error(options.error);\n  },\n  __setCallback: function (event, callback) {\n    if (!oktaUnderscore.isFunction(callback)) {\n      return;\n    }\n\n    this.__instance.on(event, callback);\n\n    return this.__instance;\n  }\n});\n/**\n * @class Clipboard\n * @abstract\n *\n * Abstract class that initializes a Clipboard\n *   https://clipboardjs.com/\n *\n * ### Example:\n *\n *  ```javascript\n *  //attach a selector\n *  Clipboard.attach('.copy-button');\n *\n *  //attach a node, and set a constant string\n *  Clipboard.attach(buttonView.el, {\n *    text: 'this is the content'\n *  });\n *\n *  //attach a view, set text dynamically, and set callback\n *  Clipboard.attach(buttonView, {\n *    text: function (triggerNode) {\n *      return $(triggerNode).attr('foo') + model.get('userName');\n *    }\n *  }).done(function (targetNode) {\n *    var msg = ['\"', targetNode.text, '\" is copied'].join('');\n *    view.notify('success', msg);\n *  });\n *\n *  //attach a jquery object, set the target node, and set callback\n *  Clipboard.attach($('.customizeTarget'), {\n *    target: function (triggerNode) {\n *      return triggerNode;\n *    },\n *    success: function (targetNode) {\n *      view.notify('success', 'copied!');\n *    }\n *  });\n *\n * ```\n */\n\nvar Clipboard$1 = {\n  /**\n   * @param {String|Node|View|jQuery} [el] el could be a selector (recommended),\n   *           a dom node, a view or a jquery object\n   * @param {Object} [options] Options hash\n   * @param  {Node|Function} [options.target] a static dom node\n   *           or a function that takes trigger node and returns a target node\n   * @param {String|Function} [options.text] a static string or a function that returns a string dynamically\n   * @param {Function} [options.success] success callback\n   * @param {Function} [options.error] error callback\n   * @return {Object} The clipboard object\n   */\n  attach: function (el, options) {\n    return new ClipboardClipboardWrapper(el, options);\n  }\n};\n\nexport { Clipboard$1 as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Cookie$1 from '../vendor/lib/js.cookie.js';\n\nconst SECURED_COOKIE = /^https/.test(window.location.href);\nvar Cookie = {\n  setCookie: function (name, value, options) {\n    Cookie$1.set(name, value, oktaUnderscore.defaults(options || {}, {\n      secure: SECURED_COOKIE,\n      path: '/'\n    }));\n  },\n  getCookie: function () {\n    return Cookie$1.get.apply(Cookie$1, arguments);\n  },\n  removeCookie: function () {\n    return Cookie$1.remove.apply(Cookie$1, arguments);\n  }\n};\n\nexport { Cookie as default };\n","var Keys = {\n  UP: 38,\n  DOWN: 40,\n  DEL: 46,\n  TAB: 9,\n  RETURN: 13,\n  ENTER: 13,\n  ESC: 27,\n  COMMA: 188,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  SPACE: 32,\n  BACKSPACE: 8,\n  __isKey: function (e, key) {\n    return (e.which || e.keyCode) === this[key];\n  },\n  isEnter: function (e) {\n    return this.__isKey(e, 'ENTER');\n  },\n  isEsc: function (e) {\n    return this.__isKey(e, 'ESC');\n  },\n  isSpaceBar: function (e) {\n    return this.__isKey(e, 'SPACE');\n  }\n};\n\nexport { Keys as default };\n","function log(level, ...args) {\n  if (window.console && window.okta && window.okta.debug) {\n    window.console[level](...args);\n  }\n}\n/**\n * Utility library of logging functions.\n * @class module:Okta.Logger\n */\n\n\nvar Logger = /** @lends module:Okta.Logger */\n{\n  /**\n   * See [console.trace](https://developer.mozilla.org/en-US/docs/Web/API/Console.trace)\n   * @static\n   */\n  trace: function (...args) {\n    return log('trace', ...args);\n  },\n\n  /**\n   * See [console.dir](https://developer.mozilla.org/en-US/docs/Web/API/Console.dir)\n   * @static\n   */\n  dir: function (...args) {\n    return log('dir', ...args);\n  },\n\n  /**\n   * See [console.time](https://developer.mozilla.org/en-US/docs/Web/API/Console.time)\n   * @static\n   */\n  time: function (...args) {\n    return log('time', ...args);\n  },\n\n  /**\n   * See [console.timeEnd](https://developer.mozilla.org/en-US/docs/Web/API/Console.timeEnd)\n   * @static\n   */\n  timeEnd: function (...args) {\n    return log('timeEnd', ...args);\n  },\n\n  /**\n   * See [console.group](https://developer.mozilla.org/en-US/docs/Web/API/Console.group)\n   * @static\n   */\n  group: function (...args) {\n    return log('group', ...args);\n  },\n\n  /**\n   * See [console.groupEnd](https://developer.mozilla.org/en-US/docs/Web/API/Console.groupEnd)\n   * @static\n   */\n  groupEnd: function (...args) {\n    return log('groupEnd', ...args);\n  },\n\n  /**\n   * See [console.assert](https://developer.mozilla.org/en-US/docs/Web/API/Console.assert)\n   * @static\n   */\n  assert: function (...args) {\n    return log('assert', ...args);\n  },\n\n  /**\n   * See [console.log](https://developer.mozilla.org/en-US/docs/Web/API/Console.log)\n   * @static\n   */\n  log: function (...args) {\n    return log('log', ...args);\n  },\n\n  /**\n   * See [console.info](https://developer.mozilla.org/en-US/docs/Web/API/Console.info)\n   * @static\n   */\n  info: function (...args) {\n    return log('info', ...args);\n  },\n\n  /**\n   * See [console.warn](https://developer.mozilla.org/en-US/docs/Web/API/Console.warn)\n   * @static\n   */\n  warn: function (...args) {\n    return log('warn', ...args);\n  },\n\n  /**\n   * See [console.error](https://developer.mozilla.org/en-US/docs/Web/API/Console.error)\n   * @static\n   */\n  error: function (...args) {\n    return log('error', ...args);\n  }\n};\n\nexport { Logger as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport StringUtil from './StringUtil.js';\n\nconst loc = StringUtil.localize;\nconst SchemaUtils = {\n  STRING: 'string',\n  NUMBER: 'number',\n  INTEGER: 'integer',\n  BOOLEAN: 'boolean',\n  OBJECT: 'object',\n  FORMATDISPLAYTYPE: {\n    'date-time': 'date',\n    uri: 'uri',\n    email: 'email',\n    // TODO: settle on using EITHER underscores OR hyphens --- not both (OKTA-202818)\n    'country-code': 'country-code',\n    'language-code': 'language-code',\n    'country_code': 'country_code',\n    'language_code': 'language_code',\n    locale: 'locale',\n    timezone: 'timezone',\n    'ref-id': 'reference'\n  },\n  ARRAYDISPLAYTYPE: {\n    arrayofobject: 'arrayofobject',\n    arrayofstring: 'arrayofstring',\n    arrayofnumber: 'arrayofnumber',\n    arrayofinteger: 'arrayofinteger',\n    'arrayofref-id': 'arrayofref-id'\n  },\n  DISPLAYTYPES: {\n    date: {\n      type: 'string',\n      format: 'date-time'\n    },\n    uri: {\n      type: 'string',\n      format: 'uri'\n    },\n    email: {\n      type: 'string',\n      format: 'email'\n    },\n    // TODO: Resolve inconsistencies in hyphens vs. underscores for these properties (OKTA-202818)\n    // use country-code if attribute should be restricted to country code type\n    'country-code': {\n      type: 'string',\n      format: 'country-code'\n    },\n    'language-code': {\n      type: 'string',\n      format: 'language-code'\n    },\n    'country_code': {\n      type: 'string'\n    },\n    'language_code': {\n      type: 'string'\n    },\n    locale: {\n      type: 'string',\n      format: 'locale'\n    },\n    timezone: {\n      type: 'string',\n      format: 'timezone'\n    },\n    string: {\n      type: 'string'\n    },\n    number: {\n      type: 'number'\n    },\n    boolean: {\n      type: 'boolean'\n    },\n    integer: {\n      type: 'integer'\n    },\n    reference: {\n      type: 'string',\n      format: 'ref-id'\n    },\n    arrayofobject: {\n      type: 'array',\n      items: {\n        type: 'object'\n      }\n    },\n    arrayofstring: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    },\n    arrayofnumber: {\n      type: 'array',\n      items: {\n        type: 'number'\n      }\n    },\n    arrayofinteger: {\n      type: 'array',\n      items: {\n        type: 'integer'\n      }\n    },\n    'arrayofref-id': {\n      type: 'array',\n      items: {\n        type: 'string',\n        format: 'ref-id'\n      }\n    },\n    image: {\n      type: 'image'\n    },\n    password: {\n      type: 'string'\n    }\n  },\n  SUPPORTSMINMAX: ['string', 'number', 'integer', 'password'],\n  SUPPORTENUM: ['string', 'number', 'integer', 'object', 'arrayofstring', 'arrayofnumber', 'arrayofinteger', 'arrayofobject'],\n  DATATYPE: {\n    string: 'string',\n    number: 'number',\n    boolean: 'boolean',\n    integer: 'integer',\n    date: 'datetime',\n    object: 'object',\n    arrayofobject: 'object array',\n    arrayofstring: 'string array',\n    arrayofnumber: 'number array',\n    arrayofinteger: 'integer array',\n    'arrayofref-id': 'reference array',\n    // TODO: settle on using EITHER underscores OR hyphens --- not both (OKTA-202818)\n    'country-code': 'country code',\n    'language-code': 'language code',\n    'country_code': 'country code',\n    'language_code': 'language code',\n    reference: 'reference',\n    timezone: 'timezone',\n    image: 'image'\n  },\n  MUTABILITY: {\n    READONLY: 'READ_ONLY',\n    WRITEONLY: 'WRITE_ONLY',\n    READWRITE: 'READ_WRITE',\n    IMMUTABLE: 'IMMUTABLE'\n  },\n  SCOPE: {\n    NONE: 'NONE',\n    SELF: 'SELF',\n    SYSTEM: 'SYSTEM'\n  },\n  DISPLAYSCOPE: {\n    SELF: 'User personal',\n    SYSTEM: 'System',\n    NA: 'None'\n  },\n  UNION: {\n    DISABLE: 'DISABLE',\n    ENABLE: 'ENABLE'\n  },\n  UNION_OPTIONS: {\n    DISABLE: loc('universal-directory.profiles.attribute.form.union.enable.display', 'courage'),\n    ENABLE: loc('universal-directory.profiles.attribute.form.union.disable.display', 'courage')\n  },\n  PERMISSION: {\n    HIDE: 'HIDE',\n    READ_ONLY: 'READ_ONLY',\n    WRITE_ONLY: 'WRITE_ONLY',\n    READ_WRITE: 'READ_WRITE'\n  },\n  ENDUSER_ATTRIBUTE_PERMISSION_OPTIONS: {\n    HIDE: loc('universal-directory.profiles.attribute.enduser.permission.hide', 'courage'),\n    READ_ONLY: loc('universal-directory.profiles.attribute.enduser.permission.readonly', 'courage'),\n    READ_WRITE: loc('universal-directory.profiles.attribute.enduser.permission.readwrite', 'courage')\n  },\n  // eslint-disable-next-line inclusive-language/use-inclusive-words\n  ATTRIBUTE_LEVEL_MASTERING_OPTIONS: {\n    INHERIT: loc('universal-directory.profiles.attribute.source.inherit', 'courage'),\n    // eslint-disable-next-line inclusive-language/use-inclusive-words\n    OKTA_MASTERED: loc('universal-directory.profiles.attribute.source.oktamastered', 'courage'),\n    OVERRIDE: loc('universal-directory.profiles.attribute.source.override', 'courage')\n  },\n  USERNAMETYPE: {\n    NONE: 'non-username',\n    OKTA_TO_APP: 'okta-to-app-username',\n    OKTA_TO_AD: 'okta-to-ad-username',\n    APP_TO_OKTA: 'app-to-okta-username',\n    IDP_TO_OKTA: 'idp-to-okta-username'\n  },\n  LOGINPATTERNFORMAT: {\n    EMAIL: 'EMAIL',\n    CUSTOM: 'CUSTOM',\n    NONE: 'NONE'\n  },\n  UNIQUENESS: {\n    NOT_UNIQUE: 'NOT_UNIQUE',\n    PENDING_UNIQUENESS: 'PENDING_UNIQUENESS',\n    UNIQUE_VALIDATED: 'UNIQUE_VALIDATED'\n  },\n\n  /*\n   * Get a display string for a schema attribute type.\n   * @param {String} type Type of an attribute\n   * @param {String} format Format of an attribute\n   * @param {String} itemType Item type of an attribute if an array\n   * @param {String} defaultValue The default value if an attribute type is undefined\n   * @return {String} the display value\n   */\n  getDisplayType: function (type, format, itemType, defaultValue) {\n    let displayType; // type is undefined for\n    // - an un-mapped source attribute from mapping\n    // - an source attribute which is mapped to username target attribute\n\n    if (type) {\n      // format is only defined for complicated types (ex. reference, date time, array)\n      // not for simple types (ex. string, integer, boolean)\n      if (format) {\n        displayType = this.FORMATDISPLAYTYPE[format];\n      } else {\n        // itemType is only defined for array type\n        // to specify an array element type (ex. string, integer, number)\n        displayType = itemType ? this.ARRAYDISPLAYTYPE[type + 'of' + itemType] : type;\n      }\n    }\n\n    if (!displayType) {\n      displayType = typeof defaultValue === 'undefined' ? '' : defaultValue;\n    }\n\n    return displayType;\n  },\n\n  /*\n   * Get attribute mapping source attribute username type\n   * @param {String} mappingDirection\n   * @param {String} targetName The mapping target attribute name\n   * @param {String} appName The app name that's mapped to/from Okta\n   * @return {String} the source attribute username type value\n   */\n  getSourceUsernameType: function (mappingDirection, targetName, appName) {\n    let sourceUsernameType = this.USERNAMETYPE.NONE;\n    /* eslint complexity: [2, 7] */\n\n    if (mappingDirection === 'oktaToApp') {\n      if (targetName === 'userName') {\n        sourceUsernameType = this.USERNAMETYPE.OKTA_TO_APP;\n      } else if (targetName === 'cn') {\n        sourceUsernameType = this.USERNAMETYPE.OKTA_TO_AD;\n      }\n    } else if (mappingDirection === 'appToOkta' && targetName === 'login') {\n      if (appName === 'saml_idp') {\n        sourceUsernameType = this.USERNAMETYPE.IDP_TO_OKTA;\n      } else {\n        sourceUsernameType = this.USERNAMETYPE.APP_TO_OKTA;\n      }\n    }\n\n    return sourceUsernameType;\n  },\n  isArrayDataType: function (type) {\n    return oktaUnderscore.contains(oktaUnderscore.values(this.ARRAYDISPLAYTYPE), type);\n  },\n  isObjectDataType: function (type) {\n    return this.DATATYPE.object === type;\n  }\n};\n\nexport { SchemaUtils as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class SettingsModel\n * @extends {Okta.Model}\n * @private\n */\nconst props = {\n  local: function () {\n    const settings = window.okta && window.okta.settings || {};\n    const theme = window.okta && window.okta.theme || '';\n    return {\n      orgId: ['string', false, settings.orgId],\n      orgName: ['string', false, settings.orgName],\n      serverStatus: ['string', false, settings.serverStatus],\n      persona: ['string', false, settings.persona],\n      isDeveloperConsole: ['boolean', false, settings.isDeveloperConsole],\n      isPreview: ['boolean', false, settings.isPreview],\n      permissions: ['array', true, settings.permissions || []],\n      theme: ['string', false, theme]\n    };\n  },\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.features = window._features || [];\n  },\n\n  /**\n   * Checks if the user have a feature flag enabled (Based of the org level feature flag)\n   * @param  {String}  feature Feature name\n   * @return {Boolean}\n   */\n  hasFeature: function (feature) {\n    return oktaUnderscore.contains(this.features, feature);\n  },\n\n  /**\n   * Checks if any of the given feature flags are enabled (Based of the org level feature flags)\n   * @param  {Array}  featureArray Features names\n   * @return {Boolean} true if any of the give features are enabled. False otherwise\n   */\n  hasAnyFeature: function (featureArray) {\n    return oktaUnderscore.some(featureArray, this.hasFeature, this);\n  },\n\n  /**\n   * Checks if the user have a specific permission (based on data passed from JSP)\n   * @param  {String}  permission Permission name\n   * @return {Boolean}\n   */\n  hasPermission: function (permission) {\n    return oktaUnderscore.contains(this.get('permissions'), permission);\n  },\n\n  /**\n   * Checks if the org has ds theme set\n   * @return {Boolean}\n   */\n  isDsTheme: function () {\n    return this.get('theme') === 'dstheme';\n  }\n};\nvar SettingsModel = Model.extend(props);\n\nexport { SettingsModel as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class StateMachine\n * @extends Okta.Model\n * @private\n *\n * A state object that holds the applciation state\n */\nvar StateMachine = Model.extend({\n  /**\n   * Invokes a method on the applicable {@link Okta.Controller}\n   *\n   * ```javascript\n   * state.invoke('methodName', 'param1', 'param2')\n   * // Will call\n   * contoller.methodName('param1', 'param2')\n   * ```\n   * @param {String} methodName the name of the controller method to invoke on the controller\n   */\n  invoke: function () {\n    const args = oktaUnderscore.toArray(arguments);\n\n    args.unshift('__invoke__');\n    this.trigger.apply(this, args);\n  }\n});\n\nexport { StateMachine as default };\n","import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Bundles from '@okta/okta-i18n-bundles';\n\nconst entityMap = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': '\\'',\n  '&#039;': '\\'',\n  '&#x2F;': '/'\n};\nconst emailValidator = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(?!-)((\\[?[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\]?)|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\n\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n\n  return locale;\n};\n/* eslint max-len: 0*/\n\n/**\n * Returns the user's locale as defined by window.okta.locale\n */\n\n\nfunction getRawLocale() {\n  if (window && window.okta && window.okta.locale) {\n    const isEnableBcp47OktaUi = window.okta.isEnableBcp47OktaUi;\n    return isEnableBcp47OktaUi ? window.okta.locale : window.okta.locale.toLowerCase();\n  }\n\n  return 'en';\n}\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\n\n\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    return Bundles[oktaUnderscore.keys(Bundles)[0]];\n  }\n\n  const locale = parseLocale(getRawLocale());\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n/**\n *\n * CustomEvent polyfill for IE\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n */\n\n\nfunction IECustomEvent(event, params) {\n  params = params || {\n    bubbles: false,\n    cancelable: false,\n    detail: null\n  };\n  var evt = document.createEvent('CustomEvent');\n  evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n  return evt;\n}\n/**\n * Call the window.okta.emitL10nError function if it is defined\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\n\n\nfunction emitL10nError(key, bundleName, reason) {\n  // CustomEvent polyfill for IE\n  if (!window.CustomEvent) {\n    window.CustomEvent = IECustomEvent;\n  } // dispatchEvent for sentry\n\n\n  if (typeof window.CustomEvent === 'function') {\n    const event = new CustomEvent('okta-i18n-error', {\n      detail: {\n        type: 'l10n-error',\n        key: key,\n        bundleName: bundleName,\n        reason: reason\n      }\n    });\n    document.dispatchEvent(event);\n  }\n}\n\nconst StringUtil =\n/** @lends module:Okta.internal.util.StringUtil */\n{\n  /** @static */\n  getRawLocale: function () {\n    return getRawLocale();\n  },\n\n  /** @static */\n  getParsedLocale: function () {\n    return parseLocale(getRawLocale());\n  },\n\n  /** @static */\n  isLocaleBundleExist: function (bundleName, locale) {\n    const parsedLocale = parseLocale(locale);\n    return !!Bundles[`${bundleName}_${parsedLocale}`];\n  },\n\n  /** @static */\n  sprintf: function () {\n    const args = Array.prototype.slice.apply(arguments);\n    let value = args.shift();\n    let oldValue = value;\n    /* eslint max-statements: [2, 15] */\n\n    function triggerError() {\n      throw new Error('Mismatch number of variables: ' + arguments[0] + ', ' + JSON.stringify(args));\n    }\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      const entity = args[i];\n      const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n      value = value.replace(regex, entity);\n\n      if (entity === undefined || entity === null || value === oldValue) {\n        triggerError();\n      }\n\n      oldValue = value;\n    }\n\n    if (/\\{[\\d+]\\}/.test(value)) {\n      triggerError();\n    }\n\n    return value;\n  },\n\n  /**\n   * Converts a URI encoded query string into a hash map\n   * @param  {String} query The query string\n   * @return {Object} The map\n   * @static\n   * @example\n   * StringUtil.parseQuery('foo=bar&baz=qux') // {foo: 'bar', baz: 'qux'}\n   */\n  parseQuery: function (query) {\n    const params = {};\n    const pairs = decodeURIComponent(query.replace(/\\+/g, ' ')).split('&');\n\n    for (var i = 0; i < pairs.length; i++) {\n      const pair = pairs[i];\n      const data = pair.split('=');\n      params[data.shift()] = data.join('=');\n    }\n\n    return params;\n  },\n\n  /** @static */\n  encodeJSObject: function (jsObj) {\n    return encodeURIComponent(JSON.stringify(jsObj));\n  },\n\n  /** @static */\n  decodeJSObject: function (jsObj) {\n    try {\n      return JSON.parse(decodeURIComponent(jsObj));\n    } catch (e) {\n      return null;\n    }\n  },\n\n  /** @static */\n  unescapeHtml: function (string) {\n    return String(string).replace(/&[\\w#\\d]{2,};/g, function (s) {\n      return entityMap[s] || s;\n    });\n  },\n\n  /**\n   * Get the original i18n template directly without string format with parameters\n   * @param {String} key The key\n   * @param {String} bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   */\n  getTemplate: function (key, bundleName) {\n    const bundle = getBundle(bundleName);\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    if (bundle[key]) {\n      return bundle[key];\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Translate a key to the localized value\n   * @static\n   * @param  {String} key The key\n   * @param  {String} [bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n   * @return {String} The localized value\n   */\n  localize: function (key, bundleName, params) {\n    const bundle = getBundle(bundleName);\n    /* eslint complexity: [2, 6] */\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    let value = bundle[key];\n\n    try {\n      params = params && params.slice ? params.slice(0) : [];\n      params.unshift(value);\n      value = StringUtil.sprintf.apply(null, params);\n\n      if (value) {\n        return value;\n      } else {\n        emitL10nError(key, bundleName, 'key');\n        return 'L10N_ERROR[' + key + ']';\n      }\n    } catch (e) {\n      emitL10nError(key, bundleName, 'parameters');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Convert a string to a float if valid, otherwise return the string.\n   * Valid numbers may contain a negative sign and a decimal point.\n   * @static\n   * @param {String} string The string to convert to a number\n   * @return {String|Number} Returns a number if the string can be casted, otherwise returns the original string\n   */\n  parseFloat: function (string) {\n    const number = +string;\n    return typeof string === 'string' && number === parseFloat(string) ? number : string;\n  },\n\n  /**\n   * Convert a string to an integer if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an integer\n   * @return {String|integer} Returns an integer if the string can be casted, otherwise, returns the original string\n   */\n  parseInt: function (string) {\n    const int = +string;\n    return oktaUnderscore.isString(string) && int === parseInt(string, 10) ? int : string;\n  },\n\n  /**\n   * Convert a string to an object if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an object\n   * @return {String|object} Returns an object if the string can be casted, otherwise, returns the original string\n   */\n  parseObject: function (string) {\n    if (!oktaUnderscore.isString(string)) {\n      return string;\n    }\n\n    try {\n      const object = JSON.parse(string);\n      return oktaJQueryStatic.isPlainObject(object) ? object : string;\n    } catch (e) {\n      return string;\n    }\n  },\n\n  /**\n   * Returns a random string from [a-z][A-Z][0-9] of a given length\n   * @static\n   * @param {Number} length The length of the random string.\n   * @return {String} Returns a random string from [a-z][A-Z][0-9] of a given length\n   */\n  randomString: function (length) {\n    const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n\n    if (length === undefined) {\n      length = oktaUnderscore.random(characters.length);\n    } else if (length === 0) {\n      return '';\n    }\n\n    const stringArray = [];\n\n    while (length--) {\n      stringArray.push(characters[oktaUnderscore.random(characters.length - 1)]);\n    }\n\n    return stringArray.join('');\n  },\n\n  /**\n   * Returns if a str ends with another string\n   * @static\n   * @param {String} str The string to search\n   * @param {String} ends The string it should end with\n   *\n   * @return {Boolean} Returns if the str ends with ends\n   */\n  endsWith: function (str, ends) {\n    str += '';\n    ends += '';\n    return str.length >= ends.length && str.substring(str.length - ends.length) === ends;\n  },\n\n  /** @static */\n  isEmail: function (str) {\n    const target = oktaJQueryStatic.trim(str);\n    return !oktaUnderscore.isEmpty(target) && emailValidator.test(target);\n  }\n};\n\nexport { StringUtil as default };\n","import _Handlebars2 from '../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from './underscore-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-methods: 0 */\n/**\n * @class module:Okta.internal.util.TemplateUtil\n * @hideconstructor\n */\n\nvar TemplateUtil = /** @lends module:Okta.internal.util.TemplateUtil */\n{\n  /**\n   * Compiles a Handlebars template\n   * @static\n   * @method\n   */\n  // TODO: This will be deprecated at some point. Views should use pre-compiled templates\n  tpl: oktaUnderscore.memoize(function (tpl) {\n    /* eslint @okta/okta-ui/no-specific-methods: 0 */\n    return function (context) {\n      return _Handlebars2.compile(tpl)(context);\n    };\n  })\n};\n\nexport { TemplateUtil as default };\n","var Time = {\n  DEBOUNCE_DELAY: 200,\n  LOADING_FADE: 400,\n  UNLOADING_FADE: 400,\n  ROW_EXPANDER_TRANSITION: 150,\n  HIDE_ADD_MAPPING_FORM: 300\n};\n\nexport { Time as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport BaseView from '../views/BaseView.js';\n\nvar Util = {\n  redirect: function (url) {\n    window.location = url;\n  },\n  reloadPage: function () {\n    window.location.reload();\n  },\n  constantError: function (errorMessage) {\n    return function () {\n      throw new Error(errorMessage);\n    };\n  },\n\n  /**\n   * Simply convert an URL query key value pair object into an URL query string.\n   * Remember NOT to escape the query string when using this util.\n   * example:\n   * input: {userId: 123, instanceId: undefined, expand: 'schema,app'}\n   * output: '?userId=123&expand=schema,app'\n   */\n  getUrlQueryString: function (queries) {\n    oktaUnderscore.isObject(queries) || (queries = {});\n\n    const queriesString = oktaUnderscore.without(oktaUnderscore.map(queries, function (value, key) {\n      if (value !== undefined && value !== null) {\n        return key + '=' + encodeURIComponent(value);\n      }\n    }), undefined).join('&');\n\n    return oktaUnderscore.isEmpty(queriesString) ? '' : '?' + queriesString;\n  },\n  isABaseView: function (obj) {\n    return obj instanceof BaseView || obj.prototype instanceof BaseView || obj === BaseView;\n  },\n  isSafari: function () {\n    // All native, android and iOS chrome browsers has \"Safari\" in their userAgent string, so this regex should\n    // evaluate to true for only Safari browser and not any chrome browsers.\n    // https://stackoverflow.com/questions/7944460/detect-safari-browser\n    // https://stackoverflow.com/questions/13807810/ios-chrome-detection/13808053#13808053\n    return /^((?!chrome|android|crios).)*safari/i.test(navigator.userAgent);\n  }\n};\n\nexport { Util as default };\n","import oktaUnderscore from './underscore-wrapper.js';\n\nfunction changeEventString(doWhen) {\n  return 'change:' + oktaUnderscore.keys(doWhen).join(' change:');\n}\n\nfunction calcDoWhen(value, key) {\n  const modelValue = this.model.get(key);\n\n  if (oktaUnderscore.isFunction(value)) {\n    return value.call(this, modelValue);\n  } else {\n    return value === modelValue;\n  }\n}\n\nfunction _doWhen(view, doWhen, fn) {\n  const toggle = oktaUnderscore.bind(fn, view, view, doWhen);\n\n  view.render = oktaUnderscore.wrap(view.render, function (render) {\n    const val = render.call(view);\n    toggle({\n      animate: false\n    });\n    return val;\n  });\n  view.listenTo(view.model, changeEventString(doWhen), function () {\n    toggle({\n      animate: true\n    });\n  });\n}\n\nvar ViewUtil = {\n  applyDoWhen: function (view, doWhen, fn) {\n    if (!(view.model && oktaUnderscore.isObject(doWhen) && oktaUnderscore.size(doWhen) && oktaUnderscore.isFunction(fn))) {\n      return;\n    }\n\n    _doWhen(view, doWhen, function (view, doWhen, options) {\n      const result = oktaUnderscore.every(oktaUnderscore.map(doWhen, calcDoWhen, view));\n\n      fn.call(view, result, options);\n    });\n  }\n};\n\nexport { ViewUtil as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\n\nconst clonedEscapeExpression = _Handlebars2.Utils.escapeExpression;\n\n_Handlebars2.Utils.escapeExpression = function (string) {\n  return clonedEscapeExpression(string).replace(/&#x3D;/g, '=');\n};\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\nimport Logger from '../Logger.js';\nimport StringUtil from '../StringUtil.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\nconst hbsEscape = _Handlebars2.Utils.escapeExpression;\n\nfunction trim(str) {\n  return str && str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction replaceTagsWithPlaceholders(source, tag, tagValue) {\n  const escapedBeginningTag = hbsEscape(`<${tag}>`);\n  const escapedEndTag = hbsEscape(`</${tag}>`);\n  const [beginningTag, endTag] = tagValue.split(tag);\n\n  if (!source.includes(escapedBeginningTag) && !source.includes(escapedEndTag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${source}\"`);\n  } else if (!tagValue.includes(tag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${tagValue}\"`);\n  } else if (!beginningTag || !endTag) {\n    throw Error(`Template value \"${tagValue}\" must contain beginning and closing tags`);\n  }\n\n  return source.replace(escapedBeginningTag, beginningTag).replace(escapedEndTag, endTag);\n}\n/* eslint max-statements: [2, 18] */\n\n\n_Handlebars2.registerHelper('i18n', function i18n(options) {\n  let params;\n  const key = trim(options.hash.code);\n  const bundle = trim(options.hash.bundle);\n  const args = trim(options.hash.arguments);\n  const tags = Object.keys(options.hash).filter(prop => prop.match(/^\\$\\d+/)).map(prop => ({\n    tag: prop,\n    value: options.hash[prop]\n  }));\n\n  if (args) {\n    params = oktaUnderscore.map(trim(args).split(';'), function mapParam(param) {\n      param = trim(param);\n      let val;\n      /*\n       * the context(data) may be a deep object, ex {user: {name: 'John', gender: 'M'}}\n       * arguments may be 'user.name'\n       * return data['user']['name']\n       */\n\n      oktaUnderscore.each(param.split('.'), p => {\n        val = val ? val[p] : this[p];\n      });\n\n      return val;\n    }, this);\n  }\n\n  const localizedValue = StringUtil.localize(key, bundle, params);\n\n  if (tags.length < 1) {\n    // No HTML tags provided - return the localized and escaped string\n    return localizedValue;\n  }\n\n  let escapedString = hbsEscape(localizedValue);\n\n  try {\n    tags.forEach(tag => {\n      escapedString = replaceTagsWithPlaceholders(escapedString, tag.tag, tag.value);\n    });\n    return new _Handlebars2.SafeString(escapedString);\n  } catch (err) {\n    Logger.error(err.toString());\n    return localizedValue;\n  }\n});\n","import $ from 'jquery';\n\n/* eslint-disable @okta/okta-ui/enforce-requirejs-names, @okta/okta-ui/no-specific-modules */\n$.ajaxSetup({\n  beforeSend: function (xhr) {\n    xhr.setRequestHeader('X-Okta-XsrfToken', $('#_xsrfToken').text());\n  },\n  converters: {\n    'text secureJSON': function (str) {\n      if (str.substring(0, 11) === 'while(1){};') {\n        str = str.substring(11);\n      }\n\n      return JSON.parse(str);\n    }\n  }\n}); // Selenium Hook\n// Widget such as autocomplete and autosuggest needs to be triggered from the running version of jQuery.\n// We have 2 versions of jQuery running in parallel and they don't share the same events bus\n\nconst oktaJQueryStatic = $;\nwindow.jQueryCourage = oktaJQueryStatic;\n\nexport { oktaJQueryStatic as default };\n","import _Handlebars2 from '../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport _ from '../../../lib/underscore/underscore-min.js';\n\n/* eslint @okta/okta-ui/no-specific-methods: 0, @okta/okta-ui/no-specific-modules: 0 */\n\n_.mixin({\n  resultCtx: function (object, property, context, defaultValue) {\n    let value = _.isObject(object) ? object[property] : void 0;\n\n    if (_.isFunction(value)) {\n      value = value.call(context || object);\n    }\n\n    if (value) {\n      return value;\n    } else {\n      return !_.isUndefined(defaultValue) ? defaultValue : value;\n    }\n  },\n  isInteger: function (x) {\n    return _.isNumber(x) && x % 1 === 0;\n  },\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  // eslint-disable-next-line @okta/okta-ui/no-bare-templates\n  template: function (source, data) {\n    const template = _Handlebars2.compile(source);\n\n    if (data) {\n      return template(data);\n    }\n\n    const fn = function (data) {\n      return template(data);\n    };\n\n    fn.source = ''; // to conform with \"CompiledTemplate\" type definition\n\n    return fn;\n  }\n});\n\nconst oktaUnderscore = _;\n\nexport { oktaUnderscore as default };\n","import { commonjsGlobal } from '../../../../_virtual/_commonjsHelpers.js';\nimport { b as backbone } from '../../../../_virtual/backbone.js';\nimport $ from 'jquery';\nimport '../../../../lib/underscore/underscore-min.js';\nimport { u as underscoreMin } from '../../../../_virtual/underscore-min.js';\n\n(function (module, exports) {\n//     Backbone.js 1.4.0\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\nconst jQuery = $;\n(function (factory) {\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self || typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal; // Set up Backbone appropriately for the environment. Start with AMD.\n\n  {\n    var _ = underscoreMin.exports,\n        $;\n\n    try {\n      $ = jQuery;\n    } catch (e) {}\n\n    factory(root, exports, _, $); // Finally, as a browser global.\n  }\n})(function (root, Backbone, _, $) {\n  // Initial Setup\n  // -------------\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone; // Create a local reference to a common array method we'll want to use later.\n\n  var slice = Array.prototype.slice; // Current version of the library. Keep in sync with `package.json`.\n\n  Backbone.VERSION = '1.4.0'; // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n\n  Backbone.$ = $; // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n\n  Backbone.noConflict = function () {\n    root.Backbone = previousBackbone;\n    return this;\n  }; // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n\n\n  Backbone.emulateHTTP = false; // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n\n  Backbone.emulateJSON = false; // Backbone.Events\n  // ---------------\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n\n  var Events = Backbone.Events = {}; // Regular expression used to split event strings.\n\n  var eventSplitter = /\\s+/; // A private global variable to share between listeners and listenees.\n\n  var _listening; // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n\n\n  var eventsApi = function (iteratee, events, name, callback, opts) {\n    var i = 0,\n        names;\n\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n\n      for (names = _.keys(name); i < names.length; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n\n    return events;\n  }; // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n\n\n  Events.on = function (name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening; // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n\n      _listening.interop = false;\n    }\n\n    return this;\n  }; // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n\n\n  Events.listenTo = function (obj, name, callback) {\n    if (!obj) return this;\n\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id]; // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    } // Bind callbacks on obj.\n\n\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n    if (error) throw error; // If the target obj is not Backbone.Events, track events manually.\n\n    if (listening.interop) listening.on(name, callback);\n    return this;\n  }; // The reducing API that adds a callback to the `events` object.\n\n\n  var onApi = function (events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context,\n          ctx = options.ctx,\n          listening = options.listening;\n      if (listening) listening.count++;\n      handlers.push({\n        callback: callback,\n        context: context,\n        ctx: context || ctx,\n        listening: listening\n      });\n    }\n\n    return events;\n  }; // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n\n\n  var tryCatchOn = function (obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  }; // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n\n\n  Events.off = function (name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  }; // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n\n\n  Events.stopListening = function (obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]]; // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n\n      if (!listening) break;\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n    return this;\n  }; // The reducing API that removes a callback from the `events` object.\n\n\n  var offApi = function (events, name, callback, options) {\n    if (!events) return;\n    var context = options.context,\n        listeners = options.listeners;\n    var i = 0,\n        names; // Delete all event listeners and \"drop\" events.\n\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name]; // Bail out if there are no events stored.\n\n      if (!handlers) break; // Find any remaining events.\n\n      var remaining = [];\n\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n\n        if (callback && callback !== handler.callback && callback !== handler.callback._callback || context && context !== handler.context) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      } // Replace events if there are any remaining.  Otherwise, clean up.\n\n\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  }; // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n\n\n  Events.once = function (name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  }; // Inversion-of-control versions of `once`.\n\n\n  Events.listenToOnce = function (obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  }; // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n\n\n  var onceMap = function (map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function () {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n\n      once._callback = callback;\n    }\n\n    return map;\n  }; // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n\n\n  Events.trigger = function (name) {\n    if (!this._events) return this;\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  }; // Handles triggering the appropriate event callbacks.\n\n\n  var triggerApi = function (objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n\n    return objEvents;\n  }; // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n\n\n  var triggerEvents = function (events, args) {\n    var ev,\n        i = -1,\n        l = events.length,\n        a1 = args[0],\n        a2 = args[1],\n        a3 = args[2];\n\n    switch (args.length) {\n      case 0:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx);\n\n        return;\n\n      case 1:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1);\n\n        return;\n\n      case 2:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2);\n\n        return;\n\n      case 3:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n\n        return;\n\n      default:\n        while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\n        return;\n    }\n  }; // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n\n\n  var Listening = function (listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on; // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n\n  Listening.prototype.off = function (name, callback) {\n    var cleanup;\n\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n\n    if (cleanup) this.cleanup();\n  }; // Cleans up memory bindings between the listener and the listenee.\n\n\n  Listening.prototype.cleanup = function () {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  }; // Aliases for backwards compatibility.\n\n\n  Events.bind = Events.on;\n  Events.unbind = Events.off; // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n\n  _.extend(Backbone, Events); // Backbone.Model\n  // --------------\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n\n\n  var Model = Backbone.Model = function (attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n\n    var defaults = _.result(this, 'defaults');\n\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  }; // Attach all inheritable methods to the Model prototype.\n\n\n  _.extend(Model.prototype, Events, {\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n    // The value returned during the last failed validation.\n    validationError: null,\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Return a copy of the model's `attributes` object.\n    toJSON: function (options) {\n      return _.clone(this.attributes);\n    },\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Get the value of an attribute.\n    get: function (attr) {\n      return this.attributes[attr];\n    },\n    // Get the HTML-escaped value of an attribute.\n    escape: function (attr) {\n      return _.escape(this.get(attr));\n    },\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function (attr) {\n      return this.get(attr) != null;\n    },\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function (attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function (key, val, options) {\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      var attrs;\n\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {}); // Run validation.\n\n      if (!this._validate(attrs, options)) return false; // Extract attributes and options.\n\n      var unset = options.unset;\n      var silent = options.silent;\n      var changes = [];\n      var changing = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev = this._previousAttributes; // For each `set` attribute, update or delete the current value.\n\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n\n        unset ? delete current[attr] : current[attr] = val;\n      } // Update the `id`.\n\n\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute); // Trigger all relevant attribute changes.\n\n      if (!silent) {\n        if (changes.length) this._pending = options;\n\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      } // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n\n\n      if (changing) return this;\n\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function (attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function (options) {\n      var attrs = {};\n\n      for (var key in this.attributes) attrs[key] = void 0;\n\n      return this.set(attrs, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function (attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function (diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n\n      return hasChanged ? changed : false;\n    },\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function (attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function () {\n      return _.clone(this._previousAttributes);\n    },\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var model = this;\n      var success = options.success;\n\n      options.success = function (resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function (key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({\n        validate: true,\n        parse: true\n      }, options);\n      var wait = options.wait; // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      } // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n\n\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n\n      options.success = function (resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options); // Set temporary attributes if `{wait: true}` to properly find new ids.\n\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options); // Restore attributes.\n\n      this.attributes = attributes;\n      return xhr;\n    },\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function (options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function () {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function (resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n\n      if (!wait) destroy();\n      return xhr;\n    },\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function () {\n      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new model with identical attributes to this one.\n    clone: function () {\n      return new this.constructor(this.attributes);\n    },\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function () {\n      return !this.has(this.idAttribute);\n    },\n    // Check if the model is currently in a valid state.\n    isValid: function (options) {\n      return this._validate({}, _.extend({}, options, {\n        validate: true\n      }));\n    },\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function (attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {\n        validationError: error\n      }));\n      return false;\n    }\n  }); // Backbone.Collection\n  // -------------------\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n\n\n  var Collection = Backbone.Collection = function (models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n\n    this._reset();\n\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({\n      silent: true\n    }, options));\n  }; // Default options for `Collection#set`.\n\n\n  var setOptions = {\n    add: true,\n    remove: true,\n    merge: true\n  };\n  var addOptions = {\n    add: true,\n    remove: false\n  }; // Splices `insert` into `array` at index `at`.\n\n  var splice = function (array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  }; // Define the Collection's inheritable methods.\n\n\n  _.extend(Collection.prototype, Events, {\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function (options) {\n      return this.map(function (model) {\n        return model.toJSON(options);\n      });\n    },\n    // Proxy `Backbone.sync` by default.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function (models, options) {\n      return this.set(models, _.extend({\n        merge: false\n      }, options, addOptions));\n    },\n    // Remove a model, or a list of models from the set.\n    remove: function (models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var removed = this._removeModels(models, options);\n\n      if (!options.silent && removed.length) {\n        options.changes = {\n          added: [],\n          merged: [],\n          removed: removed\n        };\n        this.trigger('update', this, options);\n      }\n\n      return singular ? removed[0] : removed;\n    },\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function (models, options) {\n      if (models == null) return;\n      options = _.extend({}, setOptions, options);\n\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null; // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n\n      var model, i;\n\n      for (i = 0; i < models.length; i++) {\n        model = models[i]; // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n\n        var existing = this.get(model);\n\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n\n          models[i] = existing; // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n\n          if (model) {\n            toAdd.push(model);\n\n            this._addReference(model, options);\n\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      } // Remove stale models.\n\n\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n\n        if (toRemove.length) this._removeModels(toRemove, options);\n      } // See if sorting is needed, update `length` and splice in new models.\n\n\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function (m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      } // Silently sort the collection if appropriate.\n\n\n      if (sort) this.sort({\n        silent: true\n      }); // Unless silenced, it's time to fire all appropriate add/sort/update events.\n\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n\n        if (sort || orderChanged) this.trigger('sort', this, options);\n\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      } // Return the added (or merged) model (or models).\n\n\n      return singular ? models[0] : models;\n    },\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function (models, options) {\n      options = options ? _.clone(options) : {};\n\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n\n      options.previousModels = this.models;\n\n      this._reset();\n\n      models = this.add(models, _.extend({\n        silent: true\n      }, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n    // Add a model to the end of the collection.\n    push: function (model, options) {\n      return this.add(model, _.extend({\n        at: this.length\n      }, options));\n    },\n    // Remove a model from the end of the collection.\n    pop: function (options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n    // Add a model to the beginning of the collection.\n    unshift: function (model, options) {\n      return this.add(model, _.extend({\n        at: 0\n      }, options));\n    },\n    // Remove a model from the beginning of the collection.\n    shift: function (options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n    // Slice out a sub-array of models from the collection.\n    slice: function () {\n      return slice.apply(this.models, arguments);\n    },\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function (obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] || this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] || obj.cid && this._byId[obj.cid];\n    },\n    // Returns `true` if the model is in the collection.\n    has: function (obj) {\n      return this.get(obj) != null;\n    },\n    // Get the model at the given index.\n    at: function (index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function (attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function (attrs) {\n      return this.where(attrs, true);\n    },\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function (options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this); // Run sort based on type of `comparator`.\n\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n    // Pluck an attribute from each model in the collection.\n    pluck: function (attr) {\n      return this.map(attr + '');\n    },\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var success = options.success;\n      var collection = this;\n\n      options.success = function (resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function (model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n\n      options.success = function (m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n\n      model.save(null, options);\n      return model;\n    },\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new collection with an identical list of models as this one.\n    clone: function () {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n    // Define how to uniquely identify models in the collection.\n    modelId: function (attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n    // Get an iterator of all models in this collection.\n    values: function () {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n    // Get an iterator of all model IDs in this collection.\n    keys: function () {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function () {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function () {\n      this.length = 0;\n      this.models = [];\n      this._byId = {};\n    },\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function (attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n    // Internal method called by both remove and set.\n    _removeModels: function (models, options) {\n      var removed = [];\n\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--; // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n\n        this._removeReference(model, options);\n      }\n\n      return removed;\n    },\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function (model) {\n      return model instanceof Model;\n    },\n    // Internal method to create a model's ties to a collection.\n    _addReference: function (model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function (model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function (event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n\n      this.trigger.apply(this, arguments);\n    }\n  }); // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n\n  /* global Symbol */\n\n\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  } // CollectionIterator\n  // ------------------\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n\n\n  var CollectionIterator = function (collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  }; // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n\n\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3; // All Iterators should themselves be Iterable.\n\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function () {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function () {\n    if (this._collection) {\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n\n        this._index++; // Construct a value depending on what kind of values should be iterated.\n\n        var value;\n\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes);\n\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else {\n            // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n\n        return {\n          value: value,\n          done: false\n        };\n      } // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n\n\n      this._collection = void 0;\n    }\n\n    return {\n      value: void 0,\n      done: true\n    };\n  }; // Backbone.View\n  // -------------\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n\n\n  var View = Backbone.View = function (options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n\n    _.extend(this, _.pick(options, viewOptions));\n\n    this._ensureElement();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regex to split keys for `delegate`.\n\n\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/; // List of view options to be set as properties.\n\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']; // Set up all inheritable **Backbone.View** properties and methods.\n\n  _.extend(View.prototype, Events, {\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function (selector) {\n      return this.$el.find(selector);\n    },\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function () {\n      return this;\n    },\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function () {\n      this._removeElement();\n\n      this.stopListening();\n      return this;\n    },\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function () {\n      this.$el.remove();\n    },\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function (element) {\n      this.undelegateEvents();\n\n      this._setElement(element);\n\n      this.delegateEvents();\n      return this;\n    },\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function (el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function (events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n\n      return this;\n    },\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function (eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function () {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function (eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function (tagName) {\n      return document.createElement(tagName);\n    },\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function () {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function (attributes) {\n      this.$el.attr(attributes);\n    }\n  }); // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n\n\n  var addMethod = function (base, length, method, attribute) {\n    switch (length) {\n      case 1:\n        return function () {\n          return base[method](this[attribute]);\n        };\n\n      case 2:\n        return function (value) {\n          return base[method](this[attribute], value);\n        };\n\n      case 3:\n        return function (iteratee, context) {\n          return base[method](this[attribute], cb(iteratee, this), context);\n        };\n\n      case 4:\n        return function (iteratee, defaultVal, context) {\n          return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n        };\n\n      default:\n        return function () {\n          var args = slice.call(arguments);\n          args.unshift(this[attribute]);\n          return base[method].apply(base, args);\n        };\n    }\n  };\n\n  var addUnderscoreMethods = function (Class, base, methods, attribute) {\n    _.each(methods, function (length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  }; // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n\n\n  var cb = function (iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function (model) {\n      return model.get(iteratee);\n    };\n    return iteratee;\n  };\n\n  var modelMatcher = function (attrs) {\n    var matcher = _.matches(attrs);\n\n    return function (model) {\n      return matcher(model.attributes);\n    };\n  }; // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n\n\n  var collectionMethods = {\n    forEach: 3,\n    each: 3,\n    map: 3,\n    collect: 3,\n    reduce: 0,\n    foldl: 0,\n    inject: 0,\n    reduceRight: 0,\n    foldr: 0,\n    find: 3,\n    detect: 3,\n    filter: 3,\n    select: 3,\n    reject: 3,\n    every: 3,\n    all: 3,\n    some: 3,\n    any: 3,\n    include: 3,\n    includes: 3,\n    contains: 3,\n    invoke: 0,\n    max: 3,\n    min: 3,\n    toArray: 1,\n    size: 1,\n    first: 3,\n    head: 3,\n    take: 3,\n    initial: 3,\n    rest: 3,\n    tail: 3,\n    drop: 3,\n    last: 3,\n    without: 0,\n    difference: 0,\n    indexOf: 3,\n    shuffle: 1,\n    lastIndexOf: 3,\n    isEmpty: 1,\n    chain: 1,\n    sample: 3,\n    partition: 3,\n    groupBy: 3,\n    countBy: 3,\n    sortBy: 3,\n    indexBy: 3,\n    findIndex: 3,\n    findLastIndex: 3\n  }; // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n\n  var modelMethods = {\n    keys: 1,\n    values: 1,\n    pairs: 1,\n    invert: 1,\n    pick: 0,\n    omit: 0,\n    chain: 1,\n    isEmpty: 1\n  }; // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([[Collection, collectionMethods, 'models'], [Model, modelMethods, 'attributes']], function (config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function (obj) {\n      var mappings = _.reduce(_.functions(obj), function (memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  }); // Backbone.sync\n  // -------------\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n\n\n  Backbone.sync = function (method, model, options) {\n    var type = methodMap[method]; // Default options, unless specified.\n\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    }); // Default JSON-request options.\n\n\n    var params = {\n      type: type,\n      dataType: 'json'\n    }; // Ensure that we have a URL.\n\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    } // Ensure that we have the appropriate request data.\n\n\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    } // For older servers, emulate JSON by encoding the request into an HTML-form.\n\n\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {\n        model: params.data\n      } : {};\n    } // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n\n\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n\n      options.beforeSend = function (xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    } // Don't process data on a non-GET request.\n\n\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    } // Pass along `textStatus` and `errorThrown` from jQuery.\n\n\n    var error = options.error;\n\n    options.error = function (xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    }; // Make the request, allowing the user to override any Ajax options.\n\n\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  }; // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n\n\n  var methodMap = {\n    create: 'POST',\n    update: 'PUT',\n    patch: 'PATCH',\n    delete: 'DELETE',\n    read: 'GET'\n  }; // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n\n  Backbone.ajax = function () {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  }; // Backbone.Router\n  // ---------------\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n\n\n  var Router = Backbone.Router = function (options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n\n    this._bindRoutes();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n\n\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam = /(\\(\\?)?:\\w+/g;\n  var splatParam = /\\*\\w+/g;\n  var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g; // Set up all inheritable **Backbone.Router** properties and methods.\n\n  _.extend(Router.prototype, Events, {\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function (route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function (fragment) {\n        var args = router._extractParameters(route, fragment);\n\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function (callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function (fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function () {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n\n      var route,\n          routes = _.keys(this.routes);\n\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function (route) {\n      route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n        return optional ? match : '([^/?]+)';\n      }).replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function (route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function (param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n  }); // Backbone.History\n  // ----------------\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n\n\n  var History = Backbone.History = function () {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this); // Ensure that `History` can be used outside of the browser.\n\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  }; // Cached regex for stripping a leading hash/slash and trailing space.\n\n\n  var routeStripper = /^[#\\/]|\\s+$/g; // Cached regex for stripping leading and trailing slashes.\n\n  var rootStripper = /^\\/+|\\/+$/g; // Cached regex for stripping urls of hash.\n\n  var pathStripper = /#.*$/; // Has the history handling already been started?\n\n  History.started = false; // Set up all inheritable **Backbone.History** properties and methods.\n\n  _.extend(History.prototype, Events, {\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n    // Are we at the app root?\n    atRoot: function () {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n    // Does the pathname match the root?\n    matchRoot: function () {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function (fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function () {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function (window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n    // Get the pathname and search params, without the root.\n    getPath: function () {\n      var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function (fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n\n      return fragment.replace(routeStripper, '');\n    },\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function (options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true; // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n\n      this.options = _.extend({\n        root: '/'\n      }, this.options, options);\n      this.root = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState = !!this.options.pushState;\n      this._hasPushState = !!(this.history && this.history.pushState);\n      this._usePushState = this._wantsPushState && this._hasPushState;\n      this.fragment = this.getFragment(); // Normalize root to always include a leading and trailing slash.\n\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/'); // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n\n      if (this._wantsHashChange && this._wantsPushState) {\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath()); // Return immediately as browser will do redirect to new url\n\n          return true; // Or if we've started out with a hash-based route, but we're currently\n          // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {\n            replace: true\n          });\n        }\n      } // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n\n\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body; // Using `appendChild` will throw on IE < 9 if the document is not ready.\n\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      } // Add a cross-platform `addEventListener` shim for older browsers.\n\n\n      var addEventListener = window.addEventListener || function (eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      }; // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n\n\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function () {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function (eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      }; // Remove window listeners.\n\n\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      } // Clean up the iframe if necessary.\n\n\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      } // Some environments will throw when clearing an undefined interval.\n\n\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function (route, callback) {\n      this.handlers.unshift({\n        route: route,\n        callback: callback\n      });\n    },\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function (e) {\n      var current = this.getFragment(); // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function (fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function (handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function (fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {\n        trigger: !!options\n      }; // Normalize the fragment.\n\n      fragment = this.getFragment(fragment || ''); // Don't include a trailing slash on the root.\n\n      var rootPath = this.root;\n\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n\n      var url = rootPath + fragment; // Strip the fragment of the query and hash for matching.\n\n      fragment = fragment.replace(pathStripper, ''); // Decode for matching.\n\n      var decodedFragment = this.decodeFragment(fragment);\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment; // If pushState is available, we use it to set the fragment as a real URL.\n\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url); // If hash changes haven't been explicitly disabled, update the hash\n        // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow; // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        } // If you've told us that you explicitly don't want fallback hashchange-\n        // based history, then `navigate` becomes a page refresh.\n\n      } else {\n        return this.location.assign(url);\n      }\n\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function (location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n  }); // Create the default Backbone.history.\n\n\n  Backbone.history = new History(); // Helpers\n  // -------\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n\n  var extend = function (protoProps, staticProps) {\n    var parent = this;\n    var child; // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function () {\n        return parent.apply(this, arguments);\n      };\n    } // Add static properties to the constructor function, if supplied.\n\n\n    _.extend(child, parent, staticProps); // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n\n\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child; // Set a convenience property in case the parent's prototype is needed\n    // later.\n\n    child.__super__ = parent.prototype;\n    return child;\n  }; // Set up inheritance for the model, collection, router, view and history.\n\n\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend; // Throw an error when a URL is needed, and none is supplied.\n\n  var urlError = function () {\n    throw new Error('A \"url\" property or function must be specified');\n  }; // Wrap an optional error callback with a fallback error event.\n\n\n  var wrapError = function (model, options) {\n    var error = options.error;\n\n    options.error = function (resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n}(backbone, backbone.exports));\n\nvar Backbone = backbone.exports;\n\nexport { Backbone as default };\n","import { j as js_cookie } from '../../../../_virtual/js.cookie.js';\n\n/*!\n * JavaScript Cookie v2.1.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n\n(function (module, exports) {\n(function (factory) {\n  {\n    module.exports = factory();\n  }\n})(function () {\n  function extend() {\n    var i = 0;\n    var result = {};\n\n    for (; i < arguments.length; i++) {\n      var attributes = arguments[i];\n\n      for (var key in attributes) {\n        result[key] = attributes[key];\n      }\n    }\n\n    return result;\n  }\n\n  function init(converter) {\n    function api(key, value, attributes) {\n      var result; // Write\n\n      if (arguments.length > 1) {\n        attributes = extend({\n          path: '/'\n        }, api.defaults, attributes);\n\n        if (typeof attributes.expires === 'number') {\n          var expires = new Date();\n          expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n          attributes.expires = expires;\n        }\n\n        try {\n          result = JSON.stringify(value);\n\n          if (/^[\\{\\[]/.test(result)) {\n            value = result;\n          }\n        } catch (e) {}\n\n        if (!converter.write) {\n          value = encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n        } else {\n          value = converter.write(value, key);\n        }\n\n        key = encodeURIComponent(String(key));\n        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n        key = key.replace(/[\\(\\)]/g, escape);\n        return document.cookie = [key, '=', value, attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n        attributes.path && '; path=' + attributes.path, attributes.domain && '; domain=' + attributes.domain, attributes.secure ? '; secure' : ''].join('');\n      } // Read\n\n\n      if (!key) {\n        result = {};\n      } // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all. Also prevents odd result when\n      // calling \"get()\"\n\n\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var rdecode = /(%[0-9A-Z]{2})+/g;\n      var i = 0;\n\n      for (; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var name = parts[0].replace(rdecode, decodeURIComponent);\n        var cookie = parts.slice(1).join('=');\n\n        if (cookie.charAt(0) === '\"') {\n          cookie = cookie.slice(1, -1);\n        }\n\n        try {\n          cookie = converter.read ? converter.read(cookie, name) : converter(cookie, name) || cookie.replace(rdecode, decodeURIComponent);\n\n          if (this.json) {\n            try {\n              cookie = JSON.parse(cookie);\n            } catch (e) {}\n          }\n\n          if (key === name) {\n            result = cookie;\n            break;\n          }\n\n          if (!key) {\n            result[name] = cookie;\n          }\n        } catch (e) {}\n      }\n\n      return result;\n    }\n\n    api.get = api.set = api;\n\n    api.getJSON = function () {\n      return api.apply({\n        json: true\n      }, [].slice.call(arguments));\n    };\n\n    api.defaults = {};\n\n    api.remove = function (key, attributes) {\n      api(key, '', extend(attributes, {\n        expires: -1\n      }));\n    };\n\n    api.withConverter = init;\n    return api;\n  }\n\n  return init(function () {});\n});\n}(js_cookie));\n\nvar Cookie = js_cookie.exports;\n\nexport { Cookie as default };\n","import $ from 'jquery';\n\n(function () {\n  var SelectParser;\n\n  SelectParser = function () {\n    function SelectParser() {\n      this.options_index = 0;\n      this.parsed = [];\n    }\n\n    SelectParser.prototype.add_node = function (child) {\n      if (child.nodeName.toUpperCase() === \"OPTGROUP\") {\n        return this.add_group(child);\n      } else {\n        return this.add_option(child);\n      }\n    };\n\n    SelectParser.prototype.add_group = function (group) {\n      var group_position, option, _i, _len, _ref, _results;\n\n      group_position = this.parsed.length;\n      this.parsed.push({\n        array_index: group_position,\n        group: true,\n        label: group.label,\n        children: 0,\n        disabled: group.disabled\n      });\n      _ref = group.childNodes;\n      _results = [];\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        option = _ref[_i];\n\n        _results.push(this.add_option(option, group_position, group.disabled));\n      }\n\n      return _results;\n    };\n\n    SelectParser.prototype.add_option = function (option, group_position, group_disabled) {\n      if (option.nodeName.toUpperCase() === \"OPTION\") {\n        if (option.text !== \"\") {\n          if (group_position != null) {\n            this.parsed[group_position].children += 1;\n          }\n\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            value: option.value,\n            text: option.text,\n            html: option.innerHTML,\n            selected: option.selected,\n            disabled: group_disabled === true ? group_disabled : option.disabled,\n            group_array_index: group_position,\n            classes: option.className,\n            style: option.style.cssText\n          });\n        } else {\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            empty: true\n          });\n        }\n\n        return this.options_index += 1;\n      }\n    };\n\n    return SelectParser;\n  }();\n\n  SelectParser.select_to_array = function (select) {\n    var child, parser, _i, _len, _ref;\n\n    parser = new SelectParser();\n    _ref = select.childNodes;\n\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      child = _ref[_i];\n      parser.add_node(child);\n    }\n\n    return parser.parsed;\n  };\n\n  this.SelectParser = SelectParser;\n}).call($);\n(function () {\n  var AbstractChosen, root;\n  root = this;\n\n  AbstractChosen = function () {\n    function AbstractChosen(form_field, options) {\n      this.form_field = form_field;\n      this.options = options != null ? options : {};\n\n      if (!AbstractChosen.browser_is_supported()) {\n        return;\n      }\n\n      this.is_multiple = this.form_field.multiple;\n      this.set_default_text();\n      this.set_default_values();\n      this.setup();\n      this.set_up_html();\n      this.register_observers();\n      this.finish_setup();\n    }\n\n    AbstractChosen.prototype.set_default_values = function () {\n      var _this = this;\n\n      this.click_test_action = function (evt) {\n        return _this.test_active_click(evt);\n      };\n\n      this.activate_action = function (evt) {\n        return _this.activate_field(evt);\n      };\n\n      this.active_field = false;\n      this.mouse_on_container = false;\n      this.results_showing = false;\n      this.result_highlighted = null;\n      this.result_single_selected = null;\n      this.allow_single_deselect = this.options.allow_single_deselect != null && this.form_field.options[0] != null && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\n      this.disable_search_threshold = this.options.disable_search_threshold || 0;\n      this.disable_search = this.options.disable_search || false;\n      this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\n      this.search_contains = this.options.search_contains || false;\n      this.single_backstroke_delete = this.options.single_backstroke_delete || false;\n      this.max_selected_options = this.options.max_selected_options || Infinity;\n      return this.inherit_select_classes = this.options.inherit_select_classes || false;\n    };\n\n    AbstractChosen.prototype.set_default_text = function () {\n      if (this.form_field.getAttribute(\"data-placeholder\")) {\n        this.default_text = this.form_field.getAttribute(\"data-placeholder\");\n      } else if (this.is_multiple) {\n        this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\n      } else {\n        this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\n      }\n\n      return this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\n    };\n\n    AbstractChosen.prototype.mouse_enter = function () {\n      return this.mouse_on_container = true;\n    };\n\n    AbstractChosen.prototype.mouse_leave = function () {\n      return this.mouse_on_container = false;\n    };\n\n    AbstractChosen.prototype.input_focus = function (evt) {\n      var _this = this;\n\n      if (this.is_multiple) {\n        if (!this.active_field) {\n          return setTimeout(function () {\n            return _this.container_mousedown();\n          }, 50);\n        }\n      } else {\n        if (!this.active_field) {\n          return this.activate_field();\n        }\n      }\n    };\n\n    AbstractChosen.prototype.input_blur = function (evt) {\n      var _this = this;\n\n      if (!this.mouse_on_container) {\n        this.active_field = false;\n        return setTimeout(function () {\n          return _this.blur_test();\n        }, 100);\n      }\n    };\n\n    AbstractChosen.prototype.result_add_option = function (option) {\n      var classes, style;\n      option.dom_id = this.container_id + \"_o_\" + option.array_index;\n      classes = [];\n\n      if (!option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"active-result\");\n      }\n\n      if (option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"disabled-result\");\n      }\n\n      if (option.selected) {\n        classes.push(\"result-selected\");\n      }\n\n      if (option.group_array_index != null) {\n        classes.push(\"group-option\");\n      }\n\n      if (option.classes !== \"\") {\n        classes.push(option.classes);\n      }\n\n      style = option.style.cssText !== \"\" && option.style !== \"\" ? \" style=\\\"\" + option.style + \"\\\"\" : \"\";\n      return \"<li id=\\\"\" + option.dom_id + \"\\\" class=\\\"\" + classes.join(\" \") + \"\\\"\" + style + \">\" + option.html + \"</li>\";\n    };\n\n    AbstractChosen.prototype.results_update_field = function () {\n      this.set_default_text();\n\n      if (!this.is_multiple) {\n        this.results_reset_cleanup();\n      }\n\n      this.result_clear_highlight();\n      this.result_single_selected = null;\n      return this.results_build();\n    };\n\n    AbstractChosen.prototype.results_toggle = function () {\n      if (this.results_showing) {\n        return this.results_hide();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.results_search = function (evt) {\n      if (this.results_showing) {\n        return this.winnow_results();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.choices_count = function () {\n      var option, _i, _len, _ref;\n\n      if (this.selected_option_count != null) {\n        return this.selected_option_count;\n      }\n\n      this.selected_option_count = 0;\n      _ref = this.form_field.options;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        option = _ref[_i];\n\n        if (option.selected) {\n          this.selected_option_count += 1;\n        }\n      }\n\n      return this.selected_option_count;\n    };\n\n    AbstractChosen.prototype.choices_click = function (evt) {\n      evt.preventDefault();\n\n      if (!(this.results_showing || this.is_disabled)) {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.keyup_checker = function (evt) {\n      var stroke, _ref;\n\n      stroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\n      this.search_field_scale();\n\n      switch (stroke) {\n        case 8:\n          if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\n            return this.keydown_backstroke();\n          } else if (!this.pending_backstroke) {\n            this.result_clear_highlight();\n            return this.results_search();\n          }\n\n          break;\n\n        case 13:\n          evt.preventDefault();\n\n          if (this.results_showing) {\n            return this.result_select(evt);\n          }\n\n          break;\n\n        case 27:\n          if (this.results_showing) {\n            this.results_hide();\n          }\n\n          return true;\n\n        case 9:\n        case 38:\n        case 40:\n        case 16:\n        case 91:\n        case 17:\n          break;\n\n        default:\n          return this.results_search();\n      }\n    };\n\n    AbstractChosen.prototype.generate_field_id = function () {\n      var new_id;\n      new_id = this.generate_random_id();\n      this.form_field.id = new_id;\n      return new_id;\n    };\n\n    AbstractChosen.prototype.generate_random_char = function () {\n      var chars, rand;\n      chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n      rand = Math.floor(Math.random() * chars.length);\n      return chars.substring(rand, rand + 1);\n    };\n\n    AbstractChosen.prototype.container_width = function () {\n      if (this.options.width != null) {\n        return this.options.width;\n      } else {\n        return \"\" + this.form_field.offsetWidth + \"px\";\n      }\n    };\n\n    AbstractChosen.browser_is_supported = function () {\n      var _ref;\n\n      if (window.navigator.appName === \"Microsoft Internet Explorer\") {\n        return null !== (_ref = document.documentMode) && _ref >= 8;\n      }\n\n      return true;\n    };\n\n    AbstractChosen.default_multiple_text = \"Select Some Options\";\n    AbstractChosen.default_single_text = \"Select an Option\";\n    AbstractChosen.default_no_result_text = \"No results match\";\n    return AbstractChosen;\n  }();\n\n  root.AbstractChosen = AbstractChosen;\n}).call($);\n(function () {\n  var $$1,\n      Chosen,\n      root,\n      _ref,\n      __hasProp = {}.hasOwnProperty,\n      __extends = function (child, parent) {\n    for (var key in parent) {\n      if (__hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  };\n\n  root = this;\n  var AbstractChosen = root.AbstractChosen;\n  $$1 = $;\n  $$1.fn.extend({\n    chosen: function (options) {\n      if (!AbstractChosen.browser_is_supported()) {\n        return this;\n      }\n\n      return this.each(function (input_field) {\n        var $this;\n        $this = $$1(this);\n\n        if (!$this.hasClass(\"chzn-done\")) {\n          return $this.data(\"chosen\", new Chosen(this, options));\n        }\n      });\n    }\n  });\n\n  Chosen = function (_super) {\n    __extends(Chosen, _super);\n\n    function Chosen() {\n      _ref = Chosen.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Chosen.prototype.setup = function () {\n      this.form_field_jq = $$1(this.form_field);\n      this.current_selectedIndex = this.form_field.selectedIndex;\n      return this.is_rtl = this.form_field_jq.hasClass(\"chzn-rtl\");\n    };\n\n    Chosen.prototype.finish_setup = function () {\n      return this.form_field_jq.addClass(\"chzn-done\");\n    };\n\n    Chosen.prototype.set_up_html = function () {\n      var container_classes, container_props;\n      this.container_id = this.form_field.id.length ? this.form_field.id.replace(/[^\\w]/g, \"_\") : this.generate_field_id();\n      this.container_id += \"_chzn\";\n      container_classes = [\"chzn-container\"];\n      container_classes.push(\"chzn-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\n\n      if (this.inherit_select_classes && this.form_field.className) {\n        container_classes.push(this.form_field.className);\n      }\n\n      if (this.is_rtl) {\n        container_classes.push(\"chzn-rtl\");\n      }\n\n      container_props = {\n        \"id\": this.container_id,\n        \"class\": container_classes.join(\" \"),\n        \"title\": this.form_field.title\n      };\n      this.container = $$1(\"<div></div>\", container_props);\n      this.container[0].style.width = this.container_width();\n\n      if (this.is_multiple) {\n        this.container.html(\"<ul class=\\\"chzn-choices\\\"><li class=\\\"search-field\\\"><input type=\\\"text\\\" value=\\\"\" + this.default_text + \"\\\" class=\\\"default\\\" autocomplete=\\\"off\\\" style=\\\"width:25px;\\\" /></li></ul><div class=\\\"chzn-drop\\\"><ul class=\\\"chzn-results\\\"></ul></div>\");\n      } else {\n        this.container.html(\"<a href=\\\"#\\\" class=\\\"chzn-single chzn-default\\\" tabindex=\\\"-1\\\"><span>\" + this.default_text + \"</span><div><b></b></div></a><div class=\\\"chzn-drop\\\"><div class=\\\"chzn-search\\\"><input type=\\\"text\\\" autocomplete=\\\"off\\\" /></div><ul class=\\\"chzn-results\\\"></ul></div>\");\n      }\n\n      this.form_field_jq.hide().after(this.container);\n      this.dropdown = this.container.find(\"div.chzn-drop\").first();\n      this.search_field = this.container.find(\"input\").first();\n      this.search_results = this.container.find(\"ul.chzn-results\").first();\n      this.search_field_scale();\n      this.search_no_results = this.container.find(\"li.no-results\").first();\n\n      if (this.is_multiple) {\n        this.search_choices = this.container.find(\"ul.chzn-choices\").first();\n        this.search_container = this.container.find(\"li.search-field\").first();\n      } else {\n        this.search_container = this.container.find(\"div.chzn-search\").first();\n        this.selected_item = this.container.find(\".chzn-single\").first();\n      }\n\n      this.results_build();\n      this.set_tab_index();\n      this.set_label_behavior();\n      return this.form_field_jq.trigger(\"liszt:ready\", {\n        chosen: this\n      });\n    };\n\n    Chosen.prototype.register_observers = function () {\n      var _this = this;\n\n      this.container.mousedown(function (evt) {\n        _this.container_mousedown(evt);\n      });\n      this.container.mouseup(function (evt) {\n        _this.container_mouseup(evt);\n      });\n      this.container.mouseenter(function (evt) {\n        _this.mouse_enter(evt);\n      });\n      this.container.mouseleave(function (evt) {\n        _this.mouse_leave(evt);\n      });\n      this.search_results.mouseup(function (evt) {\n        _this.search_results_mouseup(evt);\n      });\n      this.search_results.mouseover(function (evt) {\n        _this.search_results_mouseover(evt);\n      });\n      this.search_results.mouseout(function (evt) {\n        _this.search_results_mouseout(evt);\n      });\n      this.search_results.bind(\"mousewheel DOMMouseScroll\", function (evt) {\n        _this.search_results_mousewheel(evt);\n      });\n      this.form_field_jq.bind(\"liszt:updated\", function (evt) {\n        _this.results_update_field(evt);\n      });\n      this.form_field_jq.bind(\"liszt:activate\", function (evt) {\n        _this.activate_field(evt);\n      });\n      this.form_field_jq.bind(\"liszt:open\", function (evt) {\n        _this.container_mousedown(evt);\n      });\n      this.search_field.blur(function (evt) {\n        _this.input_blur(evt);\n      });\n      this.search_field.keyup(function (evt) {\n        _this.keyup_checker(evt);\n      });\n      this.search_field.keydown(function (evt) {\n        _this.keydown_checker(evt);\n      });\n      this.search_field.focus(function (evt) {\n        _this.input_focus(evt);\n      });\n\n      if (this.is_multiple) {\n        return this.search_choices.click(function (evt) {\n          _this.choices_click(evt);\n        });\n      } else {\n        return this.container.click(function (evt) {\n          evt.preventDefault();\n        });\n      }\n    };\n\n    Chosen.prototype.search_field_disabled = function () {\n      this.is_disabled = this.form_field_jq[0].disabled;\n\n      if (this.is_disabled) {\n        this.container.addClass(\"chzn-disabled\");\n        this.search_field[0].disabled = true;\n\n        if (!this.is_multiple) {\n          this.selected_item.unbind(\"focus\", this.activate_action);\n        }\n\n        return this.close_field();\n      } else {\n        this.container.removeClass(\"chzn-disabled\");\n        this.search_field[0].disabled = false;\n\n        if (!this.is_multiple) {\n          return this.selected_item.bind(\"focus\", this.activate_action);\n        }\n      }\n    };\n\n    Chosen.prototype.container_mousedown = function (evt) {\n      if (!this.is_disabled) {\n        if (evt && evt.type === \"mousedown\" && !this.results_showing) {\n          evt.preventDefault();\n        }\n\n        if (!(evt != null && $$1(evt.target).hasClass(\"search-choice-close\"))) {\n          if (!this.active_field) {\n            if (this.is_multiple) {\n              this.search_field.val(\"\");\n            }\n\n            $$1(document).click(this.click_test_action);\n            this.results_show();\n          } else if (!this.is_multiple && evt && ($$1(evt.target)[0] === this.selected_item[0] || $$1(evt.target).parents(\"a.chzn-single\").length)) {\n            evt.preventDefault();\n            this.results_toggle();\n          }\n\n          return this.activate_field();\n        }\n      }\n    };\n\n    Chosen.prototype.container_mouseup = function (evt) {\n      if (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\n        return this.results_reset(evt);\n      }\n    };\n\n    Chosen.prototype.search_results_mousewheel = function (evt) {\n      var delta, _ref1, _ref2;\n\n      delta = -((_ref1 = evt.originalEvent) != null ? _ref1.wheelDelta : void 0) || ((_ref2 = evt.originialEvent) != null ? _ref2.detail : void 0);\n\n      if (delta != null) {\n        evt.preventDefault();\n\n        if (evt.type === \"DOMMouseScroll\") {\n          delta = delta * 40;\n        }\n\n        return this.search_results.scrollTop(delta + this.search_results.scrollTop());\n      }\n    };\n\n    Chosen.prototype.blur_test = function (evt) {\n      if (!this.active_field && this.container.hasClass(\"chzn-container-active\")) {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.close_field = function () {\n      $$1(document).unbind(\"click\", this.click_test_action);\n      this.active_field = false;\n      this.results_hide();\n      this.container.removeClass(\"chzn-container-active\");\n      this.clear_backstroke();\n      this.show_search_field_default();\n      return this.search_field_scale();\n    };\n\n    Chosen.prototype.activate_field = function () {\n      this.container.addClass(\"chzn-container-active\");\n      this.active_field = true;\n      this.search_field.val(this.search_field.val());\n      return this.search_field.focus();\n    };\n\n    Chosen.prototype.test_active_click = function (evt) {\n      if ($$1(evt.target).parents(\"#\" + this.container_id).length) {\n        return this.active_field = true;\n      } else {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.results_build = function () {\n      var content, data, _i, _len, _ref1;\n\n      this.parsing = true;\n      this.selected_option_count = null;\n      this.results_data = root.SelectParser.select_to_array(this.form_field);\n\n      if (this.is_multiple) {\n        this.search_choices.find(\"li.search-choice\").remove();\n      } else if (!this.is_multiple) {\n        this.selected_item.addClass(\"chzn-default\").find(\"span\").text(this.default_text);\n\n        if (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\n          this.search_field[0].readOnly = true;\n          this.container.addClass(\"chzn-container-single-nosearch\");\n        } else {\n          this.search_field[0].readOnly = false;\n          this.container.removeClass(\"chzn-container-single-nosearch\");\n        }\n      }\n\n      content = \"\";\n      _ref1 = this.results_data;\n\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        data = _ref1[_i];\n\n        if (data.group) {\n          content += this.result_add_group(data);\n        } else if (!data.empty) {\n          content += this.result_add_option(data);\n\n          if (data.selected && this.is_multiple) {\n            this.choice_build(data);\n          } else if (data.selected && !this.is_multiple) {\n            this.selected_item.removeClass(\"chzn-default\").find(\"span\").text(data.text);\n\n            if (this.allow_single_deselect) {\n              this.single_deselect_control_build();\n            }\n          }\n        }\n      }\n\n      this.search_field_disabled();\n      this.show_search_field_default();\n      this.search_field_scale();\n      this.search_results.html(content);\n      return this.parsing = false;\n    };\n\n    Chosen.prototype.result_add_group = function (group) {\n      group.dom_id = this.container_id + \"_g_\" + group.array_index;\n      return \"<li id=\\\"\" + group.dom_id + \"\\\" class=\\\"group-result\\\">\" + $$1(\"<div></div>\").text(group.label).html() + \"</li>\";\n    };\n\n    Chosen.prototype.result_do_highlight = function (el) {\n      var high_bottom, high_top, maxHeight, visible_bottom, visible_top;\n\n      if (el.length) {\n        this.result_clear_highlight();\n        this.result_highlight = el;\n        this.result_highlight.addClass(\"highlighted\");\n        maxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\n        visible_top = this.search_results.scrollTop();\n        visible_bottom = maxHeight + visible_top;\n        high_top = this.result_highlight.position().top + this.search_results.scrollTop();\n        high_bottom = high_top + this.result_highlight.outerHeight();\n\n        if (high_bottom >= visible_bottom) {\n          return this.search_results.scrollTop(high_bottom - maxHeight > 0 ? high_bottom - maxHeight : 0);\n        } else if (high_top < visible_top) {\n          return this.search_results.scrollTop(high_top);\n        }\n      }\n    };\n\n    Chosen.prototype.result_clear_highlight = function () {\n      if (this.result_highlight) {\n        this.result_highlight.removeClass(\"highlighted\");\n      }\n\n      return this.result_highlight = null;\n    };\n\n    Chosen.prototype.results_show = function () {\n      if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n        this.form_field_jq.trigger(\"liszt:maxselected\", {\n          chosen: this\n        });\n        return false;\n      }\n\n      this.container.addClass(\"chzn-with-drop\");\n      this.form_field_jq.trigger(\"liszt:showing_dropdown\", {\n        chosen: this\n      });\n      this.results_showing = true;\n      this.search_field.focus();\n      this.search_field.val(this.search_field.val());\n      return this.winnow_results();\n    };\n\n    Chosen.prototype.results_hide = function () {\n      if (this.results_showing) {\n        this.result_clear_highlight();\n        this.container.removeClass(\"chzn-with-drop\");\n        this.form_field_jq.trigger(\"liszt:hiding_dropdown\", {\n          chosen: this\n        });\n      }\n\n      return this.results_showing = false;\n    };\n\n    Chosen.prototype.set_tab_index = function (el) {\n      var ti;\n\n      if (this.form_field_jq.attr(\"tabindex\")) {\n        ti = this.form_field_jq.attr(\"tabindex\");\n        this.form_field_jq.attr(\"tabindex\", -1);\n        return this.search_field.attr(\"tabindex\", ti);\n      }\n    };\n\n    Chosen.prototype.set_label_behavior = function () {\n      var _this = this;\n\n      this.form_field_label = this.form_field_jq.parents(\"label\");\n\n      if (!this.form_field_label.length && this.form_field.id.length) {\n        this.form_field_label = $$1(\"label[for='\" + this.form_field.id + \"']\");\n      }\n\n      if (this.form_field_label.length > 0) {\n        return this.form_field_label.click(function (evt) {\n          if (_this.is_multiple) {\n            return _this.container_mousedown(evt);\n          } else {\n            return _this.activate_field();\n          }\n        });\n      }\n    };\n\n    Chosen.prototype.show_search_field_default = function () {\n      if (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\n        this.search_field.val(this.default_text);\n        return this.search_field.addClass(\"default\");\n      } else {\n        this.search_field.val(\"\");\n        return this.search_field.removeClass(\"default\");\n      }\n    };\n\n    Chosen.prototype.search_results_mouseup = function (evt) {\n      var target;\n      target = $$1(evt.target).hasClass(\"active-result\") ? $$1(evt.target) : $$1(evt.target).parents(\".active-result\").first();\n\n      if (target.length) {\n        this.result_highlight = target;\n        this.result_select(evt);\n        return this.search_field.focus();\n      }\n    };\n\n    Chosen.prototype.search_results_mouseover = function (evt) {\n      var target;\n      target = $$1(evt.target).hasClass(\"active-result\") ? $$1(evt.target) : $$1(evt.target).parents(\".active-result\").first();\n\n      if (target) {\n        return this.result_do_highlight(target);\n      }\n    };\n\n    Chosen.prototype.search_results_mouseout = function (evt) {\n      if ($$1(evt.target).hasClass(\"active-result\" )) {\n        return this.result_clear_highlight();\n      }\n    };\n\n    Chosen.prototype.choice_build = function (item) {\n      var choice,\n          close_link,\n          _this = this;\n\n      choice = $$1(\"<li></li>\", {\n        \"class\": \"search-choice\"\n      }).html(\"<span>\" + item.html + \"</span>\");\n\n      if (item.disabled) {\n        choice.addClass(\"search-choice-disabled\");\n      } else {\n        close_link = $$1(\"<a></a>\", {\n          href: \"#\",\n          \"class\": \"search-choice-close\",\n          rel: item.array_index\n        });\n        close_link.click(function (evt) {\n          return _this.choice_destroy_link_click(evt);\n        });\n        choice.append(close_link);\n      }\n\n      return this.search_container.before(choice);\n    };\n\n    Chosen.prototype.choice_destroy_link_click = function (evt) {\n      evt.preventDefault();\n      evt.stopPropagation();\n\n      if (!this.is_disabled) {\n        return this.choice_destroy($$1(evt.target));\n      }\n    };\n\n    Chosen.prototype.choice_destroy = function (link) {\n      if (this.result_deselect(link.attr(\"rel\"))) {\n        this.show_search_field_default();\n\n        if (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\n          this.results_hide();\n        }\n\n        link.parents(\"li\").first().remove();\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.results_reset = function () {\n      this.form_field.options[0].selected = true;\n      this.selected_option_count = null;\n      this.selected_item.find(\"span\").text(this.default_text);\n\n      if (!this.is_multiple) {\n        this.selected_item.addClass(\"chzn-default\");\n      }\n\n      this.show_search_field_default();\n      this.results_reset_cleanup();\n      this.form_field_jq.trigger(\"change\");\n\n      if (this.active_field) {\n        return this.results_hide();\n      }\n    };\n\n    Chosen.prototype.results_reset_cleanup = function () {\n      this.current_selectedIndex = this.form_field.selectedIndex;\n      return this.selected_item.find(\"abbr\").remove();\n    };\n\n    Chosen.prototype.result_select = function (evt) {\n      var high, high_id, item, position;\n\n      if (this.result_highlight) {\n        high = this.result_highlight;\n        high_id = high.attr(\"id\");\n        this.result_clear_highlight();\n\n        if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n          this.form_field_jq.trigger(\"liszt:maxselected\", {\n            chosen: this\n          });\n          return false;\n        }\n\n        if (this.is_multiple) {\n          high.removeClass(\"active-result\");\n        } else {\n          this.search_results.find(\".result-selected\").removeClass(\"result-selected\");\n          this.result_single_selected = high;\n          this.selected_item.removeClass(\"chzn-default\");\n        }\n\n        high.addClass(\"result-selected\");\n        position = high_id.substr(high_id.lastIndexOf(\"_\") + 1);\n        item = this.results_data[position];\n        item.selected = true;\n        this.form_field.options[item.options_index].selected = true;\n        this.selected_option_count = null;\n\n        if (this.is_multiple) {\n          this.choice_build(item);\n        } else {\n          this.selected_item.find(\"span\").first().text(item.text);\n\n          if (this.allow_single_deselect) {\n            this.single_deselect_control_build();\n          }\n        }\n\n        if (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\n          this.results_hide();\n        }\n\n        this.search_field.val(\"\");\n\n        if (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\n          this.form_field_jq.trigger(\"change\", {\n            \"selected\": this.form_field.options[item.options_index].value\n          });\n        }\n\n        this.current_selectedIndex = this.form_field.selectedIndex;\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.result_activate = function (el, option) {\n      if (option.disabled) {\n        return el.addClass(\"disabled-result\");\n      } else if (this.is_multiple && option.selected) {\n        return el.addClass(\"result-selected\");\n      } else {\n        return el.addClass(\"active-result\");\n      }\n    };\n\n    Chosen.prototype.result_deactivate = function (el) {\n      return el.removeClass(\"active-result result-selected disabled-result\");\n    };\n\n    Chosen.prototype.result_deselect = function (pos) {\n      var result, result_data;\n      result_data = this.results_data[pos];\n\n      if (!this.form_field.options[result_data.options_index].disabled) {\n        result_data.selected = false;\n        this.form_field.options[result_data.options_index].selected = false;\n        this.selected_option_count = null;\n        result = $$1(\"#\" + this.container_id + \"_o_\" + pos);\n        result.removeClass(\"result-selected\").addClass(\"active-result\").show();\n        this.result_clear_highlight();\n        this.winnow_results();\n        this.form_field_jq.trigger(\"change\", {\n          deselected: this.form_field.options[result_data.options_index].value\n        });\n        this.search_field_scale();\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Chosen.prototype.single_deselect_control_build = function () {\n      if (!this.allow_single_deselect) {\n        return;\n      }\n\n      if (!this.selected_item.find(\"abbr\").length) {\n        this.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\n      }\n\n      return this.selected_item.addClass(\"chzn-single-with-deselect\");\n    };\n\n    Chosen.prototype.winnow_results = function () {\n      var found, option, part, parts, regex, regexAnchor, result, result_id, results, searchText, startpos, text, zregex, _i, _j, _len, _len1, _ref1;\n\n      this.no_results_clear();\n      results = 0;\n      searchText = this.search_field.val() === this.default_text ? \"\" : $$1(\"<div></div>\").text($$1.trim(this.search_field.val())).html();\n      regexAnchor = this.search_contains ? \"\" : \"^\";\n      regex = new RegExp(regexAnchor + searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), \"i\");\n      zregex = new RegExp(searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), \"i\");\n      _ref1 = this.results_data;\n\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        option = _ref1[_i];\n\n        if (!option.empty) {\n          if (option.group) {\n            $$1(\"#\" + option.dom_id).css(\"display\", \"none\");\n          } else {\n            found = false;\n            result_id = option.dom_id;\n            result = $$1(\"#\" + result_id);\n\n            if (regex.test(option.html)) {\n              found = true;\n              results += 1;\n            } else if (this.enable_split_word_search && (option.html.indexOf(\" \") >= 0 || option.html.indexOf(\"[\") === 0)) {\n              parts = option.html.replace(/\\[|\\]/g, \"\").split(\" \");\n\n              if (parts.length) {\n                for (_j = 0, _len1 = parts.length; _j < _len1; _j++) {\n                  part = parts[_j];\n\n                  if (regex.test(part)) {\n                    found = true;\n                    results += 1;\n                  }\n                }\n              }\n            }\n\n            if (found) {\n              if (searchText.length) {\n                startpos = option.html.search(zregex);\n                text = option.html.substr(0, startpos + searchText.length) + \"</em>\" + option.html.substr(startpos + searchText.length);\n                text = text.substr(0, startpos) + \"<em>\" + text.substr(startpos);\n              } else {\n                text = option.html;\n              }\n\n              result.html(text);\n              this.result_activate(result, option);\n\n              if (option.group_array_index != null) {\n                $$1(\"#\" + this.results_data[option.group_array_index].dom_id).css(\"display\", \"list-item\");\n              }\n            } else {\n              if (this.result_highlight && result_id === this.result_highlight.attr(\"id\")) {\n                this.result_clear_highlight();\n              }\n\n              this.result_deactivate(result);\n            }\n          }\n        }\n      }\n\n      if (results < 1 && searchText.length) {\n        return this.no_results(searchText);\n      } else {\n        return this.winnow_results_set_highlight();\n      }\n    };\n\n    Chosen.prototype.winnow_results_set_highlight = function () {\n      var do_high, selected_results;\n\n      if (!this.result_highlight) {\n        selected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\n        do_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\n\n        if (do_high != null) {\n          return this.result_do_highlight(do_high);\n        }\n      }\n    };\n\n    Chosen.prototype.no_results = function (terms) {\n      var no_results_html;\n      no_results_html = $$1(\"<li class=\\\"no-results\\\">\" + this.results_none_found + \" \\\"<span></span>\\\"</li>\");\n      no_results_html.find(\"span\").first().html(terms);\n      return this.search_results.append(no_results_html);\n    };\n\n    Chosen.prototype.no_results_clear = function () {\n      return this.search_results.find(\".no-results\").remove();\n    };\n\n    Chosen.prototype.keydown_arrow = function () {\n      var next_sib;\n\n      if (this.results_showing && this.result_highlight) {\n        next_sib = this.result_highlight.nextAll(\"li.active-result\").first();\n\n        if (next_sib) {\n          return this.result_do_highlight(next_sib);\n        }\n      } else {\n        return this.results_show();\n      }\n    };\n\n    Chosen.prototype.keyup_arrow = function () {\n      var prev_sibs;\n\n      if (!this.results_showing && !this.is_multiple) {\n        return this.results_show();\n      } else if (this.result_highlight) {\n        prev_sibs = this.result_highlight.prevAll(\"li.active-result\");\n\n        if (prev_sibs.length) {\n          return this.result_do_highlight(prev_sibs.first());\n        } else {\n          if (this.choices_count() > 0) {\n            this.results_hide();\n          }\n\n          return this.result_clear_highlight();\n        }\n      }\n    };\n\n    Chosen.prototype.keydown_backstroke = function () {\n      var next_available_destroy;\n\n      if (this.pending_backstroke) {\n        this.choice_destroy(this.pending_backstroke.find(\"a\").first());\n        return this.clear_backstroke();\n      } else {\n        next_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\n\n        if (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\n          this.pending_backstroke = next_available_destroy;\n\n          if (this.single_backstroke_delete) {\n            return this.keydown_backstroke();\n          } else {\n            return this.pending_backstroke.addClass(\"search-choice-focus\");\n          }\n        }\n      }\n    };\n\n    Chosen.prototype.clear_backstroke = function () {\n      if (this.pending_backstroke) {\n        this.pending_backstroke.removeClass(\"search-choice-focus\");\n      }\n\n      return this.pending_backstroke = null;\n    };\n\n    Chosen.prototype.keydown_checker = function (evt) {\n      var stroke, _ref1;\n\n      stroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\n      this.search_field_scale();\n\n      if (stroke !== 8 && this.pending_backstroke) {\n        this.clear_backstroke();\n      }\n\n      switch (stroke) {\n        case 8:\n          this.backstroke_length = this.search_field.val().length;\n          break;\n\n        case 9:\n          if (this.results_showing && !this.is_multiple) {\n            this.result_select(evt);\n          }\n\n          this.mouse_on_container = false;\n          break;\n\n        case 13:\n          evt.preventDefault();\n          break;\n\n        case 38:\n          evt.preventDefault();\n          this.keyup_arrow();\n          break;\n\n        case 40:\n          evt.preventDefault();\n          this.keydown_arrow();\n          break;\n      }\n    };\n\n    Chosen.prototype.search_field_scale = function () {\n      var div, style, style_block, styles, w, _i, _len;\n\n      if (this.is_multiple) {\n        w = 0;\n        style_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\n        styles = [\"font-size\", \"font-style\", \"font-weight\", \"font-family\", \"line-height\", \"text-transform\", \"letter-spacing\"];\n\n        for (_i = 0, _len = styles.length; _i < _len; _i++) {\n          style = styles[_i];\n          style_block += style + \":\" + this.search_field.css(style) + \";\";\n        }\n\n        div = $$1(\"<div></div>\", {\n          \"style\": style_block\n        });\n        div.text(this.search_field.val());\n        $$1(\"body\").append(div);\n        w = div.width() + 25;\n        div.remove();\n\n        if (!this.f_width) {\n          this.f_width = this.container.outerWidth();\n        }\n\n        if (w > this.f_width - 10) {\n          w = this.f_width - 10;\n        }\n\n        return this.search_field.css({\n          \"width\": w + \"px\"\n        });\n      }\n    };\n\n    Chosen.prototype.generate_random_id = function () {\n      var string;\n      string = \"sel\" + this.generate_random_char() + this.generate_random_char() + this.generate_random_char();\n\n      while ($$1(\"#\" + string).length > 0) {\n        string += this.generate_random_char();\n      }\n\n      return string;\n    };\n\n    return Chosen;\n  }(AbstractChosen);\n\n  root.Chosen = Chosen;\n}).call($);\n","import $ from 'jquery';\n\n/**\n * There are following local modifications:\n * - Author: Uzi Kilon ukilon@okta.com\n *   Bug: OKTA-20830 - solves the conflict when there are multiple labels\n */\n\n/**\n * --------------------------------------------------------------------\n * jQuery customInput plugin\n * Author: Maggie Costello Wachs maggie@filamentgroup.com, Scott Jehl, scott@filamentgroup.com\n * Copyright (c) 2009 Filament Group\n * licensed under MIT (filamentgroup.com/examples/mit-license.txt)\n * --------------------------------------------------------------------\n*/\n(function () {\n  var jQuery = $;\n\n  var $$1 = jQuery;\n\n  jQuery.fn.customInput = function () {\n    return $$1(this).each(function () {\n      if ($$1(this).is('[type=checkbox],[type=radio]')) {\n        var input = $$1(this); // get the associated label using the input's id\n\n        var label = input.siblings('label[for=\"' + input.attr('id') + '\"]:first');\n\n        if (!label.length) {\n          label = input.closest('label[for=\"' + input.attr('id') + '\"]:first');\n        } // wrap the input + label in a div\n\n\n        input.add(label).wrapAll('<div class=\"custom-' + input.attr('type') + '\"></div>'); // necessary for browsers that don't support the :hover pseudo class on labels\n\n        label.hover(function () {\n          $$1(this).addClass('hover');\n        }, function () {\n          $$1(this).removeClass('hover');\n        }); //bind custom event, trigger it, bind click,focus,blur events\n\n        input.bind('updateState', function () {\n          input.is(':checked') ? label.addClass('checked') : label.removeClass('checked checkedHover checkedFocus');\n        }).trigger('updateState').click(function () {\n          $$1('input[name=\"' + $$1(this).attr('name') + '\"]').trigger('updateState');\n        }).focus(function () {\n          label.addClass('focus');\n\n          if (input.is(':checked')) {\n            $$1(this).addClass('checkedFocus');\n          }\n        }).blur(function () {\n          label.removeClass('focus checkedFocus');\n        });\n      }\n    });\n  };\n})();\n","import $ from 'jquery';\n\n/*! http://mths.be/placeholder v2.0.7 by @mathias */\n\n(function () {\n  var $$1 = $;\n\n  var isInputSupported = ('placeholder' in document.createElement('input')),\n      isTextareaSupported = ('placeholder' in document.createElement('textarea')),\n      prototype = $$1.fn,\n      valHooks = $$1.valHooks,\n      hooks,\n      placeholder;\n\n  if (isInputSupported && isTextareaSupported) {\n    placeholder = prototype.placeholder = function () {\n      return this;\n    };\n\n    placeholder.input = placeholder.textarea = true;\n  } else {\n    placeholder = prototype.placeholder = function () {\n      var $this = this;\n      $this.filter((isInputSupported ? 'textarea' : ':input') + '[placeholder]').not('.placeholder').bind({\n        'focus.placeholder': clearPlaceholder,\n        'blur.placeholder': setPlaceholder\n      }).data('placeholder-enabled', true).trigger('blur.placeholder');\n      return $this;\n    };\n\n    placeholder.input = isInputSupported;\n    placeholder.textarea = isTextareaSupported;\n    hooks = {\n      'get': function (element) {\n        var $element = $$1(element);\n        return $element.data('placeholder-enabled') && $element.hasClass('placeholder') ? '' : element.value;\n      },\n      'set': function (element, value) {\n        var $element = $$1(element);\n\n        if (!$element.data('placeholder-enabled')) {\n          return element.value = value;\n        }\n\n        if (value == '') {\n          element.value = value; // Issue #56: Setting the placeholder causes problems if the element continues to have focus.\n\n          if (element != document.activeElement) {\n            // We can't use `triggerHandler` here because of dummy text/password inputs :(\n            setPlaceholder.call(element);\n          }\n        } else if ($element.hasClass('placeholder')) {\n          clearPlaceholder.call(element, true, value) || (element.value = value);\n        } else {\n          element.value = value;\n        } // `set` can not return `undefined`; see http://jsapi.info/jquery/1.7.1/val#L2363\n\n\n        return $element;\n      }\n    };\n    isInputSupported || (valHooks.input = hooks);\n    isTextareaSupported || (valHooks.textarea = hooks);\n    $$1(function () {\n      // Look for forms\n      $$1(document).delegate('form', 'submit.placeholder', function () {\n        // Clear the placeholder values so they don't get submitted\n        var $inputs = $$1('.placeholder', this).each(clearPlaceholder);\n        setTimeout(function () {\n          $inputs.each(setPlaceholder);\n        }, 10);\n      });\n    }); // Clear placeholder values upon page reload\n\n    $$1(window).bind('beforeunload.placeholder', function () {\n      $$1('.placeholder').each(function () {\n        this.value = '';\n      });\n    });\n  }\n\n  function args(elem) {\n    // Return an object of element attributes\n    var newAttrs = {},\n        rinlinejQuery = /^jQuery\\d+$/;\n    $$1.each(elem.attributes, function (i, attr) {\n      if (attr.specified && !rinlinejQuery.test(attr.name)) {\n        newAttrs[attr.name] = attr.value;\n      }\n    });\n    return newAttrs;\n  }\n\n  function clearPlaceholder(event, value) {\n    var input = this,\n        $input = $$1(input);\n\n    if (input.value == $input.attr('placeholder') && $input.hasClass('placeholder')) {\n      if ($input.data('placeholder-password')) {\n        $input = $input.hide().next().show().attr('id', $input.removeAttr('id').data('placeholder-id')); // If `clearPlaceholder` was called from `$.valHooks.input.set`\n\n        if (event === true) {\n          return $input[0].value = value;\n        }\n\n        $input.focus();\n      } else {\n        input.value = '';\n        $input.removeClass('placeholder');\n        input == document.activeElement && input.select();\n      }\n    }\n  }\n\n  function setPlaceholder() {\n    var $replacement,\n        input = this,\n        $input = $$1(input),\n        id = this.id;\n\n    if (input.value == '') {\n      if (input.type == 'password') {\n        if (!$input.data('placeholder-textinput')) {\n          try {\n            $replacement = $input.clone().attr({\n              'type': 'text'\n            });\n          } catch (e) {\n            $replacement = $$1('<input>').attr($$1.extend(args(this), {\n              'type': 'text'\n            }));\n          }\n\n          $replacement.removeAttr('name').data({\n            'placeholder-password': true,\n            'placeholder-id': id\n          }).bind('focus.placeholder', clearPlaceholder);\n          $input.data({\n            'placeholder-textinput': $replacement,\n            'placeholder-id': id\n          }).before($replacement);\n        }\n\n        $input = $input.removeAttr('id').hide().prev().attr('id', id).show(); // Note: `$input[0] != input` now!\n      }\n\n      $input.addClass('placeholder');\n      $input[0].value = $input.attr('placeholder');\n    } else {\n      $input.removeClass('placeholder');\n    }\n  }\n})();\n","import ListView from '../framework/ListView.js';\nimport BaseView from './BaseView.js';\n\n/**\n * See {@link src/framework/ListView} for more detail and examples from the base class.\n * @class module:Okta.ListView\n * @extends src/framework/ListView\n * @mixes module:Okta.View\n */\n\nvar Backbone_ListView = BaseView.decorate(ListView);\n\nexport { Backbone_ListView as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\nimport FrameworkView from '../framework/View.js';\nimport TemplateUtil from '../util/TemplateUtil.js';\n\nconst eventBus = oktaUnderscore.clone(Backbone.Events); // add `broadcast` and `listen` functionality to all views\n// We use one event emitter per all views\n// This means we need to be very careful with event names\n\n\nconst proto = {\n  constructor: function (options, ...rest) {\n    FrameworkView.call(this, options, ...rest);\n    this.module && this.$el.attr('data-view', this.module.id);\n  },\n\n  /**\n   * @deprecated Use {@link #removeChildren}\n   */\n  empty: function () {\n    return this.removeChildren();\n  },\n  compileTemplate: TemplateUtil.tpl,\n\n  /**\n   *\n   * Broadcasts a global event that all views and controllers can subscribe to\n   * for framework use only - prefer using a shared model\n   *\n   * @param {String} eventName A unique identifier for the event\n   * @param {...String} param Parameter to pass with the event (can pass more than one parameter)\n   * @deprecated For internal use only\n   * @private\n   */\n  broadcast: function () {\n    eventBus.trigger.apply(eventBus, arguments);\n    return this;\n  },\n\n  /**\n   * Subscribe to broadcast events\n   * for framework use only - prefer using a shared model\n   *\n   * @param {String} eventName The event identifier to subscribe\n   * @param {Function} fn The callback function to invoke\n   * @deprecated For internal use only\n   * @private\n   */\n  listen: function (name, fn) {\n    eventBus.off(name, fn);\n    this.listenTo(eventBus, name, fn);\n    return this;\n  },\n\n  /**\n   * Shows a notification box\n   * @param {String} level success / warning / error\n   * @param {String} message The message to display\n   * @param {Object} [options]\n   * @param {Number} [options.width] Set a custom width\n   * @param {String} [options.title] Set a custom title\n   * @param {Boolean} [options.hide=true] Do we want to auto-hide this notification?\n   * @param {Boolean} [options.dismissable] Show a dismiss button\n   * @example\n   * view.notify('success', 'Group created successfully');\n   */\n  notify: function (level, message, options) {\n    this.broadcast('notification', oktaUnderscore.defaults({\n      message: message,\n      level: level\n    }, options));\n    return this;\n  },\n\n  /**\n   * Shows a confirmation dialog\n   *\n   * Uses https://www.ericmmartin.com/projects/simplemodal/.\n   * If you want to configure the simplemodal options use ConfirmationDialog instead.\n   *\n   * The main difference between this and the native javascript `confirm` method\n   * Is this method is non blocking (note the callback pattern).\n   *\n   * The callback function will run in the context (`this`) of the invoking view.\n   *\n   * @param {String} [title] The title of the confirmation dialog\n   * @param {String} [message] The message of the confirmation dialog\n   * @param {Function} [okfn] The callback to run when the user hits \"OK\" (runs in the context of the invoking view)\n   * @param {Function} [cancelfn] The callback to run when the user hits \"Cancel\"\n   *        (runs in the context of the invoking view)\n   * @example\n   * view.confirm('Delete Group', 'Are you sure you want to delete the selected group?', function () {\n   *   model.destroy();\n   * });\n   *\n   * // title will be auto-set to \"Okta\"\n   * view.confirm('Are you sure you want to delete the selected group?', function () {\n   *   model.destroy();\n   * });\n   *\n   * view.confirm({\n   *   title: 'Delete Group', //=> Modal title\n   *   subtitle: 'Are you sure you want to delete the selected group?', //=> Modal subtitle\n   *   content: '<h3 color=\"red\">THIS WILL DELETE THE GROUP!</h3>', //=> A template or a view to add to the modal\n   *   save: 'Delete Group', //=> Button label\n   *   ok: _.bind(model.save, model) // Callback function on hitting \"ok\" button\n   *   cancel: 'Cancel', //=> Button label\n   *   cancelFn: _.bind(model.destroy, model) // Callback function on hitting \"cancel\" button\n   * });\n   */\n  confirm: function (title, message, okfn, cancelfn) {\n    let options;\n    /* eslint max-statements: [2, 12] */\n\n    if (typeof title === 'object') {\n      options = title;\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (arguments.length === 2 && oktaUnderscore.isFunction(message)) {\n        options = {\n          title: 'Okta',\n          // eslint-disable-line @okta/okta/no-unlocalized-text\n          subtitle: title,\n          ok: message\n        };\n      } else {\n        options = {\n          title: title,\n          subtitle: message,\n          ok: okfn,\n          cancelFn: cancelfn\n        };\n      }\n    }\n\n    if (oktaUnderscore.isFunction(options.ok)) {\n      options.ok = oktaUnderscore.bind(options.ok, this);\n    }\n\n    if (oktaUnderscore.isFunction(options.cancelFn)) {\n      options.cancelFn = oktaUnderscore.bind(options.cancelFn, this);\n    }\n\n    this.broadcast('confirmation', options);\n    return this;\n  },\n\n  /**\n   * Shows an alert box\n   *\n   * The main difference between this and the native javascript `alert` method\n   * Is this method is non blocking.\n   *\n   * @param {String} message The message\n   * @example\n   * view.alert('Mission complete');\n   */\n  alert: function (params) {\n    if (oktaUnderscore.isString(params)) {\n      params = {\n        subtitle: params\n      };\n    }\n\n    this.confirm(oktaUnderscore.extend({}, params, {\n      noCancelButton: true\n    }));\n    return this;\n  }\n};\n/**\n * See {@link src/framework/View} for more detail and examples from the base class.\n * @class module:Okta.View\n * @extends src/framework/View\n */\n\n/** @lends module:Okta.View.prototype */\n\nvar BaseView = FrameworkView.extend(proto,\n/** @lends View.prototype */\n{\n  /** @method */\n  decorate: function (TargetView) {\n    const BaseViewView = TargetView.extend({});\n\n    oktaUnderscore.defaults(BaseViewView.prototype, proto);\n\n    return BaseViewView;\n  }\n});\n\nexport { BaseView as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport ViewUtil from '../../util/ViewUtil.js';\nimport BaseView from '../BaseView.js';\n\nconst disabledEvents = {\n  click: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n};\n/**\n * A configurable button\n * @class module:Okta.internal.views.components.BaseButtonLink\n * @extends module:Okta.View\n * @example\n * var View = BaseButtonLink.extend({\n *   title: 'Click Me',\n *   icon: 'help-text'\n * })\n */\n\nvar BaseButtonLink = BaseView.extend(\n/** @lends module:Okta.internal.views.components.BaseButtonLink.prototype */\n{\n  attributes: function () {\n    const defaultAttrs = {\n      'data-se': 'button'\n    };\n\n    const additionalAttr = this.__getAttribute('attrs');\n\n    return oktaUnderscore.extend(defaultAttrs, additionalAttr);\n  },\n\n  /**\n   * The main text for the button\n   * @name title\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * The link for the button\n   * @name href\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @name icon\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * A [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @name events\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {Object}\n   * @instance\n   */\n  tagName: 'a',\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"icon\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 30\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 38\n          }\n        }\n      }) : helper)) + \"\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 67\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 76\n          }\n        }\n      }) : helper));\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 54\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 54\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 83\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * Make this button visible, default to true.\n   * @type {(Boolean|Function)}\n   * @default true\n   */\n  visible: true,\n\n  /**\n   * Make this button enabled, default to true.\n   * @type {(Boolean|Function)}\n   * @default true\n   */\n  enabled: true,\n\n  /**\n   * The setting to determine when the button is enabled, default to {} and\n   * enabled takes a higher priority.\n   * @type {(Object|Function)}\n   * @default {}\n   */\n  enableWhen: {},\n\n  /**\n   * The setting to determine when the button is visible, default to {} and\n   * visible takes a higher priority.\n   * @type {(Object|Function)}\n   * @default {}\n   */\n  showWhen: {},\n  constructor: function (options) {\n    this.options = options || {};\n    const data = this.getTemplateData();\n    this.disabled = false;\n    BaseView.apply(this, arguments);\n    this.$el.addClass('link-button');\n\n    if (data.icon) {\n      this.$el.addClass('link-button-icon');\n\n      if (!data.title) {\n        this.$el.addClass('icon-only');\n      }\n    }\n  },\n  getTemplateData: function () {\n    return {\n      href: this.__getAttribute('href'),\n      title: this.__getAttribute('title'),\n      icon: this.__getAttribute('icon')\n    };\n  },\n  initialize: function () {\n    ViewUtil.applyDoWhen(this, oktaUnderscore.resultCtx(this, 'enableWhen', this), this.toggle);\n    ViewUtil.applyDoWhen(this, oktaUnderscore.resultCtx(this, 'showWhen', this), this.toggleVisible);\n  },\n  render: function () {\n    BaseView.prototype.render.apply(this, arguments);\n\n    if (!oktaUnderscore.result(this, 'enabled')) {\n      this.toggle(false);\n    }\n\n    if (!oktaUnderscore.result(this, 'visible')) {\n      this.toggleVisible(false);\n    }\n\n    const data = this.getTemplateData();\n    this.$el.attr('href', data.href || '#');\n    return this;\n  },\n  __getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n  enable: function () {\n    this.toggle(true);\n  },\n  disable: function () {\n    this.toggle(false);\n  },\n  show: function () {\n    this.toggleVisible(true);\n  },\n  hide: function () {\n    this.toggleVisible(false);\n  },\n  toggle: function (enable) {\n    const bool = !!enable && oktaUnderscore.result(this, 'enabled'); //this is to toggle the enability\n\n\n    this.disabled = !bool;\n    this.$el.toggleClass('link-button-disabled btn-disabled disabled', this.disabled);\n    this.delegateEvents(this.disabled ? disabledEvents : null);\n  },\n  toggleVisible: function (visible) {\n    const hidden = !visible || !oktaUnderscore.result(this, 'visible');\n    this.$el.toggleClass('hide', hidden);\n  }\n});\n\nexport { BaseButtonLink as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport BaseView from '../BaseView.js';\n\nconst optionsTemplate = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"icon\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 96\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 104\n        }\n      }\n    }) : helper)) + \"\\\"></span>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 133\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 142\n        }\n      }\n    }) : helper));\n  },\n  \"5\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"option-subtitle\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 204\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<a href=\\\"\\\" class=\\\"icon-16 \" + alias4((helper = (helper = lookupProperty(helpers, \"className\") || (depth0 != null ? lookupProperty(depth0, \"className\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"className\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 26\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\" data-se=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"seleniumId\") || (depth0 != null ? lookupProperty(depth0, \"seleniumId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"seleniumId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 50\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 64\n        }\n      }\n    }) : helper)) + \"\\\">\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 66\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 120\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 120\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 149\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(5, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 149\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 215\n        }\n      }\n    })) != null ? stack1 : \"\") + \"</a>\";\n  },\n  \"useData\": true\n});\n\nconst BaseDropDownDropDownOption = BaseView.extend({\n  tagName: 'li',\n  events: {\n    click: function (e) {\n      e.preventDefault();\n      this.action && this.action.call(this);\n    }\n  },\n  constructor: function () {\n    BaseView.apply(this, arguments);\n    this.$el.addClass('okta-dropdown-option option');\n  },\n  render: function () {\n    this.$el.html(optionsTemplate({\n      icon: oktaUnderscore.result(this, 'icon'),\n      className: oktaUnderscore.result(this, 'className') || '',\n      title: oktaUnderscore.result(this, 'title'),\n      subtitle: oktaUnderscore.result(this, 'subtitle'),\n      seleniumId: oktaUnderscore.result(this, 'seleniumId')\n    }));\n\n    if (oktaUnderscore.result(this, 'disabled')) {\n      this.disable();\n    }\n\n    return this;\n  },\n  disable: function () {\n    this.$el.addClass('option-disabled');\n    this.$el.find('a').attr('tabindex', '-1');\n  }\n});\nvar BaseDropDown = BaseView.extend({\n  events: {\n    'click a.option-selected': function (e) {\n      e.preventDefault();\n\n      if (oktaUnderscore.result(this, 'disabled')) {\n        e.stopPropagation();\n      }\n    },\n    'click .dropdown-disabled': function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  items: [],\n  constructor: function () {\n    const className = this.className; // In this very specific case we want to NOT append className to $el\n    // but to the <a> tag in the template\n    // so we want to disable backbone default functionality.\n\n    this.className = null;\n    BaseView.apply(this, arguments);\n    this.className = className;\n    this.$el.addClass('dropdown more-actions float-l');\n\n    oktaUnderscore.each(oktaUnderscore.result(this, 'items'), function (option) {\n      this.addOption(option, this.options);\n    }, this);\n  },\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"icon\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 176\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 184\n          }\n        }\n      }) : helper)) + \"\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"off-screen\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"screenReaderText\") || (depth0 != null ? lookupProperty(depth0, \"screenReaderText\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"screenReaderText\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 249\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 269\n          }\n        }\n      }) : helper)) + \"</span>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a href=\\\"#\\\" class=\\\"link-button \" + alias4((helper = (helper = lookupProperty(helpers, \"className\") || (depth0 != null ? lookupProperty(depth0, \"className\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"className\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 31\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 44\n          }\n        }\n      }) : helper)) + \" link-button-icon option-selected center\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"okta-dropdown-options\\\">\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 146\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 200\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"screenReaderText\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 200\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 283\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<span class=\\\"option-selected-text\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 318\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 327\n          }\n        }\n      }) : helper)) + \"</span><span class=\\\"icon-dm\\\"></span></a><div id=\\\"okta-dropdown-options\\\" class=\\\"options clearfix\\\"><ul class=\\\"okta-dropdown-list options-wrap clearfix\\\"></ul></div>\";\n    },\n    \"useData\": true\n  }),\n  getTemplateData: function () {\n    const className = [oktaUnderscore.result(this, 'className') || '', oktaUnderscore.result(this, 'disabled') ? 'dropdown-disabled' : ''];\n    return {\n      icon: oktaUnderscore.result(this, 'icon'),\n      className: oktaJQueryStatic.trim(className.join(' ')),\n      title: oktaUnderscore.result(this, 'title'),\n      screenReaderText: oktaUnderscore.result(this, 'screenReaderText')\n    };\n  },\n  addOption: function (proto, options) {\n    this.add(BaseDropDownDropDownOption.extend(proto), 'ul.options-wrap', {\n      options: options || {}\n    });\n  }\n});\n\nexport { BaseDropDown as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport Time from '../../util/Time.js';\nimport BaseView from '../BaseView.js';\n\nfunction getOption(callout, option) {\n  return oktaUnderscore.resultCtx(callout.options, option, callout) || oktaUnderscore.result(callout, option);\n}\n\nfunction getTopClass(callout) {\n  let klass = 'infobox clearfix infobox-' + getOption(callout, 'type');\n\n  switch (getOption(callout, 'size')) {\n    case 'standard':\n      klass += '';\n      break;\n\n    case 'slim':\n      klass += ' infobox-slim';\n      break;\n\n    case 'compact':\n      klass += ' infobox-compact';\n      break;\n\n    case 'large':\n      klass += ' infobox-md';\n      break;\n  }\n\n  if (getOption(callout, 'dismissible')) {\n    klass += ' infobox-dismiss';\n  }\n\n  return klass;\n}\n\nconst events = {\n  'click .infobox-dismiss-link': function (e) {\n    e.preventDefault();\n    this.$el.fadeOut(Time.UNLOADING_FADE, () => {\n      this.trigger('dismissed');\n      this.remove();\n    });\n  }\n};\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<a data-se=\\\"dismiss-link\\\" class=\\\"infobox-dismiss-link\\\" title=\\\"\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"i18n\",\n      \"hash\": {\n        \"bundle\": \"courage\",\n        \"code\": \"component.dismiss\"\n      },\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 81\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 131\n        }\n      }\n    })) + \"\\\" href=\\\"#\\\"><span data-se=\\\"icon\\\" class=\\\"dismiss-icon\\\"></span></a>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h3 data-se=\\\"header\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 286\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 295\n        }\n      }\n    }) : helper)) + \"</h3>\";\n  },\n  \"5\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p data-se=\\\"sub-header\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 347\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 359\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"7\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<ul data-se=\\\"list\\\" class=\\\"bullets\\\">\" + ((stack1 = lookupProperty(helpers, \"each\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"bullets\") : depth0, {\n      \"name\": \"each\",\n      \"hash\": {},\n      \"fn\": container.program(8, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 420\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 483\n        }\n      }\n    })) != null ? stack1 : \"\") + \"</ul>\";\n  },\n  \"8\": function (container, depth0, helpers, partials, data) {\n    return \"<li data-se=\\\"list-item\\\">\" + container.escapeExpression(container.lambda(depth0, depth0)) + \"</li>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"dismissible\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 202\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<span data-se=\\\"icon\\\" class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"icon\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 235\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 243\n        }\n      }\n    }) : helper)) + \"\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 252\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 307\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(5, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 307\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 370\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"bullets\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(7, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 370\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 495\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\n\nconst CalloutCallout = BaseView.extend(\n/** @lends src/views/components/Callout.prototype */\n{\n  attributes: {\n    'data-se': 'callout'\n  },\n\n  /**\n   * Custom HTML or view to inject to the callout\n   * @type {String|Okta.View}\n   */\n  content: null,\n\n  /**\n   * Size of icon. options are standard, large, compact\n   * @type {String}\n   */\n  size: 'standard',\n\n  /**\n   * Type of the callout. Valid values are: info, success, warning, error, tip\n   * @type {String}\n   */\n  type: 'info',\n\n  /**\n   * Can the callout be dismissed\n   * @type {Boolean}\n   */\n  dismissible: false,\n\n  /**\n   * Callout title\n   * @type {String}\n   */\n  title: null,\n\n  /**\n   * Callout subtitle\n   * @type {String}\n   */\n  subtitle: null,\n\n  /**\n   * Array of strings to render as bullet points\n   * @type {Array}\n   */\n  bullets: null,\n\n  /**\n   * Fired after the callout is dismised - applies when\n   * {@link module:Okta.internal.views.components.Callout|dismissible} is set to true\n   * @event src/views/components/Callout#dismissed\n   */\n  constructor: function () {\n    this.events = oktaUnderscore.defaults(this.events || {}, events);\n    BaseView.apply(this, arguments);\n    this.$el.addClass(getTopClass(this));\n    this.template = template;\n    const content = getOption(this, 'content');\n\n    if (content) {\n      this.add(content);\n    }\n  },\n  getTemplateData: function () {\n    let icon = getOption(this, 'type');\n    const size = getOption(this, 'size');\n\n    if (icon === 'tip') {\n      // css is inconsistent\n      icon = 'light-bulb';\n    }\n\n    switch (size) {\n      case 'slim':\n        icon = '';\n        break;\n\n      case 'large':\n        icon = [icon, '-', '24'].join('');\n        break;\n\n      default:\n        icon = [icon, '-', '16'].join('');\n    }\n\n    return {\n      icon: icon,\n      title: getOption(this, 'title'),\n      subtitle: getOption(this, 'subtitle'),\n      bullets: getOption(this, 'bullets'),\n      dismissible: getOption(this, 'dismissible')\n    };\n  }\n});\n/**\n * @class src/views/components/Callout\n * @extends module:Okta.View\n */\n\n/**\n * @class module:Okta.internal.views.components.Callout\n */\n\nvar Callout = /** @lends module:Okta.internal.views.components.Callout */\n{\n  /**\n   * Creates a {@link src/views/components/Callout|Callout}.\n   * @static\n   * @param {Object} options\n   * @param {String|Function} [options.size] Size of icon. options are standard, large, compact, slim\n   * @param {String|Okta.View} [options.content] Custom HTML or view to inject to the callout\n   * @param {String|Function} [options.title] Callout title\n   * @param {String|Function} [options.subtitle] Callout subtitle\n   * @param {Array|Function} [options.bullets] Array of strings to render as bullet points\n   * @param {Boolean|Function} [options.dismissible] Can the callout be dismissed\n   * @param {String|Function} [options.type] Callout type. Valid values are: info, success, warning, error, tip\n   *\n   * @return {src/views/components/Callout}\n   */\n  create: function (options) {\n    return new CalloutCallout(options);\n  }\n};\n\nexport { Callout as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport BaseView from '../BaseView.js';\nimport StringUtil from '../../util/StringUtil.js';\n\nconst defaults = {\n  level: 'success',\n  hide: true,\n  fade: 400,\n  delay: 3000,\n  width: 0,\n  dismissable: false\n};\nvar Notification = BaseView.extend({\n  className: 'infobox infobox-confirm infobox-confirm-fixed',\n  events: {\n    'click .infobox-dismiss-link': function (e) {\n      e.preventDefault();\n      this.fadeOut();\n    }\n  },\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a class=\\\"infobox-dismiss-link\\\" title=\\\"\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"component.dismiss\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 58\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 108\n          }\n        }\n      })) + \"\\\" href=\\\"#\\\"><span class=\\\"dismiss-icon\\\"></span></a>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<h3>\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 220\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 229\n          }\n        }\n      }) : helper)) + \"</h3>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"dismissable\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 164\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<span class=\\\"icon \" + alias4((helper = (helper = lookupProperty(helpers, \"level\") || (depth0 != null ? lookupProperty(depth0, \"level\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"level\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 182\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 191\n          }\n        }\n      }) : helper)) + \"-16\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 203\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 241\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<p>\" + alias4((helper = (helper = lookupProperty(helpers, \"message\") || (depth0 != null ? lookupProperty(depth0, \"message\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"message\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 244\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 255\n          }\n        }\n      }) : helper)) + \"</p>\";\n    },\n    \"useData\": true\n  }),\n  initialize: function () {\n    this.options = oktaUnderscore.defaults({}, this.options, defaults);\n\n    if (!this.options.message) {\n      switch (this.options.level) {\n        case 'success':\n          this.options.message = StringUtil.localize('notification.default.message.success', 'courage');\n          break;\n\n        case 'error':\n          this.options.message = StringUtil.localize('notification.default.message.error', 'courage');\n          break;\n\n        case 'warning':\n          this.options.message = StringUtil.localize('notification.default.message.warning', 'courage');\n          break;\n      }\n    }\n\n    this.$el.addClass('infobox-' + this.options.level);\n\n    if (this.options.width) {\n      this.$el.width(this.options.width);\n    }\n  },\n  getTemplateData: function () {\n    return oktaUnderscore.extend(oktaUnderscore.pick(this.options, 'level', 'message', 'title'), {\n      dismissable: this.options.hide === false || this.options.dismissable === true\n    });\n  },\n  postRender: function () {\n    if (this.options.hide) {\n      oktaUnderscore.delay(oktaUnderscore.bind(this.fadeOut, this), this.options.delay);\n    }\n  },\n  fadeOut: function () {\n    this.$el.fadeOut(this.options.fade, oktaUnderscore.bind(this.remove, this));\n  }\n});\n\nexport { Notification as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport ReadModeBar from './components/ReadModeBar.js';\nimport Toolbar from './components/Toolbar.js';\nimport ErrorBanner from './helpers/ErrorBanner.js';\nimport ErrorParser from './helpers/ErrorParser.js';\nimport FormUtil from './helpers/FormUtil.js';\nimport InputContainer from './helpers/InputContainer.js';\nimport InputFactory from './helpers/InputFactory.js';\nimport InputLabel from './helpers/InputLabel.js';\nimport InputWrapper from './helpers/InputWrapper.js';\nimport SettingsModel from '../../util/SettingsModel.js';\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-title-bar\\\" data-se=\\\"o-form-title-bar\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 75\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 84\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(4, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 288\n        }\n      }\n    })) != null ? stack1 : \"\";\n  },\n  \"4\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 data-se=\\\"o-form-head\\\" class=\\\"okta-form-title o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 267\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 276\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"6\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"okta-form-subtitle o-form-explain\\\" data-se=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 385\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 397\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 96\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div data-se=\\\"o-form-content\\\" class=\\\"o-form-content \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"layout\") || (depth0 != null ? lookupProperty(depth0, \"layout\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"layout\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 148\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 158\n        }\n      }\n    }) : helper)) + \" clearfix\\\">\" + ((stack1 = lookupProperty(helpers, \"unless\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"unless\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 169\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 299\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(6, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 299\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 408\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div class=\\\"o-form-error-container\\\" data-se=\\\"o-form-error-container\\\"></div><div class=\\\"o-form-fieldset-container\\\" data-se=\\\"o-form-fieldset-container\\\"></div></div>\";\n  },\n  \"useData\": true\n});\n\nconst sectionTitleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"useData\": true\n});\n\nconst pointerEventsSupported = oktaJQueryStatic('<div>').css({\n  'pointer-events': 'auto'\n})[0].style.pointerEvents === 'auto'; // polyfill for `pointer-events: none;` in IE < 11\n// Logic borrowed from https://github.com/kmewhort/pointer_events_polyfill (BSD)\n\nfunction pointerEventsPolyfill(e) {\n  if (!pointerEventsSupported && this.$el.hasClass('o-form-saving')) {\n    const $el = oktaJQueryStatic(e.currentTarget);\n    $el.css('display', 'none');\n    const underneathElem = document.elementFromPoint(e.clientX, e.clientY);\n    $el.css('display', 'block');\n    e.target = underneathElem;\n    oktaJQueryStatic(underneathElem).trigger(e);\n    return false;\n  }\n}\n\nconst events = {\n  submit: function (e) {\n    e.preventDefault();\n\n    this.__save();\n  }\n};\n\noktaUnderscore.each(['click', 'dblclick', 'mousedown', 'mouseup'], function (event) {\n  events[event + ' .o-form-input'] = pointerEventsPolyfill;\n});\n\nconst attributes = function (model) {\n  model || (model = {});\n  const collection = model && model.collection || {};\n  return {\n    method: 'POST',\n    action: oktaUnderscore.result(model, 'urlRoot') || oktaUnderscore.result(collection, 'url') || window.location.pathname,\n    'data-se': 'o-form',\n    slot: 'content'\n  };\n};\n\nconst convertSavingState = function (rawSavingStateEvent, defaultEvent) {\n  rawSavingStateEvent || (rawSavingStateEvent = '');\n  let savingStateEvent = [];\n\n  if (oktaUnderscore.isString(rawSavingStateEvent)) {\n    savingStateEvent = rawSavingStateEvent.split(' ');\n  }\n\n  savingStateEvent = oktaUnderscore.union(savingStateEvent, defaultEvent);\n  return savingStateEvent.join(' ');\n};\n\nconst getErrorSummary = function (responseJSON = {}) {\n  if (Array.isArray(responseJSON.errorCauses) && responseJSON.errorCauses.length > 0) {\n    //set errorSummary from first errorCause which is not field specific error\n    return responseJSON.errorCauses[0].errorSummary;\n  } else {\n    //set errorSummary from top level errorSummary\n    return responseJSON.errorSummary;\n  }\n};\n/**\n * A Form utility framework\n *\n * Okta.Form is a form that operates on one flat model\n * It exposes one main factory method, {@link module:Okta.Form#addInput|addInput}, which add inputs to the form,\n * and each input operates on one field in the model, identified by the `name` field.\n *\n * See:\n * [Basic O-Form Tutorial](https://github.com/okta/courage/wiki/Basic-O-Form)\n *\n * @class module:Okta.Form\n * @extends module:Okta.View\n * @param {Object} options options hash (See {@link module:Okta.View|View})\n * @param {Object} options.model the model this form operates on\n * @param {Boolean} [options.label-top=false] position label on top of inputs\n * @param {Boolean} [options.wide=false] Use a wide input layout for all input\n */\n\n/**\n * Fired when the \"Save\" button is clicked\n * @event module:Okta.Form#save\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired after the model is successfully saved - applies when {@link module:Okta.Form#autoSave|autoSave}\n * is set to true\n * @event module:Okta.Form#saved\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the model fires an invalid event or an error event;\n * @event module:Okta.Form#error\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the form layout is likely to be resized\n * @event module:Okta.Form#resize\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the \"Cancel\" button is clicked\n * @event module:Okta.Form#cancel\n */\n\n\nvar BaseForm = BaseView.extend(\n/** @lends module:Okta.Form.prototype */\n{\n  /**\n   * Specifies how to validate form:\n   * - In case \"local\" string provided as a value of the property,\n   * the form will validate only fields added as inputs to the form;\n   * - In case array is provided, the validation will be performed only for fields specified in array;\n   * - In case function is provided, provided function will be used as a validation function,\n   * it must return an error object with the format {fieldName: 'error text'} with as many fields as you need.\n   * @name validate\n   * @memberof module:Okta.Form\n   * @type {String|Array|Function}\n   * @instance\n   */\n  constructor: function (options) {\n    /* eslint max-statements: 0, complexity: 0 */\n    options || (options = {});\n    this.options = options;\n\n    if (options.settings) {\n      this.settings = options.settings;\n    } else {\n      this.settings = options.settings = new SettingsModel();\n    }\n\n    this.id = oktaUnderscore.uniqueId('form');\n    this.tagName = 'form';\n\n    oktaUnderscore.defaults(this.events, events);\n\n    oktaUnderscore.defaults(this.attributes, attributes(options.model));\n\n    this.__buttons = [];\n    this.__errorFields = {};\n\n    this.__saveModelState(options.model);\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    if (step) {\n      // checking exists of `this.save` hence don't have to change to\n      // `_.result(this, 'save')` which will execute the function and\n      // is not the intent.\n      if (!this.save) {\n        const totalStep = oktaUnderscore.result(this, 'totalSteps');\n\n        this.save = !totalStep || step === totalStep ? StringUtil.localize('oform.button.finish', 'courage') : StringUtil.localize('oform.button.next', 'courage');\n      }\n\n      this.className = oktaUnderscore.result(this, 'className') + ' wizard';\n    }\n\n    this.className = oktaUnderscore.result(this, 'className') + ' o-form';\n    this.__toolbar = this.__createToolbar(options);\n    BaseView.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, 'inputs') || [], function (input) {\n      // to ingore extra argumests from `each` iteratee function\n      // http://underscorejs.org/#each\n      this.__addLayoutItem(input);\n    }, this);\n\n    this.add(this.__toolbar, ''); // NOTES: this.model shall be initialized after calling\n    // super (BaseView.call(this, options)) above.\n    //\n\n    this.listenTo(this.model, 'change:__edit__', this.__applyMode);\n    this.listenTo(this.model, 'invalid error', oktaUnderscore.throttle(function (model, resp, showBanner) {\n      this.__showErrors(model, resp, showBanner !== false);\n    }, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:resize', function () {\n      this.trigger('resize');\n    });\n    this.listenTo(this.model, 'form:cancel', oktaUnderscore.throttle(this.__cancel, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:previous', oktaUnderscore.throttle(this.__previous, 100, {\n      trailing: false\n    }));\n    this.__save = oktaUnderscore.throttle(this.__save, 200, {\n      trailing: false\n    });\n    this.listenTo(this.model, 'form:save', function () {\n      this.$el.submit();\n    });\n    this.listenTo(this.model, 'sync', function () {\n      if (this.model.get('__edit__')) {\n        this.model.set('__edit__', false, {\n          silent: true\n        });\n      }\n\n      this.__saveModelState(this.model);\n\n      this.render();\n    });\n    let hasSavingState = this.getAttribute('hasSavingState');\n\n    if (this.getAttribute('autoSave')) {\n      this.listenTo(this, 'save', function (model) {\n        const xhr = model.save();\n\n        if (xhr && xhr.done) {\n          xhr.done(() => {\n            this.trigger('saved', model);\n          });\n        }\n      });\n\n      if (oktaUnderscore.isUndefined(hasSavingState)) {\n        hasSavingState = true;\n      }\n    }\n    /*\n    * Attach model event listeners\n    * by default, model's request event starts the form saving state,\n    * error and sync event stops it\n    * you can define customized saving start and stop state, like\n    * customSavingState: {start: 'requestingAdditionalInfo', stop: 'retrievedAdditionalInfo'}\n    * doing this does not override the default events\n    */\n\n\n    if (hasSavingState) {\n      const customSavingState = this.getAttribute('customSavingState', {});\n      this.listenTo(this.model, convertSavingState(customSavingState.start || '', ['request']), this.__setSavingState);\n      this.listenTo(this.model, convertSavingState(customSavingState.stop || '', ['error', 'sync']), this.__clearSavingState);\n    }\n  },\n\n  /**\n   * Create the bottom button bar\n   * @param  {Object} options options h\n   * @return {Okta.View} The toolbar\n   * @private\n   */\n  __createToolbar: function (options) {\n    const danger = this.getAttribute('danger');\n    const saveBtnClassName = danger === true ? 'button-error' : 'button-primary';\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    const toolbar = new Toolbar(oktaUnderscore.extend({\n      save: this.save || StringUtil.localize('oform.save', 'courage'),\n      saveId: this.saveId,\n      saveClassName: saveBtnClassName,\n      cancel: this.cancel || StringUtil.localize('oform.cancel', 'courage'),\n      noCancelButton: this.noCancelButton || false,\n      noSubmitButton: this.noSubmitButton || false,\n      buttonOrder: this.buttonOrder,\n      hasPrevStep: step && step > 1\n    }, options || this.options));\n\n    oktaUnderscore.each(this.__buttons, function (args) {\n      toolbar.addButton.apply(toolbar, args);\n    });\n\n    return toolbar;\n  },\n  className: '',\n  attributes: {},\n  events: {},\n\n  /**\n   * An array of input configurations to render in the form\n   * @type {Array}\n   */\n  inputs: [],\n  template: null,\n\n  /**\n   * Does the form support read/edit toggle.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  read: false,\n\n  /**\n   * Is the form in readOnly mode.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  readOnly: false,\n\n  /**\n   * Should we not render the button bar\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noButtonBar: false,\n\n  /**\n   * Should we not render a cancel button\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noCancelButton: false,\n\n  /**\n   * Should we not render a save button\n   * @type {Boolean}\n   * @default false\n   */\n  noSubmitButton: false,\n\n  /**\n   * Set the order of the save, cancel and previous buttons (left to right).\n   * @type {Array.<string>}\n   * @default ['previous', 'save', 'cancel']\n   */\n  buttonOrder: ['previous', 'save', 'cancel'],\n\n  /**\n   * The text on the save button\n   * @type {String}\n   * @default \"Save\"\n   */\n  save: null,\n\n  /**\n   * The text on the cancel button\n   * @type {String}\n   * @default \"Cancel\"\n   */\n  cancel: null,\n\n  /**\n   * To use button-error to style the submit button instead of button-primary.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  danger: false,\n\n  /**\n   * A layout CSS class to add to the form\n   * @type {String|Function}\n   * @default \"\"\n   */\n  layout: '',\n\n  /**\n   * The step this form is in the context of a wizard\n   * @type {Number}\n   */\n  step: undefined,\n\n  /**\n   * The total numbers of steps the wizard this form is a part of has\n   * @type {Number}\n   */\n  totalSteps: undefined,\n\n  /**\n   * The form's title\n   * @type {String|Function}\n   */\n  title: null,\n\n  /**\n   * The form's subtitle\n   * @type {String|Function}\n   */\n  subtitle: null,\n\n  /**\n   * Auto-save the model when hitting save. Triggers a `saved` event when done\n   * @type {Boolean}\n   * @default false\n   */\n  autoSave: false,\n\n  /**\n   * Scroll to the top of the form on error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  scrollOnError: true,\n\n  /**\n   * Show the error banner upon error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  showErrors: true,\n\n  /**\n   * The form's scrollable area\n   * @type {String}\n   * @default \".o-form-content\"\n   */\n  resizeSelector: '.o-form-content',\n\n  /**\n   * Sets whether or not the form shows the saving state when\n   * the model is saved.  Has no effect on setSavingState and clearSavingState as those are manual calls\n   * to trigger/clear the saving state.\n   * @name hasSavingState\n   * @memberof module:Okta.Form\n   * @type {Boolean}\n   * @default false\n   * @instance\n   */\n\n  /**\n   * Get an attribute value from options or instance.\n   * Prefer options value over instance value\n   * @param  {String} name Name of the attribute\n   * @param  {Object} defaultValue the default value to return if the attribute is not found\n   * @return {Object} The value\n   */\n  getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n\n  /**\n   * Does this form have a \"read\" mode\n   * @return {Boolean}\n   */\n  hasReadMode: function () {\n    return !!this.getAttribute('read');\n  },\n\n  /**\n   * Is this form in \"read only\" mode\n   * @return {Boolean}\n   */\n  isReadOnly: function () {\n    return !!this.getAttribute('readOnly');\n  },\n\n  /**\n   * Does this form have a button bar\n   * @return {Boolean}\n   */\n  hasButtonBar: function () {\n    return !(this.getAttribute('noButtonBar') || this.isReadOnly());\n  },\n  render: function () {\n    this.__readModeBar && this.__readModeBar.remove();\n\n    if (this.hasReadMode() && !this.isReadOnly()) {\n      const readModeBar = ReadModeBar.extend({\n        formTitle: this.getAttribute('title', '')\n      });\n      this.__readModeBar = this.add(readModeBar, '.o-form-title-bar').last();\n    }\n\n    const html = template({\n      layout: this.getAttribute('layout', ''),\n      title: this.getAttribute('title', '', true),\n      subtitle: this.getAttribute('subtitle', '', true),\n      hasReadMode: this.hasReadMode()\n    });\n    this.$el.html(html);\n    delete this.template;\n    BaseView.prototype.render.apply(this, arguments);\n\n    this.__applyMode();\n\n    return this;\n  },\n\n  /**\n   * Changes form UI to indicate saving.  Disables all inputs and buttons.  Use this function if you have set\n   * hasSavingState to false on the the form\n   * @private\n   */\n  __setSavingState: function () {\n    this.model.trigger('form:set-saving-state');\n    this.$el.addClass('o-form-saving');\n  },\n\n  /**\n   * Changes form UI back to normal from the saving state.  Use this function if you are have set hasSavingState\n   * to false on the form\n   * @private\n   */\n  __clearSavingState: function () {\n    this.model.trigger('form:clear-saving-state');\n    this.$el.removeClass('o-form-saving');\n  },\n\n  /**\n   * Toggles the visibility of the bottom button bar\n   * @private\n   */\n  __toggleToolbar: function () {\n    this.__toolbar && this.__toolbar.remove();\n\n    if (this.hasButtonBar() && this._editMode()) {\n      this.__toolbar = this.__createToolbar();\n      this.add(this.__toolbar, '');\n    }\n\n    this.trigger('resize');\n  },\n\n  /**\n   * Cancels this form\n   * - Reset the model to the previous state\n   * - Clears all errors\n   * - Triggers a `cancel` event\n   * - Sets the model to read mode (if applicable)\n   * @private\n   * @fires cancel\n   */\n  __cancel: function () {\n    const edit = this.model.get('__edit__');\n    /* eslint max-statements: [2, 12] */\n\n    this.model.clear({\n      silent: true\n    });\n    let data;\n\n    if (this.model.sanitizeAttributes) {\n      data = this.model.sanitizeAttributes(this.__originalModel);\n    } else {\n      data = oktaUnderscore.clone(this.__originalModel);\n    }\n\n    this.model.set(data, {\n      silent: true\n    });\n    this.trigger('cancel', this.model);\n    this.model.trigger('cache:clear');\n\n    if (edit) {\n      this.model.set('__edit__', false, {\n        silent: true\n      });\n      this.model.trigger('change:__edit__', this.model, false);\n    }\n\n    this.clearErrors();\n  },\n\n  /**\n   * Runs {@link module:Okta.Form#validate|validate} to check the model state.\n   * Triggers an \"invalid\" event on the model if validation fails\n   * @returns {Boolean}\n   */\n  isValid: function () {\n    let res;\n    const self = this;\n\n    function validateArray(arr) {\n      return oktaUnderscore.reduce(arr, function (memo, fieldName) {\n        return oktaUnderscore.extend(memo, self.model.validateField(fieldName));\n      }, {});\n    }\n\n    if (oktaUnderscore.isUndefined(this.validate)) {\n      return this.model.isValid();\n    } else if (oktaUnderscore.isFunction(this.validate)) {\n      res = this.validate();\n    } else if (oktaUnderscore.isArray(this.validate)) {\n      res = validateArray(this.validate);\n    } else if (this.validate === 'local') {\n      res = validateArray(this.getInputs().map(function (input) {\n        return input.options.name;\n      }));\n    }\n\n    if (!oktaUnderscore.isEmpty(res)) {\n      this.model.trigger('invalid', this.model, res);\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  /**\n   * A throttled function that saves the form not more than once every 100 ms\n   * Basically all this method does is trigger a `save` event\n   * @fires save\n   * @private\n   */\n  __save: function () {\n    this.clearErrors();\n\n    if (this.isValid()) {\n      this.trigger('save', this.model);\n    }\n  },\n\n  /**\n   * In the context of a wizard, go to previous state\n   * Technically all this method does is trigger a `previous` event\n   * @param  {Event} e\n   * @private\n   */\n  __previous: function () {\n    this.trigger('previous', this.model);\n  },\n\n  /**\n   * Renders the form in the correct mode based on the model.\n   * @private\n   */\n  __applyMode: function () {\n    this.clearErrors();\n\n    this.__toggleToolbar();\n\n    if (this._editMode()) {\n      this.$el.addClass('o-form-edit-mode');\n      this.$el.removeClass('o-form-read-mode');\n      this.$('.o-form-content').removeClass('rounded-btm-4');\n      this.focus();\n    } else {\n      this.$el.removeClass('o-form-edit-mode');\n      this.$el.addClass('o-form-read-mode');\n      this.$('.o-form-content').addClass('rounded-btm-4');\n    }\n  },\n\n  /**\n   * Is the form in edit mode\n   * @return {Boolean}\n   * @private\n   */\n  _editMode: function () {\n    return this.model.get('__edit__') || !this.hasReadMode();\n  },\n\n  /**\n   * Function can be overridden to alter top level error summary.\n   * @param {Object} responseJSON\n   *\n   * @example\n   * // responseJSON object\n   * {\n   *  errorCauses: [{errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"}]\n   *  errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"\n   *  errorCode: \"E0000001\"\n   *  errorId: \"oaepsrTCHrhT-eIi8XTm6KWWg\"\n   *  errorLink: \"E0000001\"\n   *  errorSummary: \"Api validation failed: networkZone\"\n   * }\n   *\n   * @method\n   * @default _.identity\n   */\n  parseErrorMessage: oktaUnderscore.identity,\n  _handleErrorScroll: function () {\n    if (!this.getAttribute('scrollOnError')) {\n      return;\n    }\n\n    const $el = oktaJQueryStatic('#' + this.id + ' .o-form-error-container');\n\n    if ($el.length) {\n      let $scrollContext = $el.scrollParent();\n      let scrollTop; // scrollParent was almost awesome...\n      // but it returns document if there are no other scrollable parents\n      // document does not have offset, so here we have to replace with html, body\n      // Additionally when the scroll context is html, body, $el.offset().top is fixed\n      // versus when it has a different scroll context it's dynamic and requires the\n      // calculation below.\n\n      if ($scrollContext[0] === document) {\n        $scrollContext = oktaJQueryStatic('html, body');\n        scrollTop = $el.offset().top;\n      } else {\n        scrollTop = $scrollContext.scrollTop() + $el.offset().top - $scrollContext.offset().top;\n      }\n\n      $scrollContext.animate({\n        scrollTop: scrollTop\n      }, 400);\n    }\n  },\n\n  /**\n   * Show an error message based on an XHR error\n   * @param  {Okta.BaseModel} model the model\n   * @param  {jqXHR} xhr The jQuery XmlHttpRequest Object\n   * @private\n   */\n  __showErrors: function (model, resp, showBanner) {\n    this.trigger('error', model);\n    /* eslint max-statements: 0 */\n\n    if (!this.getAttribute('showErrors')) {\n      return;\n    }\n\n    let errorSummary;\n    let responseJSON = ErrorParser.getResponseJSON(resp);\n    const validationErrors = ErrorParser.parseFieldErrors(resp); // trigger events for field validation errors\n\n    if (oktaUnderscore.size(validationErrors)) {\n      oktaUnderscore.each(validationErrors, function (errors, field) {\n        this.model.trigger('form:field-error', this.__errorFields[field] || field, oktaUnderscore.map(errors, function (error) {\n          return /^model\\.validation/.test(error) ? StringUtil.localize(error, 'courage') : error;\n        }));\n      }, this);\n    } else {\n      responseJSON = this.parseErrorMessage(responseJSON);\n      errorSummary = getErrorSummary(responseJSON);\n    } // show the error message\n\n\n    if (showBanner) {\n      this.$('.o-form-error-container').addClass('o-form-has-errors');\n      this.add(ErrorBanner, '.o-form-error-container', {\n        options: {\n          errorSummary: errorSummary\n        }\n      });\n    } // slide to and focus on the error message\n\n\n    this._handleErrorScroll();\n\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Clears the error banner\n   * @private\n   */\n  clearErrors: function () {\n    this.$('.o-form-error-container').removeClass('o-form-has-errors');\n    this.model.trigger('form:clear-errors');\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Toggles between edit and read mode\n   */\n  toggle: function () {\n    this.model.set('__edit__', !this.hasReadMode() || !this.model.get('__edit__'));\n    return this;\n  },\n  __addLayoutItem: function (input) {\n    if (InputFactory.supports(input)) {\n      this.addInput(input);\n    } else {\n      this.__addNonInputLayoutItem(input);\n    }\n  },\n  __addNonInputLayoutItem: function (item) {\n    const itemOptions = oktaUnderscore.omit(item, 'type');\n\n    switch (item.type) {\n      case 'sectionTitle':\n        this.addSectionTitle(item.title, oktaUnderscore.omit(itemOptions, 'title'));\n        break;\n\n      case 'divider':\n        this.addDivider(itemOptions);\n        break;\n\n      default:\n        throw new Error('unknown input: ' + item.type);\n    }\n  },\n\n  /**\n   * Adds a view to the buttons tool bar\n   * @param {Object} params parameterized button options\n   * @param {Object} options options to send to {@link module:Okta.View#add|View.add}\n   */\n  addButton: function (params, options) {\n    this.__toolbar && this.__toolbar.addButton(params, options);\n\n    this.__buttons.push([params, options]);\n  },\n\n  /**\n   * Adds a divider\n   */\n  addDivider: function (options) {\n    this.add('<div class=\"okta-form-divider form-divider\"></div>');\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Adds section header\n   * @param {String} title\n   */\n  addSectionTitle: function (title, options) {\n    this.add(sectionTitleTemplate({\n      title: title\n    }));\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Add a form input\n   * @param {Object} options Options to describe the input\n   * @param {String} options.type The input type.\n   * The options are: `text`, `textarea`, `select`, `checkbox`, `radio`, `switch`,\n   * `password`, `number`, `textselect`, `date`, `grouppicker`, `admingrouppicker`, `su-orgspicker`\n   * `file/image`, `file/cert`, `checkboxset`, `list`, `group`, `zonepicker`\n   * @param {String} options.name The name of the model field this input mutates\n   * @param {String|Function} [options.label]\n   * The input label text.\n   * When passed as a function, will invoke the function (in the context of the {@link InputLabel})\n   * on render time, and use the returned value.\n   * @param {String} [options.sublabel] The input sub label text\n   * @param {String} [options.tooltip] A popover tooltip to be displayed next to the label\n   * @param {String} [options.placeholder] Placeholder text.\n   * @param {String} [options.explain] Explanation text to render below the input\n   * @param {Okta.View} [options.customExplain] A custom view to render below the input (deprecated)\n   * @param {Boolean} [options.disabled=false] Make this input disabled\n   * @param {Boolean} [options.wide=false] Use a wide input layout\n   * @param {Boolean} [options.label-top=false] position label on top of an input\n   * @param {Boolean} [options.explain-top=false] position explain on top of an input (requires label-top=true)\n   * @param {Number} [options.multi] have multiple in-line inputs. useful when `input` is passed as an array of inputs\n   * @param {String} [options.errorField] The API error field here that maps to this input\n   * @param {Boolean} [options.inlineValidation=true] Validate input on focusout\n   * @param {String} [options.ariaLabel] Used to add aria-label attribute to the input when label is not present.\n   * @param {Boolean} [options.group=false] Grouping set of inputs using fieldset and legend. Mainly for radio\n   * @param {Object} [options.options]\n   * In the context of `radio` and `select`, a key/value set of options\n   *\n   * @param {Object} [options.params]\n   * Widget specific parameters. Varies per input.\n   *\n   * @param {BaseInput|Object[]} [options.input]\n   * - A custom input \"class\" or instance - preferably a **class**, so we can automagically assign the right\n   * parameters when initializing it\n   * - An array of input definition object literals (such as this one)\n   *\n   * @param {Object} [options.showWhen]\n   * Setting to define when to show (or hide) the input. The input is visible by default.\n   *\n   * @param {Object} [options.bindings]\n   * Bind a certain model attribute to a callback function, so the function is being called on render,\n   * and any time this model field changes.\n   * This is similar to `showWhen` but is not limited to toggling.\n   *\n   * @param {Function} [options.render]\n   * A post-render hook that will run upon render on InputWrapper\n   *\n   * @param {String|Function} className   A className to apply on the {@link InputWrapper}\n   *\n   * @param {Function} [options.initialize]\n   * An `initialize` function to run when initializing the {@link InputWrapper}\n   * Useful for state mutation on start time, and complex state logic\n   *\n   * @example\n   * // showhen: the field will be visible when `advanced` is set to `true`\n   * // and `mode` is set to `\"ON\"`.\n   * showWhen: {\n   *   'advanced': true,\n   *   'mode': function (value) {\n   *     return value == 'ON'; // this is identical to this.model.get('mode') == 'ON'\n   *   }\n   * }\n   *\n   * @example\n   * // bindings\n   * bindings: {\n   *   'status mode': function (status, mode) {\n   *      var labelView = this.getLabel();\n   *      if (status == 1) {\n   *        labelView.options.label = 'Something';\n   *      }\n   *      else {\n   *        labelView.options.label = mode;\n   *      }\n   *      labelView.render();\n   *   }\n   * }\n   */\n  addInput: function (_options) {\n    _options = oktaUnderscore.clone(_options);\n    FormUtil.validateInput(_options, this.model);\n    const inputsOptions = FormUtil.generateInputOptions(_options, this, this.__createInput).reverse(); // We need a local variable here to keep track\n    // as addInput can be called either directy or through the inputs array.\n\n    if (oktaUnderscore.isEmpty(this.getInputs().toArray())) {\n      oktaUnderscore.extend(inputsOptions[0], {\n        validateOnlyIfDirty: true\n      });\n    }\n\n    const inputs = oktaUnderscore.map(inputsOptions, this.__createInput, this);\n\n    oktaUnderscore.each(inputsOptions, function (input) {\n      if (input.errorField) {\n        this.__errorFields[input.errorField] = input.name;\n      }\n    }, this);\n\n    const options = {\n      inputId: oktaUnderscore.last(inputs).options.inputId,\n      input: inputs,\n      multi: inputsOptions.length > 1 ? inputsOptions.length : undefined\n    };\n\n    oktaUnderscore.extend(options, oktaUnderscore.omit(this.options, 'input'), oktaUnderscore.omit(_options, 'input'));\n\n    const inputWrapper = this.__createWrapper(options);\n\n    if (options.label !== false) {\n      inputWrapper.add(this.__createLabel(options));\n    }\n\n    inputWrapper.add(this._createContainer(options)); // TODO: there may be a bug here.\n    // options.input will always be an array, so options.input.type will always be undefined\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    /// @ts-ignore\n\n    inputWrapper.type = options.type || options.input.type || 'custom';\n    const args = [inputWrapper].concat(oktaUnderscore.rest(arguments));\n    return this.add.apply(this, args);\n  },\n\n  /**\n   * @private\n   */\n  __createInput: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.INPUT_OPTIONS);\n    return InputFactory.create(options);\n  },\n\n  /**\n   * @private\n   */\n  __createWrapper: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.WRAPPER_OPTIONS);\n    return new InputWrapper(options);\n  },\n\n  /**\n   * @private\n   */\n  __createLabel: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.LABEL_OPTIONS);\n    return new InputLabel(options);\n  },\n\n  /**\n   * @private\n   */\n  _createContainer: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.CONTAINER_OPTIONS);\n    return new InputContainer(options);\n  },\n\n  /**\n   * Stores the current attributes of the model to a private property\n   * @param  {Okta.BaseModel} model The model\n   * @private\n   */\n  __saveModelState: function (model) {\n    this.__originalModel = oktaJQueryStatic.extend(true, {}, model.attributes);\n  },\n\n  /**\n   * @override\n   * @ignore\n   */\n  add: function (...args) {\n    // sets a default element selector\n    typeof args[1] === 'undefined' && (args[1] = '> div.o-form-content > .o-form-fieldset-container');\n    return BaseView.prototype.add.apply(this, args);\n  },\n\n  /**\n   * Set the focus on the first input in the form\n   */\n  focus: function () {\n    const first = this.getInputs().first();\n\n    if (first && first.focus) {\n      first.focus();\n    }\n\n    return this;\n  },\n\n  /**\n   * Disable all inputs in the form\n   * @deprecated not currently in use\n   */\n  disable: function () {\n    this.invoke('disable');\n    return this;\n  },\n\n  /**\n   * Enable all inputs in the form\n   * @deprecated not currently in use\n   */\n  enable: function () {\n    this.invoke('enable');\n  },\n\n  /**\n   * Set the max-height for o-form-content class container within the form if a height is provided,\n   * otherwise, get its computed inner height\n   * @param {Number} the height in pixel to set for class o-form-content\n   * @return {Number}\n   */\n  contentHeight: function (height) {\n    const content = this.$('.o-form-content');\n\n    if (oktaUnderscore.isNumber(height)) {\n      content.css('max-height', height);\n    } else {\n      return content.height();\n    }\n  },\n\n  /**\n   * Get only the input children\n   * @return {InputWrapper[]} An underscore wrapped array of {@link InputWrapper} instances\n   */\n  getInputs: function () {\n    return oktaUnderscore(this.filter(function (view) {\n      return view instanceof InputWrapper;\n    }));\n  }\n});\n\nexport { BaseForm as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport ButtonFactory from '../../util/ButtonFactory.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport Callout from '../components/Callout.js';\nimport Keys from '../../util/Keys.js';\n\nconst props = {\n  tagName: 'span',\n  attributes: function () {\n    return {\n      'data-se': 'o-form-input-' + this.getNameString()\n    };\n  },\n\n  /**\n   * default placeholder text when options.placeholder is not defined\n   */\n  defaultPlaceholder: '',\n  constructor: function (options) {\n    /* eslint complexity: [2, 9] */\n    options = oktaUnderscore.defaults(options || {}, {\n      inputId: options.id || oktaUnderscore.uniqueId('input'),\n      placeholder: this.defaultPlaceholder,\n      inlineValidation: true,\n      validateOnlyIfDirty: false\n    });\n    delete options.id; // decorate the `enable` and `disable` and toggle the `o-form-disabled` class.\n    // so we wont need to worry about this when overriding the methods\n\n    const self = this;\n\n    oktaUnderscore.each({\n      enable: 'removeClass',\n      disable: 'addClass'\n    }, function (method, action) {\n      self[action] = oktaUnderscore.wrap(self[action], function (fn) {\n        fn.apply(self, arguments);\n        self.$el[method]('o-form-disabled');\n      });\n    });\n\n    BaseView.call(this, options);\n\n    if (oktaUnderscore.result(options, 'readOnly') !== true && oktaUnderscore.result(options, 'read') === true) {\n      this.listenTo(this.model, 'change:__edit__', this.render);\n    }\n\n    if (oktaUnderscore.isFunction(this.focus)) {\n      this.focus = oktaUnderscore.debounce(oktaUnderscore.bind(this.focus, this), 50);\n    } // Enable inline validation if this is not the first field in the form.\n\n\n    if (!oktaUnderscore.result(options, 'validateOnlyIfDirty')) {\n      this.addInlineValidation();\n    }\n\n    this.addModelListeners();\n    this.$el.addClass('o-form-input-name-' + this.getNameString());\n  },\n  addAriaLabel: function () {\n    const ariaLabel = this.options.ariaLabel;\n\n    if (ariaLabel) {\n      this.$(':input').attr('aria-label', ariaLabel);\n    }\n  },\n  addInlineValidation: function () {\n    if (oktaUnderscore.result(this.options, 'inlineValidation')) {\n      this.$el.on('focusout', ':input', oktaUnderscore.bind(this.validate, this));\n    }\n  },\n  toModelValue: function () {\n    let value = this.val();\n\n    if (oktaUnderscore.isFunction(this.to)) {\n      value = this.to.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.to)) {\n      value = this.options.to.call(this, value);\n    }\n\n    return value;\n  },\n  __getDependencyCalloutBtn: function (btnConfig) {\n    const self = this;\n\n    const btnOptions = oktaUnderscore.clone(btnConfig);\n\n    const originalClick = btnOptions.click || function () {}; // add onfocus listener to re-evaluate depedency when callout button is clicked\n\n\n    btnOptions.click = function () {\n      oktaJQueryStatic(window).one('focus.dependency', function () {\n        self.__showInputDependencies();\n      });\n      originalClick.call(self);\n    };\n\n    const BaseInputCalloutBtn = BaseView.extend({\n      children: [ButtonFactory.create(btnOptions)]\n    });\n    return new BaseInputCalloutBtn();\n  },\n  getCalloutParent: function () {\n    return this.$('input[value=\"' + this.getModelValue() + '\"]').parent();\n  },\n  __getCalloutMsgContainer: function (calloutMsg) {\n    return BaseView.extend({\n      template: _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          var helper,\n              lookupProperty = container.lookupProperty || function (parent, propertyName) {\n            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n              return parent[propertyName];\n            }\n\n            return undefined;\n          };\n\n          return \"<span class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"msg\") || (depth0 != null ? lookupProperty(depth0, \"msg\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n            \"name\": \"msg\",\n            \"hash\": {},\n            \"data\": data,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 29\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 36\n              }\n            }\n          }) : helper)) + \"</span>\";\n        },\n        \"useData\": true\n      }),\n      getTemplateData: function () {\n        return {\n          msg: calloutMsg\n        };\n      }\n    });\n  },\n  showCallout: function (calloutConfig, dependencyResolved) {\n    const callout = oktaUnderscore.clone(calloutConfig);\n\n    callout.className = 'dependency-callout';\n\n    if (callout.btn) {\n      callout.content = this.__getDependencyCalloutBtn(callout.btn);\n      delete callout.btn;\n    }\n\n    const dependencyCallout = Callout.create(callout);\n\n    if (!dependencyResolved) {\n      dependencyCallout.add(this.__getCalloutMsgContainer(StringUtil.localize('dependency.callout.msg', 'courage')));\n    }\n\n    const calloutParent = this.getCalloutParent();\n    calloutParent.append(dependencyCallout.render().el);\n\n    if (callout.type === 'success') {\n      oktaUnderscore.delay(function () {\n        // fade out success callout\n        dependencyCallout.$el.fadeOut(800);\n      }, 1000);\n    }\n  },\n  removeCallout: function () {\n    this.$el.find('.dependency-callout').remove();\n  },\n  __evaluateCalloutObject: function (dependencyResolved, calloutTitle) {\n    let defaultCallout;\n\n    if (dependencyResolved) {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.completed', 'courage'),\n        size: 'large',\n        type: 'success'\n      };\n    } else {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.required', 'courage', [calloutTitle]),\n        size: 'large',\n        type: 'warning'\n      };\n    }\n\n    return defaultCallout;\n  },\n  __handleDependency: function (result, callout) {\n    const self = this;\n    const calloutConfig = oktaUnderscore.isFunction(callout) ? callout(result) : oktaUnderscore.extend({}, callout, self.__evaluateCalloutObject(result.resolved, callout.title)); // remove existing callouts if any\n\n    self.removeCallout();\n    self.showCallout(calloutConfig, result.resolved);\n  },\n  __showInputDependencies: function () {\n    const self = this;\n    const fieldDependency = self.options.deps[self.getModelValue()];\n\n    if (fieldDependency && oktaUnderscore.isFunction(fieldDependency.func)) {\n      fieldDependency.func().done(function (data) {\n        self.__handleDependency({\n          resolved: true,\n          data: data\n        }, fieldDependency.callout);\n      }).fail(function (data) {\n        self.__handleDependency({\n          resolved: false,\n          data: data\n        }, fieldDependency.callout);\n      });\n    } else {\n      self.removeCallout();\n    }\n  },\n  _isEdited: false,\n  hasIMESupport: false,\n\n  /**\n   * updates the model with the input's value\n   */\n  update: function (e) {\n    if (!this._isEdited && oktaUnderscore.result(this.options, 'validateOnlyIfDirty')) {\n      this._isEdited = true;\n      this.addInlineValidation();\n    }\n\n    this.model.set(this.options.name, this.toModelValue());\n\n    if (this.options.deps) {\n      // check for dependencies\n      this.__showInputDependencies();\n    }\n    /*\n      To add IME support for more components\n      - Add hasIMESupport boolean flag and compositionend and compositionstart event listeners to the component\n      - Supported components: TextBox.js, TextSelect.js\n      - Additionally window.okta.enableIMESupport is an org level FF to toggle IME support\n    */\n\n\n    if (this.hasIMESupport && window?.okta?.enableIMESupport) {\n      if (this.isComposing) {\n        return;\n      }\n\n      if (e && Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * Is the input in edit mode\n   * @return {Boolean}\n   */\n  isEditMode: function () {\n    const ret = !oktaUnderscore.result(this.options, 'readOnly') && (oktaUnderscore.result(this.options, 'read') !== true || this.model.get('__edit__') === true);\n    return ret;\n  },\n\n  /**\n   * Renders the input\n   * @readonly\n   */\n  render: function () {\n    this.preRender();\n    const params = this.options.params;\n    this.options.params = oktaUnderscore.resultCtx(this.options, 'params', this);\n\n    if (this.isEditMode()) {\n      this.editMode();\n      this.applyEnabledState();\n    } else {\n      this.readMode();\n    }\n\n    this.options.params = params;\n    this.addAriaLabel();\n    this.postRender();\n    return this;\n  },\n  applyEnabledState: function () {\n    if (oktaUnderscore.resultCtx(this.options, 'disabled', this)) {\n      this.disable();\n    } else {\n      this.enable();\n    }\n  },\n\n  /**\n   * checks if the current value in the model is valid for this field\n   */\n  validate: function () {\n    if (!this.model.get('__pending__') && this.isEditMode() && oktaUnderscore.isFunction(this.model.validateField)) {\n      const validationError = this.model.validateField(this.options.name);\n\n      if (validationError) {\n        oktaUnderscore.delay(function () {\n          this.model.trigger('form:clear-error:' + this.options.name);\n          this.model.trigger('invalid', this.model, validationError, false);\n        }.bind(this), 100);\n      }\n    }\n  },\n\n  /**\n   * Add model event listeners\n   */\n  addModelListeners: function () {\n    this.listenTo(this.model, 'form:field-error', function (name) {\n      if (this.options.name === name) {\n        this.__markError();\n      }\n    });\n    this.listenTo(this.model, 'form:clear-errors change:' + this.options.name, this.__clearError);\n    this.listenTo(this.model, 'form:clear-error:' + this.options.name, this.__clearError);\n  },\n\n  /**\n   * The value of the input\n   * @return {Mixed}\n   */\n  val: function () {\n    throw new Error('val() is an abstract method');\n  },\n\n  /**\n   * Set focus on the input\n   */\n  focus: function () {\n    throw new Error('focus() is an abstract method');\n  },\n\n  /**\n   * Default value in read mode\n   * When model has no value for the field\n   */\n  defaultValue: function () {\n    return '';\n  },\n\n  /**\n   * Renders the input in edit mode\n   */\n  editMode: function () {\n    const options = oktaUnderscore.extend({}, this.options, {\n      value: this.getModelValue()\n    });\n\n    this.$el.html(this.template(options));\n    this.options.multi && this.$el.removeClass('margin-r');\n    return this;\n  },\n\n  /**\n   * Renders the readable value of the input in read mode\n   */\n  readMode: function () {\n    this.$el.text(this.getReadModeString());\n    this.$el.removeClass('error-field');\n    this.options.multi && this.$el.addClass('margin-r');\n    return this;\n  },\n  getReadModeString: function () {\n    const readModeStr = oktaUnderscore.resultCtx(this.options, 'readModeString', this);\n\n    if (readModeStr) {\n      return readModeStr;\n    }\n\n    return this.toStringValue();\n  },\n\n  /**\n   * The model value off the field associated with the input\n   * @return {Mixed}\n   */\n  getModelValue: function () {\n    let value = this.model.get(this.options.name);\n\n    if (oktaUnderscore.isFunction(this.from)) {\n      value = this.from.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.from)) {\n      value = this.options.from.call(this, value);\n    }\n\n    return value;\n  },\n\n  /*\n  * convenience method to get the textual value from the model\n  * will return the textual label rather than value in case of select/radio\n  * @return {String}\n  */\n  toStringValue: function () {\n    let value = this.getModelValue();\n\n    if (this.options.options) {\n      // dropdown or radio\n      value = this.options.options[value];\n    }\n\n    if (Number.isInteger(value) || typeof value === 'boolean') {\n      value = String(value);\n    }\n\n    return value || this.defaultValue();\n  },\n\n  /**\n   * Triggers a form:resize event in order to tell dialogs content size has changed\n   */\n  resize: function () {\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Disable the input\n   */\n  disable: function () {\n    this.$(':input').prop('disabled', true);\n  },\n\n  /**\n   * Enable the input\n   */\n  enable: function () {\n    this.$(':input').prop('disabled', false);\n  },\n\n  /**\n   * Change the type of the input field. (e.g., text <--> password)\n   * @param type\n   */\n  changeType: function (type) {\n    this.$(':input').prop('type', type); // Update the options so that it keeps the uptodate state\n\n    this.options.type = type;\n  },\n  getNameString: function () {\n    if (oktaUnderscore.isArray(this.options.name)) {\n      return this.options.name.join('-');\n    }\n\n    return this.options.name;\n  },\n\n  /**\n   * Get parameters, computing _.result\n   * @param  {[type]} options alternative options\n   * @return {Object} the params\n   */\n  getParams: function (options) {\n    const opts = options || this.options || {};\n    return oktaUnderscore.clone(oktaUnderscore.resultCtx(opts, 'params', this) || {});\n  },\n\n  /**\n   * get a parameter from options.params, compute _.result when needed.\n   * @param  {String} key\n   * @param  {Object} defaultValue\n   * @return {Object} the params\n   */\n  getParam: function (key, defaultValue) {\n    const result = oktaUnderscore.resultCtx(this.getParams(), key, this);\n\n    return !oktaUnderscore.isUndefined(result) ? result : defaultValue;\n  },\n\n  /**\n   * Get a parameter from options.params or if empty, object attribute.\n   *\n   * @param  {String} key\n   * @return {Object} the param or attribute\n   */\n  getParamOrAttribute: function (key) {\n    return this.getParam(key) || oktaUnderscore.result(this, key);\n  },\n  __markError: function () {\n    this.$el.addClass('o-form-has-errors');\n  },\n  __clearError: function () {\n    this.$el.removeClass('o-form-has-errors');\n  }\n};\n/**\n * @class BaseInput\n * @private\n * An abstract object that defines an input for {@link Okta.Form}\n *\n * BaseInputs are typically not created directly, but being passed to {@link Okta.Form#addInput}\n * @extends Okta.View\n */\n\nvar BaseInput = BaseView.extend(props);\n\nexport { BaseInput as default };\n","import BaseView from '../../BaseView.js';\nimport FormUtil from '../helpers/FormUtil.js';\n\nvar ReadModeBar = BaseView.extend({\n  el: '<span class=\"o-form-toggle\" data-type=\"header-btn\"></span>',\n  formTitle: '',\n  modelEvents: {\n    'change:__edit__': 'toggle'\n  },\n  initialize: function () {\n    this.addButton();\n  },\n  addButton: function () {\n    if (this.model.get('__edit__')) {\n      this.add(FormUtil.createReadFormButton({\n        type: 'cancel'\n      }));\n    } else {\n      this.add(FormUtil.createReadFormButton({\n        type: 'edit',\n        formTitle: this.formTitle,\n        className: 'disable-in-read-only'\n      }));\n    }\n  },\n  toggle: function () {\n    this.removeChildren();\n    this.addButton();\n  }\n});\n\nexport { ReadModeBar as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport BaseView from '../../BaseView.js';\nimport FormUtil from '../helpers/FormUtil.js';\n\nconst proto = {\n  className: function () {\n    return 'o-form-button-bar';\n  },\n  buttonOrder: ['previous', 'save', 'cancel'],\n  initialize: function (options) {\n    const buttonConfigs = {\n      previous: {\n        type: 'previous'\n      },\n      save: {\n        type: 'save',\n        text: oktaUnderscore.resultCtx(options, 'save', this),\n        id: oktaUnderscore.resultCtx(options, 'saveId', this),\n        className: oktaUnderscore.resultCtx(options, 'saveClassName', this)\n      },\n      cancel: {\n        type: 'cancel',\n        text: oktaUnderscore.resultCtx(options, 'cancel', this)\n      }\n    };\n\n    this.__getButtonOrder(options).forEach(buttonName => {\n      this.addButton(buttonConfigs[buttonName]);\n    });\n  },\n\n  /**\n   * Adds a buttomn to the toolbar\n   * @param {Object} params button parameters\n   * @param {Object} options {@link Okta.View#add} options\n   */\n  addButton: function (params, options) {\n    return this.add(FormUtil.createButton(params), options);\n  },\n  __getButtonOrder: function (options) {\n    const buttonOrder = oktaUnderscore.resultCtx(options, 'buttonOrder', this, this.buttonOrder);\n\n    const buttonsToSkip = [];\n\n    if (options.noSubmitButton) {\n      buttonsToSkip.push('save');\n    }\n\n    if (options.noCancelButton) {\n      buttonsToSkip.push('cancel');\n    }\n\n    if (!options.hasPrevStep) {\n      buttonsToSkip.push('previous');\n    }\n\n    return oktaUnderscore.without(buttonOrder, ...buttonsToSkip);\n  }\n};\nvar Toolbar = BaseView.extend(proto);\n\nexport { Toolbar as default };\n","import oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\n/* eslint max-statements: 0 */\nconst NAME = 'name';\nconst ENUM_KEY_PREFIX = '_enum_';\n/**\n * Generate Input Options in order to create an input in an Form for Enum type attribute.\n * @param {Object} config informations for creating input options\n *   config.name        schema property name\n *   config.title       schema property title\n *   config.readOnly    create an read only input?\n *   config.explain     sub-title to the input\n *   config.enumValues  list of enum values for creating input options (Dropdown/SimpleCheckBoxSet)\n *   config.displayType display type of schema property\n *\n * @return {Object} inputOptions options for create an Input view. (Dropdown/SimpleCheckBoxSet)\n *\n */\n\nfunction getEnumInputOptions(config) {\n  const enumOneOf = convertToOneOf(config.enumValues);\n  const inputOptions = {\n    name: config.name,\n    label: config.title,\n    readOnly: config.readOnly,\n    customExplain: config.explain,\n    params: {\n      enumOneOf: enumOneOf\n    },\n    options: getDropdownOptionsFromOneOf(enumOneOf)\n  }; // input type\n\n  if (SchemaUtils.isArrayDataType(config.displayType)) {\n    inputOptions.type = 'checkboxset';\n    inputOptions.to = valuesToEnumObjects;\n    inputOptions.from = enumObjectsToValues;\n  } else {\n    inputOptions.type = 'select';\n    inputOptions.to = valueToEnumObject;\n    inputOptions.from = enumObjectToValue;\n  }\n\n  inputOptions.input = null;\n  return inputOptions;\n}\n\nfunction getDropdownOptions(values) {\n  return oktaUnderscore.isArray(values) ? getDropdownOptionsFromOneOf(convertToOneOf(values)) : {};\n}\n\nfunction getDropdownOptionsFromOneOf(values) {\n  if (!isOneOfEnumObject(values)) {\n    return {};\n  }\n\n  return oktaUnderscore.reduce(values, function (options, value, index) {\n    options[convertIndexToEnumIndex(index)] = value.title;\n    return options;\n  }, {});\n}\n\nfunction convertToOneOf(values) {\n  // assume this is a legacy enum array and convert to oneOf object\n  if (!oktaUnderscore.all(values, oktaJQueryStatic.isPlainObject)) {\n    return convertEnumToOneOf(values); // we assume object without const and title is an enum object which need special conversion\n  } else if (!isOneOfEnumObject(values)) {\n    return convertEnumObjectToOneOf(values);\n  }\n\n  return values;\n}\n\nfunction isOneOfEnumObject(values) {\n  return oktaUnderscore.isArray(values) && oktaUnderscore.all(values, function (value) {\n    return oktaUnderscore.has(value, 'const') && oktaUnderscore.has(value, 'title');\n  });\n}\n\nfunction convertEnumToOneOf(values) {\n  return oktaUnderscore.map(values, function (value) {\n    return {\n      const: value,\n      title: valueToTitle(value)\n    };\n  });\n}\n\nfunction valueToTitle(value) {\n  if (oktaUnderscore.isObject(value)) {\n    return JSON.stringify(value);\n  }\n\n  if (oktaUnderscore.isNumber(value)) {\n    return value + '';\n  }\n\n  return value;\n}\n\nfunction convertEnumObjectToOneOf(values) {\n  const findKey = oktaUnderscore.partial(oktaUnderscore.has, oktaUnderscore, NAME); // If all object found the key NAME, use the NAME's value as display name\n\n\n  if (oktaUnderscore.all(values, findKey)) {\n    return oktaUnderscore.chain(values).filter(function (value) {\n      return oktaJQueryStatic.isPlainObject(value) && oktaUnderscore.has(value, NAME);\n    }).map(function (value) {\n      return {\n        const: value,\n        title: value[NAME]\n      };\n    }).value();\n  } // Assume a legacy object array does not need special handling and just convert to const/title enum\n\n\n  return convertEnumToOneOf(values);\n}\n\nfunction convertIndexToEnumIndex(index) {\n  return `${ENUM_KEY_PREFIX}${index}`;\n}\n\nfunction enumObjectToValue(obj) {\n  const index = oktaUnderscore.findIndex(this.options.params.enumOneOf, function (oneOfObj) {\n    return oktaUnderscore.isObject(obj) ? oktaUnderscore.isEqual(oneOfObj.const, obj) : oneOfObj.const === obj;\n  }); // Cannot rely on comparator in findIndex when compare objects so need special handling\n\n\n  return index > -1 ? convertIndexToEnumIndex(index) : obj;\n}\n\nfunction valueToEnumObject(val) {\n  if (!oktaUnderscore.isString(val) || val.indexOf(ENUM_KEY_PREFIX) !== 0) {\n    return val;\n  }\n\n  const index = val.replace(ENUM_KEY_PREFIX, '');\n  const enumValue = this.options.params && oktaUnderscore.isArray(this.options.params.enumOneOf) ? this.options.params.enumOneOf[index] : null; // @see `getEnumInputOptions` how enumValues has been set.\n\n  return oktaUnderscore.has(enumValue, 'const') ? enumValue.const : enumValue;\n}\n\nfunction valuesToEnumObjects(values) {\n  return oktaUnderscore.map(values, valueToEnumObject.bind(this));\n}\n\nfunction enumObjectsToValues(values) {\n  return oktaUnderscore.map(values, enumObjectToValue.bind(this));\n}\n\nfunction isStringConstraint(value) {\n  return oktaUnderscore.isString(value);\n}\n\nfunction isNumberConstraint(value) {\n  return oktaUnderscore.isNumber(value) || oktaUnderscore.isNumber(StringUtil.parseFloat(oktaJQueryStatic.trim(value)));\n}\n\nfunction isIntegerConstraint(value) {\n  const integer = oktaUnderscore.isNumber(value) ? value : StringUtil.parseInt(oktaJQueryStatic.trim(value));\n  return typeof integer === 'number' && isFinite(integer) && Math.floor(integer) === integer;\n}\n\nfunction isObjectConstraint(value) {\n  if (oktaUnderscore.isObject(value) && !oktaUnderscore.isArray(value)) {\n    return true;\n  }\n\n  const object = StringUtil.parseObject(oktaJQueryStatic.trim(value));\n  return oktaUnderscore.isObject(object) && !oktaUnderscore.isArray(object);\n}\n\nfunction isConstraintValueMatchType(value, type) {\n  switch (type) {\n    case SchemaUtils.STRING:\n      return isStringConstraint(value);\n\n    case SchemaUtils.NUMBER:\n      return isNumberConstraint(value);\n\n    case SchemaUtils.INTEGER:\n      return isIntegerConstraint(value);\n\n    case SchemaUtils.OBJECT:\n      return isObjectConstraint(value);\n  }\n}\n\nvar EnumTypeHelper = {\n  getEnumInputOptions: getEnumInputOptions,\n  getDropdownOptions: getDropdownOptions,\n  convertToOneOf: convertToOneOf,\n  isConstraintValueMatchType: isConstraintValueMatchType\n};\n\nexport { EnumTypeHelper as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport BaseView from '../../BaseView.js';\n\nvar ErrorBanner = BaseView.extend({\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<p>\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"errorSummary\") || (depth0 != null ? lookupProperty(depth0, \"errorSummary\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"errorSummary\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 130\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 146\n          }\n        }\n      }) : helper)) + \"</p>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<p>\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"oform.errorbanner.title\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 161\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 217\n          }\n        }\n      })) + \"</p>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<div class=\\\"okta-form-infobox-error infobox infobox-error\\\" role=\\\"alert\\\"><span class=\\\"icon error-16\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"errorSummary\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.program(3, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 107\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 228\n          }\n        }\n      })) != null ? stack1 : \"\") + \"</div>\";\n    },\n    \"useData\": true\n  }),\n  modelEvents: {\n    'form:clear-errors': 'remove'\n  }\n});\n\nexport { ErrorBanner as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst FIELD_REGEX = /^([\\S]+): (.+)$/;\nvar ErrorParser = {\n  /**\n   * Helper function that returns the json output of an xhr objext\n   * @param  {jqXhr} xhr\n   * @return {Object}\n   */\n  getResponseJSON: function (xhr) {\n    try {\n      return xhr.responseJSON || JSON.parse(xhr.responseText);\n    } catch (e) {// ignore error\n    }\n  },\n\n  /**\n   * Parses an error summary to extract a field name and an error message\n   * @param  {String} errorSummary The raw error summary\n   * @return {String[]} An array with two members: [field name, error message]\n   */\n  parseErrorSummary: function (errorSummary) {\n    const matches = errorSummary.match(FIELD_REGEX); // error format is: `fieldName: The field cannot be left blank`\n\n    if (matches) {\n      return [matches[1], matches[2]];\n    }\n  },\n\n  /**\n   * Parses an error cause object to extract a field name from property attribute\n   * and an error message form errorSummary attribute. It looks to see if there is\n   * a custom override/translation for the erorrCause.reason before using the errorSummary\n   * @param  {Object} errorCause object\n   * @return {String[]} An array with two members: [field name, error message]\n   */\n  parseErrorCauseObject: function (errorCause) {\n    if (errorCause.property && errorCause.errorSummary) {\n      // avoid triggering sentry log for error event with no cause reason\n      const localizedMsg = errorCause.reason ? StringUtil.localize(errorCause.reason) : undefined;\n      const apiMsg = errorCause.errorSummary;\n      const field = errorCause.property;\n      const errorMessage = localizedMsg?.indexOf('L10N_ERROR[') === -1 ? localizedMsg : apiMsg;\n      return [field, errorMessage];\n    }\n  },\n  parseErrors: function (resp) {\n    const responseJSON = this.getResponseJSON(resp);\n    return oktaUnderscore.map(responseJSON && responseJSON.errorCauses || [], function (errorCause) {\n      return ('' + errorCause.errorSummary).replace(FIELD_REGEX, '$2');\n    });\n  },\n\n  /**\n   * Parses the response for errors\n   * Returns a map of field names > array or error messages\n   * Example:\n   * ```javascript\n   * {\n   *   url: ['The field cannot be left blank', 'The field has to be a valid URI'],\n   *   name: ['The field cannot be left blank']\n   * }\n   * ```\n   * @param  {Object} resp\n   * @return {Object}\n   */\n  parseFieldErrors: function (resp) {\n    const responseJSON = this.getResponseJSON(resp);\n    const errors = {}; // xhr error object\n\n    if (responseJSON) {\n      /* eslint complexity: [2, 9] */\n      oktaUnderscore.each(responseJSON.errorCauses || [], function (cause) {\n        let res = [];\n\n        if (cause.property && cause.errorSummary) {\n          res = this.parseErrorCauseObject(cause);\n        } else if (cause.location && cause.errorSummary) {\n          // To handle new api error format for field level errors.\n          // Ignoring the reason attribute as the translation happens in the API layer and not in the client any more.\n          res = [cause.location, cause.errorSummary];\n        } else {\n          res = this.parseErrorSummary(cause && cause.errorSummary || '');\n        }\n\n        if (res) {\n          const fieldName = res[0];\n          const message = res[1];\n          errors[fieldName] || (errors[fieldName] = []);\n          errors[fieldName].push(message);\n        }\n      }, this);\n    } // validation key/value object\n    else if (oktaUnderscore.isObject(resp) && oktaUnderscore.size(resp)) {\n      oktaUnderscore.each(resp, function (msg, field) {\n        errors[field] = [msg];\n      });\n    }\n\n    return oktaUnderscore.size(errors) ? errors : undefined;\n  }\n};\n\nexport { ErrorParser as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport Logger from '../../../util/Logger.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport ViewUtil from '../../../util/ViewUtil.js';\nimport BaseView from '../../BaseView.js';\n\n/* eslint max-params: [2, 6] */\nconst LABEL_OPTIONS = ['model', 'id', 'inputId', 'type', 'label', 'sublabel', 'tooltip', 'name', 'group'];\nconst CONTAINER_OPTIONS = ['wide', 'multi', 'input', 'label-top', 'explain', 'explain-top', 'customExplain', 'model', 'name', 'type', 'autoRender', 'multirowError'];\nconst WRAPPER_OPTIONS = ['model', 'name', 'label-top', 'readOnly', 'events', 'initialize', 'showWhen', 'bindings', 'render', 'className', 'data-se', 'toggleWhen', 'group'];\nconst INPUT_OPTIONS = ['model', 'name', 'inputId', 'type', // base options\n'input', // custom input\n'placeholder', 'label', // labels\n'readOnly', 'read', 'disabled', 'readModeString', // modes\n'options', // select/radio\n'deps', // used to specify inputs that have dependencies and show a callout to user on select\n'from', 'to', // model transformers,\n'autoRender', // model attributes change event to trigger rerendering of the input\n'inlineValidation', // control inline validating against the model on focus lost\n'validateOnlyIfDirty', // check if field has been interacted with and then validate\n'ariaLabel', // 508 compliance for inputs that do not have label associated with them\n'params', 'autoComplete', // autocomplete attribute\n'sortByKey'];\nconst OTHER_OPTIONS = ['errorField' // widgets params - for input specific widgets\n];\n\nconst ALL_OPTIONS = oktaUnderscore.uniq(oktaUnderscore.union(LABEL_OPTIONS, CONTAINER_OPTIONS, WRAPPER_OPTIONS, INPUT_OPTIONS, OTHER_OPTIONS));\n\nconst SAVE_BUTTON_PHASES = ['•         ', '•  •      ', '•  •  •   ', '•  •  •  •', '   •  •  •', '      •  •', '         •', '          ', '          ', '          '];\n\nfunction decorateDoWhen(doWhen) {\n  if (doWhen && !doWhen['__edit__']) {\n    return oktaUnderscore.extend({\n      __edit__: oktaUnderscore.constant(true)\n    }, doWhen);\n  }\n}\n\nfunction createButton(options) {\n  options = oktaUnderscore.pick(options || {}, 'action', 'id', 'className', 'text', 'type');\n  let timeoutId;\n  let intervalId;\n  let phaseCount;\n  return BaseView.extend({\n    tagName: 'input',\n    className: 'button',\n    events: {\n      click: function () {\n        if (options.action && !this.disabled()) {\n          options.action.call(this);\n        }\n      },\n      keyup: function (e) {\n        if (Keys.isEnter(e) && options.action && !this.disabled()) {\n          options.action.call(this);\n        }\n      }\n    },\n    disabled: function () {\n      return this.$el.prop('disabled') === true;\n    },\n    disable: function () {\n      this.$el.prop('disabled', true);\n      this.$el.addClass('btn-disabled');\n    },\n    enable: function () {\n      this.$el.prop('disabled', false);\n      this.$el.removeClass('btn-disabled');\n    },\n    initialize: function () {\n      const self = this;\n      this.$el.attr('type', options.type === 'save' ? 'submit' : 'button');\n      this.$el.val(options.text);\n\n      if (options.id) {\n        this.$el.attr('id', options.id);\n      }\n\n      if (options.className) {\n        this.$el.addClass(options.className);\n      }\n\n      if (options.type) {\n        this.$el.attr('data-type', options.type);\n      }\n\n      this.$el.mousedown(function () {\n        self.model.set('__pending__', true);\n      });\n      this.$el.mouseup(function () {\n        self.model.set('__pending__', false);\n      });\n      this.listenTo(this.model, 'form:set-saving-state', function () {\n        this.disable();\n\n        if (options.type === 'save') {\n          clearTimeout(timeoutId);\n          timeoutId = setTimeout(oktaUnderscore.bind(this.__changeSaveText, this), 1000);\n        }\n      });\n      this.listenTo(this.model, 'form:clear-saving-state', function () {\n        this.enable();\n\n        if (options.type === 'save') {\n          clearTimeout(timeoutId);\n          clearInterval(intervalId);\n          this.$el.val(options.text);\n        }\n      });\n    },\n    __changeSaveText: function () {\n      phaseCount = 0;\n      clearInterval(intervalId);\n      intervalId = setInterval(oktaUnderscore.bind(this.__showLoadingText, this), 200);\n    },\n    __showLoadingText: function () {\n      this.$el.val(SAVE_BUTTON_PHASES[phaseCount++ % SAVE_BUTTON_PHASES.length]);\n    }\n  });\n}\n\nfunction validateInput(options, model) {\n  /* eslint max-statements: 0, complexity: 0 */\n  options || (options = {});\n\n  if (options.type === 'label') {\n    if (!options.label) {\n      Logger.warn('A label input must have a \"label\" parameter', options);\n    }\n\n    return;\n  }\n\n  if (options.type === 'button') {\n    if (!options.title && !options.icon) {\n      Logger.warn('A button input must have a \"title\" and/or an \"icon\" parameter', options);\n    }\n\n    if (!options.click && !options.href) {\n      Logger.warn('A button input must have a \"click\" and/or an \"href\" parameter', options);\n    }\n\n    return;\n  }\n\n  if (!options.name && !options.input) {\n    Logger.warn('Missing \"name\" or \"input\" parameters', options);\n  }\n\n  if (oktaUnderscore.isArray(options.name) && oktaUnderscore.isArray(options.input)) {\n    throw new Error('Not allowed to have both \"name\" and \"input\" defined as array.');\n  }\n\n  if (options.type !== 'list' && options.name && model && model.allows) {\n    let names = [];\n\n    if (oktaUnderscore.isArray(options.name)) {\n      names = options.name;\n    } else {\n      names.push(options.name);\n    }\n\n    oktaUnderscore.each(names, function (name) {\n      if (!model.allows(name)) {\n        throw new Error('field not allowed: ' + options.name);\n      }\n    });\n  }\n\n  if (oktaUnderscore.isArray(options.input) && options.type !== 'list') {\n    oktaUnderscore.each(options.input, function (input) {\n      validateInput(input, model);\n    });\n  }\n\n  const keys = oktaUnderscore.keys(options);\n\n  const intersection = oktaUnderscore.intersection(keys, ALL_OPTIONS);\n\n  if (oktaUnderscore.size(intersection) !== oktaUnderscore.size(options)) {\n    const fields = oktaUnderscore.clone(ALL_OPTIONS);\n\n    Logger.warn('Invalid input parameters', oktaUnderscore.without(keys, ...fields), options);\n  }\n}\n\nfunction generateInputOptions(options, form, createFn) {\n  options = oktaUnderscore.clone(options);\n\n  if (oktaUnderscore.contains(['list', 'group'], options.type)) {\n    options.params = oktaUnderscore.defaults({\n      create: createFn,\n      inputs: oktaUnderscore.map(oktaUnderscore.isArray(options.input) ? options.input : [options.input], function (input) {\n        return oktaUnderscore.first(generateInputOptions(input, form, createFn));\n      })\n    }, options.params || {});\n    delete options.input;\n  }\n\n  const inputs = oktaUnderscore.isArray(options.input) ? oktaUnderscore.clone(options.input) : [options];\n  return oktaUnderscore.map(inputs, function (input) {\n    const target = oktaUnderscore.defaults({\n      model: form.model\n    }, input, oktaUnderscore.omit(options, 'input', 'inputs'), form.options, {\n      id: oktaUnderscore.uniqueId('input'),\n      readOnly: form.isReadOnly(),\n      read: form.hasReadMode()\n    });\n\n    if (form.isReadOnly()) {\n      target.read = target.readOnly = true;\n    }\n\n    return target;\n  });\n}\n\nvar FormUtil = {\n  LABEL_OPTIONS: LABEL_OPTIONS,\n  CONTAINER_OPTIONS: CONTAINER_OPTIONS,\n  WRAPPER_OPTIONS: WRAPPER_OPTIONS,\n  INPUT_OPTIONS: INPUT_OPTIONS,\n  generateInputOptions: generateInputOptions,\n  changeEventString: function (fieldNames) {\n    return 'change:' + fieldNames.join(' change:');\n  },\n  createReadFormButton: function (options) {\n    let action;\n    let text;\n    let ariaLabel;\n\n    if (options.type === 'cancel') {\n      text = ariaLabel = StringUtil.localize('oform.cancel', 'courage');\n\n      action = function () {\n        this.model.trigger('form:cancel');\n      };\n    } else {\n      text = StringUtil.localize('oform.edit', 'courage');\n      ariaLabel = text + ' ' + options.formTitle;\n\n      action = function () {\n        this.model.set('__edit__', true);\n      };\n    }\n\n    return BaseView.extend({\n      tagName: 'a',\n      className: options.className,\n      attributes: {\n        href: '#',\n        'aria-label': ariaLabel\n      },\n      // TODO: refactor to enforce precompiled templates OKTA-309852\n      // eslint-disable-next-line @okta/okta-ui/no-bare-templates\n      template: function () {\n        return oktaUnderscore.escape(text);\n      },\n      events: {\n        click: function (e) {\n          e.preventDefault();\n          action.call(this);\n        }\n      }\n    });\n  },\n  createButton: function (options) {\n    options = oktaUnderscore.clone(options);\n\n    switch (options.type) {\n      case 'save':\n        oktaUnderscore.defaults(options, {\n          className: 'button-primary'\n        });\n\n        break;\n\n      case 'cancel':\n        oktaUnderscore.defaults(options, {\n          className: 'button-clear',\n          text: StringUtil.localize('oform.cancel', 'courage'),\n          action: function () {\n            this.model.trigger('form:cancel');\n          }\n        });\n\n        break;\n\n      case 'previous':\n        oktaUnderscore.defaults(options, {\n          text: StringUtil.localize('oform.previous', 'courage'),\n          action: function () {\n            this.model.trigger('form:previous');\n          }\n        });\n\n        break;\n    }\n\n    return createButton(options);\n  },\n  validateInput: validateInput,\n\n  /**\n   * Applies a show-when logic on a view instance.\n   * The show-when is a map of a model field name -> a boolean or a function that returns a boolean.\n   * The view will toggle based on the field value.\n   *\n   * @param  {Okta.View} view a view instance that has a this.model attached to it\n   * @param  {Object} showWhen\n   */\n  applyShowWhen: function (view, showWhen) {\n    const toggleAndResize = function (bool) {\n      return function () {\n        // The `toggle` is here since an event may be triggered before the el is in the DOM\n        // and in that case slide events may not function as expected.\n        view.$el.toggle(bool);\n        view.model.trigger('form:resize');\n      };\n    };\n\n    ViewUtil.applyDoWhen(view, decorateDoWhen(showWhen), function (bool, options) {\n      if (!options.animate) {\n        view.$el.toggle(bool);\n      } else {\n        view.$el['slide' + (bool ? 'Down' : 'Up')](200, toggleAndResize(bool));\n      }\n    });\n  },\n  applyToggleWhen: function (view, toggleWhen) {\n    ViewUtil.applyDoWhen(view, decorateDoWhen(toggleWhen), function (bool, options) {\n      view.$el.toggle(bool);\n      view.model.trigger('form:resize');\n\n      if (options.animate) {\n        view.render();\n      }\n    });\n  }\n};\n\nexport { FormUtil as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Logger from '../../../util/Logger.js';\nimport Util from '../../../util/Util.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport BaseView from '../../BaseView.js';\n\nconst isABaseView = Util.isABaseView;\n/**\n * @class InputContainer\n * @private\n *\n * TODO: OKTA-80796\n * Attention: Please change with caution since this is used in other places\n */\n\nvar InputContainer = BaseView.extend({\n  attributes: function () {\n    return {\n      'data-se': 'o-form-input-container'\n    };\n  },\n  className: function () {\n    let className = 'o-form-input';\n\n    if (this.options.wide) {\n      className += ' o-form-wide';\n    }\n\n    if (oktaUnderscore.contains([1, 2, 3, 4], this.options.multi)) {\n      className += ' o-form-multi-input-' + this.options.multi;\n\n      if (oktaUnderscore.isArray(this.options.input)) {\n        const inputGroup = oktaUnderscore.find(this.options.input, function (input) {\n          return oktaUnderscore.contains(['text+select', 'select+text'], input.options.type);\n        });\n\n        inputGroup && (className += ' o-form-multi-input-group-' + this.options.multi);\n      }\n    }\n\n    return className;\n  },\n  _getNames: function () {\n    const names = oktaUnderscore.isArray(this.options.name) ? this.options.name : [this.options.name];\n    /*eslint complexity: 0 */\n\n    if (this.options.type === 'group') {\n      names.push.apply(names, oktaUnderscore.pluck(this.options.input[0].options.params.inputs, 'name'));\n    } else if (oktaUnderscore.isArray(this.options.name)) {\n      if (this.options.input && this.options.input.options && this.options.input.options.name) {\n        names.push(this.options.input.options.name);\n      }\n    } else if (this.options.input) {\n      if (oktaUnderscore.isArray(this.options.input)) {\n        oktaUnderscore.each(this.options.input, function (inputItem) {\n          names.push(inputItem.options.name);\n        });\n      } else {\n        names.push(this.options.input.options.name);\n      }\n    }\n\n    return oktaUnderscore.uniq(oktaUnderscore.compact(names));\n  },\n  _getInputElement: function () {\n    // NOTE: this.options.input is sometimes not an array under test\n    const lastInput = Array.isArray(this.options.input) ? oktaUnderscore.last(this.options.input) : this.options.input; // FIXME: replace with _.get\n\n    const id = lastInput && lastInput.options && lastInput.options.inputId;\n    const el = id ? this.$('#' + id) : null;\n    return el && el.length ? el : null;\n  },\n  constructor: function () {\n    /* eslint max-statements: [2, 18] */\n    BaseView.apply(this, arguments);\n    const explainTop = this.options['explain-top'] && this.options['label-top'];\n\n    if (this.options.input) {\n      if (oktaUnderscore.isArray(this.options.input)) {\n        oktaUnderscore.each(this.options.input, function (inputItem) {\n          this.add(inputItem, {\n            prepend: !explainTop\n          });\n        }, this);\n      } else {\n        this.add(this.options.input, {\n          prepend: !explainTop\n        });\n      }\n    }\n\n    this.__setExplain(this.options);\n\n    const names = this._getNames();\n\n    this.listenTo(this.model, 'form:field-error', function (name, errors) {\n      if (oktaUnderscore.contains(names, name)) {\n        this.__setError(errors, explainTop);\n      }\n    });\n    this.listenTo(this.model, 'form:clear-errors change:' + names.join(' change:'), this.__clearError);\n    this.listenTo(this.model, 'form:clear-error:' + names.join(' form:clear-error:'), this.__clearError);\n\n    if (oktaUnderscore.resultCtx(this.options, 'autoRender', this)) {\n      this.listenTo(this.model, 'change:' + this.options.name, this.render);\n    }\n\n    this.__errorState = false;\n  },\n\n  /**\n   * Populates the explain on the input container (if it exists). There are\n   * two ways to use this:\n   * 1. Raw text - wraps in the correct html template\n   * 2. Custom html\n   *    - pass in a View class (preferred)\n   *    - pass in an instance of a View\n   * Some additional notes:\n   * - You can pass a function that returns any of the above\n   * - This maintains support for the deprecated \"customExplain\" property\n   *   that was used before. This pattern is superseded by explain, so use\n   *   that instead.\n   * @private\n   */\n  __setExplain: function (options) {\n    let explain; // Deprecated - if you need custom html, use explain instead\n\n    if (options.customExplain) {\n      Logger.warn('Deprecated - use explain instead of customExplain');\n      this.add(this.options.customExplain);\n      return;\n    }\n\n    explain = options.explain;\n\n    if (oktaUnderscore.isFunction(explain) && !isABaseView(explain)) {\n      explain = oktaUnderscore.resultCtx(this.options, 'explain', this);\n    }\n\n    if (!explain) {\n      return;\n    }\n\n    if (isABaseView(explain)) {\n      this.template = _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          return \"<p class=\\\"o-form-explain\\\"></p>\";\n        },\n        \"useData\": true\n      });\n      this.add(explain, ' > .o-form-explain');\n    } else {\n      this.template = _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          var helper,\n              lookupProperty = container.lookupProperty || function (parent, propertyName) {\n            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n              return parent[propertyName];\n            }\n\n            return undefined;\n          };\n\n          return \"<p class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"explain\") || (depth0 != null ? lookupProperty(depth0, \"explain\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n            \"name\": \"explain\",\n            \"hash\": {},\n            \"data\": data,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 26\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 37\n              }\n            }\n          }) : helper)) + \"</p>\";\n        },\n        \"useData\": true\n      });\n    }\n  },\n\n  /**\n   * Highlight the input as invalid (validation failed)\n   * Adds an explaination message of the error\n   * @private\n   */\n  __setError: function (errors, explainTop) {\n    this.__errorState = true;\n    this.$el.addClass('o-form-has-errors');\n\n    const errorId = oktaUnderscore.uniqueId('input-container-error');\n\n    const html = this.__getHTMLForError(oktaUnderscore.flatten(errors), errorId);\n\n    const $elExplain = this.$('.o-form-explain').not('.o-form-input-error').first();\n\n    if ($elExplain.length && !explainTop) {\n      $elExplain.before(html);\n    } else {\n      this.$el.append(html);\n    }\n\n    const target = this._getInputElement() || this.$el;\n    target.attr('aria-describedby', errorId);\n    target.attr('aria-invalid', true);\n  },\n  __getHTMLForError: function (errors, errorId) {\n    const tmpl = _Handlebars2.template({\n      \"compiler\": [8, \">= 4.3.0\"],\n      \"main\": function (container, depth0, helpers, partials, data) {\n        var helper,\n            alias1 = depth0 != null ? depth0 : container.nullContext || {},\n            alias2 = container.hooks.helperMissing,\n            alias3 = \"function\",\n            alias4 = container.escapeExpression,\n            lookupProperty = container.lookupProperty || function (parent, propertyName) {\n          if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n            return parent[propertyName];\n          }\n\n          return undefined;\n        };\n\n        return \"<p id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"errorId\") || (depth0 != null ? lookupProperty(depth0, \"errorId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"errorId\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 7\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 18\n            }\n          }\n        }) : helper)) + \"\\\" class=\\\"okta-form-input-error o-form-input-error o-form-explain\\\" role=\\\"alert\\\"><span class=\\\"icon icon-16 error-16-small\\\" role=\\\"img\\\" aria-label=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"iconLabel\") || (depth0 != null ? lookupProperty(depth0, \"iconLabel\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"iconLabel\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 162\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 175\n            }\n          }\n        }) : helper)) + \"\\\"></span>\" + alias4((helper = (helper = lookupProperty(helpers, \"text\") || (depth0 != null ? lookupProperty(depth0, \"text\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"text\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 184\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 192\n            }\n          }\n        }) : helper)) + \"</p>\";\n      },\n      \"useData\": true\n    });\n\n    const iconLabel = StringUtil.localize('oform.error.icon.ariaLabel', 'courage'); // 'Error'\n\n    if (this.options.multirowError) {\n      let html = '';\n      errors.forEach(error => {\n        html = html + tmpl({\n          errorId: errorId,\n          iconLabel: iconLabel,\n          text: error\n        });\n      });\n      return html;\n    }\n\n    return tmpl({\n      errorId: errorId,\n      iconLabel: iconLabel,\n      text: errors.join(', ')\n    });\n  },\n\n  /**\n   * Un-highlight the input and remove explaination text\n   * @private\n   */\n  __clearError: function () {\n    if (this.__errorState) {\n      this.$('.o-form-input-error').remove();\n      const target = this._getInputElement() || this.$el;\n      target.attr('aria-describedby', null);\n      target.attr('aria-invalid', null);\n      this.$el.removeClass('o-form-has-errors');\n      this.__errorState = false;\n\n      oktaUnderscore.defer(() => {\n        this.model.trigger('form:resize');\n      });\n    }\n  },\n  focus: function () {\n    this.each(function (view) {\n      if (view.focus) {\n        return view.focus();\n      }\n    });\n    return this;\n  }\n});\n\nexport { InputContainer as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport InputRegistry from './InputRegistry.js';\n\n/* eslint complexity: 0, max-statements: 0 */\n\nfunction createInput(Input, options) {\n  if (InputRegistry.isBaseInput(Input)) {\n    return Input.prototype ? new Input(oktaUnderscore.omit(options, 'input')) : Input;\n  } else {\n    return Input;\n  }\n}\n\nfunction create(options) {\n  options = oktaUnderscore.clone(options);\n\n  if (options.input) {\n    return createInput(options.input, options);\n  }\n\n  const Input = InputRegistry.get(options);\n\n  if (!Input) {\n    throw new Error('unknown input: ' + options.type);\n  }\n\n  return createInput(Input, options);\n}\n\nfunction supports(options) {\n  return !!options.input || !!InputRegistry.get(options);\n}\n\nvar InputFactory = {\n  create: create,\n  supports: supports\n};\n\nexport { InputFactory as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport '@okta/qtip';\nimport BaseView from '../../BaseView.js';\n\n/**\n * @class InputLabel\n * @extends {Okta.View}\n * @private\n * The input's label.\n */\nvar InputLabel = BaseView.extend({\n  className: 'okta-form-label o-form-label',\n  attributes: {\n    'data-se': 'o-form-label'\n  },\n\n  /**\n   * @constructor\n   * @param  {Object} options options hash\n   * @param  {String} [options.type] Input type\n   * @param  {String|Function} [options.label] Label text\n   * @param  {String|Function} [options.sublabel] Sub label text\n   * @param  {String|Function} [options.tooltip] Tooltip text\n   * @param  {String|Function} [options.inputId] Id of the inputs\n   * @param  {String|Function} [options.id] Id of the inputs\n   */\n  constructor: function (options) {\n    /* eslint max-statements: [2, 16] complexity: [2, 7]*/\n    oktaUnderscore.defaults(options, {\n      inputId: options.id\n    });\n\n    delete options.id;\n    BaseView.apply(this, arguments);\n  },\n  // standardLabel: space added in the end of the label to avoid selecting label text with double click in read mode\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      return \"<legend>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<label for=\\\"\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 61\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 72\n          }\n        }\n      }) : helper)) + \"\\\"></label>\";\n    },\n    \"5\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 116\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 125\n          }\n        }\n      }) : helper));\n    },\n    \"7\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 167\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 178\n          }\n        }\n      }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 180\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 189\n          }\n        }\n      }) : helper)) + \"&nbsp;</label>\";\n    },\n    \"9\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"sublabel\") || (depth0 != null ? lookupProperty(depth0, \"sublabel\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"sublabel\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 256\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 268\n          }\n        }\n      }) : helper)) + \"</span>\";\n    },\n    \"11\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"o-form-tooltip icon-16 icon-only form-help-16\\\" title=\\\"\" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? lookupProperty(depth0, \"tooltip\") : depth0) != null ? lookupProperty(stack1, \"text\") : stack1, depth0)) + \"\\\"></span>\";\n    },\n    \"13\": function (container, depth0, helpers, partials, data) {\n      return \"</legend>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"group\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 28\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_isLabelView\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 28\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 89\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_isRadioOrCheckbox\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(5, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 89\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 132\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_standardLabel\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(7, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 132\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 210\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"sublabel\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(9, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 210\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 282\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"tooltip\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(11, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 282\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 397\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"group\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(13, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 397\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 426\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n  getTemplateData: function () {\n    const options = {\n      label: ''\n    };\n\n    oktaUnderscore.each(['inputId', 'label', 'sublabel', 'tooltip', 'group'], function (option) {\n      options[option] = oktaUnderscore.resultCtx(this.options, option, this);\n    }, this);\n\n    if (this._isLabelView(options.label)) {\n      options._isLabelView = true;\n    } else if (oktaUnderscore.contains(['radio', 'checkbox'], this.options.type) || !options.label) {\n      options._isRadioOrCheckbox = true;\n    } else {\n      options._standardLabel = true;\n    }\n\n    if (options.tooltip) {\n      if (oktaUnderscore.isString(options.tooltip)) {\n        options.tooltip = {\n          text: options.tooltip\n        };\n      }\n    }\n\n    return options;\n  },\n  _isLabelView: function (label) {\n    return !oktaUnderscore.isUndefined(label) && label instanceof BaseView;\n  },\n  postRender: function () {\n    const options = this.getTemplateData();\n\n    if (this._isLabelView(options.label)) {\n      this.removeChildren();\n      this.add(options.label, 'label');\n    }\n\n    if (options.tooltip) {\n      this.$('.o-form-tooltip').qtip(oktaUnderscore.extend({\n        style: {\n          classes: 'qtip-custom qtip-shadow'\n        },\n        position: {\n          my: window.okta && window.okta.theme === 'dstheme' ? 'bottom center' : 'bottom left',\n          at: 'top center'\n        },\n        hide: {\n          fixed: true\n        },\n        show: {\n          delay: 0\n        }\n      }, options.tooltip.options));\n    }\n  }\n});\n\nexport { InputLabel as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\n\nconst registry = {};\n\nfunction isBaseInput(input) {\n  if (oktaUnderscore.isFunction(input)) {\n    return oktaUnderscore.isFunction(input.prototype.editMode) && oktaUnderscore.isFunction(input.prototype.readMode);\n  } else {\n    return oktaUnderscore.isObject(input) && oktaUnderscore.isFunction(input.editMode) && oktaUnderscore.isFunction(input.readMode);\n  }\n}\n/**\n * @class module:Okta.internal.views.forms.helpers.InputRegistry\n */\n\n\nvar InputRegistry = /** @lends module:Okta.internal.views.forms.helpers.InputRegistry */\n{\n  isBaseInput: isBaseInput,\n\n  /**\n   * Register a form input\n   * @param {String} type string identifier for the input\n   * @param {BaseInput} input the input to register\n   * @return {void}\n   */\n  register: function (type, input) {\n    registry[type] = input;\n  },\n\n  /**\n   * Get a form input by type\n   * @param {Object} options input definition\n   * @param {String} options.type string identifier for the input\n   * @return {BaseInput} a matching input\n   */\n  get: function (options) {\n    const input = registry[options.type];\n    return input && (isBaseInput(input) ? input : input(options));\n  },\n\n  /**\n   * Unregister an input type\n   * @param {String} type\n   */\n  unregister: function (type) {\n    delete registry[type];\n  }\n};\n\nexport { InputRegistry as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport BaseView from '../../BaseView.js';\nimport FormUtil from './FormUtil.js';\n\nfunction runCallback(callback, field) {\n  callback.apply(this, oktaUnderscore.map(field.split(/\\s+/), function (field) {\n    return this.model.get(field);\n  }, this));\n}\n\nfunction runIf(fn, ctx) {\n  if (oktaUnderscore.isFunction(fn)) {\n    fn.call(ctx);\n  }\n}\n/**\n * @class InputWrapper\n * @extends Okta.View\n * @private\n * The outer wrapper that warps the label and the input container\n */\n\n\nvar InputWrapper = BaseView.extend({\n  tagName: function () {\n    if (this.options.group) {\n      return 'fieldset';\n    }\n\n    return 'div';\n  },\n  className: function () {\n    let className = 'o-form-fieldset';\n\n    if (this.options['label-top']) {\n      className += ' o-form-label-top';\n    }\n\n    if (this.options.readOnly) {\n      className += ' o-form-read-mode';\n    }\n\n    return className;\n  },\n  attributes: function () {\n    return {\n      'data-se': this.options['data-se'] || 'o-form-fieldset'\n    };\n  },\n\n  /**\n   * @constructor\n   * @param  {Object} options options hash\n   * @param  {Object} [options.events]\n   * @param  {Object} [options.bindings]\n   * @param  {Object} [options.showWhen]\n   * @param  {Function} [options.initialize] post initialize callback\n   * @param  {Function} [options.render] post render callback\n   */\n  constructor: function (options) {\n    if (options.className) {\n      this.inputWrapperClassName = this.className;\n      this.optionsClassName = options.className;\n\n      options.className = function () {\n        return oktaUnderscore.result(this, 'inputWrapperClassName', '') + ' ' + oktaUnderscore.result(this, 'optionsClassName');\n      };\n    }\n\n    BaseView.apply(this, arguments);\n\n    oktaUnderscore.each(options.events || {}, function (callback, event) {\n      this.listenTo(this.model, event, callback);\n    }, this);\n\n    oktaUnderscore.each(options.bindings || {}, function (callback, field) {\n      this.listenTo(this.model, FormUtil.changeEventString(field.split(/\\s+/)), oktaUnderscore.bind(runCallback, this, callback, field));\n    }, this);\n\n    FormUtil.applyShowWhen(this, options.showWhen);\n    FormUtil.applyToggleWhen(this, options.toggleWhen);\n    runIf(options.initialize, this);\n  },\n  postRender: function () {\n    oktaUnderscore.each(this.options.bindings || {}, runCallback, this);\n\n    runIf(this.options.render, this);\n  },\n\n  /**\n   * @return {InputLabel}\n   */\n  getLabel: function () {\n    return this.size() > 1 ? this.at(0) : null;\n  },\n\n  /**\n   * @deprecated ambiguous naming, use {@link #getInputContainer}\n   */\n  getInput: function () {\n    return this.getInputContainer();\n  },\n\n  /**\n   * @return {InputContainer}\n   */\n  getInputContainer: function () {\n    return this.at(this.size() > 1 ? 1 : 0);\n  },\n\n  /**\n   * @return {BaseInput[]}\n   */\n  getInputs: function () {\n    return this.getInputContainer().toArray();\n  },\n  focus: function () {\n    return this.getInput().focus();\n  }\n});\n\nexport { InputWrapper as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport BooleanSelect from '../inputs/BooleanSelect.js';\nimport TextBoxSet from '../inputs/TextBoxSet.js';\nimport EnumTypeHelper from './EnumTypeHelper.js';\n\n/* eslint max-statements: 0, max-params: 0 */\n\nfunction convertStringToNumber(string) {\n  const number = StringUtil.parseFloat(string);\n  return string === '' ? null : number;\n} // converts possibleValues to choices\n// [a, b, c] => {a: a, b: b, c: c}\n\n\nfunction getChoices(values) {\n  return oktaUnderscore.object(values, values);\n}\n\nfunction isArray(type) {\n  return type && type.indexOf('array') >= 0;\n} // A schema property may have an objectName either\n// at the root level or nested in the items object\n\n\nfunction getObjectName(schemaProp) {\n  const items = schemaProp.get('items');\n\n  if (items) {\n    return items.objectName;\n  }\n\n  return schemaProp.get('objectName');\n}\n/**\n * Checks the validity of a schema property.\n *\n * @param {SchemaProperty} [schemaProp] A schema property backbone model\n * @param {Object} [values] An object of the form { key: [value1, value2]}\n * @return {Boolean} true/false\n * @private\n */\n\n\nfunction isValidSchemaProp(schemaProp, values) {\n  const objectName = getObjectName(schemaProp);\n  const results = values[objectName]; // a schema property that references an empty list of values\n  // Im looking at you, google apps.\n\n  if (objectName && oktaUnderscore(results).isEmpty()) {\n    return false;\n  }\n\n  return true;\n} // Maps each __displayType__ to a basic set of inputOptions.\n\n\nfunction defaultOptions(property) {\n  const type = property.get('__displayType__');\n  const values = property.get('__possibleValues__');\n  const name = property.get('name');\n  const title = property.get('title');\n  /* eslint complexity: [2, 24] */\n\n  const inputOptions = {\n    type: 'text',\n    name: name,\n    label: title || name\n  }; // @see customOptions for enum complex \"object\" type,\n  // a.k.a \"object\" or \"arrayofobject\" type has enum values defined.\n  // Other cases (e.g., nested object type) are not support yet.\n\n  switch (type) {\n    case 'arrayofstring':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'string'\n      };\n      break;\n\n    case 'arrayofnumber':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'number'\n      };\n      break;\n\n    case 'arrayofinteger':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'integer'\n      };\n      break;\n\n    case 'arrayofobject':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: property.get('items').type\n      };\n      break;\n\n    case 'arrayofref-id':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: property.get('items').format\n      };\n      break;\n\n    case 'boolean':\n      inputOptions.input = BooleanSelect;\n      break;\n\n    case 'integer':\n    case 'number':\n      inputOptions.to = convertStringToNumber;\n      break;\n\n    case 'reference':\n      inputOptions.type = 'select';\n      inputOptions.options = getChoices(values);\n      break;\n\n    case 'image':\n      inputOptions.readOnly = true;\n\n      inputOptions.from = function (value) {\n        return oktaUnderscore.isEmpty(value) ? '' : StringUtil.localize('user.profile.image.image_set', 'courage'); // TODO\n      };\n\n      break;\n\n    case 'password':\n      inputOptions.type = 'password';\n      break;\n\n    case 'date':\n      inputOptions.type = 'date';\n      break;\n\n    case 'uri':\n    case 'country-code':\n    case 'country_code':\n    case 'language-code':\n    case 'language_code':\n    case 'email':\n    case 'locale':\n    case 'timezone':\n    case 'string':\n    case 'object':\n      // default input options\n      break;\n\n    default:\n      throw new Error(`unknown type: ${type}`);\n  }\n\n  return inputOptions;\n} // Sets nonbasic inputOptions, such as an array with possible values\n\n\nfunction customOptions(property) {\n  let inputOptions = {};\n  const name = property.get('name');\n  const type = property.get('__displayType__');\n  const values = property.get('__possibleValues__');\n  const prefix = property.get('__fieldNamePrefix__');\n\n  if (prefix) {\n    inputOptions.name = prefix + name;\n    inputOptions.errorField = name;\n  }\n\n  if (property.isEnumType()) {\n    const configs = {\n      displayType: type,\n      title: property.get('title'),\n      enumValues: property.getEnumValues()\n    };\n    inputOptions = oktaUnderscore.extend({}, EnumTypeHelper.getEnumInputOptions(configs), inputOptions);\n  } else if (isArray(type) && values) {\n    inputOptions.type = 'checkboxset';\n    inputOptions.input = null;\n    inputOptions.options = getChoices(values);\n  }\n\n  return inputOptions;\n}\n\nfunction augmentSchemaProp(schemaProp, possibleValues, profile) {\n  const name = schemaProp.get('name');\n  const prefix = profile.__nestedProperty__;\n  let defaultValues = possibleValues[name];\n  const userValues = profile.get(name);\n  let values; // If API responds with a field name that differs from the form-field name\n  // example: Model's 'profile.username' vs. server's 'username'\n\n  if (prefix) {\n    schemaProp.set('__fieldNamePrefix__', prefix);\n  } // case 1: objectName - fixed list of values are set for the input\n\n\n  const fixedValues = possibleValues[getObjectName(schemaProp)]; // case 2: name only - default list of values are provided, user can add more\n  // TODO: this case does not yet exist, so it is not tested\n\n  if (defaultValues && userValues) {\n    defaultValues = oktaUnderscore.union(defaultValues, userValues);\n  } // If both fixed and default values exist,\n  // take the fixed values unless they are empty\n\n\n  if (fixedValues && fixedValues.length) {\n    values = fixedValues;\n  } else if (defaultValues && defaultValues.length) {\n    values = defaultValues;\n  }\n\n  schemaProp.set('__possibleValues__', values);\n}\n\nfunction augmentSchemaProps(schemaProps, possibleValues, profile) {\n  schemaProps.each(function (schemaProp) {\n    augmentSchemaProp(schemaProp, possibleValues, profile);\n  });\n  return schemaProps;\n}\n/**\n * Remove invalid schema properties from a collection\n *\n * @param {SchemaProperties Collection} [properties] A collection of schema properties\n * @param {Object} [values] An object of the form { key: [value1, value2]}\n * @return {Array} An array of valid schema models, this can be used to reset\n * a schema properties collection for example.\n * @private\n */\n\n\nfunction cleanSchema(properties, values) {\n  return properties.filter(function (schema) {\n    return isValidSchemaProp(schema, values);\n  });\n}\n\nvar SchemaFormFactory = {\n  /**\n   * Creates the options hash for BaseForm.addInput from a prepared schema\n   * property.\n   *\n   * @param {Okta.Model} [preparedSchemaProp] A schema property backbone model\n   * that has been standardized by the prepareSchema method.\n   * @return {Object} An object containing all of the options needed by\n   * BaseForm's addInput()\n   */\n  createInputOptions: function (preparedSchemaProp) {\n    const custom = customOptions(preparedSchemaProp);\n    const standard = defaultOptions(preparedSchemaProp); // underscore did not support nested extend\n    // https://github.com/jashkenas/underscore/issues/162\n\n    if (custom.params && standard.params) {\n      custom.params = oktaUnderscore.defaults(custom.params, standard.params);\n    }\n\n    return oktaUnderscore.defaults(custom, standard);\n  },\n  hasValidSchemaProps: function (schemaProps, possibleValues) {\n    if (oktaUnderscore.isEmpty(schemaProps)) {\n      return false;\n    }\n\n    const validSchema = cleanSchema(schemaProps, possibleValues);\n    return !!validSchema.length;\n  },\n\n  /**\n   * This method is responsible for preparing a collection for the form\n   * factory to use by putting all of the information to create an input\n   * into the schema property and removing invalid properties.\n   * The typical UD form takes 3 models:\n   * The data model has the input values.\n   * The schema model describes which input to use, such as a textbox or a checkbox.\n   * The possible values model provide a list of default options to display, for example in a drop down menu.\n   *\n   * @param {SchemaProperty Collection} [schemaProps] A schema property backbone model.\n   * @param {Object} [possibleValues] An object of the form { key: [value1, value2]}\n   * @param {Okta.Model} [profile] A backbone model containing the property described by the schema property.\n   * @return {SchemaProperty Collection} A schema property collection with standardized models.\n   * The standard schema model adds a couple of additional private properties to\n   * allow the form factory to reference lookup values or name prefixes without going to a second model.\n   */\n  prepareSchema: function (schemaProps, possibleValues, profile) {\n    schemaProps.reset(cleanSchema(schemaProps, possibleValues));\n    return augmentSchemaProps(schemaProps, possibleValues, profile);\n  },\n\n  /**\n   * `prepareSchema` will reset the property list which may not be necessary at some case.\n   * like when setting default value for schema properties.\n   * (more detail about such case @see wiki UX, App+Entitlements+for+Provisioning)\n   *\n   * @param { }\n   * @return {String}\n   */\n  augmentSchemaProps: augmentSchemaProps,\n  augmentSchemaProp: augmentSchemaProp\n};\n\nexport { SchemaFormFactory as default };\n","import Select from './Select.js';\n\nconst options = {\n  undefined: 'undefined',\n  true: 'true',\n  false: 'false'\n};\n\nconst from = function (val) {\n  if (val) {\n    return 'true';\n  }\n\n  if (val === false) {\n    return 'false';\n  }\n\n  return 'undefined';\n};\n\nconst to = function (val) {\n  switch (val) {\n    case 'undefined':\n      return null;\n\n    case 'true':\n      return true;\n\n    case 'false':\n      return false;\n\n    default:\n      return null;\n  }\n};\n\nvar BooleanSelect = Select.extend({\n  initialize: function () {\n    this.options.options = options;\n    this.options.from = from;\n    this.options.to = to;\n  }\n});\n\nexport { BooleanSelect as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/jquery.custominput.js';\nimport BaseInput from '../BaseInput.js';\n\nvar CheckBox = BaseInput.extend({\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<input type=\\\"checkbox\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 29\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 37\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 43\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 54\n          }\n        }\n      }) : helper)) + \"\\\"/><label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 69\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 80\n          }\n        }\n      }) : helper)) + \"\\\" data-se-for-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 100\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 108\n          }\n        }\n      }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 110\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 125\n          }\n        }\n      }) : helper)) + \"</label>\";\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * @Override\n   */\n  events: {\n    'change :checkbox': 'update',\n    keyup: function (e) {\n      e.preventDefault();\n\n      if (Keys.isSpaceBar(e)) {\n        this.$(':checkbox').click();\n      } else if (Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    let placeholder = oktaUnderscore.resultCtx(this.options, 'placeholder', this);\n\n    if (placeholder === '') {\n      placeholder = oktaUnderscore.resultCtx(this.options, 'label', this);\n    } else if (placeholder === false) {\n      placeholder = '';\n    }\n\n    this.$el.html(this.template(oktaUnderscore.extend(oktaUnderscore.omit(this.options, 'placeholder'), {\n      placeholder: placeholder\n    })));\n    const $input = this.$(':checkbox');\n    $input.prop('checked', this.getModelValue() || false);\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    this.editMode();\n    this.$(':checkbox').prop('disabled', true);\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$(':checkbox').prop('checked');\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$(':checkbox').focus();\n  }\n});\n\nexport { CheckBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport Time from '../../../util/Time.js';\nimport BaseView from '../../BaseView.js';\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<div class=\\\"o-form-input-group-controls\\\"><span class=\\\"input-fix o-form-control\\\"><input type=\\\"text\\\" class=\\\"o-form-text\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 125\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 132\n        }\n      }\n    }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 138\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 145\n        }\n      }\n    }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 154\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 163\n        }\n      }\n    }) : helper)) + \"\\\" placeholder=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"placeholder\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 178\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 193\n        }\n      }\n    }) : helper)) + \"\\\"/></span><a href=\\\"#\\\" class=\\\"link-button link-button-icon icon-only\\\"><span class=\\\"icon clear-input-16 \\\"></span></a></div><p class=\\\"o-form-input-error o-form-explain\\\"><span class=\\\"icon icon-16 error-16-small\\\"></span>\" + alias4((helper = (helper = lookupProperty(helpers, \"errorExplain\") || (depth0 != null ? lookupProperty(depth0, \"errorExplain\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"errorExplain\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 408\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 424\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"useData\": true\n});\n\nconst errorClass = 'o-form-has-errors';\nconst updateArrayEvent = 'updateArray';\nvar DeletableBox = BaseView.extend({\n  tagName: 'div',\n  className: 'o-form-input-group',\n  events: {\n    'click a': function (e) {\n      e.preventDefault();\n      this.remove();\n    },\n    'keyup input': function () {\n      this.update();\n    }\n  },\n  isEditMode: function () {\n    return !this.options.readOnly && (this.options.read !== true || this.model.get('__edit__') === true);\n  },\n  initialize: function () {\n    this.template = template(oktaUnderscore.extend(this.options, {\n      placeholder: this.getPlaceholderText(),\n      errorExplain: this.getErrorExplainText()\n    }));\n    this.update = oktaUnderscore.debounce(this.update, this.options.debounceDelay || Time.DEBOUNCE_DELAY);\n  },\n  render: function () {\n    if (this.isEditMode()) {\n      this.$el.html(this.template);\n    } else {\n      this.$el.text(this.options.value);\n      this.$('a').hide();\n    }\n\n    return this;\n  },\n  remove: function () {\n    this.trigger(updateArrayEvent, null);\n    this.$el.slideUp(() => {\n      BaseView.prototype.remove.call(this, arguments);\n    });\n  },\n  update: function () {\n    let updatedValue = this.$('input').val();\n\n    const parseFunc = oktaUnderscore.object([SchemaUtils.DATATYPE.number, SchemaUtils.DATATYPE.integer], [StringUtil.parseFloat, this.parseInt]);\n\n    if (oktaUnderscore.has(parseFunc, this.options.itemType)) {\n      updatedValue = parseFunc[this.options.itemType](updatedValue);\n      !oktaUnderscore.isNumber(updatedValue) ? this.markInvalid() : this.clearInvalid();\n    }\n\n    this.trigger(updateArrayEvent, updatedValue);\n  },\n  markInvalid: function () {\n    this.$el.addClass(errorClass);\n  },\n  clearInvalid: function () {\n    this.$el.removeClass(errorClass);\n  },\n  getPlaceholderText: function () {\n    let placeholderText;\n\n    switch (this.options.itemType.toLowerCase()) {\n      // TODO fix lint and add the spaces/indent\n      case 'string':\n        placeholderText = StringUtil.localize('placeholder.text.string', 'courage');\n        break;\n\n      case 'number':\n        placeholderText = StringUtil.localize('placeholder.text.number', 'courage');\n        break;\n\n      case 'integer':\n        placeholderText = StringUtil.localize('placeholder.text.integer', 'courage');\n        break;\n\n      default:\n        placeholderText = '';\n    }\n\n    return placeholderText;\n  },\n  getErrorExplainText: function () {\n    let itemTypeMismatchMessages;\n\n    switch (this.options.itemType.toLowerCase()) {\n      // TODO fix lint and add the spaces/indent\n      case 'string':\n        itemTypeMismatchMessages = StringUtil.localize('string.item.type.error.message', 'courage');\n        break;\n\n      case 'number':\n        itemTypeMismatchMessages = StringUtil.localize('number.item.type.error.message', 'courage');\n        break;\n\n      case 'integer':\n        itemTypeMismatchMessages = StringUtil.localize('integer.item.type.error.message', 'courage');\n        break;\n\n      default:\n        itemTypeMismatchMessages = '';\n    }\n\n    return itemTypeMismatchMessages;\n  },\n  parseInt: function (string) {\n    // native javascript parseInt is aggressive\n    // there're cases we don't want a string to be parsed even though it is convertable\n    // so that we don't convert a string silently before warning a user the potential error\n    // this is to make sure the string is in an integer format before we parse it\n    if (/^-?\\d+$/.test(string)) {\n      const num = parseInt(string, 10);\n      return !oktaUnderscore.isNaN(num) ? num : string;\n    }\n\n    return string;\n  }\n});\n\nexport { DeletableBox as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport ButtonFactory from '../../../util/ButtonFactory.js';\nimport BaseView from '../../BaseView.js';\nimport BaseInput from '../BaseInput.js';\n\nfunction countInputs(inputs) {\n  return oktaUnderscore.filter(inputs || [], function (input) {\n    return !oktaUnderscore.contains(['label', 'button', 'select'], input.type);\n  }).length;\n}\n\nconst InputGroupLabelInput = BaseInput.extend({\n  tagName: 'span',\n  initialize: function () {\n    this.$el.text(this.getModelValue());\n  },\n  editMode: function () {\n    this.toggle(true);\n  },\n  readMode: function () {\n    this.toggle(false);\n  },\n  getModelValue: function () {\n    return this.options.label;\n  },\n  toggle: function (isEditMode) {\n    this.$el.toggleClass('o-form-label-inline', isEditMode);\n    this.$el.toggleClass('o-form-control', !isEditMode);\n  },\n  focus: oktaUnderscore.noop\n});\n\nfunction createButtonInput(options) {\n  return ButtonFactory.create(oktaUnderscore.defaults({\n    getReadModeString: oktaUnderscore.constant(' '),\n    focus: oktaUnderscore.noop\n  }, oktaUnderscore.pick(options, 'click', 'title', 'href', 'icon')));\n}\n\nconst InputGroupInputGroupView = BaseView.extend({\n  getParams: BaseInput.prototype.getParams,\n  getParam: BaseInput.prototype.getParam,\n  className: function () {\n    let className; // Allows views to group multiple inputs under one label without any of the other\n    // styling/rendering changes that come with using a group input\n\n    if (this.getParam('noBaseClasses')) {\n      return '';\n    }\n\n    if (this.getParam('display') === 'text') {\n      className = 'o-form-input-group-subtle';\n    } else {\n      className = 'o-form-input-group';\n    }\n\n    if (countInputs(this.getParam('inputs')) > 1) {\n      className += ' o-form-input-group-2';\n    }\n\n    return className;\n  },\n  initialize: function () {\n    oktaUnderscore.each(this.getParam('inputs'), function (input) {\n      switch (input.type) {\n        case 'label':\n          this.add(InputGroupLabelInput, {\n            options: input\n          });\n          break;\n\n        case 'button':\n          this.add(createButtonInput(input));\n          break;\n\n        default:\n          input = oktaUnderscore.defaults({\n            model: this.model,\n            params: oktaUnderscore.extend({\n              autoWidth: true\n            }, input.params || {})\n          }, input);\n          this.add(this.getParams().create(input));\n      }\n    }, this);\n  },\n  focus: function () {\n    this.first().focus();\n  }\n});\nvar InputGroup = BaseInput.extend({\n  constructor: function (options) {\n    this.inputGroupView = new InputGroupInputGroupView(options);\n    BaseInput.apply(this, arguments);\n  },\n  editMode: function () {\n    this.inputGroupView.remove();\n    this.inputGroupView = new InputGroupInputGroupView(this.options);\n    this.$el.html(this.inputGroupView.render().el);\n  },\n  readMode: function () {\n    // Allows the user to use to the default \"read mode\" of the child inputs instead of\n    // rendering a single read mode string for all the child inputs\n    if (this.getParam('useChildInputsReadMode')) {\n      this.editMode();\n    } else {\n      BaseInput.prototype.readMode.apply(this, arguments);\n    }\n  },\n  toStringValue: function () {\n    const strings = this.inputGroupView.map(function (input) {\n      return input.getReadModeString();\n    });\n    return strings.length && oktaUnderscore.every(strings) ? strings.join(' ') : ' ';\n  },\n  focus: function () {\n    this.inputGroupView.focus();\n  }\n}, {\n  // test hooks\n  LabelInput: InputGroupLabelInput,\n  InputGroupView: InputGroupInputGroupView\n});\n\nexport { InputGroup as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport TextBox from './TextBox.js';\n\nconst toggleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    return \"<span class=\\\"password-toggle\\\"><span class=\\\"eyeicon visibility-16 button-show\\\"></span><span class=\\\"eyeicon visibility-off-16 button-hide\\\"></span></span>\";\n  },\n  \"useData\": true\n});\n\nconst toggleTimeout = 30000;\nvar PasswordBox = TextBox.extend({\n  initialize: function () {\n    if (this.__showPasswordToggle()) {\n      this.events['click .password-toggle .button-show'] = '__showPassword';\n      this.events['click .password-toggle .button-hide'] = '__hidePassword';\n    }\n\n    this.delegateEvents();\n  },\n  postRender: function () {\n    if (this.isEditMode() && this.__showPasswordToggle()) {\n      this.$el.append(toggleTemplate);\n      this.$el.find('input[type=\"password\"]').addClass('password-with-toggle');\n    }\n\n    TextBox.prototype.postRender.apply(this, arguments);\n  },\n\n  /**\n   * @Override\n   * Overrides the default val method in order to avoid whitespace trimming\n   */\n  val: function () {\n    return this.$('input[type=\"' + this.options.type + '\"]').val();\n  },\n  __showPasswordToggle: function () {\n    return this.options.params && this.options.params.showPasswordToggle;\n  },\n  __showPassword: function () {\n    // Turn off the spellcheck if the user decides to switch to regular input\n    // in order to prevent sending passwords to third party spellcheckers\n    this.$('input').attr('spellcheck', false);\n    TextBox.prototype.changeType.apply(this, ['text']);\n    this.$('.password-toggle .button-show').hide();\n    this.$('.password-toggle .button-hide').show();\n    this.passwordToggleTimer = oktaUnderscore.delay(() => {\n      this.__hidePassword();\n    }, toggleTimeout);\n  },\n  __hidePassword: function () {\n    TextBox.prototype.changeType.apply(this, ['password']);\n    this.$('.password-toggle .button-show').show();\n    this.$('.password-toggle .button-hide').hide(); // clear timeout\n\n    if (this.passwordToggleTimer) {\n      clearTimeout(this.passwordToggleTimer);\n    }\n  }\n});\n\nexport { PasswordBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport Util from '../../../util/Util.js';\nimport BaseView from '../../BaseView.js';\nimport '../../../vendor/plugins/jquery.custominput.js';\nimport BaseInput from '../BaseInput.js';\n\nconst isABaseView = Util.isABaseView;\nconst RadioRadioOption = BaseView.extend({\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<input type=\\\"radio\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 26\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 34\n          }\n        }\n      }) : helper)) + \"\\\" data-se-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"realName\") || (depth0 != null ? lookupProperty(depth0, \"realName\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"realName\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 50\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 62\n          }\n        }\n      }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"value\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 71\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 80\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"optionId\") || (depth0 != null ? lookupProperty(depth0, \"optionId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"optionId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 86\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 98\n          }\n        }\n      }) : helper)) + \"\\\"><label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"optionId\") || (depth0 != null ? lookupProperty(depth0, \"optionId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"optionId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 112\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 124\n          }\n        }\n      }) : helper)) + \"\\\" data-se-for-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"realName\") || (depth0 != null ? lookupProperty(depth0, \"realName\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"realName\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 144\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 156\n          }\n        }\n      }) : helper)) + \"\\\" class=\\\"radio-label\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 178\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 187\n          }\n        }\n      }) : helper)) + \"</label>\";\n    },\n    \"useData\": true\n  }),\n  initialize: function (options) {\n    let explain;\n    explain = options.explain;\n\n    if (oktaUnderscore.isFunction(explain) && !isABaseView(explain)) {\n      explain = oktaUnderscore.resultCtx(this.options, 'explain', this);\n    }\n\n    if (!explain) {\n      return;\n    }\n\n    if (isABaseView(explain)) {\n      this.add('<p class=\"o-form-explain\"></p>', '.radio-label');\n      this.add(explain, '.o-form-explain');\n    } else {\n      this.add(BaseView.extend({\n        className: 'o-form-explain',\n        tagName: 'p',\n        template: _Handlebars2.template({\n          \"compiler\": [8, \">= 4.3.0\"],\n          \"main\": function (container, depth0, helpers, partials, data) {\n            var helper,\n                lookupProperty = container.lookupProperty || function (parent, propertyName) {\n              if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n                return parent[propertyName];\n              }\n\n              return undefined;\n            };\n\n            return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"explain\") || (depth0 != null ? lookupProperty(depth0, \"explain\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n              \"name\": \"explain\",\n              \"hash\": {},\n              \"data\": data,\n              \"loc\": {\n                \"start\": {\n                  \"line\": 1,\n                  \"column\": 0\n                },\n                \"end\": {\n                  \"line\": 1,\n                  \"column\": 11\n                }\n              }\n            }) : helper));\n          },\n          \"useData\": true\n        })\n      }), '.radio-label');\n    }\n  }\n});\nvar Radio = BaseInput.extend({\n  /**\n   * @Override\n   */\n  events: {\n    'change :radio': 'update',\n    keyup: function (e) {\n      if (Keys.isSpaceBar(e)) {\n        oktaJQueryStatic(e.target).click();\n      } else if (Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    const templates = [];\n    this.$el.empty();\n\n    oktaUnderscore.each(this.options.options, function (value, key) {\n      const options = {\n        optionId: oktaUnderscore.uniqueId('option'),\n        name: this.options.inputId,\n        realName: this.options.name,\n        value: key\n      };\n\n      if (!oktaUnderscore.isObject(value)) {\n        value = {\n          label: value\n        };\n      }\n\n      oktaUnderscore.extend(options, value);\n\n      templates.push(new RadioRadioOption(options).render().el);\n    }, this);\n\n    this.$el.append(templates);\n    let value = this.getModelValue();\n\n    if (value) {\n      this.$(':radio[value=' + value + ']').prop('checked', true);\n    }\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n    if (this.getParam('inline') === true) {\n      this.$('div.custom-radio').addClass('inline');\n    }\n\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    this.editMode();\n    this.$(':radio').prop('disabled', true);\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$(':radio:checked').val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$('label:eq(0)').focus();\n  }\n});\n\nexport { Radio as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/chosen.jquery.js';\nimport BaseInput from '../BaseInput.js';\nimport Util from '../../../util/Util.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<select id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"inputId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 12\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 23\n        }\n      }\n    }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"name\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 31\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\"></select>\";\n  },\n  \"useData\": true\n});\n\nconst option = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<option value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 15\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 22\n        }\n      }\n    }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</option>\";\n  },\n  \"useData\": true\n});\n\nconst CHOSEN_WINDOW_MARGIN = 20;\nconst isSafari = Util.isSafari; // Chosen has known problems when it's at the bottom of a container that has\n// overflow:hidden set. Because it attaches to the parent container, its\n// dropdown will be cut off in the UI. Any modal with a chosen select element\n// at the bottom will manifest this behavior.\n//\n// The fix (aside from replacing Chosen) is to change Chosen's behavior -\n// use the existing styles, but attach it to 'body' and position it correctly\n// so that it is not affected by a parent overflow.\n//\n// More details can be found in OKTA-46489, OKTA-83570\n\nconst CHOSEN_MAX_HEIGHT = 240;\nconst CHOSEN_Z_INDEX = 50000;\n\nfunction defer(fn) {\n  if (this.params.autoWidth) {\n    return fn.call(this);\n  } else {\n    return oktaUnderscore.defer(oktaUnderscore.bind(fn, this));\n  }\n}\n\nfunction findSelectWidth(self) {\n  self.$select.hide();\n  const select = oktaJQueryStatic(self.$select[0]).hide();\n  oktaJQueryStatic('body').append(select);\n  const width = self.params.width = select.width() * 1.2 + 'px';\n  self.$el.append(select.show());\n  return width;\n}\n\nfunction recalculateChosen($chosen, $results, $clone) {\n  const offset = $clone.offset();\n  $chosen.css({\n    left: offset.left,\n    top: offset.top\n  }); // Update the max-height to fit within the constraints of the window. This\n  // is especially important for modals because page scrolling is disabled.\n\n  const $win = oktaJQueryStatic(window);\n  const rHeight = $results.outerHeight();\n  const rBottom = rHeight + $results.offset().top - $win.scrollTop();\n  const wHeight = $win.height() - CHOSEN_WINDOW_MARGIN;\n  const maxHeight = Math.min(rHeight + wHeight - rBottom, CHOSEN_MAX_HEIGHT);\n  $results.css('max-height', maxHeight);\n}\n\nfunction handleKeyUpEvent($select, $chosen, $results) {\n  const $highlightedOption = $results.find('.active-result.highlighted');\n  $chosen.find('#' + $select.attr('id') + '_txt').attr('aria-activedescendant', $highlightedOption.attr('id')); // change the old selected item aria-selected to false\n  // and add add it to new item.\n\n  $results.find('[aria-selected=true]').attr('aria-selected', 'false');\n  $highlightedOption.attr('aria-selected', 'true'); // In case of Safari, add message to aria-live node to be read by screenreader.\n  // We need to do this special handling for Safari due to falkiness with aria-activedescendant\n  // handling. https://bit.ly/3z45IZF\n\n  if (isSafari()) {\n    // message read by screenReader i.e optionValue selected(United States selected)\n    const message = StringUtil.localize('oform.selectInput.country', 'courage', [$highlightedOption.text()]);\n    const elementId = $select.attr('id');\n\n    if (message !== '') {\n      oktaJQueryStatic(`#${elementId}_aria_div_id`).text(message);\n    }\n  }\n\n  const noResult = $results.find('li.no-results');\n\n  if (noResult.length) {\n    noResult.attr('role', 'alert');\n  }\n}\n\nfunction fixChosenModal($select, textPlaceholder) {\n  const $chosen = $select.next('.chzn-container');\n  const $clone = $chosen.clone();\n  const $results = $chosen.find('.chzn-results');\n  const $searchInput = $chosen.find('.chzn-search input[type=text]');\n  $searchInput.on('keyup', () => {\n    handleKeyUpEvent($select, $chosen, $results);\n  });\n  $chosen.addClass('closed'); // Will be used in SIW to fix screen reader focus.\n  // Use a hidden clone to maintain layout and calculate offset. This is\n  // necessary for more complex layouts (like adding a group rule) where\n  // the chosen element is floated.\n\n  $clone.css('visibility', 'hidden');\n  $clone.removeAttr('id');\n  $clone.find('li').removeAttr('id'); // Save the original styles - we'll revert to them when the select closes\n\n  const baseStyles = {\n    left: $chosen.css('left'),\n    top: $chosen.css('top'),\n    position: $chosen.css('position'),\n    float: $chosen.css('float'),\n    'z-index': $chosen.css('z-index')\n  };\n  $results.hide(); // Handler for any resize events that happen when the results list is open\n\n  const resizeHandler = oktaUnderscore.debounce(function () {\n    recalculateChosen($chosen, $results, $clone);\n  }, 10); // When the dropdown opens, attach it to body, with the correct absolute\n  // position coordinates\n\n\n  $select.off('.fixChosen'); // Remove events we could have added before\n\n  $select.on('liszt:showing_dropdown.fixChosen', function () {\n    $chosen.width($chosen.width());\n    $select.after($clone); // .chzn-container can trigger the vertical scrollbar if it causes scrollHeight > window height after append to\n    // the body. Force top -999999 to avoid the scrollbar so $chosen can find the right offset for relocation.\n\n    $chosen.css({\n      position: 'absolute',\n      float: 'none',\n      'z-index': CHOSEN_Z_INDEX,\n      top: -999999\n    });\n    oktaJQueryStatic('body').append($chosen);\n    oktaJQueryStatic('.chzn-search > :text').prop('placeholder', textPlaceholder);\n    $results.show();\n    recalculateChosen($chosen, $results, $clone); // Capture scroll events:\n    // - for forms that use fixed positioning (like editing attributes in\n    //   Profile Editor) - window scroll\n    // - for forms that are too long for the modal - o-form-content scroll\n\n    $select.parents().scroll(resizeHandler);\n    oktaJQueryStatic(window).on('resize scroll', resizeHandler);\n  });\n  $select.on('liszt:showing_dropdown', function () {\n    $chosen.removeClass('closed');\n  }); // When the dropdown closes or the element is removed, revert to the\n  // original styles and reattach it to its original placement in the dom.\n\n  $select.on('liszt:hiding_dropdown.fixChosen remove.fixChosen', function () {\n    $select.parents().off('scroll', resizeHandler);\n    oktaJQueryStatic(window).off('resize scroll', resizeHandler);\n    $chosen.css(baseStyles);\n    $results.hide();\n    $chosen.addClass('closed');\n    $results.css('max-height', CHOSEN_MAX_HEIGHT);\n    $clone.remove();\n    $select.after($chosen);\n  }); // Do not change the order of event listeners. This event must execute after \n  // \"liszt:hiding_dropdown.fixChosen remove.fixChosen\"\n\n  $select.on('liszt:hiding_dropdown.fixChosen', function () {\n    $searchInput.focus(); // set focus back to input only when the dropdown is closed\n  });\n}\n\nvar Select = BaseInput.extend({\n  className: 'o-form-select',\n\n  /**\n   * @Override\n   */\n  events: {\n    'change select': 'update',\n    'keyup .chzn-search > :text': function (e) {\n      if (Keys.isEsc(e)) {\n        this.$('.chzn-search > :text').val('');\n        e.stopPropagation();\n      }\n    }\n  },\n  constructor: function () {\n    this.template = template;\n    this.option = this.option || option;\n    BaseInput.apply(this, arguments);\n    this.params = this.options.params || {};\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    /* eslint max-statements: [2, 17] */\n    this.$el.html(template(this.options));\n    this.$select = this.$('select');\n    this.appendOptions(); // Fix a regression in jQuery 1.x on Firefox\n    // jQuery.val(value) prepends an empty option to the dropdown\n    // if value doesnt exist in the dropdown.\n    // http://bugs.jquery.com/ticket/13514\n\n    const value = this.getModelValue();\n\n    if (value) {\n      this.$select.val(value);\n    } else {\n      this.$('option:first-child').prop('selected', true);\n    }\n\n    this.$el.addClass('o-form-control');\n\n    if (this.params.chosen !== false) {\n      this.__applyChosen();\n    }\n\n    return this;\n  },\n  appendOptions: function () {\n    if (!this.getOptions()) {\n      return;\n    }\n\n    const options = this.getOptions();\n    const keys = Object.keys(options);\n    this.applySortByKey(keys);\n    keys.forEach(key => {\n      this.$select.append(this.option({\n        key: key,\n        value: options[key]\n      }));\n    });\n  },\n  applySortByKey: function (keys) {\n    const sortByKey = this.options.sortByKey;\n\n    if (!sortByKey) {\n      return;\n    }\n\n    if (sortByKey instanceof Function) {\n      keys.sort(sortByKey);\n    }\n\n    if (sortByKey === 'asc') {\n      keys.sort();\n    }\n\n    if (sortByKey === 'desc') {\n      keys.sort();\n      keys.reverse();\n    }\n  },\n  __applyChosen: function (update) {\n    let width = this.options.wide ? '100%' : this.params.width || '62%';\n\n    if (this.params.autoWidth) {\n      width = findSelectWidth(this);\n    }\n\n    defer.call(this, function () {\n      const searchThreshold = this.getParam('searchThreshold', 10);\n\n      if (!oktaUnderscore.result(this.options, 'autoRender') && update !== false) {\n        this.update();\n      }\n\n      this.$select.chosen({\n        width: width,\n        disable_search_threshold: searchThreshold,\n        //eslint-disable-line camelcase\n        placeholder_text: this.options['placeholder'],\n        //eslint-disable-line camelcase\n        search_contains: true //eslint-disable-line camelcase\n\n      }); //if options are more than search threshold, consider it as a combobox\n\n      const isComboBox = this.options && this.options.options && Object.keys(this.options.options).length > searchThreshold;\n      this.accessibilityUpdate(isComboBox, this.params);\n      fixChosenModal(this.$select, this.searchPlaceholder);\n\n      if (this.params.autoWidth) {\n        // fix a chosen css bug\n        this.$el.width(0);\n      }\n\n      this.model.trigger('form:resize');\n    });\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$select && this.$select.val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    if (this.$select) {\n      return this.$select.focus();\n    }\n  },\n\n  /**\n   * @Override\n   */\n  toStringValue: function () {\n    const selectedOption = this.getModelValue();\n    let displayString = selectedOption;\n    const options = this.getOptions();\n\n    if (!oktaUnderscore.isEmpty(options)) {\n      displayString = options[selectedOption];\n    }\n\n    if (oktaUnderscore.isUndefined(displayString)) {\n      displayString = this.defaultValue();\n    }\n\n    return displayString || '';\n  },\n\n  /**\n   * Convert options to an object\n   * support input options that is a\n   * 1. a static object such as {key1: val1, key2: val2...}\n   * 2. a function to be called to return a static object\n   * will return an object with key-value pairs or with empty content\n   * @return {Object} The value\n   */\n  getOptions: function () {\n    let options = this.options.options;\n\n    if (oktaUnderscore.isFunction(options)) {\n      options = options.call(this);\n    }\n\n    return oktaUnderscore.isObject(options) ? options : {};\n  },\n  remove: function () {\n    if (this.$select) {\n      this.$select.trigger('remove');\n    }\n\n    return BaseInput.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n   * @param ariaDivId id for div element\n   * Create a div element and add it to chosen container.\n   */\n  createAriaLiveNode: function (ariaDivId) {\n    const $chosen = this.$select.next('.chzn-container'); // set this to off-screen such that no user will see this and only screenReaders will pick this up.\n    // we should announce to user only on additions and not on removals.\n\n    const $node = oktaJQueryStatic('<div></div>').attr('role', 'log').attr('aria-live', 'polite').attr('id', ariaDivId).attr('aria-relevant', 'additions').attr('aria-atomic', 'false').attr('class', 'off-screen');\n    $node.insertAfter($chosen);\n  },\n\n  /**\n   * Code to make the select/combobox component accessible with screen readers.\n   *\n   * @param {boolean} isComboBox - Is the select a combobox?\n   * @param {object} params - params like aria label\n   */\n  // eslint-disable-next-line max-statements\n  accessibilityUpdate: function (isComboBox, params) {\n    const txtBoxId = this.$select.attr('id') + '_txt';\n    const ariaDivId = this.$select.attr('id') + '_aria_div_id';\n    const ulTagId = this.$select.attr('id') + '_ul'; // this is to fix(OKTA-506711) the accessibility issue due to partial support of aria-activedescendant\n    // by Safari. Make use of aria-live to make screenReader announce the option selected by user as a workaround.\n\n    if (isSafari()) {\n      this.createAriaLiveNode(ariaDivId);\n    }\n\n    this.$('ul[class=chzn-results]').attr('role', 'listbox').attr('id', ulTagId);\n\n    if (isComboBox) {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-autocomplete', 'list').attr('aria-activedescendant', '').attr('role', 'combobox').attr('aria-expanded', 'true').attr('aria-controls', ulTagId);\n    } else {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('role', 'listbox');\n    }\n\n    if (params && params.aria && params.aria.label) {\n      const ariaLabel = params.aria.label.trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    } else {\n      const ariaLabel = this.$el.parent().prev('.o-form-label').find('label').text().trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    }\n\n    this.$('.chzn-results .active-result').attr('role', 'option').attr('aria-selected', 'false');\n  }\n});\n\nexport { Select as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport '@okta/qtip';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/jquery.placeholder.js';\nimport BaseInput from '../BaseInput.js';\n\nconst className = 'okta-form-input-field input-fix';\n\nfunction hasTitleAndText(options) {\n  const title = options.title;\n  const text = options.text;\n  return title && text && title !== text;\n} // options may be a string or an object.\n\n\nfunction createQtipContent(options) {\n  if (hasTitleAndText(options)) {\n    return options;\n  }\n\n  return {\n    text: options.text || options\n  };\n}\n\nvar TextBox = BaseInput.extend({\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      return \"<span class=\\\"input-tooltip icon form-help-16\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon input-icon \" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"icon\") : stack1, depth0)) + \"\\\"></span>\";\n    },\n    \"5\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"autoComplete\") || (depth0 != null ? lookupProperty(depth0, \"autoComplete\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"autoComplete\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 333\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 349\n          }\n        }\n      }) : helper));\n    },\n    \"7\": function (container, depth0, helpers, partials, data) {\n      return \"off\";\n    },\n    \"9\": function (container, depth0, helpers, partials, data) {\n      return \"<span class=\\\"input-icon-divider\\\"></span>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"innerTooltip\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 87\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"icon\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 87\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 166\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<input type=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"type\") || (depth0 != null ? lookupProperty(depth0, \"type\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"type\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 179\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 187\n          }\n        }\n      }) : helper)) + \"\\\" placeholder=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 202\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 217\n          }\n        }\n      }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 225\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 233\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 239\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 250\n          }\n        }\n      }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"value\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 259\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 268\n          }\n        }\n      }) : helper)) + \"\\\" aria-label=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 282\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 297\n          }\n        }\n      }) : helper)) + \"\\\" autocomplete=\\\"\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"autoComplete\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(5, data, 0),\n        \"inverse\": container.program(7, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 313\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 367\n          }\n        }\n      })) != null ? stack1 : \"\") + \"\\\" />\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"iconDivider\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(9, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 371\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 444\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * @Override\n   */\n  events: {\n    'input input': 'update',\n    'change input': 'update',\n    'keydown input': 'update',\n    'compositionend input': function () {\n      this.isComposing = false;\n    },\n    'compositionstart input': function () {\n      this.isComposing = true;\n    },\n    'keyup input': function (e) {\n      if (Keys.isEnter(e) && !(window.okta && window.okta.enableIMESupport)) {\n        this.model.trigger('form:save');\n      } else if (Keys.isEsc(e)) {\n        this.model.trigger('form:cancel');\n      }\n    }\n  },\n  hasIMESupport: true,\n  constructor: function () {\n    BaseInput.apply(this, arguments);\n    this.$el.addClass('o-form-control');\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    this.$el.addClass(className);\n    BaseInput.prototype.editMode.apply(this, arguments);\n    this.$('input').placeholder();\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    BaseInput.prototype.readMode.apply(this, arguments);\n    this.$el.addClass('no-translate');\n\n    if (this.options.type === 'password') {\n      this.$el.text('********');\n    }\n\n    this.$el.removeClass(className);\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    let inputValue = this.$('input[type=\"' + this.options.type + '\"]').val(); //IE will only read clear text pw if type=\"password\" is explicitly in selector\n\n    if (this.options.type !== 'password') {\n      inputValue = oktaJQueryStatic.trim(inputValue);\n    }\n\n    return inputValue;\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$('input').focus();\n  },\n  postRender: function () {\n    const {\n      params: params\n    } = this.options;\n\n    if (params && params.innerTooltip) {\n      const content = createQtipContent(params.innerTooltip);\n      this.$('.input-tooltip').qtip({\n        content: content,\n        style: {\n          classes: 'okta-tooltip qtip-custom qtip-shadow'\n        },\n        position: {\n          my: 'bottom left',\n          // Note: qTip2 has a known issue calculating the tooltip offset when:\n          // 1. A container element has both:\n          //    a) position: relative/absolute\n          //    b) overlay: value other than 'visible'\n          // 2. The page is scrolled\n          //\n          // We set position:relative and overlay:auto on the body element,\n          // where both are required for:\n          // - Positioning the footer correctly\n          // - Displaying long pages in embedded browsers\n          //\n          // The original design called for a fixed position relative to the\n          // tooltip icon - this has been switched to \"relative to mouse, and\n          // update position when mouse moves\" because of this constraint.\n          target: 'mouse',\n          adjust: {\n            method: 'flip',\n            mouse: true,\n            y: -5,\n            x: 5\n          },\n          viewport: oktaJQueryStatic('body')\n        }\n      });\n    }\n  }\n});\n\nexport { TextBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport BaseInput from '../BaseInput.js';\nimport DeletableBox from './DeletableBox.js';\n\nvar TextBoxSet = BaseInput.extend({\n  className: 'array-input',\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a href=\\\"#\\\" class=\\\"array-inputs-button link-button\\\">\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"oform.add.another\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 52\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 102\n          }\n        }\n      })) + \"</a>\";\n    },\n    \"useData\": true\n  }),\n  params: {\n    itemType: 'string'\n  },\n  events: {\n    'click .array-inputs-button': function (e) {\n      e.preventDefault();\n\n      if (this.isEditMode()) {\n        this.addNewElement();\n      }\n    }\n  },\n  initialize: function (options) {\n    options || (options = {});\n    this.params = oktaUnderscore.defaults(options.params || {}, this.params);\n    this.uniqueIdPrefix = 'array';\n  },\n  // api returns null for an array that does not have value\n  // convert it to an empty array\n  from: function (val) {\n    if (!oktaUnderscore.isArray(val)) {\n      return [];\n    }\n\n    return val;\n  },\n  // @Override\n  editMode: function () {\n    this._setArrayObject();\n\n    this.$el.html(this.template);\n\n    oktaUnderscore.each(this.arrayObject, oktaUnderscore.bind(this._addDeletableBox, this));\n\n    return this;\n  },\n  // @Override\n  readMode: function () {\n    this.editMode();\n    this.$('.array-inputs-button').addClass('link-button-disabled');\n  },\n  // @Override\n  // converts arrayObject to a plain array\n  // for string type array, returns all values\n  // for number/integer type array, returns values in number type\n  val: function () {\n    let values = oktaUnderscore.values(this.arrayObject);\n\n    if (oktaUnderscore.contains([SchemaUtils.DATATYPE.number, SchemaUtils.DATATYPE.integer], this.params.itemType)) {\n      values = oktaUnderscore.filter(values, oktaUnderscore.isNumber);\n    }\n\n    return values;\n  },\n  focus: function () {},\n  addNewElement: function () {\n    const value = '';\n\n    const key = oktaUnderscore.uniqueId(this.uniqueIdPrefix);\n\n    this.arrayObject[key] = value;\n\n    this._addDeletableBox(value, key); // update is called to make sure an empty string value is added for string type array\n\n\n    this.update();\n  },\n  _addDeletableBox: function (value, key) {\n    const deletableBox = new DeletableBox(oktaUnderscore.extend(oktaUnderscore.pick(this.options, 'read', 'readOnly', 'model'), {\n      key: key,\n      value: value,\n      itemType: this.params.itemType\n    }));\n    this.listenTo(deletableBox, 'updateArray', function (updatedValue) {\n      if (oktaUnderscore.isNull(updatedValue)) {\n        delete this.arrayObject[key];\n        this.stopListening(deletableBox);\n      } else {\n        this.arrayObject[key] = updatedValue;\n      }\n\n      this.update();\n    });\n    deletableBox.render().$el.hide();\n    this.$('.array-inputs-button').before(deletableBox.el);\n    deletableBox.$el.slideDown();\n    return deletableBox;\n  },\n  _setArrayObject: function () {\n    const array = this.model.get(this.options.name);\n    this.arrayObject = {};\n\n    if (oktaUnderscore.isArray(array) && !oktaUnderscore.isEmpty(array)) {\n      const keys = [];\n      const self = this;\n\n      oktaUnderscore(array.length).times(function () {\n        keys.push(oktaUnderscore.uniqueId(self.uniqueIdPrefix));\n      });\n\n      this.arrayObject = oktaUnderscore.object(keys, array);\n    }\n  }\n});\n\nexport { TextBoxSet as default };\n","// TODO: maybe replaced by\n// https://github.com/Calvein/empty-module\n// https://github.com/crimx/empty-module-loader\nvar ConfirmationDialog = {\n  extend: () => {}\n};\n\nexport { ConfirmationDialog as default };\n","export { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput } from './CourageForSigninWidget.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default as Model } from './courage/models/Model.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\n","import oktaJQueryStatic from '../courage/util/jquery-wrapper.js';\n\n/*!\n * jQuery UI Scroll Parent @VERSION\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * Modifications Copyright 2021 Okta, Inc.\n */\n// This is required because SIW doesn't want to include jqueryui even though it's an external dependency of courage\n\noktaJQueryStatic.fn.scrollParent = function (includeHidden) {\n  const position = this.css(\"position\"),\n        excludeStaticParent = position === \"absolute\",\n        overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n        scrollParent = this.parents().filter(function () {\n    const parent = oktaJQueryStatic(this);\n\n    if (excludeStaticParent && parent.css(\"position\") === \"static\") {\n      return false;\n    }\n\n    return overflowRegex.test(parent.css(\"overflow\") + parent.css(\"overflow-y\") + parent.css(\"overflow-x\"));\n  }).eq(0);\n  return position === \"fixed\" || !scrollParent.length ? oktaJQueryStatic(this[0].ownerDocument || document) : scrollParent;\n};\n","/**\n * \n * This file has been modified to override doPostBack\n * Check out the doPostBack function below for more details.\n * Override the doPostBack function when upgrading.\n * Unable to make a wrapper because it is invoked using an internal name within \n * this library.\n * \n * Current Verison = https://github.com/duosecurity/duo_web_sdk/blob/7aec8dd895ea4bd4549069e76076850eccfe07f2/index.js\n * PS: they dont seem to version correctly hence using commit.\n */\n\n/**\n * Duo Web SDK v2\n * Copyright 2019, Duo Security\n */\n\n// Modified to remove AMD and support ESM transform - OKTA-369648\n(function (root, factory) {\n    module.exports = factory();\n}(this, function() {\n    var DUO_MESSAGE_FORMAT = /^(?:AUTH|ENROLL)+\\|[A-Za-z0-9\\+\\/=]+\\|[A-Za-z0-9\\+\\/=]+$/;\n    var DUO_ERROR_FORMAT = /^ERR\\|[\\w\\s\\.\\(\\)]+$/;\n    var DUO_OPEN_WINDOW_FORMAT = /^DUO_OPEN_WINDOW\\|/;\n    var VALID_OPEN_WINDOW_DOMAINS = [\n        'duo.com',\n        'duosecurity.com',\n        'duomobile.s3-us-west-1.amazonaws.com'\n    ];\n\n    var postAction,\n        postArgument,\n        host,\n        sigRequest,\n        duoSig,\n        appSig,\n        iframe,\n        submitCallback;\n\n    // We use this function instead of setting initial values in the var\n    // declarations to make sure the initial values and subsequent\n    // re-initializations are always the same.\n    initializeStatefulVariables();\n\n    /**\n     * Set local variables to whatever they should be before you call init().\n     */\n    function initializeStatefulVariables() {\n        postAction = '';\n        postArgument = 'sig_response';\n        host = undefined;\n        sigRequest = undefined;\n        duoSig = undefined;\n        appSig = undefined;\n        iframe = undefined;\n        submitCallback = undefined;\n    }\n\n    function throwError(message, givenUrl) {\n        var url = (\n            givenUrl ||\n            'https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe'\n        );\n        throw new Error(\n            'Duo Web SDK error: ' + message +\n            (url ? ('\\n' + 'See ' + url + ' for more information') : '')\n        );\n    }\n\n    function hyphenize(str) {\n        return str.replace(/([a-z])([A-Z])/, '$1-$2').toLowerCase();\n    }\n\n    // cross-browser data attributes\n    function getDataAttribute(element, name) {\n        if ('dataset' in element) {\n            return element.dataset[name];\n        } else {\n            return element.getAttribute('data-' + hyphenize(name));\n        }\n    }\n\n    // cross-browser event binding/unbinding\n    function on(context, event, fallbackEvent, callback) {\n        if ('addEventListener' in window) {\n            context.addEventListener(event, callback, false);\n        } else {\n            context.attachEvent(fallbackEvent, callback);\n        }\n    }\n\n    function off(context, event, fallbackEvent, callback) {\n        if ('removeEventListener' in window) {\n            context.removeEventListener(event, callback, false);\n        } else {\n            context.detachEvent(fallbackEvent, callback);\n        }\n    }\n\n    function onReady(callback) {\n        on(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n\n    function offReady(callback) {\n        off(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n\n    function onMessage(callback) {\n        on(window, 'message', 'onmessage', callback);\n    }\n\n    function offMessage(callback) {\n        off(window, 'message', 'onmessage', callback);\n    }\n\n    /**\n     * Parse the sig_request parameter, throwing errors if the token contains\n     * a server error or if the token is invalid.\n     *\n     * @param {String} sig Request token\n     */\n    function parseSigRequest(sig) {\n        if (!sig) {\n            // nothing to do\n            return;\n        }\n\n        // see if the token contains an error, throwing it if it does\n        if (sig.indexOf('ERR|') === 0) {\n            throwError(sig.split('|')[1]);\n        }\n\n        // validate the token\n        if (sig.indexOf(':') === -1 || sig.split(':').length !== 2) {\n            throwError(\n                'Duo was given a bad token.  This might indicate a configuration ' +\n                'problem with one of Duo\\'s client libraries.'\n            );\n        }\n\n        var sigParts = sig.split(':');\n\n        // hang on to the token, and the parsed duo and app sigs\n        sigRequest = sig;\n        duoSig = sigParts[0];\n        appSig = sigParts[1];\n\n        return {\n            sigRequest: sig,\n            duoSig: sigParts[0],\n            appSig: sigParts[1]\n        };\n    }\n\n    /**\n     * Validate that a MessageEvent came from the Duo service, and that it\n     * is a properly formatted payload.\n     *\n     * The Google Chrome sign-in page injects some JS into pages that also\n     * make use of postMessage, so we need to do additional validation above\n     * and beyond the origin.\n     *\n     * @param {MessageEvent} event Message received via postMessage\n     */\n    function isDuoMessage(event) {\n        return Boolean(\n            event.origin === ('https://' + host) &&\n            typeof event.data === 'string' &&\n            (\n                event.data.match(DUO_MESSAGE_FORMAT) ||\n                event.data.match(DUO_ERROR_FORMAT) ||\n                event.data.match(DUO_OPEN_WINDOW_FORMAT)\n            )\n        );\n    }\n\n    /**\n     * Validate the request token and prepare for the iframe to become ready.\n     *\n     * All options below can be passed into an options hash to `Duo.init`, or\n     * specified on the iframe using `data-` attributes.\n     *\n     * Options specified using the options hash will take precedence over\n     * `data-` attributes.\n     *\n     * Example using options hash:\n     * ```javascript\n     * Duo.init({\n     *     iframe: \"some_other_id\",\n     *     host: \"api-main.duo.test\",\n     *     sig_request: \"...\",\n     *     post_action: \"/auth\",\n     *     post_argument: \"resp\"\n     * });\n     * ```\n     *\n     * Example using `data-` attributes:\n     * ```html\n     * <iframe id=\"duo_iframe\"\n     *         data-host=\"api-main.duo.test\"\n     *         data-sig-request=\"...\"\n     *         data-post-action=\"/auth\"\n     *         data-post-argument=\"resp\"\n     *         >\n     * </iframe>\n     * ```\n     *\n     * Some browsers (especially embedded browsers) don't like it when the Duo\n     * Web SDK changes the `src` attribute on the iframe. To prevent this, there\n     * is an alternative way to use the Duo Web SDK:\n     *\n     * Add a div (or any other container element) instead of an iframe to the\n     * DOM with an id of \"duo_iframe\", or pass that element to the\n     * `iframeContainer` parameter of `Duo.init`. An iframe will be created and\n     * inserted into that container element, preventing `src` change related\n     * bugs. WARNING: All other elements in the container will be deleted.\n     *\n     * The `iframeAttributes` parameter of `Duo.init` is available to set any\n     * attributes on the inserted iframe if the Duo Web SDK is inserting the\n     * iframe. For details, see the parameter documentation below.\n     *\n     * @param {Object} options\n     * @param {String} options.host - Hostname for the Duo Prompt.\n     * @param {String} options.sig_request - Request token.\n     * @param {String|HTMLElement} [options.iframe] - The iframe, or id of an\n     *     iframe that will be used for the Duo Prompt. If you don't provide\n     *     this or the `iframeContainer` parameter the Duo Web SDK will default\n     *     to using whatever element has an id of \"duo_iframe\".\n     * @param {String|HTMLElement} [options.iframeContainer] - The element you\n     *     want the Duo Prompt inserted into, or the id of that element.\n     *     Anything inside this element will be deleted and replaced with an\n     *     iframe hosting the Duo prompt. If you don't provide this or the\n     *     `iframe` parameter the Duo Web SDK will default to using whatever\n     *     element has an id of \"duo_iframe\".\n     * @param {Object} [options.iframeAttributes] - Object with  names and\n     *     values coresponding to attributes you want added to the  Duo Prompt\n     *     iframe, like `title`, `width` and `allow`. WARNING: this parameter\n     *     only works if you use the `iframeContainer` parameter or add an id\n     *     of \"duo_iframe\" to an element that isn't an iframe. If you have\n     *     added an iframe to the DOM yourself, you should set those attributes\n     *     directly on the iframe.\n     * @param {String} [options.post_action=''] - URL to POST back to after a\n     *     successful auth.\n     * @param {String} [options.post_argument='sig_response'] - Parameter name\n     *     to use for response token.\n     * @param {Function} [options.submit_callback] - If provided, the Duo Web\n     *     SDK will not submit the form. Instead it will execute this callback\n     *     function passing in a reference to the \"duo_form\" form object.\n     *     `submit_callback`` can be used to prevent the webpage from reloading.\n     */\n    function init(options) {\n        // If init() is called more than once we have to reset all the local\n        // variables to ensure init() will work the same way every time. This\n        // helps people making single page applications. SPAs may periodically\n        // remove the iframe and add a new one that has to be initialized.\n        initializeStatefulVariables();\n\n        if (options) {\n            if (options.host) {\n                host = options.host;\n            }\n\n            if (options.sig_request) {\n                parseSigRequest(options.sig_request);\n            }\n\n            if (options.post_action) {\n                postAction = options.post_action;\n            }\n\n            if (options.post_argument) {\n                postArgument = options.post_argument;\n            }\n\n            if (typeof options.submit_callback === 'function') {\n                submitCallback = options.submit_callback;\n            }\n        }\n\n        var promptElement = getPromptElement(options);\n        if (promptElement) {\n            // If we can get the element that will host the prompt, set it.\n            ready(promptElement, options.iframeAttributes || {});\n        } else {\n            // If the element that will host the prompt isn't available yet, set\n            // it up after the DOM finishes loading.\n            asyncReady(options);\n        }\n\n        // always clean up after yourself!\n        offReady(init);\n    }\n\n    /**\n     * Given the options from init(), get the iframe or iframe container that\n     * should be used for the Duo Prompt. Returns `null` if nothing was found.\n     */\n    function getPromptElement(options) {\n        var result;\n\n        if (options.iframe && options.iframeContainer) {\n            throwError(\n                'Passing both `iframe` and `iframeContainer` arguments at the' +\n                ' same time is not allowed.'\n            );\n        } else if (options.iframe) {\n            // If we are getting an iframe, try to get it and raise if the\n            // element we find is NOT an iframe.\n            result = getUserDefinedElement(options.iframe);\n            validateIframe(result);\n        } else if (options.iframeContainer) {\n            result = getUserDefinedElement(options.iframeContainer);\n            validateIframeContainer(result);\n        } else {\n            result = document.getElementById('duo_iframe');\n        }\n\n        return result;\n    }\n\n    /**\n     * When given an HTMLElement, return it. When given a string, get an element\n     * with that id, else return null.\n     */\n    function getUserDefinedElement(object) {\n        if (object.tagName) {\n            return object;\n        } else if (typeof object == 'string') {\n            return document.getElementById(object);\n        }\n        return null;\n    }\n\n    /**\n     * Check if the given thing is an iframe.\n     */\n    function isIframe(element) {\n        return (\n            element &&\n            element.tagName &&\n            element.tagName.toLowerCase() === 'iframe'\n        );\n    }\n\n    /**\n     * Throw an error if we are given an element that is NOT an iframe.\n     */\n    function validateIframe(element) {\n        if (element && !isIframe(element)) {\n            throwError(\n                '`iframe` only accepts an iframe element or the id of an' +\n                ' iframe. To use a non-iframe element, use the' +\n                ' `iframeContainer` argument.'\n            );\n        }\n    }\n\n    /**\n     * Throw an error if we are given an element that IS an iframe instead of an\n     * element that we can insert an iframe into.\n     */\n    function validateIframeContainer(element) {\n        if (element && isIframe(element)) {\n            throwError(\n                '`iframeContainer` only accepts a non-iframe element or the' +\n                ' id of a non-iframe. To use a non-iframe element, use the' +\n                ' `iframeContainer` argument on Duo.init().'\n            );\n        }\n    }\n\n    /**\n     * Generate the URL that goes to the Duo Prompt.\n     */\n    function generateIframeSrc() {\n        return [\n            'https://', host, '/frame/web/v1/auth?tx=', duoSig,\n            '&parent=', encodeURIComponent(document.location.href),\n            '&v=2.8'\n        ].join('');\n    }\n\n    /**\n     * This function is called when a message was received from another domain\n     * using the `postMessage` API.  Check that the event came from the Duo\n     * service domain, and that the message is a properly formatted payload,\n     * then perform the post back to the primary service.\n     *\n     * @param event Event object (contains origin and data)\n     */\n    function onReceivedMessage(event) {\n        if (isDuoMessage(event)) {\n            if (event.data.match(DUO_OPEN_WINDOW_FORMAT)) {\n                var url = event.data.substring(\"DUO_OPEN_WINDOW|\".length);\n                if (isValidUrlToOpen(url)) {\n                    // Open the URL that comes after the DUO_WINDOW_OPEN token.\n                    window.open(url, \"_self\");\n                }\n            }\n            else {\n                // the event came from duo, do the post back\n                doPostBack(event.data);\n\n                // always clean up after yourself!\n                offMessage(onReceivedMessage);\n            }\n        }\n    }\n\n    /**\n     * Validate that this passed in URL is one that we will actually allow to\n     * be opened.\n     * @param url String URL that the message poster wants to open\n     * @returns {boolean} true if we allow this url to be opened in the window\n     */\n    function isValidUrlToOpen(url) {\n        if (!url) {\n            return false;\n        }\n\n        var parser = document.createElement('a');\n        parser.href = url;\n\n        if (parser.protocol === \"duotrustedendpoints:\") {\n            return true;\n        } else if (parser.protocol !== \"https:\") {\n            return false;\n        }\n\n        for (var i = 0; i < VALID_OPEN_WINDOW_DOMAINS.length; i++) {\n           if (parser.hostname.endsWith(\".\" + VALID_OPEN_WINDOW_DOMAINS[i]) ||\n                   parser.hostname === VALID_OPEN_WINDOW_DOMAINS[i]) {\n               return true;\n           }\n        }\n        return false;\n    }\n\n    /**\n     * Register a callback to call ready() after the DOM has loaded.\n     */\n    function asyncReady(options) {\n        var callback = function() {\n            var promptElement = getPromptElement(options);\n            if (!promptElement) {\n                throwError(\n                    'This page does not contain an iframe for Duo to use.' +\n                    ' Add an element like' +\n                    ' <iframe id=\"duo_iframe\"></iframe> to this page.'\n                );\n            }\n\n            ready(promptElement, options.iframeAttributes || {});\n\n            // Always clean up after yourself.\n            offReady(callback)\n        };\n\n        onReady(callback);\n    }\n\n    /**\n     * Point the iframe at Duo, then wait for it to postMessage back to us.\n     */\n    function ready(promptElement, iframeAttributes) {\n        if (!host) {\n            host = getDataAttribute(promptElement, 'host');\n\n            if (!host) {\n                throwError(\n                    'No API hostname is given for Duo to use.  Be sure to pass ' +\n                    'a `host` parameter to Duo.init, or through the `data-host` ' +\n                    'attribute on the iframe element.'\n                );\n            }\n        }\n\n        if (!duoSig || !appSig) {\n            parseSigRequest(getDataAttribute(promptElement, 'sigRequest'));\n\n            if (!duoSig || !appSig) {\n                throwError(\n                    'No valid signed request is given.  Be sure to give the ' +\n                    '`sig_request` parameter to Duo.init, or use the ' +\n                    '`data-sig-request` attribute on the iframe element.'\n                );\n            }\n        }\n\n        // if postAction/Argument are defaults, see if they are specified\n        // as data attributes on the iframe\n        if (postAction === '') {\n            postAction = getDataAttribute(promptElement, 'postAction') || postAction;\n        }\n\n        if (postArgument === 'sig_response') {\n            postArgument = getDataAttribute(promptElement, 'postArgument') || postArgument;\n        }\n\n        if (isIframe(promptElement)) {\n            iframe = promptElement;\n            iframe.src = generateIframeSrc();\n        } else {\n            // If given a container to put an iframe in, clean out any children\n            // child elements in case `init()` was called more than once.\n            while (promptElement.firstChild) {\n                // We call `removeChild()` instead of doing `innerHTML = \"\"`\n                // to make sure we unbind any events.\n                promptElement.removeChild(promptElement.firstChild)\n            }\n\n            iframe = document.createElement('iframe');\n\n            // Set the src and all other attributes on the new iframe.\n            iframeAttributes['src'] = generateIframeSrc();\n            for (var name in iframeAttributes) {\n                iframe.setAttribute(name, iframeAttributes[name]);\n            }\n\n            promptElement.appendChild(iframe);\n        }\n\n        // listen for the 'message' event\n        onMessage(onReceivedMessage);\n    }\n\n    /**\n     * We received a postMessage from Duo.  POST back to the primary service\n     * with the response token, and any additional user-supplied parameters\n     * given in form#duo_form.\n     */\n    // function doPostBack(response) {\n    //     // create a hidden input to contain the response token\n    //     var input = document.createElement('input');\n    //     input.type = 'hidden';\n    //     input.name = postArgument;\n    //     input.value = response + ':' + appSig;\n\n    //     // user may supply their own form with additional inputs\n    //     var form = document.getElementById('duo_form');\n\n    //     // if the form doesn't exist, create one\n    //     if (!form) {\n    //         form = document.createElement('form');\n\n    //         // insert the new form after the iframe\n    //         iframe.parentElement.insertBefore(form, iframe.nextSibling);\n    //     }\n\n    //     // make sure we are actually posting to the right place\n    //     form.method = 'POST';\n    //     form.action = postAction;\n\n    //     // add the response token input to the form\n    //     form.appendChild(input);\n\n    //     // away we go!\n    //     if (typeof submitCallback === \"function\") {\n    //         submitCallback.call(null, form);\n    //     } else {\n    //         form.submit();\n    //     }\n    // }\n\n    // OKTA: Overriding their doPostBack logic because we want to submit this\n    // through ajax, not a postBack\n    function doPostBack(response) {\n        postAction(response + ':' + appSig);\n    }\n    \n\n    return {\n        init: init,\n        _onReady: onReady,\n        _parseSigRequest: parseSigRequest,\n        _isDuoMessage: isDuoMessage,\n        _doPostBack: doPostBack\n    };\n}));","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint max-statements: [2, 16] */\n\nimport Q from 'q';\nimport Enums from './Enums';\nconst SWAP_PAGE_TIME = 200;\nconst fn = {};\n\nfunction zoom($el, start, finish) {\n  const deferred = Q.defer();\n\n  $el.animate(\n    {\n      'text-indent': 1,\n    },\n    {\n      duration: 200,\n      easing: 'swing',\n      step: function(now, fx) {\n        fx.start = start;\n        fx.end = finish;\n        $el.css('transform', 'scale(' + now + ', ' + now + ')');\n      },\n      always: function() {\n        deferred.resolve($el);\n      },\n    }\n  );\n  return deferred.promise;\n}\n\nfunction rotate($el, start, finish) {\n  const deferred = Q.defer();\n\n  $el.animate(\n    {\n      'text-indent': 1,\n    },\n    {\n      duration: 150,\n      easing: 'swing',\n      step: function(now, fx) {\n        fx.start = start;\n        fx.end = finish;\n        $el.css('transform', 'rotate(' + now + 'deg)');\n      },\n      always: function() {\n        deferred.resolve($el);\n      },\n    }\n  );\n  return deferred.promise;\n}\n\n// Note: It is necessary to pass in a success callback because we must\n// remove the old dom node (and controller) in the same tick of the event\n// loop. Waiting for \"then\" results in a glitchy animation.\nfn.swapPages = function(options) {\n  const deferred = Q.defer();\n  const $parent = options.$parent;\n  const $oldRoot = options.$oldRoot;\n  const $newRoot = options.$newRoot;\n  const success = options.success;\n  const ctx = options.ctx;\n  let directionClassName = 'transition-from-right';\n\n  if (options.dir && options.dir === Enums.DIRECTION_BACK) {\n    directionClassName = 'transition-from-left';\n  }\n\n  $newRoot.addClass(directionClassName);\n  $parent.append($newRoot);\n\n  $parent.addClass('animation-container-overflow');\n  const newRootAnimations = { left: '0px', top: '0px', opacity: 1 };\n  $newRoot.animate(newRootAnimations, SWAP_PAGE_TIME, function() {\n    $parent.removeClass('animation-container-overflow');\n    $newRoot.removeClass(directionClassName);\n    const clearStyles = Object.keys(newRootAnimations).reduce((styles, attr) => ({ ...styles, [attr]: '' }), {});\n    $newRoot.css(clearStyles);\n    success.call(ctx);\n    deferred.resolve();\n  });\n\n  $oldRoot.animate({ height: $newRoot.height(), opacity: 0 }, SWAP_PAGE_TIME * 0.8);\n\n  return deferred.promise;\n};\n\nfn.swapBeacons = function(options) {\n  const $el = options.$el;\n  const swap = options.swap;\n  const ctx = options.ctx;\n\n  return this.implode($el)\n    .then(function() {\n      swap.call(ctx);\n      return $el;\n    })\n    .then(this.explode);\n};\n\nfn.explode = function($el) {\n  return zoom($el, 0, 1); //zoom in\n};\n\nfn.implode = function($el) {\n  return zoom($el, 1, 0); //zoom out\n};\n\nfn.radialProgressBar = function(options) {\n  const radialProgressBar = options.$el;\n  const swap = options.swap;\n  const circles = radialProgressBar.children();\n\n  return rotate(circles, 0, 180)\n    .then(function() {\n      radialProgressBar.css({ clip: 'auto' });\n    })\n    .then(function() {\n      const leftHalf = circles.eq(0);\n\n      swap();\n      return rotate(leftHalf, 180, 360);\n    })\n    .then(function() {\n      //reset values to initial state\n      radialProgressBar.css({ clip: 'rect(0px, 96px, 96px, 48px)' });\n      circles.css({\n        transform: 'rotate(0deg)',\n        'text-indent': '1px',\n      });\n    });\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2018-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\nconst fn = {};\n\nconst template = function(colors) {\n  return `\n#okta-sign-in.auth-container .button-primary,\n#okta-sign-in.auth-container .button-primary:active,\n#okta-sign-in.auth-container .button-primary:focus { background: ${colors.brand}; }\n#okta-sign-in.auth-container .button-primary:hover { background: ${fn.lighten(colors.brand, 0.05)}; }\n#okta-sign-in.auth-container .button.button-primary.link-button-disabled {\n  background: ${colors.brand};\n  opacity: 0.5;\n}\n    `;\n};\n\n// visible for testing\nfn.lighten = function(hex, lum) {\n  lum = lum || 0;\n  hex = hex.substr(1);\n  let newHex = '#';\n\n  for (var i = 0; i < 3; i++) {\n    let c = parseInt(hex.substr(i * 2, 2), 16);\n\n    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n    newHex += ('00' + c).substr(c.length);\n  }\n  return newHex;\n};\n\nfn.addStyle = function(colors, cspNonce) {\n  const css = template(colors);\n  const main = document.getElementById(Enums.WIDGET_CONTAINER_ID);\n  const style = document.createElement('style');\n\n  style.id = Enums.WIDGET_CONFIG_COLORS_ID;\n  style.type = 'text/css';\n  if (cspNonce) {\n    style.nonce = cspNonce;\n  }\n  style.appendChild(document.createTextNode(css));\n\n  main.appendChild(style);\n};\n\nfn.isLoaded = function() {\n  return !!document.getElementById(Enums.WIDGET_CONFIG_COLORS_ID);\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { internal } from '@okta/courage';\nconst Cookie = internal.util.Cookie;\nconst LAST_USERNAME_COOKIE_NAME = 'ln';\nconst DAYS_SAVE_REMEMBER = 365;\nconst fn = {};\n\nfn.getCookieUsername = function() {\n  return Cookie.getCookie(LAST_USERNAME_COOKIE_NAME);\n};\n\nfn.setUsernameCookie = function(username) {\n  Cookie.setCookie(LAST_USERNAME_COOKIE_NAME, username, {\n    expires: DAYS_SAVE_REMEMBER,\n    path: '/',\n  });\n};\n\nfn.removeUsernameCookie = function() {\n  Cookie.removeCookie(LAST_USERNAME_COOKIE_NAME, { path: '/' });\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport _ from 'underscore';\nimport { loc } from './loc';\nimport bundles from './Bundles';\nimport countryCallingCodes from './countryCallingCodes';\nconst fn = {};\n\n// () => [{ countryCode: countryName }], sorted by countryName\nfn.getCountries = function() {\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  // Sort it; figure out if there is a better way to do this (best would\n  // be to sort it in the properties file!!)\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = country.name;\n  });\n\n  return sorted;\n};\n\nfn.getCountryCode = function(){\n\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = loc('country.option.label', 'login', [country.name, country.code]);\n  });\n\n  return sorted;\n};\n\nfn.getCallingCodeForCountry = function(countryCode) {\n  return countryCallingCodes[countryCode];\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global Uint8Array, atob, btoa */\n\nconst fn = {};\n\n/**\n * Light weight hashing algorithm that hashes string into an integer between 0 and 4294967295\n * Not recommended for data set of size greater than 10000\n * https://www.npmjs.com/package/string-hash\n *\n * @param str the string to be hashed\n * @returns string hash of integer type\n */\nfn.getStringHash = function(str) {\n  let hash = 5381;\n  let i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n  return hash >>> 0;\n};\n\n/**\n * Converts any url safe characters in a base64 string to regular base64 characters\n * @param str base64 string that might contain url safe characters\n * @returns base64 formatted string\n */\nfn.base64UrlSafeToBase64 = function(str) {\n  return str.replace(new RegExp('_', 'g'), '/').replace(new RegExp('-', 'g'), '+');\n};\n\n/**\n * Converts an ArrayBuffer object that contains binary data to base64 encoded string\n * @param bin ArrayBuffer object\n * @returns base64 encoded string\n */\nfn.binToStr = function(bin) {\n  return btoa(new Uint8Array(bin).reduce((s, byte) => s + String.fromCharCode(byte), ''));\n};\n\n/**\n * Converts base64 string to binary data view\n * @param str in base64 or base64UrlSafe format\n * @returns converted Uint8Array view of binary data\n */\nfn.strToBin = function(str) {\n  return Uint8Array.from(atob(this.base64UrlSafeToBase64(str)), c => c.charCodeAt(0));\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default {\n  API_RATE_LIMIT: 30000, //milliseconds\n\n  WIDGET_LOGIN_CONTAINER_ID: 'okta-login-container',\n  WIDGET_CONTAINER_ID: 'okta-sign-in',\n  WIDGET_CONFIG_COLORS_ID: 'okta-sign-in-config-colors',\n\n  DIRECTION_BACK: 'DIRECTION_BACK',\n\n  RECOVERY_TYPE_PASSWORD: 'PASSWORD',\n  RECOVERY_TYPE_UNLOCK: 'UNLOCK',\n  RECOVERY_FACTOR_TYPE_SMS: 'SMS',\n  RECOVERY_FACTOR_TYPE_EMAIL: 'EMAIL',\n  RECOVERY_FACTOR_TYPE_CALL: 'CALL',\n\n  IOS: 'ios',\n  ANDROID: 'android',\n\n  ODA: 'oda',\n  MDM: 'mdm',\n  WS1: 'ws1',\n\n  // Global success messages\n  SUCCESS: 'SUCCESS',\n  FORGOT_PASSWORD_EMAIL_SENT: 'FORGOT_PASSWORD_EMAIL_SENT',\n  UNLOCK_ACCOUNT_EMAIL_SENT: 'UNLOCK_ACCOUNT_EMAIL_SENT',\n\n  // Global error messages\n  CONFIG_ERROR: 'CONFIG_ERROR',\n  UNSUPPORTED_BROWSER_ERROR: 'UNSUPPORTED_BROWSER_ERROR',\n  OAUTH_ERROR: 'OAUTH_ERROR',\n  AUTH_STOP_POLL_INITIATION_ERROR: 'AUTH_STOP_POLL_INITIATION_ERROR',\n  U2F_ERROR: 'U2F_ERROR',\n  WEB_AUTHN_ERROR: 'WEB_AUTHN_ERROR',\n  WEBAUTHN_ABORT_ERROR: 'WEBAUTHN_ABORT_ERROR',\n  CONFIGURED_FLOW_ERROR: 'CONFIGURED_FLOW_ERROR',\n\n  // Enroll choice page types\n  ALL_OPTIONAL_NONE_ENROLLED: 'ALL_OPTIONAL_NONE_ENROLLED',\n  ALL_OPTIONAL_SOME_ENROLLED: 'ALL_OPTIONAL_SOME_ENROLLED',\n  HAS_REQUIRED_NONE_ENROLLED: 'HAS_REQUIRED_NONE_ENROLLED',\n  HAS_REQUIRED_SOME_REQUIRED_ENROLLED: 'HAS_REQUIRED_SOME_REQUIRED_ENROLLED',\n  HAS_REQUIRED_ALL_REQUIRED_ENROLLED: 'HAS_REQUIRED_ALL_REQUIRED_ENROLLED',\n\n  // Operations\n  PRIMARY_AUTH: 'PRIMARY_AUTH',\n  FORGOT_PASSWORD: 'FORGOT_PASSWORD',\n  UNLOCK_ACCOUNT: 'UNLOCK_ACCOUNT',\n\n  // Auth Types\n  SESSION_SSO: 'SESSION_SSO',\n  SESSION_STEP_UP: 'SESSION_STEP_UP',\n\n  //Registration\n  ACTIVATION_EMAIL_SENT: 'ACTIVATION_EMAIL_SENT',\n  REGISTRATION_COMPLETE: 'REGISTRATION_COMPLETE',\n  REGISTRATION_FAILED: 'REGISTRATION_FAILED',\n\n  //IDP Discovery\n  IDP_DISCOVERY: 'IDP_DISCOVERY',\n\n  //App Store Links\n  OKTA_VERIFY_APPLE_APP_STORE_URL: 'https://apps.apple.com/us/app/okta-verify/id490179405',\n  OKTA_VERIFY_GOOGLE_PLAY_STORE_URL: 'https://play.google.com/store/apps/details?id=com.okta.android.auth',\n\n  // Device Challenge Method\n  LOOPBACK_CHALLENGE: 'LOOPBACK',\n  CUSTOM_URI_CHALLENGE: 'CUSTOM_URI',\n  UNIVERSAL_LINK_CHALLENGE: 'UNIVERSAL_LINK',\n  APP_LINK_CHALLENGE: 'APP_LINK',\n  CHROME_DTC: 'CHROME_DTC',\n\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 38], max-statements: [2, 38] */\nimport _ from 'underscore';\nimport { loc } from './loc';\nimport TimeUtil from 'util/TimeUtil';\nconst fn = {};\nconst factorData = {\n  OKTA_VERIFY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.oktaVerify',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  OKTA_VERIFY_PUSH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.oktaVerifyPush',\n    description: 'factor.push.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  U2F: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.u2f',\n    description: brandName => {\n      return brandName ? 'factor.u2f.description.specific' : 'factor.u2f.description.generic';\n    },\n    iconClassName: 'mfa-u2f',\n    sortOrder: 2,\n  },\n  WEBAUTHN: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.webauthn.biometric',\n    description: 'factor.webauthn.biometric.description',\n    iconClassName: 'mfa-webauthn',\n    sortOrder: 2,\n  },\n  WINDOWS_HELLO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.windowsHello',\n    description: brandName => {\n      return brandName\n        ? 'factor.windowsHello.signin.description.specific'\n        : 'factor.windowsHello.signin.description.generic';\n    },\n    iconClassName: 'mfa-windows-hello',\n    sortOrder: 3,\n  },\n  YUBIKEY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.yubikey',\n    description: 'factor.totpHard.yubikey.description',\n    iconClassName: 'mfa-yubikey',\n    sortOrder: 4,\n  },\n  GOOGLE_AUTH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.googleAuthenticator',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-google-auth',\n    sortOrder: 5,\n  },\n  CUSTOM_HOTP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.hotp.description',\n    iconClassName: 'mfa-hotp',\n    sortOrder: 6,\n  },\n  SMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.sms',\n    description: 'factor.sms.description',\n    iconClassName: 'mfa-okta-sms',\n    sortOrder: 7,\n  },\n  CALL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.call',\n    description: 'factor.call.description',\n    iconClassName: 'mfa-okta-call',\n    sortOrder: 8,\n  },\n  EMAIL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.email',\n    description: 'factor.email.description',\n    iconClassName: 'mfa-okta-email',\n    sortOrder: 9,\n  },\n  QUESTION: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.securityQuestion',\n    description: 'factor.securityQuestion.description',\n    iconClassName: 'mfa-okta-security-question',\n    sortOrder: 10,\n  },\n  DUO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.duo',\n    description: 'factor.duo.description',\n    iconClassName: 'mfa-duo',\n    sortOrder: 11,\n  },\n  SYMANTEC_VIP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.symantecVip',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-symantec',\n    sortOrder: 12,\n  },\n  RSA_SECURID: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.rsaSecurId',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-rsa',\n    sortOrder: 13,\n  },\n  ON_PREM: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-onprem',\n    sortOrder: 14,\n  },\n  PASSWORD: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.password',\n    description: '',\n    iconClassName: 'mfa-okta-password',\n    sortOrder: 15,\n  },\n  CUSTOM_CLAIMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.customFactor.description',\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 16,\n  },\n  GENERIC_SAML: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 17,\n  },\n  GENERIC_OIDC: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 18,\n  },\n};\n\nconst getPasswordComplexityRequirementsAsArray = function(policy, i18nKeys) {\n  const setExcludeAttributes = function(policyComplexity) {\n    const excludeAttributes = policyComplexity.excludeAttributes;\n\n    policyComplexity.excludeFirstName = _.contains(excludeAttributes, 'firstName');\n    policyComplexity.excludeLastName = _.contains(excludeAttributes, 'lastName');\n    return _.omit(policyComplexity, 'excludeAttributes');\n  };\n\n  if (policy.complexity) {\n    const complexityFields = i18nKeys.complexity;\n\n    const policyComplexity = setExcludeAttributes(policy.complexity);\n    let filteredPolicyComplexity = policyComplexity;\n\n    // If useADComplexityRequirements is true, ignore casing, number, and symbol rules since\n    // AD validator handles those requirements\n    if (policyComplexity.useADComplexityRequirements) {\n      const allowed = ['minLength', 'useADComplexityRequirements', 'excludeUsername', 'excludeFirstName',\n        'excludeLastName', 'excludeAttributes'];\n      filteredPolicyComplexity = _.pick(policyComplexity, allowed);\n    }\n\n    const requirements = _.map(filteredPolicyComplexity, function(complexityValue, complexityType) {\n      if (complexityValue <= 0) {\n        // to skip 0 and -1\n        return;\n      }\n\n      const params = complexityFields[complexityType];\n\n      return params.args ? loc(params.i18n, 'login', [complexityValue]) : loc(params.i18n, 'login');\n    });\n\n    return _.compact(requirements);\n  }\n  return [];\n};\n\nconst getPasswordHistoryRequirementDescription = function(policy, i18nKeys, isUpdatedPasswordRequirementsText) {\n  if (policy.age && policy.age.historyCount > 0) {\n    if (isUpdatedPasswordRequirementsText) {\n      return policy.age.historyCount === 1 ?\n        loc(i18nKeys.history.one.i18n, 'login')\n        : loc(i18nKeys.history.many.i18n, 'login', [policy.age.historyCount]);\n    } else {\n      return loc(i18nKeys.history.i18n, 'login', [policy.age.historyCount]);\n    }\n  }\n  return null;\n};\n\nconst getPasswordAgeRequirementDescription = function(policy, i18nKeys) {\n  const getPasswordAgeRequirement = function(displayableTime) {\n    let propertiesString;\n\n    switch (displayableTime.unit) {\n    case 'DAY':\n      propertiesString = i18nKeys.age.days.i18n;\n      break;\n    case 'HOUR':\n      propertiesString = i18nKeys.age.hours.i18n;\n      break;\n    case 'MINUTE':\n      propertiesString = i18nKeys.age.minutes.i18n;\n    }\n    return loc(propertiesString, 'login', [displayableTime.time]);\n  };\n\n  if (policy.age && policy.age.minAgeMinutes > 0) {\n    const displayableTime = TimeUtil.getTimeInHighestRelevantUnit(policy.age.minAgeMinutes, 'MINUTE');\n\n    return getPasswordAgeRequirement(displayableTime);\n  }\n  return null;\n};\n\nconst getPasswordRequirements = function(policy, i18nKeys, isUpdatedPasswordRequirementsText) {\n  const passwordRequirements = {\n    complexity: [],\n    history: [],\n    age: [],\n  };\n\n  passwordRequirements.complexity = getPasswordComplexityRequirementsAsArray(policy, i18nKeys);\n\n  const historyRequirement =\n    getPasswordHistoryRequirementDescription(policy, i18nKeys, isUpdatedPasswordRequirementsText);\n\n  if (historyRequirement) {\n    passwordRequirements.history.push(historyRequirement);\n  }\n\n  const ageRequirement = getPasswordAgeRequirementDescription(policy, i18nKeys);\n\n  if (ageRequirement) {\n    passwordRequirements.age.push(ageRequirement);\n  }\n\n  return passwordRequirements;\n};\n\nfn.getFactorName = function(provider, factorType) {\n  if (provider === 'OKTA' && factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (provider === 'OKTA' && factorType === 'push') {\n    return 'OKTA_VERIFY_PUSH';\n  }\n  if (provider === 'GOOGLE') {\n    return 'GOOGLE_AUTH';\n  }\n  if (provider === 'SYMANTEC' && factorType === 'token') {\n    return 'SYMANTEC_VIP';\n  }\n  if (provider === 'RSA' && factorType === 'token') {\n    return 'RSA_SECURID';\n  }\n  if (provider === 'DEL_OATH' && factorType === 'token') {\n    return 'ON_PREM';\n  }\n  if (provider === 'DUO' && factorType === 'web') {\n    return 'DUO';\n  }\n  if (provider === 'YUBICO' && factorType === 'token:hardware') {\n    return 'YUBIKEY';\n  }\n  if (provider === 'OKTA' && factorType === 'sms') {\n    return 'SMS';\n  }\n  if (provider === 'OKTA' && factorType === 'call') {\n    return 'CALL';\n  }\n  if (provider === 'OKTA' && factorType === 'question') {\n    return 'QUESTION';\n  }\n  if (provider === 'OKTA' && factorType === 'email') {\n    return 'EMAIL';\n  }\n  if (provider === 'OKTA' && factorType === 'password') {\n    return 'PASSWORD';\n  }\n  if (provider === 'GENERIC_SAML' && factorType === 'assertion:saml2') {\n    return 'GENERIC_SAML';\n  }\n  if (provider === 'GENERIC_OIDC' && factorType === 'assertion:oidc') {\n    return 'GENERIC_OIDC';\n  }\n  return fn.getFactorNameForFactorType.call(this, factorType);\n};\n\nfn.getFactorNameForFactorType = function(factorType) {\n  if (factorType === 'u2f') {\n    return 'U2F';\n  }\n  if (factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (factorType === 'webauthn') {\n    if (this.settings.get('features.webauthn')) {\n      return 'WEBAUTHN';\n    } else {\n      return 'WINDOWS_HELLO';\n    }\n  }\n  if (factorType === 'token:hotp') {\n    return 'CUSTOM_HOTP';\n  }\n  if (factorType === 'claims_provider') {\n    return 'CUSTOM_CLAIMS';\n  }\n};\n\nfn.isOktaVerify = function(provider, factorType) {\n  return provider === 'OKTA' && (factorType === 'token:software:totp' || factorType === 'push');\n};\n\nfn.getFactorLabel = function(provider, factorType) {\n  const key = factorData[fn.getFactorName.apply(this, [provider, factorType])].label;\n\n  return loc(key, 'login');\n};\n\nfn.getFactorDescription = function(provider, factorType) {\n  const descriptionKey = factorData[fn.getFactorName.apply(this, [provider, factorType])].description;\n\n  if (_.isFunction(descriptionKey)) {\n    const brandName = this.settings.get('brandName');\n    const key = descriptionKey(brandName);\n\n    return brandName ? loc(key, 'login', [brandName]) : loc(key, 'login');\n  } else {\n    return descriptionKey ? loc(descriptionKey, 'login') : '';\n  }\n};\n\nfn.getFactorIconClassName = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].iconClassName;\n};\n\nfn.getFactorSortOrder = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].sortOrder;\n};\n\nfn.getRememberDeviceValue = function(appState) {\n  return appState && appState.get('rememberDeviceByDefault');\n};\n\nfn.getSecurityQuestionLabel = function(questionObj) {\n  const localizedQuestion = loc('security.' + questionObj.question);\n\n  return localizedQuestion.indexOf('L10N_ERROR') < 0 ? localizedQuestion : questionObj.questionText;\n};\n\nfn.removeRequirementsFromError = function(responseJSON, policy) {\n  const passwordRequirementsAsString = this.getPasswordComplexityDescription(policy);\n\n  if (\n    responseJSON.errorCauses &&\n    responseJSON.errorCauses.length > 0 &&\n    _.isString(responseJSON.errorCauses[0].errorSummary)\n  ) {\n    responseJSON.errorCauses[0].errorSummary = responseJSON.errorCauses[0].errorSummary\n      .replace(passwordRequirementsAsString, '')\n      .trim();\n  }\n  return responseJSON;\n};\n\nfn.getPasswordComplexityDescriptionForHtmlList = function(policy) {\n  const passwordRequirementHtmlI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length.description', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase.description' },\n      minUpperCase: { i18n: 'password.complexity.uppercase.description' },\n      minNumber: { i18n: 'password.complexity.number.description' },\n      minSymbol: { i18n: 'password.complexity.symbol.description' },\n      excludeUsername: { i18n: 'password.complexity.no_username.description' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name.description' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name.description' },\n      useADComplexityRequirements: { i18n: 'password.complexity.adRequirements.description' },\n      maxConsecutiveRepeatingCharacters:\n        { i18n: 'password.complexity.maxConsecutiveRepeatingCharacters.description', args: true },\n    },\n    history: {\n      one: { i18n: 'password.complexity.history.one.description' },\n      many: { i18n: 'password.complexity.history.description' }\n    },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes.description' },\n      hours: { i18n: 'password.complexity.minAgeHours.description' },\n      days: { i18n: 'password.complexity.minAgeDays.description' },\n    },\n  };\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementHtmlI18nKeys, true);\n\n  return _.union(passwordRequirements.complexity, passwordRequirements.history, passwordRequirements.age);\n};\n\nfn.getPasswordComplexityDescription = function(policy) {\n  const passwordRequirementI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase' },\n      minUpperCase: { i18n: 'password.complexity.uppercase' },\n      minNumber: { i18n: 'password.complexity.number' },\n      minSymbol: { i18n: 'password.complexity.symbol' },\n      excludeUsername: { i18n: 'password.complexity.no_username' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name' },\n      useADComplexityRequirements: { i18n: 'password.complexity.adRequirements' },\n      maxConsecutiveRepeatingCharacters: { i18n: 'password.complexity.maxConsecutiveRepeatingCharacters', args: true },\n    },\n    history: { i18n: 'password.complexity.history' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes' },\n      hours: { i18n: 'password.complexity.minAgeHours' },\n      days: { i18n: 'password.complexity.minAgeDays' },\n    },\n  };\n  const result = [];\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementI18nKeys, false);\n  let requirements = passwordRequirements.complexity;\n\n  // Generate and add complexity string to result\n  if (requirements.length > 0) {\n    requirements = _.reduce(requirements, function(result, requirement) {\n      return result ? result + loc('password.complexity.list.element', 'login', [requirement]) : requirement;\n    });\n\n    result.push(loc('password.complexity.requirements', 'login', [requirements]));\n  }\n\n  // Only 1 value expected in history and age for now\n  result.push(passwordRequirements.history[0]);\n  result.push(passwordRequirements.age[0]);\n\n  return _.compact(result).join(' ');\n};\n\nfn.getCardinalityText = function(enrolled, required, cardinality) {\n  if (cardinality) {\n    if (enrolled) {\n      return cardinality.enrolled === 1 ? '' : loc('enroll.choices.cardinality.setup', 'login', [cardinality.enrolled]);\n    } else if (required && cardinality.maximum > 1) {\n      return loc('enroll.choices.cardinality.setup.remaining', 'login', [cardinality.enrolled, cardinality.minimum]);\n    }\n  }\n  return '';\n};\n\nfn.findFactorInFactorsArray = function(factors, provider, factorType) {\n  let factor = factors.findWhere({ provider: provider, factorType: factorType });\n\n  if (factor === undefined) {\n    //for factors that support cardinality and only have factorType\n    factor = factors.findWhere({ factorType: factorType });\n  }\n  return factor;\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity:[2, 9] */\n\nimport { loc } from './loc';\nconst fn = {};\n\nfn.getU2fEnrollErrorMessageKeyByCode = function(errorCode) {\n  switch (errorCode) {\n  default:\n  case 1:\n    return 'u2f.error.other';\n  case 2:\n  case 3:\n    return 'u2f.error.badRequest';\n  case 4:\n    return 'u2f.error.unsupported';\n  case 5:\n    return 'u2f.error.timeout';\n  }\n};\n\nfn.getU2fVerifyErrorMessageKeyByCode = function(errorCode, isOneFactor) {\n  switch (errorCode) {\n  case 1:\n    // OTHER_ERROR\n    return isOneFactor ? 'u2f.error.other.oneFactor' : 'u2f.error.other';\n  case 2: // BAD_REQUEST\n  case 3:\n    // CONFIGURATION_UNSUPPORTED\n    return isOneFactor ? 'u2f.error.badRequest.oneFactor' : 'u2f.error.badRequest';\n  case 4:\n    // DEVICE_INELIGIBLE\n    return isOneFactor ? 'u2f.error.unsupported.oneFactor' : 'u2f.error.unsupported';\n  case 5:\n    // TIMEOUT\n    return 'u2f.error.timeout';\n  }\n};\n\nfn.getU2fEnrollErrorMessageByCode = function(errorCode) {\n  return loc(fn.getU2fEnrollErrorMessageKeyByCode(errorCode), 'login');\n};\n\nfn.getU2fVerifyErrorMessageByCode = function(errorCode, isOneFactor) {\n  return loc(fn.getU2fVerifyErrorMessageKeyByCode(errorCode, isOneFactor), 'login');\n};\n\nfn.getU2fVersion = function() {\n  return 'U2F_V2';\n};\n\nfn.isU2fAvailable = function() {\n  return Object.prototype.hasOwnProperty.call(window, 'u2f');\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport async function executeHookFunctions(functions) {\n  for (let i = 0; i < functions.length; i++) {\n    await functions[i]();\n  }\n}\n\nexport async function executeHooksBefore(hook) {\n  if (!hook || !hook.before || !hook.before.length) {\n    return;\n  }\n  await executeHookFunctions(hook.before);\n}\n\nexport async function executeHooksAfter(hook) {\n  if (!hook || !hook.after || !hook.after.length) {\n    return;\n  }\n  await executeHookFunctions(hook.after);\n}\n\nexport function mergeHook(hooks, formName, hookToMerge) {\n  const existingHook = hooks[formName] = hooks[formName] || { before: [], after: [] };\n  if (hookToMerge.before) {\n    existingHook.before = (existingHook.before || []).concat(hookToMerge.before);\n  }\n  if (hookToMerge.after) {\n    existingHook.after = (existingHook.after || []).concat(hookToMerge.after);\n  }\n}\n","const SUPPORTED_SOCIAL_IDPS = [\n  'facebook',\n  'google',\n  'linkedin',\n  'microsoft',\n  'apple',\n  'github',\n  'gitlab',\n  'yahoo',\n  'line',\n  'paypal',\n  'paypal_sandbox',\n  'salesforce',\n  'amazon',\n  'yahoojp',\n  'discord',\n  'adobe',\n  'orcid',\n  'spotify',\n  'xero',\n  'quickbooks',\n];\nexport default {\n  SUPPORTED_SOCIAL_IDPS,\n};\n","import Bundles from 'util/Bundles';\nimport config from 'config/config.json';\n\nfunction loadLanguage(appState, settings) {\n  const languageCode = appState.get('languageCode') || settings.get('languageCode') || config.defaultLanguage;\n  const i18n = settings.get('i18n');\n  const assetBaseUrl = settings.get('assets.baseUrl');\n  const assetRewrite = settings.get('assets.rewrite');\n  const supportedLanguages = settings.get('supportedLanguages');\n\n  const timeout = setTimeout(function() {\n    // Trigger a spinner if we're waiting on a request for a new language.\n    appState.trigger('loading', true);\n  }, 200);\n\n  return Bundles.loadLanguage(languageCode, i18n, {\n    baseUrl: assetBaseUrl,\n    rewrite: assetRewrite,\n  }, supportedLanguages).then(function() {\n    clearTimeout(timeout);\n    appState.trigger('loading', false);\n    appState.trigger('removeLoading');\n  });\n  // TODO: what if load language error?\n}\n\nexport default {\n  loadLanguage,\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction log(level, args) {\n  // Only log statements in development mode\n  //  or if throwing an error through console.error\n  //  or if debugger is enabled\n  if (DEBUG || level === 'error' || window?.OktaSignInDebug?.isEnabled?.()) {\n    window.console[level].apply(window.console, args);\n  }\n}\n\n/**\n * Utility library of logging functions.\n */\nexport default {\n  trace: function() {\n    return log('trace', arguments);\n  },\n\n  dir: function() {\n    return log('dir', arguments);\n  },\n\n  time: function() {\n    return log('time', arguments);\n  },\n\n  timeEnd: function() {\n    return log('timeEnd', arguments);\n  },\n\n  group: function() {\n    return log('group', arguments);\n  },\n\n  groupEnd: function() {\n    return log('groupEnd', arguments);\n  },\n\n  assert: function() {\n    return log('assert', arguments);\n  },\n\n  log: function() {\n    return log('log', arguments);\n  },\n\n  info: function() {\n    return log('info', arguments);\n  },\n\n  warn: function() {\n    return log('warn', arguments);\n  },\n\n  error: function() {\n    return log('error', arguments);\n  },\n\n  deprecate: function(msg) {\n    return log('warn', ['[okta-signin-widget] DEPRECATED:', msg]);\n  },\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport _ from 'underscore';\nimport { loc } from './loc';\nimport Enums from './Enums';\nimport { getTypedOAuthError, NonRecoverableError } from './OAuthErrors';\nimport Util from './Util';\nconst util = {};\n\n// https://github.com/okta/okta-auth-js#authorize-options\nconst AUTH_PARAMS = [\n  'responseType',\n  'scopes',\n  'state',\n  'nonce',\n  'idp',\n  'idpScope',\n  'display',\n  'prompt',\n  'maxAge',\n  'loginHint'\n];\nutil.AUTH_PARAMS = AUTH_PARAMS;\n\n/**\n * Get the tokens in the OIDC/OAUTH flows\n *\n * @param settings - settings model object\n * @param params - {idp: 'xxx'} for social auth\n *                 {sessionToken: 'xxx'} for okta idp\n */\nutil.getTokens = function(settings, params, controller) {\n  function success(result) {\n    settings.callGlobalSuccess(Enums.SUCCESS, result);\n  }\n\n  function error(error) {\n    const typedError = getTypedOAuthError(error);\n    if (typedError.is('terminal')) {\n      controller.model.appState.set('flashError', typedError);\n      controller.model.appState.trigger('navigate', 'signin/error');\n    } else if (typedError.is('inline')) {\n      controller.model.trigger('error', controller.model, {\n        responseJSON: {\n          errorSummary: typedError.errorDetails.errorSummary\n        }\n      });\n      controller.model.appState.trigger('removeLoading');\n    }\n\n    if (!typedError.is('terminal')) {\n      Util.triggerAfterError(controller, typedError, settings);\n    }\n\n    if (typedError instanceof NonRecoverableError) {\n      settings.callGlobalError(typedError);\n    }\n  }\n\n  const authClient = settings.getAuthClient();\n  const isAuthorizationCodeFlow = authClient.isAuthorizationCodeFlow() && !authClient.isPKCE();\n  const options = settings.toJSON({ verbose: true });\n  const getTokenOptions = {};\n\n  _.extend(\n    getTokenOptions,\n    _.pick(options, 'clientId', 'redirectUri'),\n    _.pick(options.authParams, AUTH_PARAMS),\n    params\n  );\n\n  // Extra Options for Social Idp popup window title and id_token response timeout\n  getTokenOptions.popupTitle = loc('socialauth.popup.title', 'login');\n  getTokenOptions.timeout = options.oAuthTimeout;\n\n  // Redirect flow - this can be used when logging into an external IDP, or\n  // converting the Okta sessionToken to an access_token, id_token, and/or\n  // authorization code. Note: The authorization code flow will always redirect.\n  if (options.redirect === 'always' || isAuthorizationCodeFlow) {\n    authClient.token.getWithRedirect(getTokenOptions).catch(error);\n  } else if (getTokenOptions.sessionToken) {\n    // Default flow if logging in with Okta as the IDP - convert sessionToken to\n    // tokens in a hidden iframe. Used in Single Page Apps where the app does\n    // not want to redirect away from the page to convert the token.\n    authClient.token.getWithoutPrompt(getTokenOptions).then(success).catch(error);\n  } else {\n    // Default flow if logging in with an external IDP - opens a popup and\n    // gets the token from a postMessage response.\n    authClient.token.getWithPopup(getTokenOptions).then(success).catch(error);\n  }\n};\n\nexport default util;\n","import toMilliseconds from '@sindresorhus/to-milliseconds';\nimport parseMs from 'parse-ms';\n\nconst MOMENT_UNIT = {\n  MILLISECOND: 'milliseconds',\n  SECOND: 'seconds',\n  MINUTE: 'minutes',\n  HOUR: 'hours',\n  DAY: 'days',\n};\n\nconst MOMENT_UNIT_KEYS = Object.keys(MOMENT_UNIT);\n\n/**\n * @method convertMomentUnits\n * Conversion between moment's units and our units internally\n *\n * @param {String} momentUnit The units that val is in\n * @return {String} The key in the MOMENT_UNIT hash\n */\nconst convertMomentUnits = function(momentUnit) {\n  const entry = MOMENT_UNIT_KEYS.filter(k => MOMENT_UNIT[k] === momentUnit);\n\n  return entry.length === 1 ? entry[0] : momentUnit;\n};\n\nexport default {\n  /**\n   * @method getTimeInHighestRelevantUnit\n   * Will return a number in the units of the highest relevant time unit.\n   * Only checks milliseconds, seconds, minutes, hours, and days.\n   * E.g.\n   *   15 MINUTE  -> 15 MINUTE\n   *   15 minutes -> 15 MINUTE\n   *   60 minutes ->  1 HOUR\n   *   90 minutes -> 90 MINUTE\n   *   24 HOUR    ->  1 DAY\n   *   24 hours   ->  1 DAY\n   *   30 DAY     -> 30 DAY\n   *\n   * @typedef { \"MILLISECOND\" | \"SECOND\" | \"MINUTE\" | \"HOUR\" | \"DAY\" } TimeUnit\n   *\n   * @typedef { \"MILLISECOND\" | \"SECOND\" | \"MINUTE\" | \"HOUR\" | \"DAY\" |\n   *            \"milliseconds\" | \"seconds\" | \"minutes\" | \"hours\" | \"days\"\n   *          } FlexibleTimeUnit\n   *\n   * @typedef TimeAndUnit\n   * @property {number} time the consolidated time\n   * @property {TimeUnit} unit the unit of the time\n   *\n   * @param {FlexibleTimeUnit} unit The time unit\n   * @return {TimeAndUnit} An object containing the amount of time and the unit\n   */\n  getTimeInHighestRelevantUnit: function(val, unit) {\n    const defaultTimeObj = {\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      milliseconds: 0,\n    };\n    const normalizedUnit = MOMENT_UNIT[unit] || unit;\n    let timeObj;\n\n    try {\n      const ms = toMilliseconds(Object.assign(defaultTimeObj, { [normalizedUnit]: val }));\n      timeObj = parseMs(ms);\n    } catch (error) {\n      timeObj = {};\n    }\n\n    const duration = Object.keys(timeObj).reduce((init, k) => {\n      if (timeObj[k] !== 0) {\n        init[k] = timeObj[k];\n      }\n      return init;\n    }, {});\n\n    let highestUnit;\n    let time;\n    if (Object.keys(duration).length === 1) {\n      Object.keys(duration).forEach(k => {\n        time = duration[k];\n        highestUnit = k;\n      });\n    } else {\n      time = val;\n      highestUnit = normalizedUnit;\n    }\n\n    return {\n      time: time,\n      unit: convertMomentUnits(highestUnit),\n    };\n  },\n\n  /**\n   * @method formatDateToDeviceAssuranceGracePeriodExpiryLocaleString\n   * Conversion from a Date object to a locale string that mimics Okta's `short-with-timezone` format\n   * but rounded down to the nearest hour\n   * e.g. new Date(2024-09-05T00:00:00.000Z) -> 09/05/2024, 8:00 PM EDT\n   *\n   * @param {Date} date The Date object for the grace period expiry\n   * @param {LanguageCode} languageCode The user's language code / locale\n   * @return {string} The formatted `short-with-timezone` local string\n   */\n  formatDateToDeviceAssuranceGracePeriodExpiryLocaleString: (date, languageCode) => {\n    try {\n    // Invalid Date objects will return NaN for valueOf()\n      if (date && !isNaN(date.valueOf()) && languageCode !== null) {\n        // Round down the date to the nearest hour\n        date.setMinutes(0, 0, 0);\n        return date.toLocaleString(languageCode, {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          timeZoneName: 'short',\n        });\n      } else {\n        return null;\n      }\n    } catch (e) {\n      // If `languageCode` isn't in a valid format `toLocaleString()` will throw a `RangeError`\n      return null;\n    }\n  }\n};\n","/* eslint-disable max-statements */\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 13], max-depth: [2, 3] */\nimport _ from 'underscore';\nimport { loc, doesTranslationExist } from './loc';\nimport Enums from './Enums';\nimport Logger from './Logger';\nimport BrowserFeatures from './BrowserFeatures';\n\nconst Util = {};\nconst ovDeepLink = 'redirect_uri=https://login.okta.com/oauth/callback';\n\nconst buildInputForParameter = function(name, value) {\n  const input = document.createElement('input');\n\n  input.name = name;\n  input.value = decodeURIComponent(value);\n  input.type = 'hidden';\n  return input;\n};\n\nconst buildSubmitInput = function() {\n  const input = document.createElement('input');\n  input.type = 'submit';\n  return input;\n};\n\nconst buildDynamicForm = function(url = '', method) {\n  const splitOnFragment = url.split('#');\n  const fragment = splitOnFragment[1];\n  const splitOnQuery = (splitOnFragment[0] || '').split('?');\n  const query = splitOnQuery[1];\n  let targetUrl = splitOnQuery[0];\n\n  if (fragment) {\n    targetUrl += '#' + fragment;\n  }\n\n  const form = document.createElement('form');\n\n  form.method = method;\n  form.style.display = 'none';\n  form.action = targetUrl;\n  if (query && query.length) {\n    const queryParts = query.split('&');\n\n    queryParts.forEach(queryPart => {\n      const parameterParts = queryPart.split('=');\n      const input = buildInputForParameter(parameterParts[0], parameterParts[1]);\n\n      form.appendChild(input);\n    });\n  }\n  form.appendChild(buildSubmitInput());\n\n  return form;\n};\n\n// eslint-disable-next-line complexity\nUtil.transformErrorXHR = function(xhr) {\n  // Handle network connection error\n  if (xhr.status === 0 && _.isEmpty(xhr.responseJSON)) {\n    xhr.responseJSON = { errorSummary: loc('error.network.connection', 'login') };\n    return xhr;\n  }\n  if (!xhr.responseJSON) {\n    if (!xhr.responseText) {\n      // Empty server response\n      xhr.responseJSON = { errorSummary: loc('error.unsupported.response', 'login') };\n      return xhr;\n    }\n    if (typeof xhr.responseText === 'string') {\n      try {\n        xhr.responseJSON = JSON.parse(xhr.responseText);\n      } catch (e) {\n        // Malformed server response\n        xhr.responseJSON = { errorSummary: loc('error.unsupported.response', 'login') };\n        return xhr;\n      }\n    } else if (typeof xhr.responseText === 'object') {\n      xhr.responseJSON = xhr.responseText;\n    }\n  }\n  // Temporary solution to display field errors\n  // Assuming there is only one field error in a response\n  if (xhr.responseJSON && xhr.responseJSON.errorCauses && xhr.responseJSON.errorCauses.length) {\n    xhr.responseJSON.errorSummary = xhr.responseJSON.errorCauses[0].errorSummary;\n  }\n  // Replace error messages\n  if (!_.isEmpty(xhr.responseJSON)) {\n    const { errorCode } = xhr.responseJSON;\n    const errorMsg = errorCode && doesTranslationExist('errors.' + errorCode, 'login')\n      // We don't pass parameters to the `loc()` util\n      // However some i18n keys like `errors.E0000001` require one parameter\n      // Don't dispatch custom 'okta-i18n-error' event in this case\n      ? loc('errors.' + errorCode, 'login', [], true)\n      : undefined;\n\n    if (errorMsg?.indexOf('L10N_ERROR[') === -1) {\n      xhr.responseJSON.errorSummary = errorMsg;\n      if (xhr.responseJSON && xhr.responseJSON.errorCauses && xhr.responseJSON.errorCauses.length) {\n        // BaseForm will consume errorCauses before errorSummary if it is an array,\n        // so, we have to make sure to remove it when we have a valid error code\n        delete xhr.responseJSON.errorCauses;\n      }\n    }\n  }\n  return xhr;\n};\n\n// Simple helper function to lowercase all strings in the given array\nUtil.toLower = function(strings) {\n  return _.map(strings, function(str) {\n    return str.toLowerCase();\n  });\n};\n\n// A languageCode can be composed of multiple parts, i.e:\n// {{language}}-{{region}}-{{dialect}}\n//\n// In these cases, it's necessary to generate a list of other possible\n// combinations that we might support (in preferred order).\n//\n// For example:\n// en-US -> [en-US, en]\n// de-DE-bavarian -> [de-DE-bavarian, de-DE, de]\nfunction expandLanguage(language) {\n  const expanded = [language];\n  const parts = language.split('-');\n\n  while (parts.pop() && parts.length > 0) {\n    expanded.push(parts.join('-'));\n  }\n  return expanded;\n}\n\n// Following the rules of expanding one language, this will generate\n// all potential languages in the given order (where higher priority is\n// given to expanded languages over other downstream languages).\nUtil.expandLanguages = function(languages) {\n  return _.chain(languages).map(expandLanguage).flatten().uniq().value();\n};\n\n//helper to call setTimeout\nUtil.callAfterTimeout = function(callback, time) {\n  return setTimeout(callback, time);\n};\n\n// Invokes the callback after a delay, if the window remains in focus\n// If the window becomes unfocused, the callback execution is delayed until\n// focus has been returned to the window\nUtil.callAfterTimeoutOrWindowRefocus = function(callback, time, delayAfterRefocus = false) {\n  let timeoutId;\n  let visHandler;\n\n  const invokeCallbackFn = () => {\n    document.removeEventListener('visibilitychange', visHandler);\n    if (!delayAfterRefocus) {\n      return callback();\n    }\n\n    setTimeout(callback, time);\n  };\n\n  visHandler = () => {\n    if (document.hidden) {\n      clearTimeout(timeoutId);\n    }\n    else {\n      invokeCallbackFn();\n    }\n  };\n\n  document.addEventListener('visibilitychange', visHandler);\n  timeoutId = setTimeout(invokeCallbackFn, time);\n\n  // returns a \"cancel\" function, so the execution of the callback can be prevented\n  return () => {\n    clearTimeout(timeoutId);\n    document.removeEventListener('visibilitychange', visHandler);\n  };\n};\n\n// Helper function to provide consistent formatting of template literals\n// that are logged when in development mode.\nUtil.debugMessage = function(message) {\n  Logger.warn(`\\n${message.replace(/^(\\s)+/gm, '')}`);\n};\n\nUtil.logConsoleError = function(message) {\n  Logger.error(message);\n};\n\n// Trigger an afterError event\nUtil.triggerAfterError = function(controller, err = {}) {\n  if (!err.statusCode && err.xhr && err.xhr.status) {\n    // Bring the statusCode to the top-level of the Error\n    err.statusCode = err.xhr.status;\n  }\n  // Some controllers return the className as a function - process it here:\n  const className = _.isFunction(controller.className) ? controller.className() : controller.className;\n\n  const error = _.pick(err, 'name', 'message', 'statusCode', 'xhr');\n\n  controller.trigger('afterError', { controller: className }, error);\n  // Logs to console only in dev mode\n  Logger.warn('controller: ' + className + ', error: ' + error);\n};\n\nUtil.redirect = function(url, win = window, isAppLink = false) {\n  if (BrowserFeatures.isAndroid() && !isAppLink) {\n    Util.redirectWithFormGet(url);\n  } else {\n    Util.changeLocation(url, win);\n  }\n};\n\nUtil.changeLocation = function(url, win = window) {\n  if (!url) {\n    Logger.error(`Cannot redirect to empty URL: (${url})`);\n    return;\n  }\n  win.location.href = url;\n};\n\nUtil.executeOnVisiblePage = function(cb) {\n  if (document.visibilityState === 'hidden') {\n    const visibilityChangeHandler = () => {\n      if (document.visibilityState === 'visible') {\n        document.removeEventListener('visibilitychange', visibilityChangeHandler);\n        cb();\n      }\n    };\n    document.addEventListener('visibilitychange', visibilityChangeHandler);\n  } else {\n    cb();\n  }\n};\n\nUtil.isAndroidOVEnrollment = function() {\n  const ovEnrollment = decodeURIComponent(window.location.href).includes(ovDeepLink);\n  return BrowserFeatures.isAndroid() && ovEnrollment;\n};\n\n/**\n * Why redirect via Form get rather using `window.location.href`?\n * At the time of writing, Chrome (<72) in Android would block window location change\n * at following case\n * 1. An AJAX is trigger because of user action.\n * 2. 5+ seconds passed without any further user interaction.\n * 3. User takes an action results in window location change.\n *\n * Luckily we discovered that uses Form submit would work around this problem\n * even though it changed window location.\n *\n * Check the commit history for more details.\n */\nUtil.redirectWithFormGet = function(url) {\n  Util.redirectWithForm(url, 'get');\n};\n\nUtil.redirectWithForm = function(url, method = 'post') {\n  if (!url) {\n    Logger.error(`Cannot redirect to empty URL: (${url})`);\n    return;\n  }\n\n  const mainContainer = document.getElementById(Enums.WIDGET_CONTAINER_ID);\n\n  if (!mainContainer) {\n    Logger.error('Cannot find okta-sign-in container append to which a form');\n    return;\n  }\n\n  const form = buildDynamicForm(url, method);\n\n  mainContainer.appendChild(form);\n  form.querySelector('input[type=\"submit\"]').click();\n};\n\n/**\n * When we want to show an explain text, we need to check if this is different from\n * the label text, to not have an explain that look like a duplicated label.\n * okta-signin-widget gives the possibility to customize every i18n, so we cannot\n * know ahead if these two are equal or different, we need to call this function everytime.\n */\nUtil.createInputExplain = function(explainKey, labelKey, bundleName, explainParams, labelParams) {\n  const explain = explainParams ? loc(explainKey, bundleName, explainParams) : loc(explainKey, bundleName);\n  const label = labelParams ? loc(labelKey, bundleName, labelParams) : loc(labelKey, bundleName);\n\n  if (explain === label) {\n    return false;\n  }\n  return explain;\n};\n\nUtil.isV1StateToken = function(token) {\n  return !!(token && _.isString(token) && token.startsWith('00'));\n};\n\nUtil.getAutocompleteValue = function(settings, defaultValue) {\n  const shouldDisableAutocomplete = settings?.get('features.disableAutocomplete');\n  if (shouldDisableAutocomplete) {\n    return 'off';\n  }\n  return defaultValue;\n};\n\n/**\n * Equivalent of `new URLSearchParams(params).toString()` with broadest browser support.\n * Does not include params with nullish values.\n */\nUtil.searchParamsToString = function(params) {\n  return Object.keys(params)\n    .filter((key) => {\n      const val = params[key];\n      return val !== undefined && val !== null;\n    })\n    .map((key) => {\n      return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n    })\n    .join('&');\n};\n\nexport default Util;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint max-len:0 */\n\nexport default {\n  US: '1',\n  AG: '1',\n  AI: '1',\n  AS: '1',\n  BB: '1',\n  BM: '1',\n  BS: '1',\n  CA: '1',\n  DM: '1',\n  DO: '1',\n  GD: '1',\n  GU: '1',\n  JM: '1',\n  KN: '1',\n  KY: '1',\n  LC: '1',\n  MP: '1',\n  MS: '1',\n  PR: '1',\n  SX: '1',\n  TC: '1',\n  TT: '1',\n  VC: '1',\n  VG: '1',\n  VI: '1',\n  RU: '7',\n  KZ: '7',\n  EG: '20',\n  ZA: '27',\n  GR: '30',\n  NL: '31',\n  BE: '32',\n  FR: '33',\n  ES: '34',\n  HU: '36',\n  IT: '39',\n  VA: '39',\n  RO: '40',\n  CH: '41',\n  AT: '43',\n  GB: '44',\n  GG: '44',\n  IM: '44',\n  JE: '44',\n  DK: '45',\n  SE: '46',\n  NO: '47',\n  SJ: '47',\n  PL: '48',\n  DE: '49',\n  PE: '51',\n  MX: '52',\n  CU: '53',\n  AR: '54',\n  BR: '55',\n  CL: '56',\n  CO: '57',\n  VE: '58',\n  MY: '60',\n  AU: '61',\n  CC: '61',\n  CX: '61',\n  ID: '62',\n  PH: '63',\n  NZ: '64',\n  SG: '65',\n  TH: '66',\n  JP: '81',\n  KR: '82',\n  VN: '84',\n  CN: '86',\n  TR: '90',\n  IN: '91',\n  PK: '92',\n  AF: '93',\n  LK: '94',\n  MM: '95',\n  IR: '98',\n  SS: '211',\n  MA: '212',\n  EH: '212',\n  DZ: '213',\n  TN: '216',\n  LY: '218',\n  GM: '220',\n  SN: '221',\n  MR: '222',\n  ML: '223',\n  GN: '224',\n  CI: '225',\n  BF: '226',\n  NE: '227',\n  TG: '228',\n  BJ: '229',\n  MU: '230',\n  LR: '231',\n  SL: '232',\n  GH: '233',\n  NG: '234',\n  TD: '235',\n  CF: '236',\n  CM: '237',\n  CV: '238',\n  ST: '239',\n  GQ: '240',\n  GA: '241',\n  CG: '242',\n  CD: '243',\n  AO: '244',\n  GW: '245',\n  IO: '246',\n  AC: '247',\n  SC: '248',\n  SD: '249',\n  RW: '250',\n  ET: '251',\n  SO: '252',\n  DJ: '253',\n  KE: '254',\n  TZ: '255',\n  UG: '256',\n  BI: '257',\n  MZ: '258',\n  ZM: '260',\n  MG: '261',\n  RE: '262',\n  YT: '262',\n  ZW: '263',\n  NA: '264',\n  MW: '265',\n  LS: '266',\n  BW: '267',\n  SZ: '268',\n  KM: '269',\n  SH: '290',\n  TA: '290',\n  ER: '291',\n  AW: '297',\n  FO: '298',\n  GL: '299',\n  GI: '350',\n  PT: '351',\n  LU: '352',\n  IE: '353',\n  IS: '354',\n  AL: '355',\n  MT: '356',\n  CY: '357',\n  FI: '358',\n  AX: '358',\n  BG: '359',\n  LT: '370',\n  LV: '371',\n  EE: '372',\n  MD: '373',\n  AM: '374',\n  BY: '375',\n  AD: '376',\n  MC: '377',\n  SM: '378',\n  UA: '380',\n  RS: '381',\n  ME: '382',\n  XK: '383',\n  HR: '385',\n  SI: '386',\n  BA: '387',\n  MK: '389',\n  CZ: '420',\n  SK: '421',\n  LI: '423',\n  FK: '500',\n  BZ: '501',\n  GT: '502',\n  SV: '503',\n  HN: '504',\n  NI: '505',\n  CR: '506',\n  PA: '507',\n  PM: '508',\n  HT: '509',\n  GP: '590',\n  BL: '590',\n  MF: '590',\n  BO: '591',\n  GY: '592',\n  EC: '593',\n  GF: '594',\n  PY: '595',\n  MQ: '596',\n  SR: '597',\n  UY: '598',\n  CW: '599',\n  BQ: '599',\n  TL: '670',\n  NF: '672',\n  BN: '673',\n  NR: '674',\n  PG: '675',\n  TO: '676',\n  SB: '677',\n  VU: '678',\n  FJ: '679',\n  PW: '680',\n  WF: '681',\n  CK: '682',\n  NU: '683',\n  WS: '685',\n  KI: '686',\n  NC: '687',\n  TV: '688',\n  PF: '689',\n  TK: '690',\n  FM: '691',\n  MH: '692',\n  '001': '979',\n  KP: '850',\n  HK: '852',\n  MO: '853',\n  KH: '855',\n  LA: '856',\n  BD: '880',\n  TW: '886',\n  MV: '960',\n  LB: '961',\n  JO: '962',\n  SY: '963',\n  IQ: '964',\n  KW: '965',\n  SA: '966',\n  YE: '967',\n  OM: '968',\n  PS: '970',\n  AE: '971',\n  IL: '972',\n  BH: '973',\n  QA: '974',\n  BT: '975',\n  MN: '976',\n  NP: '977',\n  TJ: '992',\n  TM: '993',\n  AZ: '994',\n  GE: '995',\n  KG: '996',\n  UZ: '998',\n  GS: '500',\n  PN: '64',\n  AQ: '672',\n  UM: '1',\n  AN: '599',\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Q from 'q';\nimport FidoUtil from 'util/FidoUtil';\n\nfunction adaptToOkta(promise) {\n  return new Q(promise);\n}\n\nfunction makeCredential(accountInfo, cryptoParams, challenge) {\n  cryptoParams = cryptoParams.map(function(param) {\n    return { type: 'FIDO_2_0', algorithm: param.algorithm };\n  });\n\n  const promise = window.msCredentials.makeCredential(accountInfo, cryptoParams, challenge).then(function(cred) {\n    return Object.freeze({\n      credential: { id: cred.id },\n      publicKey: JSON.parse(cred.publicKey),\n      attestation: cred.attestation,\n    });\n  });\n\n  return adaptToOkta(promise);\n}\n\nfunction getAssertion(challenge, allowList) {\n  const accept = allowList.map(function(item) {\n    return { type: 'FIDO_2_0', id: item.id };\n  });\n  const filters = { accept: accept };\n  const promise = window.msCredentials.getAssertion(challenge, filters).then(function(attestation) {\n    const signature = attestation.signature;\n\n    return Object.freeze({\n      credential: { id: attestation.id },\n      clientData: signature.clientData,\n      authenticatorData: signature.authnrData,\n      signature: signature.signature,\n    });\n  });\n\n  return adaptToOkta(promise);\n}\n\nfunction processWebAuthnResponse(inputFunction, context) {\n  if (typeof inputFunction === 'undefined') {\n    return null;\n  }\n  const responseValue = inputFunction.apply(context);\n  if (responseValue === undefined || responseValue === null) {\n    return null;\n  }\n  return JSON.stringify(responseValue);\n}\n\nexport default {\n  makeCredential: makeCredential,\n  getAssertion: getAssertion,\n  processWebAuthnResponse: processWebAuthnResponse,\n  isAvailable: function() {\n    return Object.prototype.hasOwnProperty.call(window, 'msCredentials');\n  },\n  isNewApiAvailable: function() {\n    // navigator.credentials is not supported in IE11\n    // eslint-disable-next-line compat/compat\n    return navigator && navigator.credentials && navigator.credentials.create;\n  },\n  isWebauthnOrU2fAvailable: function() {\n    return this.isNewApiAvailable() || FidoUtil.isU2fAvailable();\n  },\n  isConditionalMediationAvailable: function() {\n    // eslint-disable-next-line compat/compat, no-undef\n    return typeof PublicKeyCredential !== 'undefined'\n      // eslint-disable-next-line compat/compat, no-undef\n      && typeof PublicKeyCredential.isConditionalMediationAvailable !== 'undefined';\n  },\n  // checks if the browser supports passkey autofill by making sure it supports conditional mediation\n  // https://passkeys.dev/docs/reference/terms/#autofill-ui\n  isPasskeyAutofillAvailable: async function() {\n    let isAvailable = false;\n    if (this.isConditionalMediationAvailable()) {\n      // eslint-disable-next-line compat/compat, no-undef\n      isAvailable = await PublicKeyCredential.isConditionalMediationAvailable();\n    }\n    return isAvailable;\n  }\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, _ } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport '@okta/qtip';\n\nexport default View.extend({\n  className: 'scope-item',\n  template: hbs`\n    <p class=\"scope-item-text no-translate\">{{name}}</p>\n    {{#if description}}\n    <span class=\"scope-item-tooltip icon form-help-16\" />\n    {{/if}}`,\n\n  postRender: function() {\n    this.$('.scope-item-tooltip').qtip({\n      content: {\n        text: _.escape(this.options.description)\n      },\n      style: { classes: 'okta-tooltip qtip-custom qtip-shadow' },\n      position: {\n        my: 'bottom left',\n        target: 'mouse'\n      }\n    });\n  }\n});\n\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint max-len: [2, 131] */\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { _, View, loc } from '@okta/courage';\nimport ScopeItem from './ScopeItem';\n\nconst SCOPE_N_GROUP_CONFIG = {\n  groups: 'user',\n  myAccount: 'user',\n  users: 'user',\n  apps: 'resource',\n  authenticators: 'resource',\n  authorizationServers: 'resource',\n  clients: 'resource',\n  domains: 'resource',\n  factors: 'resource',\n  idps: 'resource',\n  linkedObjects: 'resource',\n  policies: 'resource',\n  templates: 'resource',\n  eventHooks: 'hook',\n  inlineHooks: 'hook',\n  events: 'system',\n  logs: 'system',\n  orgs: 'system',\n  roles: 'system',\n  schemas: 'system',\n  sessions: 'system',\n  trustedOrigins: 'system',\n};\n\nconst DEFAULT_GROUP = 'system';\n\nconst findScopeGroupKey = ({ name = '' }) => {\n  const xs = name.split('.');\n  const groupType = xs[1];\n\n  return SCOPE_N_GROUP_CONFIG[groupType] || DEFAULT_GROUP;\n};\n\nconst ScopeGroupHeaderView = View.extend({\n  className: 'scope-group',\n\n  events: {\n    'click': 'expandScopes',\n  },\n\n  template: hbs`\n    <div class=\"scope-group--header\">\n    <h3>{{groupName}}</h3>\n    <span class=\"scope-group--toggle\">\n      <svg class=\"caret\"\n           width=\"12\" height=\"12\"\n           viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path class=\"path\" fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M5.99967 4.66663L10.2663 8.66663L11.333 7.66663L5.99967 2.66663L0.666342 7.73636L1.73301 8.66663L5.99967 4.66663Z\"\n              fill=\"#A0A7AC\">\n        </path>\n      </svg>\n    </span>\n    </div>`,\n\n  expandScopes() {\n    this.$el.toggleClass('scope-group--is-expanded');\n    this.$('.caret').toggleClass('caret--is-rotated');\n  },\n\n  preRender() {\n    _.chain(this.options.scopes)\n      .sortBy(({ name }) => name)\n      .each(({ name, displayName, description }) => {\n        this.add(ScopeItem, {\n          options: {\n            name: displayName || name,\n            description,\n          },\n        });\n      });\n  }\n});\n\nexport default View.extend({\n  className: 'scope-list detail-row',\n\n  postRender: function() {\n    const allScopes = this.model.get('scopes');\n    const scopesWithGroup = _.groupBy(allScopes, findScopeGroupKey);\n\n    const SCOPE_GROUP_NAMES_CONFIG = {\n      'user': loc('admin.consent.group.user.group', 'login'),\n      'resource': loc('admin.consent.group.resource.policy', 'login'),\n      'hook': loc('admin.consent.group.hook', 'login'),\n      'system': loc('admin.consent.group.system', 'login'),\n    };\n\n    // loop through SCOPE_GROUP_NAMES_CONFIG to keep group order consistent in UI.\n    _.each(SCOPE_GROUP_NAMES_CONFIG, (groupName, groupKey) => {\n      const scopes = scopesWithGroup[groupKey];\n      if (!Array.isArray(scopes)) {\n        return;\n      }\n      // add scope group header and scopes\n      this.add(ScopeGroupHeaderView, {\n        options: {\n          groupName,\n          scopes,\n        }\n      });\n    });\n  },\n});\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, _ } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport '@okta/qtip';\nexport default View.extend({\n  className: 'scope-item',\n  template: hbs(\n    '\\\n      <div class=\"{{classNames}}\">\\\n        <p>{{name}}</p>\\\n      </div>\\\n      {{#if description}}\\\n        <span class=\"scope-item-tooltip icon form-help-16\"></span>\\\n      {{/if}}\\\n    '\n  ),\n  getTemplateData() {\n    const { name, description, isCustomized } = this.options;\n    const baseClass = 'scope-item-text';\n    const classNames = (name === 'openid' || isCustomized)\n      ? `${baseClass} no-translate`: baseClass;\n    return { classNames, name, description };\n  },\n\n  postRender: function() {\n    this.$('.scope-item-tooltip').qtip({\n      content: {\n        text: _.escape(this.options.description),\n      },\n      style: { classes: 'okta-tooltip qtip-custom qtip-shadow' },\n      position: {\n        my: 'bottom right',\n        target: 'mouse',\n      },\n    });\n  },\n});\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport ScopeItem from './ScopeItem';\nexport default View.extend({\n  className: 'scope-list detail-row',\n\n  postRender: function() {\n    this.model.get('scopes').forEach(scope => {\n      this.add(ScopeItem, {\n        options: {\n          name: scope.displayName || scope.name,\n          description: scope.description,\n          isCustomized: scope.isCustomized,\n        },\n      });\n    });\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport Enums from 'util/Enums';\nconst CAN_REMOVE_BEACON_CLS = 'can-remove-beacon';\nexport default View.extend({\n  tagName: 'main',\n  className: 'auth-container main-container',\n  id: Enums.WIDGET_CONTAINER_ID,\n  attributes: { 'data-se': 'auth-container', tabindex: '-1' },\n  initialize: function(options) {\n    this.listenTo(options.appState, 'change:beaconType', function(model, type) {\n      this.$el.toggleClass(CAN_REMOVE_BEACON_CLS, type === 'security');\n    });\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nexport default View.extend({\n  template: hbs(\n    '\\\n      <div class=\"beacon-blank\"></div>\\\n      <div class=\"bg-helper auth-beacon auth-beacon-security\" data-se=\"loading-beacon\">\\\n      <div class=\"okta-sign-in-beacon-border auth-beacon-border js-auth-beacon-border\"></div>\\\n      </div>\\\n    '\n  ),\n\n  equals: function(Beacon) {\n    return Beacon && this instanceof Beacon;\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nconst CONFIGURED_FLOW = {\n  DEFAULT: 'default',\n  PROCEED: 'proceed',\n  LOGIN: 'login',\n  REGISTRATION: 'signup',\n  RESET_PASSWORD: 'resetPassword',\n  UNLOCK_ACCOUNT: 'unlockAccount',\n};\n\nexport {\n  CONFIGURED_FLOW,\n};","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// This file attempts to mimic the behavior of a popular hack of the V1 Router, which allowed for the widget to be\n// initialized into a specific form/flow (like Register or Reset Password). To achieve this, an attempt is made to\n// call `idxState.proceed()` with a known remediation depending on the `flow` configuration to \"step\" the widget\n// (and the server's state) to the desired flow/form. The remediation is not guaranteed to be available \n// and will default to the original idx response otherwise. This depends on the Org configurations\nimport { ConfigError } from 'util/Errors';\nimport Logger from 'util/Logger';\nimport { FORMS } from '../ion/RemediationConstants';\nimport { CONFIGURED_FLOW } from './constants';\n\n\n// checks if \"desired\" remeidation is available before calling `.proceed`\n// if not available, returns original idxResponse (and logs warning)\nasync function proceedIfAvailable(idxState, remediation, flow) {\n  const rem = idxState.neededToProceed.find(item => item.name === remediation);\n  if (!rem) {\n    Logger.warn('Expected remediation not found, Org may be misconfigured for this flow');\n    return idxState;\n  }\n\n  try {\n    const nextIdxState = await idxState.proceed(remediation);\n    return nextIdxState;\n  }\n  catch (err) {\n    // catches and handles `Unknown remediation` errors thrown okta-idx-js\n    if (typeof err === 'string' && err.startsWith('Unknown remediation choice')) {\n      Logger.warn(`flow [${flow}] not valid with current Org configurations`);\n      return idxState;\n    }\n    else {\n      // do not catch non-`Unknown remediation` errors here\n      throw err;\n    }\n  }\n}\n\n// attempts to \"step into\" a specific flow by calling `.proceed` with a specific remeidation (or calls an action)\n// the \"desired\" remeidation is not guaranteed to be available, depends upon Org configurations\nasync function stepIntoSpecificIdxFlow(idxState, flow='default') {\n  switch (flow) {\n  case CONFIGURED_FLOW.DEFAULT:\n  case CONFIGURED_FLOW.PROCEED:\n  case CONFIGURED_FLOW.LOGIN:\n    // default IDX response from interact is \"Login\" page/flow. Do nothing\n    return idxState;\n\n  // step logic is handled by auth-js\n  case CONFIGURED_FLOW.REGISTRATION:\n  case CONFIGURED_FLOW.RESET_PASSWORD:\n    return idxState;\n\n  case CONFIGURED_FLOW.UNLOCK_ACCOUNT:\n    // requires: introspect -> identify-recovery -> select-authenticator-unlock-account\n    return await proceedIfAvailable(idxState, FORMS.UNLOCK_ACCOUNT, flow);\n\n  default:\n    Logger.warn(`Unknown \\`flow\\` value: ${flow}`);\n    throw new ConfigError('Invalid \"flow\" configuration');\n  }\n}\n\n// ensures the `flow` stored in the transaction meta matches the flow configuration\n// if they do not match, abandon the current (meta) flow and start a new (configured) flow\nexport async function handleConfiguredFlow(originalResp, settings) {\n  const authClient = settings.getAuthClient();\n  const configuredFlow = authClient.idx.getFlow();\n\n  // attempts to step into the desired flow\n  const idxState = await stepIntoSpecificIdxFlow(originalResp, configuredFlow);\n  return idxState;\n}\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport * from './interactionCodeFlow';\nexport * from './startLoginFlow';\nexport * from './handleConfiguredFlow';\nexport * from './constants';\nexport * from './updateAppState';\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\nimport { ConfigError } from 'util/Errors';\nimport { toQueryString } from '@okta/okta-auth-js';\nimport { getTypedOAuthError, RecoverableError } from 'util/OAuthErrors';\n\n// eslint-disable-next-line max-statements\nexport async function interactionCodeFlow(settings, idxResponse) {\n  const { interactionCode } = idxResponse;\n  const authClient = settings.getAuthClient();\n  const transactionMeta = await authClient.idx.getSavedTransactionMeta();\n  const state = authClient.options.state || transactionMeta?.state;\n\n  // In remediation mode the transaction is owned by another client.\n  const isRemediationMode = settings.get('mode') === 'remediation';\n  if (isRemediationMode) {\n    authClient.idx.clearTransactionMeta();\n  }\n  \n  // server-side applications will want to received interaction_code as a query parameter\n  // this option can also be used to force a redirect for client-side/SPA applications\n  const shouldRedirect = settings.get('redirect') === 'always';\n  if (shouldRedirect) {\n    const redirectUri = settings.get('redirectUri');\n    if (!redirectUri) {\n      throw new ConfigError('\"redirectUri\" is required');\n    }\n    const qs = toQueryString({ 'interaction_code': interactionCode, state });\n    window.location.assign(redirectUri + qs);\n    return;\n  }\n  \n  // Return a promise (or call success callback) to client-side apps in remediation mode.\n  if (isRemediationMode) {\n    settings.callGlobalSuccess(Enums.SUCCESS, {\n      'interaction_code': interactionCode,\n      state\n    });\n    return;\n  }\n\n  // Operating in \"relying-party\" mode. The widget owns this transaction.\n  // Complete the transaction client-side and call success/resolve promise\n  if (!transactionMeta) {\n    throw new ConfigError('Could not load transaction data from storage');\n  }\n  const { codeVerifier } = transactionMeta;\n  return authClient.token.exchangeCodeForTokens({ codeVerifier, interactionCode })\n    .then(({ tokens }) => {\n      settings.callGlobalSuccess(Enums.SUCCESS, { tokens });\n    })\n    .catch(err => {\n      const typedError = getTypedOAuthError(err);\n      if (typedError instanceof RecoverableError && typedError.is('terminal')) {\n        throw typedError;\n      }\n      settings.callGlobalError(err);\n    })\n    .finally(() => {\n      // clear all meta related to this transaction\n      authClient.idx.clearTransactionMeta();\n    });\n}\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nconst STATE_HANDLE_SESSION_STORAGE_KEY = 'osw-oie-state-handle';\nconst LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY = 'osw-oie-last-initiated-login-url';\nconst RESEND_TIMESTAMP_SESSION_STORAGE_KEY = 'osw-oie-resend-timestamp';\n\nconst removeStateHandle = () => {\n  sessionStorage.removeItem(STATE_HANDLE_SESSION_STORAGE_KEY);\n  sessionStorage.removeItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY);\n};\nconst setStateHandle = (token) => {\n  sessionStorage.setItem(STATE_HANDLE_SESSION_STORAGE_KEY, token);\n  sessionStorage.setItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY, window.location.href);\n};\nconst getStateHandle = () => {\n  return sessionStorage.getItem(STATE_HANDLE_SESSION_STORAGE_KEY);\n};\nconst getLastInitiatedLoginUrl = () => {\n  return sessionStorage.getItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY);\n};\nconst removeResendTimestamp = () => {\n  sessionStorage.removeItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY);\n};\nconst setResendTimestamp = (token) => {\n  sessionStorage.setItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY, token);\n};\nconst getResendTimestamp = () => {\n  return sessionStorage.getItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY);\n};\n\n\nexport default {\n  removeStateHandle,\n  setStateHandle,\n  getStateHandle,\n  getLastInitiatedLoginUrl,\n  removeResendTimestamp,\n  setResendTimestamp,\n  getResendTimestamp\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport _ from 'underscore';\nimport { getMessage, getMessageKey } from './i18nUtils';\n\nconst convertErrorMessageToErrorSummary = (formName, remediationValues = []) => {\n  return _.chain(remediationValues)\n    .filter(field => {\n      return Array.isArray(field.messages?.value) && field.messages.value.length;\n    })\n    .map(field => {\n      return {\n        property: formName ? `${formName}.${field.name}` : field.name,\n        errorSummary: field.messages.value.map(getMessage),\n        errorKey: field.messages.value.map(getMessageKey),\n      };\n    })\n    .value();\n};\n\n/**\n * Although time complexity is O(n^2),\n * the `array` is actually very small (size < 5),\n * hence performance doesn't matter.\n */\nconst uniqWith = (array, comparator) => {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n  if (!_.isFunction(comparator) || array.length === 1) {\n    return array;\n  }\n\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    let seen = false;\n    for (let j = i + 1; j < array.length; j++) {\n      /* eslint max-depth: [2, 3] */\n      if (comparator(array[i], array[j])) {\n        seen = true;\n        break;\n      }\n    }\n    if (!seen) {\n      result.push(array[i]);\n    }\n  }\n\n  return result;\n};\n\n/**\n * returns errors\n * @example\n * errors = [\n *   {property : fieldName1, errorSummary: [errorMessage1]},\n *   {property : fieldName2, errorSummary: [errorMessage2]}\n *   {property : fieldName3, errorSummary: [errorMessage31, errorMessage32]}\n * ]\n */\nconst getRemediationErrors = (res) => {\n  let errors = [];\n\n  if (!res.remediation || !Array.isArray(res.remediation.value) || res.remediation.value.length === 0) {\n    return errors;\n  }\n  let remediationFormFields = res.remediation.value[0].value;\n\n  if (!Array.isArray(remediationFormFields)) {\n    return errors;\n  }\n\n  // error at field\n  errors.push(convertErrorMessageToErrorSummary(null, remediationFormFields));\n\n  _.each(remediationFormFields, (remediationForm) => {\n    const formName = remediationForm.name;\n\n    // error at form.value\n    if (Array.isArray(remediationForm.form?.value)) {\n      errors.push(convertErrorMessageToErrorSummary(formName, remediationForm.form.value));\n    }\n\n    // error at option.value.form.value\n    if (Array.isArray(remediationForm.options)) {\n      _.each(remediationForm.options, (option) => {\n        if (Array.isArray(option.value?.form?.value)) {\n          errors.push(convertErrorMessageToErrorSummary(formName, option.value.form.value));\n        }\n      });\n    }\n  });\n\n  // API may return identical error on same field\n  // thus run through `uniqWith`.\n  // Check unit test for details.\n  return uniqWith(_.flatten(errors), _.isEqual);\n};\n\n/**\n * return global error summary combined into one string\n * allErrors = 'error string1. error string2'\n */\nconst getGlobalErrors = (res) => {\n  let allErrors = [];\n\n  if (Array.isArray(res.messages?.value)) {\n    allErrors = res.messages.value.map(getMessage);\n  }\n\n  return allErrors.join('. ');\n};\n\n/**\n * return array of error keys\n */\nconst getGlobalErrorKeys = (res) => {\n  let allKeys = [];\n\n  if (Array.isArray(res.messages?.value)) {\n    allKeys = res.messages.value.map(getMessageKey);\n  }\n\n  return allKeys;\n};\n\nconst convertFormErrors = (response) => {\n  let errors = {\n    errorCauses: getRemediationErrors(response),\n    errorSummary: getGlobalErrors(response),\n    errorSummaryKeys: getGlobalErrorKeys(response),\n    errorIntent: response.intent,\n  };\n\n  return {\n    responseJSON: errors\n  };\n};\n\nconst isIonErrorResponse = (response = {}) => {\n  // check if error format is an ION response by looking for version attribute.\n  // a little sloppy.\n  return response.version;\n};\n\nconst isIdxSessionExpiredError = (response) => {\n  const errorI18NKey = response?.context?.messages?.value[0]?.i18n?.key;\n  return errorI18NKey && errorI18NKey === 'idx.session.expired';\n};\n\nexport default {\n  convertFormErrors,\n  isIonErrorResponse,\n  isIdxSessionExpiredError\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\n\n/**\n * Structure of FORMS object:\n * { [CONSTANT]: remediationForm.name }\n */\nconst FORMS = {\n  IDENTIFY: 'identify',\n  SELECT_IDENTIFY: 'select-identify',\n  IDENTIFY_RECOVERY: 'identify-recovery',\n  SELECT_ENROLL_PROFILE: 'select-enroll-profile',\n  ENROLL_PROFILE: 'enroll-profile',\n  ENROLL_PROFILE_UPDATE: 'profile-update',\n  UNLOCK_ACCOUNT: 'unlock-account',\n  REQUEST_ACTIVATION: 'request-activation-email',\n\n  CONSENT_ADMIN: 'admin-consent',\n  CONSENT_ENDUSER: 'consent',\n  CONSENT_GRANULAR: 'granular-consent',\n  CONSENT_EMAIL_CHALLENGE: 'email-challenge-consent',\n\n  SELECT_AUTHENTICATOR_AUTHENTICATE: 'select-authenticator-authenticate',\n  SELECT_AUTHENTICATOR_UNLOCK: 'select-authenticator-unlock-account',\n\n  AUTHENTICATOR_VERIFICATION_DATA: 'authenticator-verification-data',\n  CHALLENGE_AUTHENTICATOR: 'challenge-authenticator',\n  CHALLENGE_WEBAUTHN_AUTOFILLUI_AUTHENTICATOR: 'challenge-webauthn-autofillui-authenticator',\n  CHALLENGE_POLL: 'challenge-poll',\n  RESEND: 'resend',\n\n  SELECT_AUTHENTICATOR_ENROLL: 'select-authenticator-enroll',\n  SELECT_AUTHENTICATOR_ENROLL_DATA: 'select-authenticator-enroll-data',\n  AUTHENTICATOR_ENROLLMENT_DATA: 'authenticator-enrollment-data',\n  ENROLL_AUTHENTICATOR: 'enroll-authenticator',\n  SELECT_ENROLLMENT_CHANNEL: 'select-enrollment-channel',\n  ENROLLMENT_CHANNEL_DATA: 'enrollment-channel-data',\n  ENROLL_POLL: 'enroll-poll',\n  REENROLL_AUTHENTICATOR: 'reenroll-authenticator',\n  REENROLL_AUTHENTICATOR_WARNING: 'reenroll-authenticator-warning',\n  REENROLL_CUSTOM_PASSWORD_EXPIRY: 'reenroll-custom-password-expiry',\n  REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING: 'reenroll-custom-password-expiry-warning',\n  RESET_AUTHENTICATOR: 'reset-authenticator',\n  SKIP: 'skip',\n  POLL: 'poll',\n\n  FAILURE_REDIRECT: 'failure-redirect',\n  SUCCESS_REDIRECT: 'success-redirect',\n  REDIRECT_IDP: 'redirect-idp',\n  REDIRECT_IDVERIFY: 'redirect-idverify',\n  PIV_IDP: 'piv-idp',\n\n  DEVICE_CHALLENGE_POLL: 'device-challenge-poll',\n  DEVICE_APPLE_SSO_EXTENSION: 'device-apple-sso-extension',\n  CANCEL_TRANSACTION: 'cancel-transaction',\n  LAUNCH_AUTHENTICATOR: 'launch-authenticator',\n  LAUNCH_WEBAUTHN_AUTHENTICATOR: 'launch-webauthn-authenticator',\n  ENROLL_WEBAUTHN_RESIDENTKEY: 'enroll-webauthn-residentkey',\n\n  DEVICE_ENROLLMENT_TERMINAL: 'device-enrollment-terminal',\n\n  USER_CODE: 'user-code',\n\n  KEEP_ME_SIGNED_IN: 'keep-me-signed-in',\n\n  DEVICE_ASSURANCE_GRACE_PERIOD: 'device-assurance-grace-period',\n\n  // 'terminal` is not ION Form name but only coined in widget\n  // for rendering a page that user has nothing to remediate.\n  TERMINAL: 'terminal',\n};\n// Forms added here do not show the Sign out link\nconst FORMS_WITHOUT_SIGNOUT = [\n  FORMS.IDENTIFY,\n  FORMS.SUCCESS_REDIRECT,\n  FORMS.ENROLL_PROFILE,\n  FORMS.DEVICE_ENROLLMENT_TERMINAL,\n  FORMS.CONSENT_ADMIN,\n  FORMS.CONSENT_ENDUSER,\n  FORMS.CONSENT_GRANULAR,\n  FORMS.CONSENT_EMAIL_CHALLENGE,\n  FORMS.USER_CODE,\n  FORMS.KEEP_ME_SIGNED_IN\n];\n\nconst FORMS_WITH_STATIC_BACK_LINK = [\n  FORMS.SELECT_AUTHENTICATOR_ENROLL,\n  FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE\n];\n\nconst FORMS_FOR_VERIFICATION = [\n  FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE,\n  FORMS.CHALLENGE_AUTHENTICATOR,\n  FORMS.CHALLENGE_POLL,\n  FORMS.RESEND\n];\n\nconst AUTHENTICATOR_KEY = {\n  EMAIL: 'okta_email',\n  PASSWORD: 'okta_password',\n  PHONE: 'phone_number',\n  WEBAUTHN: 'webauthn',\n  SECURITY_QUESTION: 'security_question',\n  OV: 'okta_verify',\n  GOOGLE_OTP: 'google_otp',\n  ON_PREM: 'onprem_mfa',\n  RSA: 'rsa_token',\n  DUO: 'duo',\n  IDP: 'external_idp',\n  CUSTOM_OTP: 'custom_otp',\n  SYMANTEC_VIP: 'symantec_vip',\n  YUBIKEY: 'yubikey_token',\n  CUSTOM_APP: 'custom_app',\n  SMARTCARD: 'smart_card_idp'\n};\n\nconst AUTHENTICATOR_METHODS = {\n  PUSH: 'push',\n};\n\nconst FORM_NAME_TO_OPERATION_MAP = {\n  [FORMS.SELECT_AUTHENTICATOR_UNLOCK]: Enums.UNLOCK_ACCOUNT,\n  [FORMS.IDENTIFY]: Enums.PRIMARY_AUTH,\n  [FORMS.IDENTIFY_RECOVERY]: Enums.FORGOT_PASSWORD,\n};\n\nconst ENROLLED_PASSWORD_RECOVERY_LINK = 'currentAuthenticatorEnrollment-recover';\nconst ORG_PASSWORD_RECOVERY_LINK = 'currentAuthenticator-recover';\nconst ACTIONS = {\n  ENROLLED_PASSWORD_RECOVERY_LINK,\n  ORG_PASSWORD_RECOVERY_LINK\n};\n\n// Possible Remediation Form Field Hints\nconst HINTS = {\n  CAPTCHA: 'captcha',\n};\n\nconst TERMINAL_FORMS = [\n  FORMS.TERMINAL,\n  FORMS.DEVICE_ENROLLMENT_TERMINAL,\n];\nconst IDP_FORM_TYPE = {\n  X509: 'X509',\n};\n\n// Possible options for the SIW interstitial redirect view\nconst INTERSTITIAL_REDIRECT_VIEW = {\n  DEFAULT: 'DEFAULT',\n  NONE: 'NONE'\n};\n\nconst ATTR_FORMAT = {\n  COUNTRY_CODE: 'country-code',\n};\n\nconst ID_PROOFING_TYPE = {\n  IDV_PERSONA: 'IDV_PERSONA'\n};\n\nexport {\n  ACTIONS,\n  ORG_PASSWORD_RECOVERY_LINK,\n  FORMS,\n  FORMS_WITHOUT_SIGNOUT,\n  FORMS_WITH_STATIC_BACK_LINK,\n  FORMS_FOR_VERIFICATION,\n  AUTHENTICATOR_KEY,\n  AUTHENTICATOR_METHODS,\n  FORM_NAME_TO_OPERATION_MAP,\n  HINTS,\n  TERMINAL_FORMS,\n  IDP_FORM_TYPE,\n  INTERSTITIAL_REDIRECT_VIEW,\n  ATTR_FORMAT,\n  ID_PROOFING_TYPE,\n};\n","/* eslint complexity: [2, 25] */\nimport { AUTHENTICATOR_KEY, FORMS } from './RemediationConstants';\n\nconst FORMNAME_CLASSNAME_MAPPINGS = {\n  [FORMS.IDENTIFY]: {\n    [FORMS.IDENTIFY]: 'primary-auth',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'primary-auth'\n  },\n  [FORMS.IDENTIFY_RECOVERY]: {\n    [FORMS.IDENTIFY_RECOVERY]: 'forgot-password',\n  },\n  [FORMS.ENROLL_PROFILE]: {\n    [FORMS.ENROLL_PROFILE]: 'registration',\n  },\n  [FORMS.CHALLENGE_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.EMAIL]: 'mfa-verify-passcode',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'mfa-verify-password',\n    sms: 'mfa-verify-passcode',\n    voice: 'mfa-verify-passcode',\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: 'mfa-verify-question',\n    [AUTHENTICATOR_KEY.WEBAUTHN]: 'mfa-verify-webauthn',\n    [AUTHENTICATOR_KEY.ON_PREM]: 'mfa-verify-totp',\n    [AUTHENTICATOR_KEY.RSA]: 'mfa-verify-totp',\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.DUO]: 'mfa-verify-duo',\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.YUBIKEY]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.CHALLENGE_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.RESEND_PUSH]: {\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.EMAIL]: 'enroll-email',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'enroll-password',\n    sms: 'enroll-sms',\n    voice: 'enroll-call',\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: 'enroll-question',\n    [AUTHENTICATOR_KEY.WEBAUTHN]: 'enroll-webauthn',\n    [AUTHENTICATOR_KEY.ON_PREM]: 'enroll-onprem',\n    [AUTHENTICATOR_KEY.RSA]: 'enroll-rsa',\n    [AUTHENTICATOR_KEY.DUO]: 'enroll-duo',\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: 'enroll-symantec',\n    [AUTHENTICATOR_KEY.YUBIKEY]: 'enroll-yubikey',\n  },\n\n  [FORMS.SELECT_AUTHENTICATOR_ENROLL]: {\n    'select-authenticator-enroll': 'enroll-choices'\n  },\n  [FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'forgot-password'\n  },\n  [FORMS.REENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'password-expired'\n  },\n  [FORMS.REENROLL_CUSTOM_PASSWORD_EXPIRY]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'custom-password-expired'\n  },\n  [FORMS.REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'custom-password-expiry-warning'\n  },\n\n  [FORMS.RESET_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'forgot-password'\n  },\n\n  [FORMS.CONSENT_ADMIN]: {\n    [FORMS.CONSENT_ADMIN]: 'admin-consent-required',\n  },\n\n  [FORMS.CONSENT_ENDUSER]: {\n    [FORMS.CONSENT_ENDUSER]: 'consent-required',\n  }\n};\n\nconst getV1ClassName = (formName, authenticatorKey, methodType, isPasswordRecoveryFlow) => {\n  // if password reset flow from identifier page with recoveryAuthenticator add forgot-password class\n  if (isPasswordRecoveryFlow && formName === FORMS.IDENTIFY) {\n    return 'forgot-password';\n  } else {\n    let key = formName;\n    if (authenticatorKey === AUTHENTICATOR_KEY.PHONE) {\n      // Both sms and call have same type phone\n      // currentAuthenticatorEnrollment is during verify and currentAuthenticator during enroll flows\n      key = `${methodType}`;\n    }\n    else if (authenticatorKey) {\n      key = `${authenticatorKey}`;\n    }\n\n    if (FORMNAME_CLASSNAME_MAPPINGS[formName] && FORMNAME_CLASSNAME_MAPPINGS[formName][key]) {\n      return FORMNAME_CLASSNAME_MAPPINGS[formName][key];\n    } else {\n      return null;\n    }\n  }\n};\n\nconst getClassNameMapping = (formName, authenticatorKey, methodType, isPasswordRecoveryFlow) => {\n\n  // 1. Generates V2 class name\n  // If we have a type which is authenticatorType/methodType use that to generate a V2 className\n  // Otherwise just use formName\n  let v2ClassName = formName;\n  if (authenticatorKey) {\n    v2ClassName = v2ClassName + '--' + authenticatorKey;\n  }\n\n  // 2. do a lookup for any V1 classNames and concat\n  let v1ClassName = getV1ClassName(\n    formName,\n    authenticatorKey,\n    methodType,\n    isPasswordRecoveryFlow,\n  );\n  const result = [v2ClassName];\n  if (v1ClassName) {\n    result.push(v1ClassName);\n  }\n\n  return result;\n};\n\nexport {\n  getClassNameMapping,\n  getV1ClassName\n};\n\n","/* eslint-disable max-len */\n/* eslint max-statements: [2, 25], complexity: [2, 15] */\n\n/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n///////////////////////////////////////////////////////////////////////////////\n//                                  How this transformer work?               //\n//\n// ## For Labels inside remediation forms\n// 1. Figure out Path for all Labels (for normal field, or options) or Placeholder (for checkbox),e.g.\n//   - `identify.identifier`, this is the label for user name at identify page\n//   - `select-authenticator-enroll.authenticator.email`,\n//      this is for label for email authenticator at `select-authenticator-enroll` page\n// 2. Define a mapping between the path and i18n key. see `I18N_OVERRIDE_MAPPINGS`\n//   - This mapping is subject to change when API starts sending i18n key along with label.\n//     It probably becomes a mapping between API's i18n key and key in login.properties\n//     in order to be backward compatible.\n// 3. Now find i18n value using such route: `i18n Path -> i18n key -> login.properties`\n//    If found an i18n value, replace label by this i18n value.\n//\n// ## For top level messages\n// 1. Overwrite `message.message` if `message.i18n.key` exists in `login.properties`\n//\n// ## How to override mappings in I18N_OVERRIDE_MAPPINGS for localization?\n// Step 1. First search the string in login.properties and see if already exists or not\n// Step 2. Find idx response path, for eg. select-authenticator-enroll.authenticator.email\n// Step 3. Make that path a key and add it to I18N_OVERRIDE_MAPPINGS if doesn't exist already\n// Step 4. If you find a key in Step 1 that already exists, use it as value of key created in Step 3, \n//          else create a new label `oie.your.new.label` and add it.\n// Step 5. If you create a new label then add that to login.properties file with proper string\n//         oie.your.new.label = Your new string\n///////////////////////////////////////////////////////////////////////////////\n\n\nimport { _, $ } from '@okta/courage';\nimport Logger from 'util/Logger';\nimport { AUTHENTICATOR_KEY } from './RemediationConstants';\nimport {\n  getMessage,\n  getI18NParams,\n  getI18NValue,\n} from './i18nUtils';\nexport * from './i18nUtils';\n\nconst updateLabelForUiSchema = (remediation, uiSchema) => {\n  if (uiSchema.mutable === false && uiSchema.name.indexOf('questionKey') < 0) {\n    return;\n  }\n  Logger.info('i18n label transformer');\n  Logger.info('\\t remediationName: ', remediation.name);\n  Logger.info('\\t uiSchema: ', JSON.stringify(uiSchema));\n\n  const authenticatorKey = remediation.relatesTo?.value?.key;\n  const authenticatorKeyPath = authenticatorKey\n    ? `.${remediation.relatesTo.value.key}`\n    : '';\n\n  const i18nPrefix = `${remediation.name}${authenticatorKeyPath}.`;\n  let i18nPath = `${i18nPrefix}${uiSchema.name}`;\n\n  if (uiSchema.type === 'text' && uiSchema.name.indexOf('questionKey') >= 0 && uiSchema.value !== 'custom') {\n    i18nPath = `${i18nPath}.${uiSchema.value}`;\n  }\n\n  if (uiSchema.type === 'checkbox' && uiSchema.placeholder) {\n    Logger.info('\\t 1: ', i18nPath);\n    uiSchema.placeholder = getI18NValue(i18nPath, uiSchema.placeholder);\n  }\n\n  if (uiSchema.label) {\n    Logger.info('\\t 2: ', i18nPath);\n    const params = getI18NParams(remediation, authenticatorKey);\n    uiSchema.label = uiSchema.customLabel ? uiSchema.label : getI18NValue(i18nPath, uiSchema.label, params);\n  }\n  if ($.isPlainObject(uiSchema.options)) {\n    uiSchema.options = _.mapObject(uiSchema.options, (value, key) => {\n      const i18nPathOption = `${i18nPath}.${key}`;\n      Logger.info('\\t 3: ', i18nPathOption);\n      return getI18NValue(i18nPathOption, value);\n    });\n  }\n  if (Array.isArray(uiSchema.options)) {\n    uiSchema.options.forEach(o => {\n      if (!o.label) {\n        return;\n      }\n      let i18nPathOption;\n      if (o.authenticatorKey) {\n        i18nPathOption = `${i18nPath}.${o.authenticatorKey}`;\n\n        const methodType = o.value?.methodType;\n        if (o.authenticatorKey === AUTHENTICATOR_KEY.OV && methodType) {\n          i18nPathOption = `${i18nPathOption}.${methodType}`;\n        }\n      } else if (typeof o.value === 'string' || typeof o.value === 'number') { // value could be string, number, object or undefined.\n        i18nPathOption = `${i18nPath}.${o.value}`;\n      } else {\n        i18nPathOption = i18nPath;\n      }\n      Logger.info('\\t 4: ', i18nPathOption);\n      o.label = getI18NValue(i18nPathOption, o.label);\n    });\n  }\n\n  if (Array.isArray(uiSchema.optionsUiSchemas)) {\n    uiSchema.optionsUiSchemas.forEach(optionsUiSchema => {\n      optionsUiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n\n};\n\nexport default (transformedResp) => {\n  // Try to override label using i18n value\n  if (Array.isArray(transformedResp.remediations)) {\n    transformedResp.remediations\n      .filter(remediation => Array.isArray(remediation.uiSchema) && remediation.uiSchema.length)\n      .forEach(remediation => {\n        remediation.uiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n      });\n  }\n\n  // Try to override `messages` using i18n value.\n  // 1. This is only handling top level `messages` object when response status is 200.\n  // 2. See `IonResponseHelper.js` where handle `messages` object when none 200 response.\n  // 3. Handling `messages` in remediation forms on 200 response is not considered yet.\n  //    Is that possible?\n  if (Array.isArray(transformedResp.messages?.value)) {\n    transformedResp.messages.value.forEach(message => {\n      message.message = getMessage(message);\n    });\n  }\n  return transformedResp;\n};\n","/* eslint-disable max-len */\n/* eslint max-statements: [2, 25], complexity: [2, 15] */\n\n/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Bundles from 'util/Bundles';\nimport Logger from 'util/Logger';\nimport { loc } from '../../util/loc';\nimport { getAuthenticatorDisplayName } from '../view-builder/utils/AuthenticatorUtil';\nimport { FORMS, AUTHENTICATOR_KEY } from './RemediationConstants';\nimport { I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS } from '../view-builder/views/enroll-profile/i18nBaseAttributeMappings';\n\nconst WEBAUTHN_API_GENERIC_ERROR_KEY = 'authfactor.webauthn.error';\n\nconst SECURITY_QUESTION_PREFIXES = [\n  'enroll-authenticator.security_question.credentials.questionKey.',\n  'challenge-authenticator.security_question.credentials.questionKey.',\n];\n\nconst I18N_OVERRIDE_MAPPINGS = {\n  'identify.identifier': 'primaryauth.username.placeholder',\n  'select-authenticator-unlock-account.identifier': 'primaryauth.username.placeholder',\n  'unlock-account.identifier': 'primaryauth.username.placeholder',\n  'identify.credentials.passcode': 'primaryauth.password.placeholder',\n  'identify.rememberMe': 'oie.remember',\n  'enroll-profile.userProfile.rememberMe': 'oie.remember',\n  \n  'identify-recovery.identifier': 'password.forgot.email.or.username.placeholder',\n\n  'select-authenticator-enroll.authenticator.duo': 'factor.duo',\n  'select-authenticator-enroll.authenticator.google_otp': 'oie.google_authenticator.label',\n  'select-authenticator-enroll.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-enroll.authenticator.okta_password': 'oie.password.label',\n  'select-authenticator-enroll.authenticator.okta_verify': 'oie.okta_verify.label',\n  'select-authenticator-enroll.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-enroll.authenticator.rsa_token': 'factor.totpHard.rsaSecurId',\n  'select-authenticator-enroll.authenticator.security_question': 'oie.security.question.label',\n  'select-authenticator-enroll.authenticator.symantec_vip': 'factor.totpHard.symantecVip',\n  'select-authenticator-enroll.authenticator.webauthn': 'oie.webauthn.label',\n  'select-authenticator-enroll.authenticator.yubikey_token': 'oie.yubikey.label',\n\n  'select-authenticator-authenticate.authenticator.duo': 'factor.duo',\n  'select-authenticator-authenticate.authenticator.google_otp': 'oie.google_authenticator.label',\n  'select-authenticator-authenticate.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-authenticate.authenticator.okta_password': 'oie.password.label',\n  'select-authenticator-authenticate.authenticator.okta_verify.push': 'oie.okta_verify.push.title',\n  'select-authenticator-authenticate.authenticator.okta_verify.signed_nonce': 'oie.okta_verify.signed_nonce.label',\n  'select-authenticator-authenticate.authenticator.okta_verify.totp': 'oie.okta_verify.totp.title',\n  'select-authenticator-authenticate.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-authenticate.authenticator.rsa_token': 'factor.totpHard.rsaSecurId',\n  'select-authenticator-authenticate.authenticator.security_question': 'oie.security.question.label',\n  'select-authenticator-authenticate.authenticator.symantec_vip': 'factor.totpHard.symantecVip',\n  'select-authenticator-authenticate.authenticator.webauthn': 'oie.webauthn.label',\n  'select-authenticator-authenticate.authenticator.yubikey_token': 'oie.yubikey.label',\n  'select-authenticator-authenticate.authenticator.custom_app': 'oie.custom.app.authenticator.title',\n\n  'select-authenticator-unlock-account.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-unlock-account.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-unlock-account.authenticator.okta_verify.push': 'oie.okta_verify.push.title',\n\n  'authenticator-verification-data.okta_verify.authenticator.methodType.signed_nonce':\n    'oie.okta_verify.signed_nonce.label',\n  'authenticator-verification-data.okta_verify.authenticator.methodType.push': 'oie.okta_verify.push.title',\n  'authenticator-verification-data.okta_verify.authenticator.methodType.totp': 'oie.okta_verify.totp.title',\n\n  'authenticator-enrollment-data.phone_number.authenticator.phoneNumber': 'mfa.phoneNumber.placeholder',\n  'authenticator-enrollment-data.phone_number.authenticator.methodType.sms': 'oie.phone.enroll.sms.label',\n  'authenticator-enrollment-data.phone_number.authenticator.methodType.voice': 'oie.phone.enroll.voice.label',\n\n  'enroll-authenticator.okta_password.credentials.passcode': 'oie.password.passwordLabel',\n  'enroll-authenticator.okta_email.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'enroll-authenticator.phone_number.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'enroll-authenticator.security_question.sub_schema_local_credentials.0': 'oie.security.question.questionKey.label',\n  'enroll-authenticator.security_question.sub_schema_local_credentials.1': 'oie.security.question.createQuestion.label',\n  'enroll-authenticator.security_question.credentials.answer': 'mfa.challenge.answer.placeholder',\n  'enroll-authenticator.security_question.credentials.question': 'oie.security.question.createQuestion.label',\n  'enroll-authenticator.security_question.credentials.questionKey': 'oie.security.question.questionKey.label',\n  'enroll-authenticator.google_otp.credentials.passcode': 'oie.google_authenticator.otp.enterCodeText',\n  'enroll-authenticator.onprem_mfa.credentials.clientData': 'enroll.onprem.username.placeholder',\n  'enroll-authenticator.onprem_mfa.credentials.passcode': 'enroll.onprem.passcode.placeholder',\n  'enroll-authenticator.rsa_token.credentials.clientData': 'enroll.onprem.username.placeholder',\n  'enroll-authenticator.rsa_token.credentials.passcode': 'enroll.onprem.passcode.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.credentialId': 'enroll.symantecVip.credentialId.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.passcode': 'enroll.symantecVip.passcode1.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.nextPasscode': 'enroll.symantecVip.passcode2.placeholder',\n  'enroll-authenticator.yubikey_token.credentials.passcode': 'oie.yubikey.passcode.label',\n\n  'enrollment-channel-data.email': 'oie.enroll.okta_verify.channel.email.label',\n  'enrollment-channel-data.phoneNumber': 'mfa.phoneNumber.placeholder',\n\n  'select-enrollment-channel.authenticator.channel.qrcode': 'oie.enroll.okta_verify.select.channel.qrcode.label',\n  'select-enrollment-channel.authenticator.channel.email': 'oie.enroll.okta_verify.select.channel.email.label',\n  'select-enrollment-channel.authenticator.channel.sms': 'oie.enroll.okta_verify.select.channel.sms.label',\n\n  'challenge-authenticator.okta_email.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.okta_password.credentials.passcode': 'mfa.challenge.password.placeholder',\n  'challenge-authenticator.phone_number.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.security_question.credentials.answer': 'mfa.challenge.answer.placeholder',\n  'challenge-authenticator.okta_verify.credentials.totp': 'oie.okta_verify.totp.enterCodeText',\n  'challenge-authenticator.google_otp.credentials.passcode': 'oie.google_authenticator.otp.enterCodeText',\n  'challenge-authenticator.onprem_mfa.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.rsa_token.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.custom_otp.credentials.passcode': 'oie.custom_otp.verify.passcode.label',\n  'challenge-authenticator.symantec_vip.credentials.passcode': 'oie.symantecVip.verify.passcode.label',\n  'challenge-authenticator.yubikey_token.credentials.passcode': 'oie.yubikey.passcode.label',\n  'challenge-authenticator.credentials.passcode': 'oie.password.label',\n\n  'reset-authenticator.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'reset-authenticator.okta_password.confirmPassword': 'oie.password.confirmPasswordLabel',\n  'reset-authenticator.okta_password.credentials.revokeSessions': 'password.reset.revokeSessions',\n  'reenroll-authenticator.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'reenroll-authenticator.okta_password.confirmPassword': 'oie.password.confirmPasswordLabel',\n  'reenroll-authenticator.okta_password.credentials.revokeSessions': 'password.reset.revokeSessions',\n  'reenroll-authenticator-warning.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'reenroll-authenticator-warning.okta_password.confirmPassword': 'oie.password.confirmPasswordLabel',\n  'reenroll-authenticator-warning.okta_password.credentials.revokeSessions': 'password.reset.revokeSessions',\n  'enroll-authenticator.okta_password.confirmPassword': 'oie.password.confirmPasswordLabel',\n  'enroll-authenticator.okta_password.credentials.revokeSessions': 'password.reset.revokeSessions',\n  'incorrectPassword': 'oie.password.incorrect.message',\n\n  'profile-update.userProfile.secondEmail': 'oie.user.profile.secondary.email',\n\n  'user-code.userCode': 'device.code.activate.label',\n\n  // Remap authn API errors to OIE\n  'api.authn.poll.error.push_rejected': 'oktaverify.rejected',\n\n  // Remap duo API errors to OIE\n  'oie.authenticator.duo.method.duo.verification_timeout': 'oie.authenticator.duo.error',\n  'oie.authenticator.duo.method.duo.verification_failed': 'oie.authenticator.duo.error',\n\n  'idx.email.verification.required': 'registration.complete.confirm.text',\n  'tooManyRequests': 'oie.tooManyRequests',\n  'api.users.auth.error.POST_PASSWORD_UPDATE_AUTH_FAILURE': 'oie.post.password.update.auth.failure.error',\n  'security.access_denied': 'errors.E0000006',\n  'E0000009': 'errors.E0000009',\n  'E0000020': 'errors.E0000020',\n  'api.factors.error.sms.invalid_phone': 'oie.phone.invalid',\n  'app.ldap.password.reset.failed': 'errors.E0000017',\n  'oie.selfservice.unlock_user.challenge.failed.permissions': 'errors.E0000006',\n  'core.auth.factor.signedNonce.error.invalidEnrollment': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.invalidFactor': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.deletedDevice': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.invalidDeviceStatus': 'core.auth.factor.signedNonce.error.invalidDevice',\n\n  // re-map autoPush: \"Send push automatically\"\n  'challenge-poll.custom_app.autoChallenge': 'autoPush', // authenticator-verification-custom-app-push-autochallenge\n  'challenge-poll.okta_verify.autoChallenge': 'autoPush', // authenticator-verification-okta-verify-push-autoChallenge-on\n  'authenticator-verification-data.authenticator.autoChallenge': 'autoPush', // authenticator-verification-data-okta-verify-push-autoChallenge-off.json\n  'authenticator-verification-data.okta_verify.authenticator.autoChallenge': 'autoPush',\n  'authenticator-verification-data.custom_app.authenticator.autoChallenge': 'autoPush',\n  \n  // Existing overrides\n  ...I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS, //enroll-profile strings\n};\n\nconst I18N_PARAMS_MAPPING = {\n  [FORMS.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.ON_PREM]: {\n      getParam: getAuthenticatorDisplayName,\n    },\n    [AUTHENTICATOR_KEY.RSA]: {\n      getParam: getAuthenticatorDisplayName,\n    },\n  },\n};\n\n/**\n * For i18n keys that require string interpolation using values from \"params\".\n * {baseKey} : {params}\n */\nconst I18N_OVERRIDE_WITH_PARAMS_MAP = {\n  'registration.error.invalidLoginEmail': {\n    Email: 'Email',\n  },\n  'registration.error.doesNotMatchPattern': {\n    Email: 'Email',\n  },\n  'registration.error.notUniqueWithinOrg': {\n    Email: 'Email',\n  },\n};\n\n/**\n * For messages that need to be interpolated with param values.\n *\n * Enumerate each possible param interpolation and hardcode that into properties file.\n * This is to ensure proper translation.\n *\n * Example - a known param:\n *\n * input =\n *  \"i18n\": {\n      \"key\": \"registration.error.doesNotMatchPattern\",\n      \"params\": [\n        \"Email\"\n      ]\n    }\n * output = registration.error.doesNotMatchPattern.Email\n *\n * Example - an unknown param:\n *\n * input =\n *  \"i18n\": {\n      \"key\": \"registration.error.doesNotMatchPattern\",\n      \"params\": [\n        \"Custom Property\"\n      ]\n    }\n * output = registration.error.doesNotMatchPattern.custom\n *\n * @param {String} key\n * @param {String} param\n * @returns {String}\n */\nconst getI8nKeyUsingParams = (key, param) => {\n  let i18nKey = key;\n\n  if (I18N_OVERRIDE_WITH_PARAMS_MAP[i18nKey][param]) {\n    i18nKey += `.${param}`;\n  } else {\n    i18nKey += '.custom';\n  }\n  return i18nKey;\n};\n\nconst getI18NParams = (remediation, authenticatorKey) => {\n  const params = [];\n  const formName = remediation.name;\n  if (I18N_PARAMS_MAPPING[formName] &&\n    I18N_PARAMS_MAPPING[formName][authenticatorKey]) {\n    const config = I18N_PARAMS_MAPPING[formName][authenticatorKey];\n    const param = config.getParam(remediation);\n    params.push(param);\n  }\n  return params;\n};\n\nconst getI18nKey = (i18nPath) => {\n  let i18nKey;\n  // Extract security question value from i18nPath\n  SECURITY_QUESTION_PREFIXES.forEach(prefix => {\n    if (i18nPath.indexOf(prefix) === 0) {\n      const securityQuestionValue = i18nPath.replace(prefix, '');\n      i18nKey = `security.${securityQuestionValue}`;\n    }\n  });\n\n  if (I18N_OVERRIDE_MAPPINGS[i18nPath]) {\n    i18nKey = I18N_OVERRIDE_MAPPINGS[i18nPath];\n  }\n\n  if (i18nKey && !Bundles.login[i18nKey]) {\n    Logger.warn(`expect i18n key ${i18nKey} for ${i18nPath} but not found in 'login' bundle.`);\n    i18nKey = null;\n  }\n\n  return i18nKey;\n};\n\nconst doesI18NKeyExist = (i18nKey) => {\n  return !!Bundles.login[i18nKey];\n};\n\n/**\n * Find i18n value using {@code i18nPath} if it exists.\n * Otherwise return {@code defaultValue}.\n *\n * @param {string} i18nPath\n * @param {string} defaultValue\n * @param {string[]} params\n */\nconst getI18NValue = (i18nPath, defaultValue, params = []) => {\n  const i18nKey = getI18nKey(i18nPath);\n  if (i18nKey) {\n    return loc(i18nKey, 'login', params);\n  } else {\n    Logger.warn(`Avoid rendering unlocalized text sent from the API: ${defaultValue}`);\n    return defaultValue;\n  }\n};\n\nconst isWebAuthnAPIError = (i18nKey) => i18nKey.startsWith(WEBAUTHN_API_GENERIC_ERROR_KEY);\n\n/**\n * @typedef {Object} Message\n * @property {string} message\n * @property {Object=} i18n\n * @property {string} i18n.key\n * @property {string[]} i18n.params\n */\n/**\n * - If `message.i18n.key` exists and has a value in 'login.properties'\n *   through the given key or via I18N_OVERRIDE_MAPPINGS, return the value.\n *\n * - returns `message.message` otherwise\n *\n * @param {Message} message\n */\nconst getMessage = (message) => {\n  if (message.i18n?.key) {\n    let i18nKey = message.i18n.key;\n    let i18nParams = message.i18n.params || [];\n\n    // TODO - remove this block once API fix is done - OKTA-398080\n    // Sometimes API sends params: [\"\"] an array with empty string.\n    // example - error-authenticator-enroll-password-common mock\n    if (i18nParams.length === 1 && i18nParams[0] === '') {\n      i18nParams = [];\n    }\n\n    if (I18N_OVERRIDE_MAPPINGS[message.i18n?.key]) {\n      i18nKey = I18N_OVERRIDE_MAPPINGS[message.i18n?.key];\n    } else if (I18N_OVERRIDE_WITH_PARAMS_MAP[i18nKey]) {\n      const param = message.i18n.params?.[0];\n      i18nKey = getI8nKeyUsingParams(i18nKey, param);\n      i18nParams = i18nKey.endsWith('custom') ? [param] : [];\n    }\n\n    if (Bundles.login[i18nKey]) {\n      Logger.info(`Override messages using i18n key ${i18nKey}`);\n      // expect user config i18n properly.\n      // e.g. the i18n value shall have placeholders like `{0}`, when params is not empty.\n      return loc(i18nKey, 'login', i18nParams);\n    }\n\n    if (isWebAuthnAPIError(i18nKey)) {\n      // The WebAuthn api error doesn't make much sense to a typical end user, but useful for developer.\n      // So keep the api message in response, but show a generic error message on UI.\n      return loc(WEBAUTHN_API_GENERIC_ERROR_KEY, 'login');\n    }\n  }\n\n  Logger.warn(`Avoid rendering unlocalized text sent from the API: ${message.message}`);\n  return message.message;\n};\n\n/**\n * @param {Object} error\n */\nconst getMessageFromBrowserError = (error) => {\n  if (error.name) {\n    const key = `oie.browser.error.${error.name}`;\n    if (Bundles.login[key]) {\n      Logger.info(`Override messages using i18n key ${key}`);\n      // expect user config i18n properly.\n      return loc(key, 'login');\n    }\n  }\n  return error.message;\n};\n\n/**\n * - iff `message.i18n.key` exists return the key.\n *\n * @param {Message} message\n */\nconst getMessageKey = (message) => {\n  return message?.i18n?.key || '';\n};\n\n/**\n * Has this i18n key been overridden for customization?\n * @param {String} i18nKey\n * @param {Object} settings\n * @returns Boolean\n */\nconst isCustomizedI18nKey = (i18nKey, settings) => {\n  const language = settings.get('languageCode');\n  const i18n = settings.get('i18n');\n  const customizedProperty = i18n && i18n[language] && i18n[language][i18nKey];\n  return !!customizedProperty;\n};\n\nexport {\n  getMessage,\n  getMessageKey,\n  getI18NParams,\n  getI18nKey,\n  getI18NValue,\n  doesI18NKeyExist,\n  isCustomizedI18nKey,\n  getMessageFromBrowserError\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { FORMS as RemediationForms } from './RemediationConstants';\n\nconst flattenObj = (obj) => {\n  let result = {};\n\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] !== 'object') {\n      result[key] = obj[key];\n      return;\n    }\n\n    const tempObj = flattenObj(obj[key]);\n    Object.keys(tempObj).forEach((j) => {\n      result[key + '.' + j] = tempObj[j];\n    });\n  });\n  return result;\n};\n\n/**\n * This function is for the Granular Consent remediation, scopes within the optedScopes\n * property can include a singular value or n values delimited by a \".\"\n * When they are delimited, BackBone's toJSON function will create a nested object, however,\n * these should not be nested and the delimited key names should stay as is. So this function will\n * flatten those nested proeprties to format it how the backend expects it. \n * i.e. { optedScopes: { some: { scope: true }}} = { optedScopes: { 'some.scope': true }}\n * Currently, this is only used when the Granular Consent view form is saved see:\n * src/v2/view-builder/views/consent/GranularConsentView.js\n * \n * @param {JSON} modelJSON JSON Equivalent of the Backbone Model's attributes/fields\n * @returns If the JSON contains the optedScopes Property, we will flatten the fields from\n * a nested object into K/V pair with dot notation for nested key names. Otherwise, we will return\n * the JSON as is.\n */\nconst transformOptedScopes = (modelJSON) => {\n  if (modelJSON.optedScopes && typeof modelJSON.optedScopes !== 'string') {\n    const data = {\n      ...modelJSON,\n      optedScopes: flattenObj(modelJSON.optedScopes),\n    };\n    return data;\n  }\n  return modelJSON;\n};\n\nconst FormNameToTransformerHandler = {\n  [RemediationForms.CONSENT_GRANULAR]: transformOptedScopes,\n};\n\n/**\n * The purpose of this function is the transform the\n * Backbone Model's attributes/fields into a JSON equivalent before sending to IDX,\n * since the Model fields are all flattend when the UI Schema is transformed on consumption.\n * \n * @param {string} formName Form name of the current remediation\n * @param {Model} model Backbone Model Class\n * @returns JSON equivalent of the Model\n */\nconst transformPayload = (formName, model) => {\n  const modelJSON = model.toJSON();\n  const transformHandler = FormNameToTransformerHandler[formName];\n  if (typeof transformHandler === 'undefined') {\n    return modelJSON;\n  }\n  return transformHandler(modelJSON);\n};\n\nexport default transformPayload;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from '@okta/courage';\nimport { FORMS as RemediationForms, AUTHENTICATOR_KEY, IDP_FORM_TYPE } from './RemediationConstants';\n\n/**\n * Transform the ion spec response into canonical format.\n */\n\n/**\n * Authn V2 response\n * @typedef {Object} AuthnResponse\n */\n\n/**\n * @typedef {Object} AuthnResult\n * @property {Object=} user\n * @property {Object=} authenticator\n */\n\nconst isObject = x => _.isObject(x);\n\nconst isError = response => !!response.messages;\n\n/**\n * Flatten first level objects from response\n */\nconst getFirstLevelObjects = (resp) => {\n  const result = {};\n  _.each(resp, (val = {}, key) => {\n    // if key is remediation we don't do any transformation\n    if (key === 'remediation') {\n      return;\n    }\n\n    // for arrays we just want it as a top level object\n    // Example authenticators array in select-authenticator form\n    if (val.type === 'array') {\n      result[key] = {\n        value: val.value,\n      };\n    }\n\n    // for handling attributes with type object\n    if (val.type === 'object') {\n      result[key] = val.value;\n    }\n  });\n  return result;\n};\n\nconst getRemediationValues = (idx) => {\n  const remediationValues = [];\n  const hasSkipRemediationOnly =\n    idx.neededToProceed.length === 1 && idx.neededToProceed[0].name === 'skip';\n  if (_.isEmpty(idx.neededToProceed) || hasSkipRemediationOnly) {\n    // no remediation or only skip remediation with success\n    if (idx.context.success) {\n      remediationValues.push({\n        name: idx.context.success.name,\n        href: idx.context.success.href,\n        value: [],\n      });\n    } else if (idx.context.messages) {\n      // no remediation or only skip remediation with messages\n      remediationValues.push({\n        name: RemediationForms.TERMINAL,\n        // Using `value` is unnecessary as `messages` will be display via `TerminalView.showMessages`,\n        // even though might sound a little counterintuitive.\n        // The reason being is there is `BaseForm.showMessages` that is intended to handle\n        // messages generically.\n        value: [],\n      });\n    } else if (idx.context.deviceEnrollment) {\n      // no remediation or only skip remediation with messages for device enrollment state\n      // and the state is meant to be terminal state with different UI than the regular terminal view\n      remediationValues.push({\n        name: RemediationForms.DEVICE_ENROLLMENT_TERMINAL,\n        value: [],\n      });\n    }\n  }\n  return {\n    remediations: [\n      ...remediationValues,\n      ...idx.neededToProceed,\n    ]\n  };\n};\n\n/**\n * To support `idps` configuration in OIE.\n * https://github.com/okta/okta-signin-widget#openid-connect\n */\nconst injectIdPConfigButtonToRemediation = (settings, idxResp) => {\n  const widgetRemedations = idxResp.remediations;\n  const hasIdentifyRemedation = widgetRemedations.filter(r => r.name === 'identify');\n  if (hasIdentifyRemedation.length === 0) {\n    return idxResp;\n  }\n\n  const idpsConfig = settings.get('idps');\n  if (Array.isArray(idpsConfig)) {\n    const existsRedirectIdpIds = {};\n    widgetRemedations.forEach(r => {\n      if (r.name === RemediationForms.REDIRECT_IDP && r.idp) {\n        existsRedirectIdpIds[r.idp.id] = true;\n      }\n    });\n    const baseUrl = settings.get('baseUrl');\n    const stateHandle = idxResp.idx.context.stateHandle;\n    const redirectIdpRemedations = idpsConfig\n      .filter(c => !existsRedirectIdpIds[c.id]) // omit idps that are already in remediation.\n      .map(idpConfig => {\n        const idp = {\n          id: idpConfig.id,\n          name: idpConfig.text,\n        };\n        const redirectUri = `${baseUrl}/sso/idps/${idpConfig.id}?stateToken=${stateHandle}`;\n        if (idpConfig.className) {\n          idp.className = idpConfig.className;\n        }\n        return {\n          name: RemediationForms.REDIRECT_IDP,\n          type: idpConfig.type,\n          idp,\n          href: redirectUri,\n        };\n      });\n    idxResp.remediations = widgetRemedations.concat(redirectIdpRemedations);\n  }\n\n  return idxResp;\n};\n\n/**\n * IFF there is one `redirect-idp` remediation form, widget will automatically redirect to `redirect-idp.href`.\n *\n * The idea now is to reuse `success-redirect` thus converts `redirect-idp` to `success-redirect` form.\n */\nconst convertRedirectIdPToSuccessRedirectIffOneIdp = (settings, result, lastResult) => {\n  if (Array.isArray(result.remediations)) {\n    const redirectIdpRemediations = result.remediations.filter(idp => idp.name === RemediationForms.REDIRECT_IDP);\n    if (redirectIdpRemediations.length !== 1 || result.remediations.length !== 1) {\n      return;\n    }\n\n    // Direct auth clients should not redirect on the initial response\n    const isDirectAuth = settings.get('oauth2Enabled');\n    if (isDirectAuth && !lastResult) {\n      return;\n    }\n\n    const successRedirect = {\n      name: RemediationForms.SUCCESS_REDIRECT,\n      href: redirectIdpRemediations[0].href,\n      value: [],\n    };\n    result.remediations = [successRedirect];\n  }\n};\n\n/**\n * API reuses `redirect-idp` remediation form for PIV IdP and IdP Authenticator.\n * IdP Authenticator becomes outlier comparing with other Authenticators in terms of\n * using `challenge-authenticator` and `enroll-authenticator` remediation form.\n * The UX for PIV IdP is different from other idps in terms of the PIV\n * instructions view that needs to be rendered before we redirect to mtls.\n *\n * This function changes `redirect-idp` to `challenge-authenticator` or `enroll-authenticator`\n * for IdP Authenticator and changes `redirect-idp` to `piv-idp` for PIV IdP.\n */\nconst modifyFormNameForIdP = result => {\n  if (Array.isArray(result.remediations)) {\n    result.remediations.forEach(remediation => {\n      if (remediation.name === RemediationForms.REDIRECT_IDP &&\n          remediation?.relatesTo?.value?.key === AUTHENTICATOR_KEY.IDP) {\n        // idp authenticator\n        const isVerifyFlow = Object.prototype.hasOwnProperty.call(result, 'currentAuthenticatorEnrollment');\n        remediation.name = isVerifyFlow ? 'challenge-authenticator' : 'enroll-authenticator';\n      }\n      if (remediation.name === RemediationForms.REDIRECT_IDP && remediation.type === IDP_FORM_TYPE.X509) {\n        // piv idp\n        remediation.name = RemediationForms.PIV_IDP;\n      }\n    });\n  }\n};\n\nconst isFailureRedirect = (result) => {\n  const context = result.idx.context;\n  return (context.failure && context.failure.name === 'failure-redirect');\n};\n\nconst handleFailureRedirect = (settings, result) => {\n  const context = result.idx.context;\n\n  // Direct auth clients will usually prefer to display the error instead of redirecting\n  const isDirectAuth = settings.get('oauth2Enabled');\n  const alwaysRedirect = settings.get('redirect') === 'always'; // redirect option overrides default behavior\n  if (isDirectAuth && !alwaysRedirect) {\n    return;\n  }\n  \n  const failureRedirect = {\n    name: RemediationForms.FAILURE_REDIRECT,\n    href: context.failure.href,\n    value: [],\n  };\n  result.remediations = [failureRedirect];\n};\n\n/**\n * @param {Models.Settings} user configuration\n * @param {idx} idx object\n * @returns {} transformed object with flattened firstlevel objects, idx and remediations array\n * Example: {\n *  idx: {\n *    proceed: ƒ(),\n *    neededToProceed: [],\n *    actions: {cancel: ƒ()},\n *    context: {},\n *  },\n *  remediations: [],\n *  authenticators: {},\n *  authenticator: {},\n *  messages: {},\n *  deviceEnrollment: {},\n * }\n */\nconst convert = (settings, idx = {}, lastResult = null) => {\n  if (!isObject(idx.rawIdxState)) {\n    return null;\n  }\n\n  // build result object\n  const firstLevelObjects = getFirstLevelObjects(idx.rawIdxState);\n  const remediationValues = getRemediationValues(idx);\n  const result = Object.assign({},\n    firstLevelObjects,\n    remediationValues,\n    { idx }\n  );\n  \n  // transform result object\n  if (isError(result) && isFailureRedirect(result)) {\n    handleFailureRedirect(settings, result);\n  }\n\n  // Override the `result` to handle custom IdP login buttons\n  // and update the form for IdP Authenticators.\n  injectIdPConfigButtonToRemediation(settings, result);\n  modifyFormNameForIdP(result);\n\n  if (!isError(result)) { // Only redirect to the IdP if we are not in an error flow\n    convertRedirectIdPToSuccessRedirectIffOneIdp(settings, result, lastResult);\n  }\n\n  return result;\n};\n\nexport default convert;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from '@okta/courage';\nimport responseTransformer from './responseTransformer';\nimport uiSchemaTransformer from './uiSchemaTransformer';\nimport i18nTransformer from './i18nTransformer';\n\n// Transforms an IDX response to an ION response\nexport default function transformIdxResponse(settings, curResponse, lastResponse) {\n  const ionResponse = _.compose(\n    i18nTransformer,\n    uiSchemaTransformer.bind({}, settings),\n    responseTransformer.bind({}, settings),\n  )(curResponse, lastResponse);\n  return ionResponse;\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { FORMS } from '../RemediationConstants';\nimport { loc } from '@okta/courage';\n\nconst getCheckboxUiSchema = ({ label, type, required }) => ({\n  // For Remember Me checkbox, we need the label only on the right side of it.\n  placeholder: label,\n  label: false,\n  // Separating prop type for Backbone.Model\n  // from html input type\n  modelType: type,\n  // uiSchema type is the html input type desired.\n  type: 'checkbox',\n  required: required || false,\n});\n\nconst getRadioUiSchema = ({ label, required, options }) => ({\n  displayName: label,\n  type: 'radio',\n  required: required,\n  options: options[0].value.value.options,\n  sublabel: required? null : loc('oie.form.field.optional', 'login'),\n});\n\nconst getCheckboxUiSchemaWithDefaultValue = ({ label, type }) => ({\n  placeholder: label,\n  label: false,\n  modelType: type,\n  type: 'checkbox',\n  // set required true so default value can be passed to optional attributes as well\n  required: true,\n  value: false,\n});\n\nconst createUiSchemaForBoolean = (ionFormField, remediationForm) => {\n  if ([FORMS.CONSENT_ENDUSER, FORMS.CONSENT_ADMIN].includes(remediationForm.name)) {\n    const scopes = remediationForm.scopes.map(({name, label, desc}) => {\n      return {name, displayName: label, description: desc};\n    });\n\n    // setting 'type' here to add a specific View in FormInputFactory.create\n    const type = remediationForm.name;\n\n    return {type, scopes, options: ionFormField.options};\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'radio') {\n    return getRadioUiSchema(ionFormField);\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'checkbox') {\n    return getCheckboxUiSchemaWithDefaultValue(ionFormField);\n  } else {\n    return getCheckboxUiSchema(ionFormField);\n  }\n};\n\nexport default createUiSchemaForBoolean;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from '@okta/courage';\nimport { AUTHENTICATOR_KEY } from '../RemediationConstants';\n\n/**\n * Example of the option like\n * @param {AuthenticatorOption[]} options\n * @param {( AuthenticatorEnrollment[] || Authenticator[] )} authenticators\n */\nexport function createOVOptions(options = []) {\n  // Split OV into individual entries for verification (one for each method).\n  const ovItem = options.find((option) => option.relatesTo.key === AUTHENTICATOR_KEY.OV);\n  const methodTypeObj = ovItem?.value?.form?.value?.find(v => v.name === 'methodType');\n  const methodOptions = methodTypeObj?.options;\n  let signedNonceOption;\n  if (methodOptions) {\n    const ovOptions = [];\n    methodOptions.forEach((method) => {\n      // get value object from the ov item\n      const value = [...ovItem.value.form.value];\n      // get index of the methodType object within the value object\n      const methodTypeIndex = ovItem.value.form.value.findIndex((v) => v.name === 'methodType');\n      // create a new methodType object that removes the options array and\n      // has a value of the current method\n      const newMethodTypeObj = Object.assign(_.omit(methodTypeObj, 'options'), method);\n      // set the methodType field to be required and immutable in our UI,\n      // so it is always sent to the backend.\n      newMethodTypeObj.required = true;\n      newMethodTypeObj.mutable = false;\n      // replace old methodType object with the new one\n      value.splice(methodTypeIndex, 1, newMethodTypeObj);\n      // return a new ov item for a specific method\n      const newItem = Object.assign({}, ovItem, {\n        label: method.label,\n        value: {\n          form: {\n            value,\n          }\n        }\n      });\n      if (method.value === 'signed_nonce') {\n        signedNonceOption = newItem;\n      } else {\n        ovOptions.push(newItem);\n      }\n    });\n    const ovIndex = options.findIndex((option) => option.relatesTo.key === AUTHENTICATOR_KEY.OV);\n    options.splice(ovIndex, 1, ...ovOptions);\n\n    // ReArrange fastpass in options based on deviceKnown\n    if (signedNonceOption) {\n      ovItem.relatesTo.deviceKnown ? options.unshift(signedNonceOption) : options.push(signedNonceOption);\n    }\n  }\n}\n\nfunction createAuthenticatorOptions(options = []) {\n  createOVOptions(options);\n  return options.map(option => {\n    const value = option.value?.form?.value || [];\n\n    // Each authenticator option has list of ION field.\n    // Currently we only support merely selecting one of options\n    // rather than pop up another page to collect extra data\n    // (in order to fill value for `mutable: true; value: null` fields).\n    // The only reason of such design is to simplify widget implementation\n    // but could subject to change in later releases.\n    // Thus only surface up fields that are `required: true; mutable: false`\n    // which implies it already has `value`.\n    const valueObject = value\n      .filter(v => v.required === true && v.mutable === false)\n      .reduce((init, v) => {\n        return Object.assign(init, { [v.name]: v.value });\n      }, {});\n    return {\n      label: option.label,\n      value: valueObject,\n      relatesTo: option.relatesTo,\n      authenticatorKey: option.relatesTo?.key,\n    };\n  });\n}\n\nfunction getAuthenticatorsEnrollUiSchema({ options }) {\n  return {\n    type: 'authenticatorEnrollSelect',\n    options: createAuthenticatorOptions(options),\n  };\n}\n\nfunction getAuthenticatorsVerifyUiSchema({ options }) {\n  return {\n    type: 'authenticatorVerifySelect',\n    options: createAuthenticatorOptions(options),\n  };\n}\n\n/**\n  * Create ui schema for ION field that has type 'object'.\n  */\nexport default function createUiSchemaForObject(ionFormField, remediationForm, transformedResp,\n  createUISchema, settings) {\n  const uiSchema = {};\n\n  if (ionFormField.name === 'authenticator' &&\n    (remediationForm.name === 'select-authenticator-authenticate' ||\n    remediationForm.name === 'select-authenticator-unlock-account')) {\n    // 1. when `select-authenticator-authenticator`,\n    // create customize type so that display authenticator list as selectable list\n    Object.assign(uiSchema, getAuthenticatorsVerifyUiSchema(ionFormField));\n  } else if (ionFormField.name === 'authenticator' && remediationForm.name === 'select-authenticator-enroll') {\n    // 2. when `select-authenticator-enroll`,\n    // create customize type so that display authenticator list as selectable list\n    Object.assign(uiSchema, getAuthenticatorsEnrollUiSchema(ionFormField));\n  } else if (Array.isArray(ionFormField.options)) {\n    // 3. For other cases, create ui schema for each `option` in order to render\n    // different view for each option.\n    //\n    // e.g. { \"name\": \"credentials\", \"type\": \"object\", options: [ {value: {form: value:[]} ]\n    uiSchema.optionsUiSchemas = ionFormField.options.map(opt => {\n      return createUISchema(transformedResp, {\n        value: [\n          {\n            name: ionFormField.name,\n            value: opt.value,\n          }\n        ]\n      }, settings);\n    });\n    uiSchema.options = ionFormField.options.map((opt, index) => {\n      return { label: opt.label, value: index };\n    });\n    // assume (default to) use radio buttons to switch sub-schema.\n    uiSchema.type = 'radio';\n    uiSchema.value = '0';\n    uiSchema.name = `sub_schema_local_${ionFormField.name}`;\n  }\n\n  return uiSchema;\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint max-depth: [2, 3] */\n/* eslint complexity: [2, 20] */\nimport { loc } from '@okta/courage';\nimport { HINTS, ATTR_FORMAT } from '../RemediationConstants';\nimport CountryUtil from 'util/CountryUtil';\nimport TimeZone from '../../view-builder/utils/TimeZone';\n\nconst ionOptionsToUiOptions = (options) => {\n  const result = {};\n  options.forEach(({ value, label }) => {\n    result[value] = label;\n  });\n  return result;\n};\n\nconst getPasswordUiSchema = (settings) => ({\n  type: 'password',\n  params: {\n    showPasswordToggle: settings.get('showPasswordToggle'),\n  },\n});\n\nconst getCaptchaUiSchema = () => {\n  return {\n    type: 'captcha',\n  };\n};\n\nconst timezoneUISchema = {\n  type: 'select',\n  wide: true\n};\n\nconst shouldRenderAsRadio = (name) => name.indexOf('methodType') >= 0 || name.indexOf('channel') >= 0;\n\nconst optionalType = ['text', 'radio', 'select'];\n\nconst populateUISchemaForDisplay = (uiSchema, ionField) => {\n  const display = ionField?.value?.value;\n  uiSchema.type = display.inputType;\n  if (display.inputType === 'radio') {\n    uiSchema.options = display.options;\n  } else if (display.inputType === 'select') {\n    uiSchema.wide = true;\n    if (display.format === ATTR_FORMAT.COUNTRY_CODE) {\n      uiSchema.options = Object.assign({'': ''}, CountryUtil.getCountryCode());\n    } else {\n      //it will create a placeholder for dropdowns, by default it will show 'Select an Option'\n      uiSchema.options = Object.assign({'': ''}, ionOptionsToUiOptions(display.options));\n    }\n  }\n};\n\nconst populateUISchemaForRadio = (uiSchema, ionFormField) => {\n  // e.g. { name: 'methodType', options: [ {label: 'sms'} ], type: 'string' | null }\n  uiSchema.type = 'radio';\n  // set the default value to the first value.\n  ionFormField.value = ionFormField.options[0].value;\n};\n\nconst createUiSchemaForString = (ionFormField, remediationForm, transformedResp, createUISchema, settings) => {\n  const uiSchema = {\n    type: 'text'\n  };\n\n  // e.g. { name: 'password', secret: true }\n  if (ionFormField.secret === true) {\n    Object.assign(uiSchema, getPasswordUiSchema(settings));\n  }\n\n  if (ionFormField.hint === HINTS.CAPTCHA) {\n    Object.assign(uiSchema, getCaptchaUiSchema());\n  }\n\n  if(ionFormField.name === 'userProfile.timezone'){\n    Object.assign(uiSchema, timezoneUISchema);\n    uiSchema.options = Object.assign({'': ''}, TimeZone);\n  }\n\n  if (Array.isArray(ionFormField.options) && ionFormField.options[0] && ionFormField.options[0].value) {\n    const ionField = ionFormField.options[0];\n    if (ionField.label === 'display') {\n      populateUISchemaForDisplay(uiSchema, ionField);\n    } else if (shouldRenderAsRadio(ionFormField.name)) {\n      populateUISchemaForRadio(uiSchema, ionFormField);\n    } else {\n      // default to select (dropdown). no particular reason (certainly can default to radio.)\n      // e.g. { name: 'questionKey', options: [], type: 'string' | null }\n      uiSchema.type = 'select';\n      uiSchema.wide = true;\n      uiSchema.options = ionOptionsToUiOptions(ionFormField.options);\n    }\n  }\n\n  // set a label as 'Optional' for supported optional element types\n  if(ionFormField.required === false && optionalType.includes(uiSchema.type)) {\n    uiSchema.sublabel = loc('oie.form.field.optional', 'login');\n  }\n\n  return uiSchema;\n};\n\nexport default createUiSchemaForString;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Create UI Schema into remedation object base on remediation values\n */\nimport { _ } from '@okta/courage';\nimport createUiSchemaForBoolean from './ui-schema/ion-boolean-handler';\nimport createUiSchemaForObject from './ui-schema/ion-object-handler';\nimport createUiSchemaForString from './ui-schema/ion-string-handler';\n\nconst UISchemaHandlers = {\n  string: createUiSchemaForString,\n  boolean: createUiSchemaForBoolean,\n  object: createUiSchemaForObject,\n};\n\n/**\n *\n * @param {AuthResult} transformedResp\n * @param {IONForm} remeditationForm\n */\nconst createUISchema = (transformedResp, remediationForm, settings) => {\n\n  // For cases where field itself is a form, it has a formname and we are appending the formname to each field.\n  // Sort of flat the structure in order to align Courage flatten Model. The flatten structure will be converted\n  // back to object hierarchy through `Model.toJSON`.\n  // For simplicity we are assuming that when field itself is a form its only one level deep.\n  const remediationValue = _.chain(remediationForm.value || [])\n    .filter(v => v.visible !== false)\n    .map(v => {\n      let nestedForm;\n      if (v.form) {\n        nestedForm = v.form;\n      } else if (v.value?.form) {\n        nestedForm = v.value.form;\n      }\n\n      if (nestedForm) {\n        const inputGroupName = v.name;\n        return nestedForm.value.map(input => {\n          return Object.assign({}, input, { name: inputGroupName + '.' + input.name });\n        });\n      } else {\n        return v;\n      }\n    })\n    .flatten()\n    .value();\n\n  return remediationValue.map(ionFormField => {\n    const uiSchemaDefaultConfig = {\n      'label-top': true,\n      'multirowError': true,\n      'data-se': `o-form-fieldset-${ionFormField.name}`,\n    };\n    const fieldType = ionFormField.type || 'string';\n    const uiSchemaHandler = UISchemaHandlers[fieldType];\n    const uiSchemaResult = uiSchemaHandler(ionFormField, remediationForm, transformedResp, createUISchema, settings);\n\n    return Object.assign(\n      {},\n      ionFormField,\n      uiSchemaDefaultConfig,\n      uiSchemaResult,\n    );\n  });\n};\n\n/**\n *\n * @param {AuthResult} transformedResp\n */\nconst insertUISchema = (settings, transformedResp) => {\n  if (transformedResp) {\n    transformedResp.remediations = transformedResp.remediations.map(obj => {\n      obj.uiSchema = createUISchema(transformedResp, obj, settings);\n      return obj;\n    });\n  }\n  return transformedResp;\n};\n\nexport default insertUISchema;\n\n/**\n * @typedef {Object} Authenticator\n * @property {string} label\n * @property {AuthenticatorValue} value\n */\n/**\n * @typedef {Object} AuthenticatorValue\n * @property {string} type Authenticator Type\n * @property {string} id Authenticator Org Authenticator ID\n * @property {AuthenticatorMethod[]} methods\n */\n/**\n * @typedef {Object} AuthenticatorEnrollment\n * @property {string} label\n * @property {AuthenticatorEnrollmentValue} value\n */\n/**\n * @typedef {Object} AuthenticatorEnrollmentValue\n * @property {string} authenticatorId Org Authenticator ID\n * @property {string} type Authenticator Type\n * @property {string} id Authenticator Enrollment ID\n * @property {AuthenticatorMethod[]} methods\n */\n/**\n * @typedef {Object} AuthenticatorMethod\n * @property {string} type Authenticator method type\n */\n/**\n * @typedef {Object} AuthenticatorOption\n * @property {string} label\n * @property {Object} form\n * @property {AuthenticatorOption[]} form.value\n */\n/**\n * @typedef {Object} AuthenticatorOptionValue\n * @property {string} name\n * @property {boolean} required\n * @property {string} value\n * @property {boolean} mutable\n */\n/**\n * @typedef {Object} IONForm\n * @property {string} name\n * @property {string[]} rel\n * @property {string} method\n * @property {string} href\n * @property {string} accepts\n * @property {IONFormField[]} value\n */\n/**\n * @typedef {Object} IONFormField\n * @property {string} name\n * @property {string=} type\n * @property {string=} required\n * @property {string=} secret\n * @property {string=} label\n * @property {Object[]} options\n * @property {Object=} form\n * @property {IONFormField[]} form.value\n */\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { ListView, loc, View, createButton } from '@okta/courage';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport skipAll from './SkipOptionalEnrollmentButton';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { AUTHENTICATOR_ALLOWED_FOR_OPTIONS } from '../utils/Constants';\n\nconst AuthenticatorRow = View.extend({\n  className: 'authenticator-row clearfix',\n  template: hbs`\n    <div class=\"authenticator-icon-container\">\n      {{#if logoUri}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}} custom-app-logo\" role=\"img\"\n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{else}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}}\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{/if}}\n    </div>\n    <div class=\"authenticator-description\">\n      <h3 class=\"authenticator-label no-translate\">{{label}}</h3>\n      {{#if description}}\n        <p class=\"authenticator-description--text\">{{description}}</p>\n      {{/if}}\n      {{#if authenticatorUsageText}}\n        <p class=\"authenticator-usage-text\">{{authenticatorUsageText}}</p>\n      {{/if}}\n      <div class=\"authenticator-button\" {{#if buttonDataSeAttr}}data-se=\"{{buttonDataSeAttr}}\"{{/if}}></div>\n    </div>\n  `,\n  postRender: function() {\n    View.prototype.postRender.apply(this, arguments);\n    if (this.model.get('logoUri')) {\n      this.el.querySelector('.custom-app-logo').style.backgroundImage = `url(${this.model.get('logoUri')})`;\n    }\n  },\n  children: function() {\n    return [[createButton({\n      className: 'button select-factor',\n      title: function() {\n        return loc('oie.enroll.authenticator.button.text', 'login');\n      },\n      attributes: {\n        'aria-label': this.model.get('ariaLabel'),\n      },\n      click: function() {\n        this.model.trigger('selectAuthenticator', this.model.get('value'));\n      }\n    }), '.authenticator-button']];\n  },\n  minimize: function() {\n    this.$el.addClass('authenticator-row-min');\n  },\n  getTemplateData() {\n    let authenticatorUsageText;\n    const allowedFor = this.model.get('relatesTo').allowedFor;\n\n    if (allowedFor) {\n      switch (allowedFor) {\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.ANY:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.access.recovery', 'login');\n        break;\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.RECOVERY:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.recovery', 'login');\n        break;\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.SSO:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.access', 'login');\n        break;\n      }\n    }\n\n    const data = View.prototype.getTemplateData.apply(this, arguments);\n    data.authenticatorUsageText = authenticatorUsageText;\n\n    return data;\n  },\n});\n\nexport default ListView.extend({\n\n  className: 'authenticator-enroll-list authenticator-list',\n\n  item: AuthenticatorRow,\n\n  itemSelector: '.list-content',\n\n  initialize: function() {\n    this.listenTo(this.collection,'selectAuthenticator', function(data) {\n      this.model.set(this.options.name, data);\n      this.options.appState.trigger('saveForm', this.model);\n    });\n    this.hasOptionalFactors = this.options.appState.hasRemediationObject(RemediationForms.SKIP);\n    if (this.hasOptionalFactors) {\n      this.add(skipAll);\n    }\n  },\n\n  template: hbs`<div class=\"list-content\"> <div class=\"authenticator-list-title\"> {{title}} </div> </div>`,\n\n  getTemplateData() {\n    // presence of the skip remediation form tells us that the authenticators are all optional\n    const title = this.hasOptionalFactors? loc('oie.setup.optional', 'login'):loc('oie.setup.required', 'login');\n\n    return {\n      title\n    };\n  }\n\n});\n","import { BaseFooter } from '../internals';\nimport { getFactorPageCustomLink, getSwitchAuthenticatorLink } from '../utils/LinksUtil';\n\nexport default BaseFooter.extend({\n  links() {\n    return getFactorPageCustomLink(this.options.appState, this.options.settings)\n      .concat(getSwitchAuthenticatorLink(this.options.appState));\n  },\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { ListView, View, createButton, loc } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst AuthenticatorRow = View.extend({\n  className: 'authenticator-row clearfix',\n  template: hbs`\n    <div class=\"authenticator-icon-container\">\n      {{#if logoUri}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}} custom-logo\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{else}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}}\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{/if}}\n    </div>\n    <div class=\"authenticator-description\">\n      <div>\n        <h3 class=\"authenticator-label no-translate {{#if description}}authenticator-label--small{{/if}}\">{{label}}</h3>\n        {{#if description}}\n          <p class=\"authenticator-description--text {{noTranslateClassName}}\">{{description}}</p>\n        {{/if}}\n        {{#if nickname}}\n          <p class=\"authenticator-enrollment-nickname {{noTranslateClassName}}\">{{nickname}}</p>\n        {{/if}}\n      </div>\n      <div class=\"authenticator-button\" {{#if buttonDataSeAttr}}data-se=\"{{buttonDataSeAttr}}\"{{/if}}></div>\n    </div>\n  `,\n  postRender: function() {\n    View.prototype.postRender.apply(this, arguments);\n    const logoUri = this.model.get('logoUri');\n    if (logoUri) {\n      this.el.querySelector('.custom-logo').style.backgroundImage = `url(${logoUri})`;\n    }\n  },\n  children: function(){\n    return [[createButton({\n      className: 'button select-factor',\n      title: function() {\n        return loc('oie.verify.authenticator.button.text', 'login');\n      },\n      attributes: {\n        'aria-label': this.model.get('ariaLabel'),\n      },\n      click: function() {\n        this.model.trigger('selectAuthenticator', this.model.get('value'));\n      }\n    }), '.authenticator-button']];\n  },\n  minimize: function() {\n    this.$el.addClass('authenticator-row-min');\n  }\n});\n\nexport default ListView.extend({\n\n  className: 'authenticator-verify-list authenticator-list',\n\n  item: AuthenticatorRow,\n\n  itemSelector: '.list-content',\n\n  initialize: function() {\n    this.listenTo(this.collection,'selectAuthenticator', this.handleSelect);\n    this.listenTo(this.model, 'invalid', this.handleModelInvalid);\n  },\n  \n  handleModelInvalid(data, error) {\n    if (this.options.name in error && !this.model.get(this.options.name)) {\n      this.showAuthenticatorRequiredError();\n    }\n  },\n\n  showAuthenticatorRequiredError() {\n    const errorSummary = this.collection.length > 1\n      ? loc('account.unlock.authenticatorRequired.multiple', 'login')\n      : loc('account.unlock.authenticatorRequired.single', 'login');\n    this.model.trigger('error', this.model, { responseJSON: { errorSummary } });\n  },\n\n  handleSelect(data) {\n    //If schema contains a required identifier to fill first then validate the form\n    const validationError = this.model.validateField('identifier');\n    this.model.trigger('clearFormError');\n    if(this.model.getPropertySchema('identifier')?.required && validationError) {\n      this.model.trigger('invalid', this.model, validationError);\n    } else {\n      this.model.set(this.options.name, data);\n      this.options.appState.trigger('saveForm', this.model); \n    }\n  },\n\n  template: hbs`<div class=\"list-content\"> </div>`,\n\n});\n","import { _ } from '@okta/courage';\nimport { BaseHeader, BaseView } from '../internals';\nimport AuthenticatorFooter from './AuthenticatorFooter';\nimport HeaderBeacon from './HeaderBeacon';\nimport { getIconClassNameForBeacon } from '../utils/AuthenticatorUtil';\nimport { FORMS as REMEDIATION_FORMS } from 'v2/ion/RemediationConstants';\n\nexport const BaseAuthenticatorBeacon = HeaderBeacon.extend({\n  authenticatorKey() {\n    return this.options.appState.get('authenticatorKey');\n  },\n\n  idvName() {\n    const redirectIDVerifyRemediation = this.options.appState\n      .get('remediations')\n      ?.find(remediation => {\n        return remediation.name === REMEDIATION_FORMS.REDIRECT_IDVERIFY;\n      });\n    return redirectIDVerifyRemediation?.idp?.id;\n  },\n\n  getBeaconClassName: function() {\n    const authenticatorKey = _.result(this, 'authenticatorKey');\n    const idvName = _.result(this, 'idvName');\n    return getIconClassNameForBeacon(authenticatorKey, idvName);\n  },\n});\n\nexport default BaseView.extend({\n  Header: BaseHeader.extend({\n    HeaderBeacon: BaseAuthenticatorBeacon,\n  }),\n  Footer: AuthenticatorFooter,\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport AuthenticatorFooter from './AuthenticatorFooter';\n\nconst OKTA_AUTHENTICATOR = 'Okta_Authenticator';\n\nconst CantVerifyInfoVerifyFlowView = View.extend({\n  id: 'help-description-container',\n  className: 'help-description js-help-description',\n  template: hbs`\n      <h3>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.title\" bundle=\"login\"}}</h3><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.description1\" bundle=\"login\"}}</p><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.description2\" bundle=\"login\"}}</p><br>\n      <h3>{{i18n code=\"oie.verify.webauthn.cant.verify.security.key.title\" bundle=\"login\"}}</h3><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.security.key.description\" bundle=\"login\"}}</p><br>\n  `,\n});\n\nconst CantVerifyInfoOVEnrollmentFlowView = View.extend({\n  id: 'help-description-container',\n  className: 'help-description js-help-description',\n  template: hbs`\n      <ol class=\"ov-enrollment-info\">\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step1\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step2\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step3\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step4\" bundle=\"login\"}}</><br>\n      </ol>\n  `,\n});\n\nexport default AuthenticatorFooter.extend({\n  links: function() {\n    const links = AuthenticatorFooter.prototype.links.apply(this, arguments);\n\n    const cantVerifyInfoView = this.options.appState.get('app')\n      && this.options.appState.get('app').name === OKTA_AUTHENTICATOR ?\n      CantVerifyInfoOVEnrollmentFlowView: CantVerifyInfoVerifyFlowView;\n    links.unshift({\n      'label': loc('oie.verify.webauthn.cant.verify', 'login'),\n      'name': 'cant-verify',\n      'aria-controls': 'help-description-container',\n      'class': 'link help js-help',\n      'type': 'toggle-text-link',\n      'additionalOptions': {\n        view: cantVerifyInfoView,\n        selector: '.js-help-description',\n      },\n    });\n\n    return links;\n  },\n});\n","import { BaseHeader } from '../internals';\nimport { AUTHENTICATOR_KEY } from '../../ion/RemediationConstants';\nimport { BaseAuthenticatorBeacon } from './BaseAuthenticatorView';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: BaseAuthenticatorBeacon.extend({\n    authenticatorKey: AUTHENTICATOR_KEY.EMAIL,\n  })\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  template: hbs`\n    <div data-type=\"beacon-container\" class=\"beacon-container\">\n      <div class=\"beacon-blank auth-beacon\">\n        <div class=\"beacon-blank js-blank-beacon-border auth-beacon-border\"></div>\n      </div>\n      {{#if logoUri}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor {{className}} custom-app-logo\" \n      data-se=\"factor-beacon\" role=\"img\" \n        aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\">\n      {{else}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor {{className}}\" data-se=\"factor-beacon\">\n      {{/if}}\n          <div class=\"okta-sign-in-beacon-border auth-beacon-border\"></div>\n        </div>\n    </div >\n  `,\n\n  postRender: function() {\n    View.prototype.postRender.apply(this, arguments);\n    const data = this.getTemplateData();\n    if (data.logoUri) {\n      this.el.querySelector('.custom-app-logo').style.backgroundImage = `url(${data.logoUri})`;\n    }\n  },\n  getTemplateData: function() {\n    const appState = this.options?.appState;\n    return { className: this.getBeaconClassName() || '',\n      logoUri: appState?.get('currentAuthenticator')?.logoUri || \n        appState?.get('currentAuthenticatorEnrollment')?.logoUri\n    };\n  },\n  getBeaconClassName() {\n    return 'undefined-user';\n  }\n});\n","import { loc, View } from '@okta/courage';\nimport { BaseFooter } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getForgotPasswordLink, getSignUpLink } from '../utils/LinksUtil';\nimport Link from './Link';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default BaseFooter.extend({\n\n  showForgotPasswordLink() {\n    return !this.options.appState.isIdentifierOnlyView();\n  },\n\n  footerInfo() {\n    const signUpLinkData = getSignUpLink(this.options.appState, this.options.settings);\n    let SignUpLinkWithText;\n    //Build sign up link view appended with a text. Link class can only build anchor tags\n    if(signUpLinkData.length) {\n      SignUpLinkWithText = View.extend({\n        className: 'signup-info',\n        template: hbs`\n          <span>{{i18n code=\"registration.signup.label\" bundle=\"login\"}}</span><span class=\"signup-link\"></span>\n          `,\n        initialize() {\n          this.add(Link, '.signup-link', {\n            options: signUpLinkData[0]\n          });\n        }\n      });\n    }\n    return SignUpLinkWithText;\n  },\n\n  links() {\n    const { appState, settings } = this.options;\n\n    let helpLinkHref;\n    if (settings.get('helpLinks.help')) {\n      helpLinkHref = settings.get('helpLinks.help');\n    } else {\n      const baseUrl = settings.get('baseUrl');\n      helpLinkHref = baseUrl + '/help/login';\n    }\n\n    const helpLink = [\n      {\n        'name': 'help',\n        'label': loc('help', 'login'),\n        'href': helpLinkHref,\n        'target': '_blank',\n      },\n    ];\n\n    let forgotPasswordLink = [];\n    if (this.showForgotPasswordLink()) {\n      forgotPasswordLink = getForgotPasswordLink(appState, settings);\n    }\n\n    const customHelpLinks = [];\n    if (settings.get('helpLinks.custom')) {\n      //add custom helpLinks\n      settings.get('helpLinks.custom').forEach(customHelpLink => {\n        customHelpLink.name = 'custom';\n        customHelpLink.label = customHelpLink.text;\n        customHelpLinks.push(customHelpLink);\n      });\n    }\n\n    const unlockAccountLink = [];\n    if (settings.get('helpLinks.unlock')) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'href': settings.get('helpLinks.unlock'),\n      });\n    } else if (appState.hasRemediationObject(RemediationForms.UNLOCK_ACCOUNT)) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'actionPath': RemediationForms.UNLOCK_ACCOUNT,\n      });\n    }\n\n    return forgotPasswordLink\n      .concat(unlockAccountLink)\n      .concat(helpLink)\n      .concat(customHelpLinks);\n  }\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n\n  template: hbs('{{label}}'),\n\n  tagName: 'a',\n\n  attributes() {\n    let href = this.options.href || '#';\n    const rel = (this.options.target === '_blank' && !this.options.rel)\n      ? 'noopener noreferrer'\n      : this.options.rel;\n    return {\n      'data-se': this.options.name,\n      href: href,\n      target: this.options.target,\n      rel: rel\n    };\n  },\n\n  className() {\n    const names = ['link'];\n    if (this.options.name) {\n      const nameToClass = this.options.name.replace(/[ ]/g, '-');\n      names.push(`js-${nameToClass}`);\n    }\n    return names.join(' ');\n  },\n\n  postRender() {\n    // TODO OKTA-245224: create sub class of Link to dispatch following if/else logic.\n    if (!this.options.href) {\n      this.$el.click((event) => {\n        event.preventDefault();\n\n        const {\n          appState,\n          formName,\n          actionPath,\n          clickHandler,\n        } = this.options;\n\n        if (clickHandler) {\n          clickHandler();\n        } else if (formName) {\n          appState.trigger('switchForm', formName);\n        } else if (actionPath) {\n          appState.trigger('invokeAction', actionPath);\n        }\n      });\n    }\n  }\n});\n","import { View, loc, internal } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst { Notification } = internal.views.components;\nconst { Clipboard } = internal.util;\n\nexport default View.extend({\n  template: hbs`\n    <div>{{i18n code=\"enroll.explanation.mdm\" bundle=\"login\"}}</div>\n    <ol>\n      <li>\n        {{i18n code=\"enroll.mdm.step.copyLink\" bundle=\"login\"}}\n        <a data-clipboard-text=\"{{enrollmentLink}}\" class=\"button link-button copy-clipboard-button\">\n          {{i18n code=\"enroll.mdm.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.mdm.step.pasteLink\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.mdm.step.followInstructions\" bundle=\"login\" \n      arguments=\"vendor\" $1=\"<span class='semi-strong'>$1</span>\"}}</li>\n      <li>{{i18n code=\"enroll.mdm.step.relogin\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  getTemplateData() {\n    return this.options.appState.get('deviceEnrollment');\n  },\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.mdm.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n","import { View, loc, internal } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Enums from 'util/Enums';\n\nconst { Notification } = internal.views.components;\nconst { Clipboard } = internal.util;\n\nconst getDeviceEnrollmentContext = (deviceEnrollment) => {\n  const platform = (deviceEnrollment.platform || '').toLowerCase();\n  const challengeMethod = deviceEnrollment.challengeMethod;\n  const enrollmentType = deviceEnrollment.name;\n  const isIOS = platform === Enums.IOS;\n  const isAndroidAppLink = platform === Enums.ANDROID && challengeMethod === 'APP_LINK';\n  const isAndroidLoopback = platform === Enums.ANDROID && challengeMethod === 'LOOPBACK';\n  return {\n    signInUrl: deviceEnrollment.signInUrl,\n    isIOS,\n    enrollmentType,\n    isAndroidLoopback,\n    isAndroidAppLink,\n    appStoreLink: isIOS ? Enums.OKTA_VERIFY_APPLE_APP_STORE_URL : Enums.OKTA_VERIFY_GOOGLE_PLAY_STORE_URL,\n    orgName: deviceEnrollment.orgName\n  };\n};\n\nconst BaseOdaOktaVerifyTerminalView = View.extend({\n  getTemplateData() {\n    const deviceEnrollment = this.options.appState.get('deviceEnrollment');\n    return getDeviceEnrollmentContext(deviceEnrollment);\n  },\n});\n\nconst IosAndAndroidLoopbackOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n      {{i18n code=\"enroll.explanation.p1\" bundle=\"login\"}}\n    </p>\n    <ol>\n      {{#if isIOS}}\n      <li>\n        {{i18n code=\"enroll.mdm.step.copyLink\" bundle=\"login\"}}\n        <a data-clipboard-text=\"{{appStoreLink}}\" class=\"button link-button copy-clipboard-button\">\n          {{i18n code=\"enroll.mdm.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.mdm.step.pasteLink\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.step3\" bundle=\"login\"}}</li>\n      {{/if}}\n      {{#if isAndroidLoopback}}\n      <li>{{i18n code=\"enroll.oda.android.step1\" bundle=\"login\"}}</li>\n      {{/if}}\n      <li>{{i18n code=\"enroll.oda.step1\" bundle=\"login\"}}</li>\n      <li>\n        {{i18n code=\"enroll.oda.step2\" bundle=\"login\"}}\n        <p class=\"org-signin-link\">\n          <span class=\"no-translate\">\n          {{signInUrl}}\n          </span>\n        </p>\n        <a data-clipboard-text=\"{{signInUrl}}\" class=\"button link-button copy-org-clipboard-button\">\n          {{i18n code=\"enroll.oda.org.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.oda.step6\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.mdm.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n    Clipboard.attach('.copy-org-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.oda.org.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n\nconst AndroidAppLinkWithAccountOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n    {{i18n code=\"enroll.oda.with.account.explanation\" bundle=\"login\"}}\n    </p>\n    <p class=\"subtitle\">\n    {{i18n code=\"enroll.oda.with.account.subtitile1 \" bundle=\"login\"}}\n    </p>\n    <ul>\n      <li>{{i18n code=\"enroll.oda.with.account.step1\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step2\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step3\" bundle=\"login\"}}</li>\n    </ul>\n    <p class=\"subtitle\">\n    {{i18n code=\"enroll.oda.with.account.subtitile2 \" bundle=\"login\"}}\n    </p>\n    <ol>\n      <li>{{i18n code=\"enroll.oda.with.account.step4\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step5\" bundle=\"login\" arguments=\"signInUrl\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step6\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step7\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n});\n\nconst AndroidAppLinkWithoutAccountOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n      {{i18n code=\"enroll.oda.without.account.explanation\" bundle=\"login\"}}\n    </p>\n    <ol>\n      <li>\n        {{{i18n code=\"enroll.oda.without.account.step1\" bundle=\"login\" arguments=\"appStoreLink\"}}}\n      </li>\n      <li>{{i18n code=\"enroll.oda.step1\" bundle=\"login\"}}</li>\n      <li>\n        {{i18n code=\"enroll.oda.step2\" bundle=\"login\"}}\n        <p class=\"org-signin-link\">\n          <span class=\"no-translate\">\n          {{signInUrl}}\n          </span>\n        </p>\n        <a data-clipboard-text=\"{{signInUrl}}\" class=\"button link-button copy-org-clipboard-button\">\n          {{i18n code=\"enroll.oda.org.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.oda.without.account.step4\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-org-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.oda.org.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n\nexport {\n  IosAndAndroidLoopbackOdaTerminalView,\n  AndroidAppLinkWithAccountOdaTerminalView,\n  AndroidAppLinkWithoutAccountOdaTerminalView,\n  getDeviceEnrollmentContext,\n};\n","import { BaseHeader } from '../internals';\nimport { AUTHENTICATOR_KEY } from '../../ion/RemediationConstants';\nimport { BaseAuthenticatorBeacon } from './BaseAuthenticatorView';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: BaseAuthenticatorBeacon.extend({\n    authenticatorKey: AUTHENTICATOR_KEY.OV,\n  })\n});\n","import { _, internal, loc } from '@okta/courage';\nimport { doesI18NKeyExist } from 'v2/ion/i18nTransformer';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst CheckBox = internal.views.forms.inputs.CheckBox;\n\nexport default CheckBox.extend({\n  template: hbs`\n    <input type=\"checkbox\" name=\"{{name}}\" id=\"{{inputId}}\"/>\n    <label for=\"{{inputId}}\" data-se-for-name=\"{{name}}\"><b>{{placeholder}}</b><p>{{desc}}</p></label>\n  `,\n\n  getLocalizedLabel: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.label`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : (this.options.placeholder || this.options.options.scopeName);\n  },\n\n  getLocalizedDesc: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.desc`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : this.options.options.desc;\n  },\n\n  isCustomizedScope: function() {\n    return !doesI18NKeyExist(`consent.scopes.${this.options.options.scopeName}.label`);\n  },\n\n  /**\n   * @Override\n   */\n  enable: function() {\n    if (this.options.options.mutable) {\n      this.$(':input').prop('disabled', false);\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function() {\n\n    this.$el.html(this.template(_.extend(_.omit(this.options, 'placeholder'), {\n      placeholder: this.getLocalizedLabel(),\n      desc: this.getLocalizedDesc()\n    })));\n\n    this.$(':checkbox').prop('checked', this.getModelValue() || false);\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n\n    if (!this.options.options.mutable) {\n      const input = this.$('input').get(0);\n      this.$(input.parentElement).addClass('o-form-read-mode');\n      this.$(':checkbox').prop('disabled', true);\n    }\n\n    if (this.options.options.scopeName === 'openid' || this.isCustomizedScope()) {\n      this.$('label > b').addClass('no-translate');\n      if (this.isCustomizedScope()) {\n        this.$('label > p').addClass('no-translate');\n      }\n    }\n\n    return this;\n  },\n\n});","import { createButton, loc } from '@okta/courage';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\n\nconst skipAll = createButton({\n  className: 'button-primary button skip-all',\n  title: function() {\n    return loc('oie.optional.authenticator.button.title', 'login');\n  },\n  click: function() {\n    this.options.appState.trigger('invokeAction', RemediationForms.SKIP);\n  }\n});\n\nexport default skipAll;","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, $ } from '@okta/courage';\nimport Link from './Link';\n\nexport default View.extend({\n  initialize() {\n    View.prototype.initialize.apply(this, arguments);\n    const textViewOptions = this.options.additionalOptions;\n    const linkName = this.options.name;\n    const linkOptions = Object.assign({}, this.options,\n      {\n        'type': 'link',\n        'aria-expanded': false,\n        'clickHandler': function() {\n          $(textViewOptions.selector).slideToggle(200, () => {\n            $(`.js-${linkName}`).attr('aria-expanded', $(textViewOptions.selector).is(':visible'));\n          });\n        }\n      });\n    this.add(Link, { options: linkOptions });\n    this.add(textViewOptions.view);\n  },\n\n  postRender() {\n    const textViewOptions = this.options.additionalOptions;\n    this.$(textViewOptions.selector).hide();\n  },\n});\n","import { View, _, $} from '@okta/courage';\nimport Link from '../components/Link';\nimport ToggleTextLink from '../components/ToggleTextLink';\nimport { getSignOutLink } from '../utils/LinksUtil';\n\n/**\n * When `href` is present, the Link behaviors as normal link (anchor element).\n * When `actionPath` is present, the Link behaviors as link button\n *   on which user clicks, will trigger the action `actionPath`.\n * When `formName` is present, the link behaviors as link button\n *   on which user clicks, will submit a remediation form.\n *\n * @typedef {Object} Link\n * @property {string} label\n * @property {string} name\n * @property {string=} href\n * @property {string=} actionPath\n * @property {string=} formName\n */\n\n\nexport default View.extend({\n\n  className: 'auth-footer',\n\n  /**\n   * {Link[]} links\n   */\n  links: [],\n\n  /**\n   * View\n   * adds any view to the footer in footer info section\n   */ \n  footerInfo: null,\n\n  /**\n   * Boolean\n   * If false then 'Back to sign in' does not get added to the view\n   */\n  hasBackToSignInLink: true,\n\n  initialize() {\n    let links = _.resultCtx(this, 'links', this);\n    const footerInfo = _.resultCtx(this, 'footerInfo', this);\n    const hasBackToSignInLink = _.resultCtx(this, 'hasBackToSignInLink', this);\n\n    // safe check\n    // 1. avoid none array from override\n    // 2. ignore any none plain object arguments\n    if (!Array.isArray(links)) {\n      links = [];\n    } else {\n      links = links.filter(l => $.isPlainObject(l));\n    }\n\n    // add 'back to sign in' link if the form qualifies for it by default.\n    // Previously called cancel/Sign Out links\n    if (this.options.appState.shouldShowSignOutLinkInCurrentForm(\n      this.options.settings.get('features.hideSignOutLinkInMFA') ||\n      this.settings.get('features.mfaOnlyFlow')) && hasBackToSignInLink) {\n      links = links.concat(getSignOutLink(this.options.settings));\n    }\n\n    links.forEach(link => {\n      let LinkView = Link;\n      if (link.type === 'toggle-text-link') {\n        LinkView = ToggleTextLink;\n      }\n      this.add(LinkView, { options: link });\n    });\n\n    if (footerInfo) {\n      this.add(View.extend({\n        className: 'footer-info',\n      }));\n\n      this.add(footerInfo, '.footer-info');\n    }\n  }\n});\n","import polling from '../views/shared/polling';\nimport BaseForm from './BaseForm';\n\nexport default BaseForm.extend(Object.assign(\n  {\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      this.listenTo(this.options.appState, 'change:dynamicRefreshInterval', this.updateRefreshInterval);\n    },\n\n    updateRefreshInterval() {\n      if (this.polling) {\n        this.stopPolling();\n        this.startPolling(this.options.appState.get('dynamicRefreshInterval'));\n      }\n    },\n  },\n  polling,\n));\n","import { View, $ } from '@okta/courage';\nimport Animations from 'util/Animations';\nimport Enums from 'util/Enums';\n\nexport default View.extend({\n  HeaderBeacon: null,\n\n  initialize() {\n    if (this.HeaderBeacon) {\n      this.add(this.HeaderBeacon);\n    }\n  },\n\n  postRender() {\n    const mainContentContainer = $(`#${Enums.WIDGET_CONTAINER_ID}`);\n\n    if (this.HeaderBeacon) {\n      mainContentContainer.removeClass('no-beacon');\n\n      // animate beacon\n      const beaconContainer = this.$el.find('[data-type=\"beacon-container\"]');\n      Animations.explode(beaconContainer);\n    } else {\n      mainContentContainer.addClass('no-beacon');\n    }\n  },\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { _, Model } from '@okta/courage';\n\nconst convertUiSchemaFieldToProp = (uiSchemaField) => {\n  const config = Object.assign(\n    {},\n    _.chain(uiSchemaField)\n      .pick('minLength', 'maxLength', 'required', 'value')\n      .defaults({ type: 'string', required: true })\n      .value()\n  );\n\n  if (uiSchemaField.modelType) {\n    config.type = uiSchemaField.modelType;\n  }\n\n  return { [uiSchemaField.name]: config };\n};\n\nconst createPropsAndLocals = function(\n  remediation = {},\n  optionUiSchemaConfig = {},\n  props = {},\n  local = {}) {\n\n  const uiSchemas = remediation.uiSchema || [];\n\n  uiSchemas.forEach(schema => {\n    if (Array.isArray(schema.optionsUiSchemas)) {\n      let optionUiSchemaIndex;\n      let optionUiSchemaValue = {};\n\n      if (Number(schema.value) >= 0) {\n        optionUiSchemaIndex = schema.value;\n      }\n      if (optionUiSchemaConfig[schema.name]) {\n        optionUiSchemaValue = { value: optionUiSchemaConfig[schema.name] };\n        optionUiSchemaIndex = Number(optionUiSchemaValue.value);\n      }\n\n      Object.assign(\n        local,\n        convertUiSchemaFieldToProp(Object.assign({}, schema, optionUiSchemaValue)));\n\n      if (optionUiSchemaIndex) {\n        createPropsAndLocals(\n          { uiSchema: schema.optionsUiSchemas[optionUiSchemaIndex] },\n          optionUiSchemaConfig,\n          props,\n          local,\n        );\n      }\n    } else {\n      Object.assign(props, convertUiSchemaFieldToProp(schema));\n    }\n  });\n};\n\nconst create = function(remediation = {}, optionUiSchemaConfig = {}) {\n  const props = {};\n  const local = {\n    // current remediation form name\n    formName: 'string',\n    // use full page redirect instead of AJAX\n    useRedirect: 'boolean',\n  };\n  createPropsAndLocals(\n    remediation,\n    optionUiSchemaConfig,\n    props,\n    local);\n\n  const BaseModel = Model.extend({\n    props,\n    local,\n  });\n\n  return BaseModel;\n};\n\nexport default {\n  create,\n};\n","/* eslint max-statements: [2, 22] */\nimport { $ } from '@okta/courage';\nimport { BaseFormWithPolling } from '../internals';\nimport Logger from 'util/Logger';\nimport {\n  AUTHENTICATOR_CANCEL_ACTION,\n  AUTHENTICATION_CANCEL_REASONS,\n  CHALLENGE_TIMEOUT,\n} from '../utils/Constants';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport { \n  doChallenge,\n  cancelPollingWithParams,\n  createInvisibleIFrame,\n} from '../utils/ChallengeViewUtil';\n\nconst request = (opts) => {\n  const ajaxOptions = Object.assign({\n    method: 'GET',\n    contentType: 'application/json',\n  }, opts);\n  return $.ajax(ajaxOptions);\n};\n\nconst Body = BaseFormWithPolling.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  removed: false,\n\n  events: {\n    'click #launch-ov': function(e) {\n      e.preventDefault();\n      this.doCustomURI();\n    }\n  },\n\n  pollingCancelAction: AUTHENTICATOR_CANCEL_ACTION,\n\n  initialize() {\n    BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n    this.removed = false;\n    this.listenTo(this.model, 'error', this.onPollingFail);\n    this.doChallenge();\n    this.startPolling();\n  },\n\n  doChallenge() {\n    doChallenge(this);\n  },\n\n  onPollingFail() {\n    this.$('.spinner').hide();\n    this.stopPolling();\n  },\n\n  remove() {\n    BaseFormWithPolling.prototype.remove.apply(this, arguments);\n    this.removed = true;\n    this.stopProbing();\n    this.stopPolling();\n  },\n\n  getDeviceChallengePayload() {\n    throw new Error('getDeviceChallengePayload needs to be implemented');\n  },\n\n  doLoopback(deviceChallenge) {\n    let authenticatorDomainUrl = deviceChallenge.domain !== undefined ? deviceChallenge.domain : '';\n    let authenticatorHttpsDomainUrl = deviceChallenge.httpsDomain !== undefined ? deviceChallenge.httpsDomain : '';\n    let ports = deviceChallenge.ports !== undefined ? deviceChallenge.ports : [];\n    let maxNumberOfPorts = ports.length;\n    let challengeRequest = deviceChallenge.challengeRequest !== undefined ? deviceChallenge.challengeRequest : '';\n    let probeTimeoutMillis = deviceChallenge.probeTimeoutMillis !== undefined ?\n      deviceChallenge.probeTimeoutMillis : 100;\n    let currentPort;\n    let foundPort = false;\n    let ovFailed = false;\n    let countFailedPorts = 0;\n\n    const getAuthenticatorUrl = (path, domainUrl) => {\n      return `${domainUrl}:${currentPort}/${path}`;\n    };\n\n    const checkPort = (url) => {\n      return request({\n        url: url,\n        /*\n        OKTA-278573 in loopback server, SSL handshake sometimes takes more than 100ms and thus needs additional\n        timeout however, increasing timeout is a temporary solution since user will need to wait much longer in\n        worst case.\n        TODO: Android timeout is temporarily set to 3000ms and needs optimization post-Beta.\n        OKTA-365427 introduces probeTimeoutMillis; but we should also consider probeTimeoutMillisHTTPS for\n        customizing timeouts in the more costly Android and other (keyless) HTTPS scenarios.\n        */\n        timeout: BrowserFeatures.isAndroid() ? 3000 : probeTimeoutMillis\n      });\n    };\n\n    const onPortFound = (url) => {\n      return request({\n        url: url,\n        method: 'POST',\n        data: JSON.stringify({ challengeRequest }),\n        timeout: CHALLENGE_TIMEOUT // authenticator should respond within 5 min (300000ms) for challenge request\n      });\n    };\n\n    const onFailure = () => {\n      Logger.error(`Something unexpected happened while we were checking port ${currentPort}.`);\n      return $.Deferred().reject();\n    };\n\n    const doProbing = (domainUrl) => {\n      return checkPort(getAuthenticatorUrl('probe', domainUrl))\n        .then(() => {\n          return onPortFound(getAuthenticatorUrl('challenge', domainUrl))\n            .then(() => {\n              foundPort = true;\n              if (deviceChallenge.enhancedPollingEnabled !== false) {\n                // this way we can gurantee that\n                // 1. the polling is triggered right away (1ms interval)\n                // 2. Only one polling queue\n                // 3. follwoing polling will continue with refresh interval from previous polling response\n                // NOTE: technically, there could still be concurrency issue where when we called stopPolling,\n                // there is already a polling triggered and hasn't completed yet\n                // but the possibility would be much smaller than previous concurrency issue\n                // this is a best effort change\n                this.stopPolling();\n                this.startPolling(1);\n                return;\n              }\n              // once the OV challenge succeeds,\n              // triggers another polling right away without waiting for the next ongoing polling to be triggered\n              // to make the authentication flow goes faster \n              return this.trigger('save', this.model);\n            })\n            .catch((xhr) => {\n              countFailedPorts++;\n              // Windows and MacOS return status code 503 when \n              // there are multiple profiles on the device and\n              // the wrong OS profile responds to the challenge request\n              if (xhr.status !== 503) {\n                // when challenge responds with other errors,\n                // - stop the remaining probing\n                ovFailed = true;\n                // - cancel polling right away\n                cancelPollingWithParams(\n                  this.options.appState,\n                  this.pollingCancelAction,\n                  AUTHENTICATION_CANCEL_REASONS.OV_ERROR,\n                  xhr.status,\n                  !this.removed,\n                );\n              } else if (countFailedPorts === maxNumberOfPorts) {\n                // when challenge is responded by the wrong OS profile and\n                // all the ports are exhausted,\n                // cancel the polling like the probing has failed\n                cancelPollingWithParams(\n                  this.options.appState,\n                  this.pollingCancelAction,\n                  AUTHENTICATION_CANCEL_REASONS.LOOPBACK_FAILURE,\n                  null,\n                  !this.removed,\n                );\n              }\n            });\n        })\n        .catch(onFailure);\n    };\n\n    let probeChain = Promise.resolve();\n\n    const handlePortProbing = (port, baseUrl, checkPortMaxFailure) => {\n      probeChain = probeChain\n        .then(() => {\n          if (!(foundPort || ovFailed)) {\n            currentPort = port;\n            return doProbing(baseUrl);\n          }\n        })\n        .catch(() => {\n          countFailedPorts++;\n          Logger.error(`Authenticator is not listening on port ${currentPort}.`);\n          if (checkPortMaxFailure && countFailedPorts === maxNumberOfPorts) {\n            Logger.error('No available ports. Loopback server failed and polling is cancelled.');\n            // When no port is found, cancel the polling as well\n            // This is to avoid concurrency issue where /poll/cancel takes long time to complete\n            // and SIW will receive 400 error if the polling continues\n            this.stopPolling();\n            cancelPollingWithParams(\n              this.options.appState,\n              this.pollingCancelAction,\n              AUTHENTICATION_CANCEL_REASONS.LOOPBACK_FAILURE,\n              null,\n              !this.removed,\n            );\n          }\n        });\n    };\n\n    // If https domain exists, do https domain probe first\n    // This only applies to MacOS for now\n    if (authenticatorHttpsDomainUrl) {\n      // if https domain are included, max number of ports to be probed should be doubled\n      Logger.info('httpsDomain enabled, will probe and challenge https first');\n      maxNumberOfPorts += maxNumberOfPorts;\n      ports.forEach(port => {\n        handlePortProbing(port, authenticatorHttpsDomainUrl, false);\n      });\n    }\n\n    // Always do probe on regular domain\n    ports.forEach(port => {\n      handlePortProbing(port, authenticatorDomainUrl, true);\n    });\n  },\n\n  doCustomURI() {\n    this.ulDom && this.ulDom.remove();\n    const IframeView = createInvisibleIFrame('custom-uri-container', this.customURI);\n    this.ulDom = this.add(IframeView).last();\n  },\n\n  doChromeDTC(deviceChallenge) {\n    this.ulDom && this.ulDom.remove();\n    const IframeView = createInvisibleIFrame('chrome-dtc-container', deviceChallenge.href);\n    this.ulDom = this.add(IframeView).last();\n  },\n\n  stopProbing() {\n    this.checkPortXhr && this.checkPortXhr.abort();\n    this.probingXhr && this.probingXhr.abort();\n  },\n});\n\nexport default Body;\n","import { _, View } from '@okta/courage';\nimport BaseHeader from './BaseHeader';\nimport BaseForm from './BaseForm';\nimport BaseModel from './BaseModel';\nimport BaseFooter from './BaseFooter';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport {getClassNameMapping} from '../../ion/ViewClassNamesFactory';\n\nexport default View.extend({\n\n  Header: BaseHeader,\n\n  Body: BaseForm,\n\n  Footer: BaseFooter,\n\n  className() {\n    const appState = this.options.appState;\n\n    const formName = appState.get('currentFormName');\n    const authenticatorKey = appState.get('authenticatorKey');\n    const methodType = appState.get('authenticatorMethodType');\n    const isPasswordRecoveryFlow = appState.get('isPasswordRecoveryFlow');\n\n    const additionalClassNames = getClassNameMapping(\n      formName,\n      authenticatorKey,\n      methodType,\n      isPasswordRecoveryFlow,\n    );\n\n    const classNames = ['siw-main-view'].concat(additionalClassNames);\n    return classNames.join(' ');\n  },\n\n  template: hbs`\n    <div class=\"siw-main-header\"></div>\n    <div class=\"siw-main-body\"></div>\n    <div class=\"siw-main-footer\"></div>\n  `,\n\n  preRender() {\n    View.prototype.preRender.apply(this, arguments);\n    // Add Views\n    if (this.Header !== null) {\n      this.add(this.Header, {\n        selector: '.siw-main-header',\n        options: this.options,\n      });\n    }\n    this.renderForm();\n    this.add(this.Footer, {\n      selector : '.siw-main-footer',\n      options: this.options,\n    });\n  },\n\n  renderForm() {\n    let optionUiSchemaConfig;\n\n    if (this.form) {\n      this.form.remove();\n      optionUiSchemaConfig = this.form.model.toJSON({verbose: true});\n    }\n\n    // Create Model\n    const IonModel = this.createModelClass(\n      this.options.currentViewState,\n      optionUiSchemaConfig,\n      this.settings,\n    );\n\n    const model = new IonModel ({\n      formName: this.options.currentViewState.name,\n    });\n\n    if (!optionUiSchemaConfig) {\n      optionUiSchemaConfig = model.toJSON({verbose: true});\n    }\n\n    this.model = model;\n    this.form = this.add(this.Body, {\n      selector : '.siw-main-body',\n      options: Object.assign(\n        {},\n        this.options,\n        {\n          model,\n          optionUiSchemaConfig,\n        },\n      ),\n    }).last();\n\n    _.each(model.attributes, (value, key) => {\n      if (key.match(/sub_schema_local_[^ ]+/)) {\n        // in order to render different sub-schema\n        this.listenTo(model, `change:${key}`, () => {\n          this.renderForm();\n        });\n      }\n    });\n  },\n\n  createModelClass(currentViewState, optionUiSchemaConfig = {}) {\n    return BaseModel.create(currentViewState, optionUiSchemaConfig);\n  },\n\n});\n","export { default as BaseHeader } from './BaseHeader';\nexport { default as BaseFooter } from './BaseFooter';\nexport { default as BaseForm } from './BaseForm';\nexport { default as BaseFormWithPolling } from './BaseFormWithPolling';\nexport { default as BaseOktaVerifyChallengeView } from './BaseOktaVerifyChallengeView';\nexport { default as BaseModel } from './BaseModel';\nexport { default as BaseView } from './BaseView';\nexport { addCustomButton, createCustomButtons, createIdpButtons } from './FormInputFactory';\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport _ from 'underscore';\nimport { loc } from '../../../util/loc';\nimport FactorUtil from 'util/FactorUtil';\nimport { AUTHENTICATOR_KEY, ID_PROOFING_TYPE } from '../../ion/RemediationConstants';\n\nconst { getPasswordComplexityDescriptionForHtmlList } = FactorUtil;\n\nconst getButtonDataSeAttr = function(authenticator) {\n  if (authenticator.authenticatorKey) {\n    const method = authenticator.value?.methodType ?\n      '-' + authenticator.value?.methodType : '';\n    return authenticator.authenticatorKey + method;\n  }\n  return '';\n};\n\n/* eslint complexity: [0, 0], max-statements: [2, 25] */\nconst getAuthenticatorData = function(authenticator, isVerifyAuthenticator) {\n  const authenticatorKey = authenticator.authenticatorKey;\n  const key = _.isString(authenticatorKey) ? authenticatorKey.toLowerCase() : '';\n  let authenticatorData = {};\n  let nicknameText = isVerifyAuthenticator ? authenticator.relatesTo?.nickname : undefined;\n  switch (key) {\n  case AUTHENTICATOR_KEY.EMAIL:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? authenticator.relatesTo?.profile?.email || ''\n        : loc('oie.email.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-email',\n      noTranslateClassName: isVerifyAuthenticator ? 'no-translate' : '',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? getVerifyEmailAriaLabel(authenticator.relatesTo?.profile?.email)\n        : loc('oie.select.authenticator.enroll.email.label', 'login')\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.PASSWORD:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.password.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-password',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.password.label', 'login')\n        : loc('oie.select.authenticator.enroll.password.label', 'login')\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.PHONE:\n    Object.assign(authenticatorData, {\n      nickname: nicknameText,\n      description: isVerifyAuthenticator\n        ? authenticator.relatesTo?.profile?.phoneNumber\n        : loc('oie.phone.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-phone',\n      noTranslateClassName: isVerifyAuthenticator ? 'no-translate' : '',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? getVerifyPhoneAriaLabel(authenticator.relatesTo?.profile?.phoneNumber)\n        : loc('oie.select.authenticator.enroll.phone.label', 'login')\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.SECURITY_QUESTION:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.security.question.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-security-question',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.security.question.label', 'login')\n        : loc('oie.select.authenticator.enroll.security.question.label', 'login')\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.WEBAUTHN:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.webauthn.description', 'login'),\n      iconClassName: 'mfa-webauthn',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.webauthn.label', 'login')\n        : loc('oie.select.authenticator.enroll.webauthn.label', 'login')\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.OV:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? loc('oie.okta_verify.label', 'login')\n        : loc('oie.okta_verify.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-verify',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: getOktaVerifyAriaLabel(isVerifyAuthenticator, authenticator?.value?.methodType),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.GOOGLE_OTP:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.google_authenticator.authenticator.description', 'login'),\n      iconClassName: 'mfa-google-auth',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.ON_PREM: {\n    const vendorName =  authenticator.relatesTo?.displayName ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.on_prem.authenticator.description', 'login', [vendorName]),\n      iconClassName: 'mfa-onprem',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.RSA:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.rsa.authenticator.description', 'login'),\n      iconClassName: 'mfa-rsa',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.DUO:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.duo.authenticator.description', 'login'),\n      iconClassName: 'mfa-duo',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.IDP: {\n    const idpName =  authenticator.relatesTo?.displayName;\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.idp.authenticator.description', 'login', [idpName]),\n      iconClassName: 'mfa-custom-factor',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      logoUri : authenticator?.relatesTo?.logoUri || '',\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n  case AUTHENTICATOR_KEY.CUSTOM_OTP: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.custom_otp.description', 'login'),\n      iconClassName: 'mfa-hotp',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.SYMANTEC_VIP: {\n    const appName =  authenticator.relatesTo?.displayName;\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.symantecVip.authenticator.description', 'login', [appName]),\n      iconClassName: 'mfa-symantec',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.YUBIKEY: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.yubikey.authenticator.description', 'login'),\n      iconClassName: 'mfa-yubikey',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.CUSTOM_APP: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? authenticator?.relatesTo?.displayName\n        : loc('oie.custom.app.authenticator.description', 'login', [authenticator.label]),\n      noTranslateClassName: isVerifyAuthenticator ? 'no-translate' : '',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      iconClassName: 'mfa-custom-app-logo',\n      logoUri : authenticator?.relatesTo?.logoUri || '',\n      ariaLabel: isVerifyAuthenticator\n        ? loc(\n          'oie.select.authenticator.verify.named.authenticator.label',\n          'login',\n          [authenticator?.relatesTo?.displayName])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.SMARTCARD: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''  \n        : loc('oie.smartcard.authenticator.description', 'login'),\n      iconClassName: 'mfa-smartcard',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      ariaLabel: isVerifyAuthenticator\n        ? loc('oie.select.authenticator.verify.named.authenticator.label', 'login', [authenticator.label])\n        : loc('oie.select.authenticator.enroll.named.authenticator.label', 'login', [authenticator.label])\n    });\n    break;\n  }\n\n  }\n  return authenticatorData;\n};\n\nconst getIDProofingData = function(idvName) {\n  let idProofingData = {};\n \n  switch (idvName) {\n  case ID_PROOFING_TYPE.IDV_PERSONA:\n    idProofingData = {\n      iconClassName: 'mfa-idv-persona',\n    };\n    break;\n  }\n  return idProofingData;\n};\n\nexport function getVerifyEmailAriaLabel(email) {\n  return email\n    ? loc('oie.select.authenticator.verify.email.with.email.label', 'login', [email])\n    : loc('oie.select.authenticator.verify.email.label', 'login');\n}\n\nexport function getVerifyPhoneAriaLabel(phone) {\n  return phone\n    ? loc('oie.select.authenticator.verify.phone.with.phone.label', 'login', [phone])\n    : loc('oie.select.authenticator.verify.phone.label', 'login');\n}\n\nexport function getOktaVerifyAriaLabel(isVerify, methodType) {\n  if (!isVerify) {\n    return loc('oie.select.authenticator.enroll.okta_verify.authenticator.label', 'login');\n  }\n  const defaultLabel = loc('oie.select.authenticator.verify.okta_verify.label', 'login');\n  if (typeof methodType === 'undefined') {\n    return defaultLabel;\n  }\n  const methodTypeLabelMap = {\n    push: loc('oie.select.authenticator.okta_verify.push.label', 'login'),\n    totp: loc('oie.select.authenticator.okta_verify.totp.label', 'login'),\n    'signed_nonce': loc('oie.select.authenticator.okta_verify.signed_nonce.label', 'login'),\n  };\n  return methodTypeLabelMap[methodType] || defaultLabel;\n}\n\nexport function getAuthenticatorDataForEnroll(authenticator) {\n  return getAuthenticatorData(authenticator);\n}\n\nexport function getAuthenticatorDataForVerification(authenticator) {\n  return getAuthenticatorData(authenticator, true);\n}\n\nexport function getIconClassNameForBeacon(authenticatorKey, idvName) {\n  return getAuthenticatorData({ authenticatorKey }).iconClassName || getIDProofingData(idvName).iconClassName;\n}\n\nexport function removeRequirementsFromError(errorJSON) {\n  if (errorJSON.errorCauses?.length > 0\n    && Array.isArray(errorJSON.errorCauses[0].errorSummary)\n    && errorJSON.errorCauses[0].errorSummary.length > 0) {\n    // Change from Array to string for all errors.\n    errorJSON.errorCauses[0].errorSummary = errorJSON.errorCauses[0].errorSummary[0];\n\n    // Overrides for particular error messages.\n    const errorKey = errorJSON.errorCauses[0].errorKey?.length > 0 && errorJSON.errorCauses[0].errorKey[0];\n    // Remove the requirements string only if this is requirements were not met error.\n    if (errorKey === 'password.passwordRequirementsNotMet') {\n      errorJSON.errorCauses[0].errorSummary = loc('registration.error.password.passwordRequirementsNotMet', 'login');\n    }\n  }\n  return errorJSON;\n}\n\n/**\n * Get authenticator display name from {@code remediation}.\n *\n * @param {Object} remediation\n */\nexport function getAuthenticatorDisplayName(remediation) {\n  return remediation.relatesTo?.value?.displayName;\n}\n\n// Re-export function from FactorUtil\nexport { getPasswordComplexityDescriptionForHtmlList };\n","import Util from '../../../util/Util';\nimport {BaseHeader} from '../internals';\nimport {BaseAuthenticatorBeacon} from '../components/BaseAuthenticatorView';\nimport {AUTHENTICATOR_KEY} from '../../ion/RemediationConstants';\n\nfunction getHeader() {\n  if (Util.isAndroidOVEnrollment()) {\n    return BaseHeader.extend({\n      HeaderBeacon: BaseAuthenticatorBeacon.extend({\n        authenticatorKey: AUTHENTICATOR_KEY.OV,\n      })\n    });\n  } else {\n    return BaseHeader;\n  }\n}\n\nexport { getHeader };\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, View, createButton, _ } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nimport Util from 'util/Util';\nimport {\n  FASTPASS_FALLBACK_SPINNER_TIMEOUT,\n  IDENTIFIER_FLOW,\n  LOOPBACK_RESPONSE_STATUS_CODE,\n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP, \n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE,\n  REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON,\n} from '../utils/Constants';\n\nexport function appendLoginHint(deviceChallengeUrl, loginHint) {\n  if (deviceChallengeUrl && loginHint) {\n    deviceChallengeUrl += '&login_hint=' + loginHint;\n  }\n\n  return deviceChallengeUrl;\n}\n\nexport function doChallenge(view, fromView) {\n  const deviceChallenge = view.getDeviceChallengePayload();\n  const loginHint = view.options?.settings?.get('identifier');\n  const HIDE_CLASS = 'hide';\n  switch (deviceChallenge.challengeMethod) {\n  case Enums.LOOPBACK_CHALLENGE:\n    view.title = loc('deviceTrust.sso.redirectText', 'login');\n    view.add(View.extend({\n      className: 'loopback-content',\n      template: hbs`<div class=\"spinner\"></div>`\n    }));\n    view.doLoopback(deviceChallenge);\n    break;\n  case Enums.CUSTOM_URI_CHALLENGE:\n    view.title = loc('customUri.title', 'login');\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n            <p>\n              {{i18n code=\"customUri.required.content.prompt\" bundle=\"login\"}}\n            </p>\n          `,\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      id: 'launch-ov',\n      click: () => {\n        view.doCustomURI();\n      }\n    }));\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n          <p>\n            {{i18n code=\"customUri.required.content.download.title\" bundle=\"login\"}}\n          </p>\n          <p>\n            <a href=\"{{downloadOVLink}}\" target=\"_blank\" id=\"download-ov\" class=\"link\">\n              {{i18n code=\"customUri.required.content.download.linkText\" bundle=\"login\"}}\n            </a>\n          </p>\n          `,\n      getTemplateData() {\n        return {\n          downloadOVLink: deviceChallenge.downloadHref\n        };\n      },\n    }));\n    view.customURI = appendLoginHint(deviceChallenge.href, loginHint);\n    view.doCustomURI();\n    break;\n  case Enums.UNIVERSAL_LINK_CHALLENGE:\n    view.title = loc('universalLink.title', 'login');\n    view.add(View.extend({\n      className: 'universal-link-content',\n      template: hbs`\n            <div class=\"spinner\"></div>\n            {{i18n code=\"universalLink.content\" bundle=\"login\"}}\n          `\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open universal link in iOS/MacOS\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl);\n      }\n    }));\n    break;\n  case Enums.APP_LINK_CHALLENGE:\n    view.title = loc('appLink.title', 'login');\n    view.add(View.extend({\n      className: 'app-link-content',\n      template: hbs`\n        <div class=\"spinner {{hideClass}}\"></div>\n        <div class=\"appLinkContent {{hideClass}}\">{{i18n code=\"appLink.content\" bundle=\"login\"}}</div>\n      `,\n      getTemplateData() {\n        return { hideClass: HIDE_CLASS };\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          this.$('.spinner').removeClass(HIDE_CLASS);\n          setTimeout(_.bind(()=> {\n            const data = { label: loc('goback', 'login') };\n            this.options.appState.trigger('updateFooterLink', data);\n            this.$('.spinner').addClass(HIDE_CLASS);\n            this.$('.appLinkContent').removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$('.appLinkContent').removeClass(HIDE_CLASS);\n        }\n      },\n    }));\n    view.add(createButton({\n      className: `${HIDE_CLASS} al-button button button-wide button-primary`,\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open app link in Android\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl, window, true);\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          setTimeout(_.bind(()=> {\n            this.$el.removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$el.removeClass(HIDE_CLASS);\n        }\n      }\n    }));\n    break;\n  case Enums.CHROME_DTC:\n    // reusing the existing message for Chrome DTC\n    view.title = loc('deviceTrust.sso.redirectText', 'login');\n    view.add(View.extend({\n      className: 'chrome-dtc-content',\n      template: hbs`\n            <div class=\"spinner\"></div>\n          `\n    }));\n    view.doChromeDTC(deviceChallenge);\n    break;\n  }\n}\n\nexport function cancelPollingWithParams(appState, pollingCancelAction, cancelReason, statusCode, showFormErrors) {\n  const actionParams = {};\n  actionParams[REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON] = cancelReason;\n  actionParams[LOOPBACK_RESPONSE_STATUS_CODE] = statusCode;\n  appState.trigger('invokeAction', pollingCancelAction, actionParams, showFormErrors);\n}\n\nexport function getBiometricsErrorOptions(error, isMessageObj) {\n  let errorSummaryKeys;\n  if (isMessageObj) {\n    errorSummaryKeys  = Object.values(error?.value[0]?.i18n);\n  } else {\n    errorSummaryKeys = error?.responseJSON?.errorSummaryKeys;\n  }\n\n  const isBiometricsRequiredMobile = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE);\n  const isBiometricsRequiredDesktop = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP);\n  let options = [];\n\n  if (!isBiometricsRequiredMobile && !isBiometricsRequiredDesktop) {\n    return options;\n  }\n\n  const bulletPoints = [\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point1', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point2', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point3', 'login')\n  ];\n\n  // Add an additional bullet point for desktop devices\n  if (isBiometricsRequiredDesktop) {\n    bulletPoints.push(\n      loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point4', 'login')\n    );\n  }\n\n  options = {\n    type: 'error',\n    className: 'okta-verify-uv-callout-content',\n    title: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.title', 'login'),\n    subtitle: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.description', 'login'),\n    bullets: bulletPoints,\n  };\n\n  return options;\n}\n\nexport function createInvisibleIFrame(iFrameId, iFrameSrc) {\n  const iFrameView = View.extend({\n    tagName: 'iframe',\n    id: iFrameId,\n    attributes: {\n      src: iFrameSrc,\n    },\n    initialize() {\n      this.el.style.display = 'none';\n    }\n  });\n  return iFrameView;\n}\n","export const SHOW_RESEND_TIMEOUT = 30000;\nexport const WARNING_TIMEOUT = 30000;\nexport const CHALLENGE_TIMEOUT = 300000;\nexport const MS_PER_SEC = 1000;\nexport const UNIVERSAL_LINK_POST_DELAY = 500;\nexport const CANCEL_POLLING_ACTION = 'authenticatorChallenge-cancel';\nexport const AUTHENTICATOR_CANCEL_ACTION = 'currentAuthenticator-cancel';\nexport const WIDGET_FOOTER_CLASS = 'siw-main-footer';\nexport const FASTPASS_FALLBACK_SPINNER_TIMEOUT = 4000;\nexport const IDENTIFIER_FLOW = 'IDENTIFIER';\nexport const OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP \n  = 'oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.desktop';\nexport const OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE \n  = 'oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.mobile';\nexport const AUTHENTICATOR_ALLOWED_FOR_OPTIONS = {\n  ANY: 'any',\n  SSO: 'sso',\n  RECOVERY: 'recovery',\n};\nexport const REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON = 'reason';\nexport const LOOPBACK_RESPONSE_STATUS_CODE = 'statusCode';\nexport const AUTHENTICATION_CANCEL_REASONS = {\n  LOOPBACK_FAILURE: 'OV_UNREACHABLE_BY_LOOPBACK',\n  OV_ERROR: 'OV_RETURNED_ERROR',\n  USER_CANCELED: 'USER_CANCELED',\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default {\n  generateDeviceFingerprint(authClient, container) {\n    return authClient.fingerprint({\n      timeout: 2000,\n      container,\n    });\n  }\n};\n","import { loc, _ } from '@okta/courage';\nimport { ACTIONS, FORMS as RemediationForms } from '../../ion/RemediationConstants';\n\nconst { ENROLLED_PASSWORD_RECOVERY_LINK, ORG_PASSWORD_RECOVERY_LINK } = ACTIONS;\n\nconst getSwitchAuthenticatorLink = (appState) => {\n  if (appState.getRemediationAuthenticationOptions(RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE).length > 1) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.verification.switch.authenticator', 'login'),\n        'name': 'switchAuthenticator',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE,\n      }\n    ];\n  }\n\n  if (appState.getRemediationAuthenticationOptions(RemediationForms.SELECT_AUTHENTICATOR_ENROLL).length >= 1) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.enroll.switch.authenticator', 'login'),\n        'name': 'switchAuthenticator',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_ENROLL,\n      }\n    ];\n  }\n\n  return [];\n};\n\nconst getForgotPasswordLink = (appState, settings) => {\n  const forgotPasswordLink = {\n    'type': 'link',\n    'label': loc('forgotpassword', 'login'),\n    'name': 'forgot-password',\n  };\n\n  const customForgotPasswordHref = settings.get('helpLinks.forgotPassword');\n\n  if (customForgotPasswordHref) {\n    return [\n      Object.assign({}, {\n        'href': customForgotPasswordHref,\n        'label': loc('forgotpassword', 'login'),\n        'name': 'forgot-password',\n      }),\n    ];\n  }\n\n  // at identify page when only Org Authenticator Password may be available\n  else if (appState.getActionByPath(ORG_PASSWORD_RECOVERY_LINK)) {\n    return [\n      Object.assign({}, forgotPasswordLink, { actionPath: ORG_PASSWORD_RECOVERY_LINK })\n    ];\n  }\n\n  // at password verify page\n  else if (appState.getActionByPath(ENROLLED_PASSWORD_RECOVERY_LINK)) {\n    return [\n      Object.assign({}, forgotPasswordLink, { actionPath: ENROLLED_PASSWORD_RECOVERY_LINK })\n    ];\n  }\n\n  return [];\n};\n\nconst goBackLink = (appState) => {\n  if (appState.hasRemediationObject(RemediationForms.SELECT_AUTHENTICATOR_ENROLL)) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.go.back', 'login'),\n        'name': 'go-back',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_ENROLL,\n      }\n    ];\n  }\n\n  return [];\n};\n\nconst getSkipSetupLink = (appState, linkName) => {\n  if (appState.hasRemediationObject(RemediationForms.SKIP)) {\n    return [\n      {\n        'type': 'link',\n        'label': linkName ?? loc('oie.enroll.skip.setup', 'login'),\n        'name': 'skip-setup',\n        'actionPath': RemediationForms.SKIP,\n      }\n    ];\n  }\n\n  return [];\n};\n\n// When there is a 'cancel' object in remediation\nconst getSignOutLink = (settings, options = {}) => {\n  if (settings?.get('backToSignInUri')) {\n    return [\n      {\n        'label': loc('goback', 'login'),\n        'name': 'cancel',\n        'href': settings.get('backToSignInUri')\n      },\n    ];\n  }\n\n  return [\n    {\n      'actionPath': 'cancel',\n      'label': !options.label ? loc('goback', 'login') : options.label,\n      'name': 'cancel',\n      'type': 'link'\n    },\n  ];\n};\n\n// Use it to create a widget configured link in the absence of `cancel` object in remediation\nconst getBackToSignInLink = ({settings, appState}) => {\n  const link = {};\n\n  // If backToSignInLink is set, use this value for all scenarios\n  if (settings?.get('backToSignInUri')) {\n    link.href = settings.get('backToSignInUri');\n  }\n  // fallback for embedded scenarios\n  else if (settings?.get('oauth2Enabled')) {\n    link.clickHandler = () => {\n      appState.trigger('restartLoginFlow');\n    };\n  }\n  // fallback for okta-hosted scenarios (backend should set signOutLink or backToSignOutLink)\n  else {\n    link.href = settings?.get('baseUrl');\n  }\n\n  return [\n    {\n      'type': 'link',\n      'label': loc('goback', 'login'),\n      'name': 'go-back',\n      ...link\n    },\n  ];\n};\n\nconst getReloadPageButtonLink = () => {\n  return [\n    {\n      'type': 'link',\n      'label': loc('oie.try.again', 'login'),\n      'name': 'try-again',\n      'href': window.location,\n      'className': 'button button-primary text-align-c'\n    },\n  ];\n};\n\nconst getSignUpLink = (appState, settings) => {\n  const signupLink = [];\n\n  if (appState.hasRemediationObject(RemediationForms.SELECT_ENROLL_PROFILE)) {\n    const signupLinkData = {\n      'type': 'link',\n      'label': loc('oie.registration.form.title', 'login'),\n      'name': 'enroll'\n    };\n    if (_.isFunction(settings.get('registration.click'))) {\n      signupLinkData.clickHandler = settings.get('registration.click');\n    } else {\n      signupLinkData.actionPath = RemediationForms.SELECT_ENROLL_PROFILE;\n    }\n    signupLink.push(signupLinkData);\n  }\n\n  return signupLink;\n};\n\nconst getFactorPageCustomLink = (appState, settings) => {\n  const factorPageCustomLink = [];\n  const formsNeedFactorPageCustomLink = [\n    RemediationForms.CHALLENGE_AUTHENTICATOR,\n    RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE,\n    RemediationForms.CHALLENGE_POLL,\n    RemediationForms.AUTHENTICATOR_VERIFICATION_DATA,\n  ];\n\n  if (!appState.get('isPasswordRecovery') && formsNeedFactorPageCustomLink.includes(appState.get('currentFormName'))) {\n    const helpLinksFactorPageLabel = settings.get('helpLinks.factorPage.text');\n    const helpLinksFactorPageHref = settings.get('helpLinks.factorPage.href');\n\n    if (helpLinksFactorPageLabel && helpLinksFactorPageHref) {\n      factorPageCustomLink.push({\n        type: 'link',\n        label: helpLinksFactorPageLabel,\n        name: 'factorPageHelpLink',\n        href: helpLinksFactorPageHref,\n        target: '_blank',\n      });\n    }\n  }\n  return factorPageCustomLink;\n};\n\nexport {\n  getSwitchAuthenticatorLink,\n  getForgotPasswordLink,\n  goBackLink,\n  getSignUpLink,\n  getSignOutLink,\n  getBackToSignInLink,\n  getSkipSetupLink,\n  getReloadPageButtonLink,\n  getFactorPageCustomLink,\n};\n","export default {\n  GMT: 'UTC',\n  WET: 'WET',\n  CET: 'CET',\n  MET: 'CET',\n  ECT: 'CET',\n  EET: 'EET',\n  MIT: 'Pacific/Apia',\n  HST: 'Pacific/Honolulu',\n  AST: 'America/Anchorage',\n  PST: 'America/Los_Angeles',\n  MST: 'America/Denver',\n  PNT: 'America/Phoenix',\n  CST: 'America/Chicago',\n  EST: 'America/New_York',\n  IET: 'America/Indiana/Indianapolis',\n  PRT: 'America/Puerto_Rico',\n  CNT: 'America/St_Johns',\n  AGT: 'America/Argentina/Buenos_Aires',\n  BET: 'America/Sao_Paulo',\n  ART: 'Africa/Cairo',\n  CAT: 'Africa/Harare',\n  EAT: 'Africa/Addis_Ababa',\n  NET: 'Asia/Yerevan',\n  PLT: 'Asia/Karachi',\n  IST: 'Asia/Kolkata',\n  BST: 'Asia/Dhaka',\n  VST: 'Asia/Ho_Chi_Minh',\n  CTT: 'Asia/Shanghai',\n  JST: 'Asia/Tokyo',\n  ACT: 'Australia/Darwin',\n  AET: 'Australia/Sydney',\n  SST: 'Pacific/Guadalcanal',\n  NST: 'Pacific/Auckland',\n};\n","import { _, loc, createCallout, createButton } from '@okta/courage';\nimport { BaseForm, BaseView } from '../internals';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants';\nimport CustomAccessDeniedErrorMessage from '../views/shared/CustomAccessDeniedErrorMessage';\nimport Util from 'util/Util';\nimport { getHeader } from '../utils/AutoRedirectUtil';\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nconst Body = BaseForm.extend({\n  /* eslint complexity: [2, 16] */\n  title() {\n    let titleString = loc('oie.success.text.signingIn', 'login');\n    // For more info on the API response available in appState, see IdxResponseBuilder.java\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user');\n\n    // OKTA-635926: add user gesture for ov enrollment on android\n    if (Util.isAndroidOVEnrollment()) {\n      titleString = loc('oie.success.text.signingIn.with.appName.android.ov.enrollment', 'login');\n      return titleString;\n    }\n\n    // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n\n    if (_.isEmpty(app)) {\n      return titleString;\n    }\n\n    const { label: appInstanceName, name: appDisplayName } = app;\n    const { identifier: userEmail } = user || {};\n\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n\n    return titleString;\n  },\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const { message, links } = this.options.appState.get('messages').value.find(\n        msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({ message, links })\n      }));\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    if (Util.isAndroidOVEnrollment()) {\n      const currentViewState = this.options.appState.getCurrentViewState();\n      this.add(createButton({\n        className: 'ul-button button button-wide button-primary hide-underline',\n        title: loc('oktaVerify.open.button', 'login'),\n        id: 'launch-enrollment-ov',\n        click: () => {\n          Util.redirectWithFormGet(currentViewState.href);\n        }\n      }));\n    } else if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Header: getHeader(),\n  Body: Body\n});\n","import { loc, View } from '@okta/courage';\nimport { BaseFooter, BaseForm, BaseView } from '../internals';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { getSkipSetupLink } from '../utils/LinksUtil';\n\nconst Body = BaseForm.extend({\n\n  className: 'profile-update',\n\n  title() {\n    return loc('oie.profile.additional.title', 'login');\n  },\n  \n  save() {\n    return loc('enroll.choices.submit.finish', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    uiSchemas.forEach(input => {\n      if (input.name === 'userProfile.secondEmail') {\n        input.explain = View.extend({\n          template: hbs`{{{i18n\n            code=\"oie.profile.additional.secondemail.subtitle\"\n            bundle=\"login\" \n            $1=\"<span class='strong'>$1</span>\"}}}`\n        });\n      }\n    });\n    \n    return uiSchemas;\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  className: 'auth-footer side-by-side-links',\n  links: function() {\n    const { uiSchema } = this.options.currentViewState;\n    const optionalParams = uiSchema.filter(item => item.required === false);\n    if(uiSchema.length === optionalParams.length) {\n      return getSkipSetupLink(this.options.appState, loc('oie.enroll.skip.profile', 'login'));\n    } else {\n      this.$el.removeClass('.side-by-side-links');\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer,\n\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n    /**\n     * As per requirement of this flow set secondEmail default to empty string, if exists in remediation\n     * ideally server should have passed default string in remediation\n     */\n    if (this.options.appState.getSchemaByName('userProfile.secondEmail')) {\n      this.model.set('userProfile.secondEmail', '');\n    }\n  }\n});","import { loc, Model, _ } from '@okta/courage';\nimport { BaseForm, BaseFooter, BaseView, createIdpButtons } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getPasswordComplexityDescriptionForHtmlList } from '../utils/AuthenticatorUtil';\nimport { generatePasswordPolicyHtml } from './password/PasswordPolicyUtil';\nimport signInWithIdps from './signin/SignInWithIdps';\n\nconst Body = BaseForm.extend({\n  title() {\n    if (this.options.appState.getCurrentViewState().href.endsWith('idp/idx/enroll/update')) {\n      const attributes = this.options.appState.attributes;\n      if (attributes?.uiDisplay?.label) {\n        return loc('oie.registration.form.customize.label', 'login', [attributes.uiDisplay.label]);\n      } else {\n        return loc('oie.primaryauth.submit', 'login');\n      }\n    }\n    return loc('oie.registration.form.title', 'login');\n\n  },\n\n  save() {\n    if (this.options.appState.getCurrentViewState().href.endsWith('idp/idx/enroll/update')) {\n      const attributes = this.options.appState.attributes;\n      if (attributes?.uiDisplay?.buttonLabel) {\n        return loc('oie.registration.form.customize.buttonLabel', 'login', [attributes.uiDisplay.buttonLabel]);\n      } else {\n        return loc('oie.registration.form.update.submit', 'login');\n      }\n    }\n    return loc('oie.registration.form.submit', 'login');\n\n  },\n  saveForm() {\n    // SIW customization hook for registration\n    this.settings.preRegistrationSubmit(this.model.toJSON(),\n      (postData) => {\n        this.model.attributes = {...this.model.attributes, ...this.model.parse(postData)};\n        BaseForm.prototype.saveForm.call(this, this.model);\n      },\n      (error) => this.model.trigger('error', this.model, {\n        responseJSON: error,\n      })\n    );\n  },\n  triggerAfterError(model, error) {\n    // render errors to view\n    const hasErrors = error?.responseJSON?.errorCauses\n      && Array.isArray(error.responseJSON.errorCauses);\n\n    if (hasErrors) {\n      error.responseJSON.errorCauses.forEach((err) => {\n        // only do this for invalid password for password with SSR\n        if (err.errorKey?.includes('password.passwordRequirementsNotMet')) {\n          err.errorSummary = loc('registration.error.password.passwordRequirementsNotMet', 'login');\n        } \n      });\n    }\n\n    this.options.appState.trigger('afterError', error);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject(RemediationForms.SELECT_IDENTIFY)) {\n      links.push({\n        'type': 'link',\n        'label': loc('haveaccount', 'login'),\n        'name': 'back',\n        'actionPath': RemediationForms.SELECT_IDENTIFY,\n      });\n    }\n    return links;\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer,\n  createModelClass(currentViewState, optionUiSchemaConfig, settings) {\n    const currentSchema = JSON.parse(JSON.stringify((currentViewState.uiSchema)));\n    let ModelClass = BaseView.prototype.createModelClass.apply(this, arguments, currentViewState);\n\n    ModelClass = ModelClass.extend({\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments, currentViewState);\n        // delete optional attributes if they are empty and not required\n        if(modelJSON.userProfile) {\n          const uiSchema = currentViewState.uiSchema;\n          const userProfile = modelJSON.userProfile;\n          _.each(userProfile, (value, name) => {\n            if (_.isEmpty(value)) {\n              const uiSchemaProperty = uiSchema.find(schema => schema.name === `userProfile.${name}`);\n              if (!_.isUndefined(uiSchemaProperty) && !uiSchemaProperty.required) {\n                delete userProfile[name];\n              }\n            }\n          });\n        }\n        return modelJSON;\n      }\n    });\n\n    settings.parseRegistrationSchema(currentSchema,\n      (schema) => {\n        if (!_.isEqual(schema, currentViewState.uiSchema)) {\n          currentViewState.uiSchema = schema;\n          ModelClass = BaseView.prototype.createModelClass.call(this, currentViewState, optionUiSchemaConfig);\n        }\n      },\n      (error) => {\n        ModelClass = ModelClass.extend({\n          local: {\n            parseSchemaError: {\n              value: error,\n              type: 'object',\n            },\n            ...ModelClass.prototype.local\n          },\n        });\n      }\n    );\n    return ModelClass;\n  },\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n\n    const modelError = this.model.get('parseSchemaError');\n\n    if (modelError) {\n      this.model.trigger('error', this.model, {\n        responseJSON: modelError,\n      });\n    }\n\n    // Prompt for password w/ SSR if enabled (credentials object in remediation)\n    this.renderPasswordPolicySettings();\n\n    const idpButtons = createIdpButtons(this.options);\n    if (Array.isArray(idpButtons) && idpButtons.length) {\n      this._addIdpView(idpButtons);\n    }\n    \n  },\n  renderPasswordPolicySettings() {\n    // retrieve password policy from \"credentials\" object in remediation\n    const currentViewState = this.options.currentViewState.value;\n    const credentials = currentViewState.filter((obj) => { return obj.name === 'credentials'; })[0];\n\n    // if \"passcode\" is present in \"credentials\", render password rules\n    const form = credentials?.form?.value;\n    if (form && form.filter((obj) => { return obj.name === 'passcode'; })) {\n      generatePasswordPolicyHtml(this,\n        getPasswordComplexityDescriptionForHtmlList(credentials?.relatesTo?.value?.settings),\n        false);\n    }\n  },\n\n  _addIdpView(idpButtons) {\n    // We check the 'idpDisplay' option config to determine whether to render the idp buttons \n    // above or below the login fields\n    const idpDisplay = this.options.settings.get('idpDisplay');\n    const isPrimaryIdpDisplay = idpDisplay && idpDisplay.toUpperCase() === 'PRIMARY';\n\n    this.add(signInWithIdps, {\n      prepend: isPrimaryIdpDisplay,\n      selector: isPrimaryIdpDisplay ? '.o-form-fieldset-container' : '.o-form-button-bar',\n      options: {\n        idpButtons,\n        isPrimaryIdpDisplay\n      }\n    });\n  },\n});\n","import { _, loc, createCallout } from '@okta/courage';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { BaseForm, BaseView, createIdpButtons, createCustomButtons } from '../internals';\nimport CryptoUtil from '../../../util/CryptoUtil';\nimport DeviceFingerprinting from '../utils/DeviceFingerprinting';\nimport IdentifierFooter from '../components/IdentifierFooter';\nimport Link from '../components/Link';\nimport signInWithIdps from './signin/SignInWithIdps';\nimport customButtonsView from './signin/CustomButtons';\nimport signInWithDeviceOption from './signin/SignInWithDeviceOption';\nimport signInWithWebAuthn from './signin/SignInWithWebAuthn';\nimport { isCustomizedI18nKey, getMessageFromBrowserError } from '../../ion/i18nTransformer';\nimport { getForgotPasswordLink } from '../utils/LinksUtil';\nimport CookieUtil from 'util/CookieUtil';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage';\nimport Util from 'util/Util';\nimport webauthn from '../../../util/webauthn';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\n\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('primaryauth.title', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    const uiSchema = this.getUISchema();\n    if (uiSchema.find(schema => schema.name === 'credentials.passcode')) {\n      this.save = loc('oie.primaryauth.submit', 'login');\n    }\n\n    // Precedence for pre-filling identifier field:\n    // 1. Use username/identifier from the config.\n    // 2. Use identifier value returned in remediation response (model will have this attr set if it's there)\n    // 3. Use value from the \"remember my username\" cookie.\n    if(this._shouldAddUsername(uiSchema)) {\n      // Set username/identifier from the config (i.e. config.username)\n      this.model.set('identifier', this.settings.get('username'));\n    } else if (!this.model.get('identifier') && this._shouldApplyRememberMyUsername(uiSchema)) {\n      // Use value from cookie if the remediation did not return identifier value.\n      this._applyRememberMyUsername();\n    }\n  },\n\n  saveForm() {\n    // Before the XHR is made for \"identify\", we'll generate one-time use fingerprint via\n    // a hidden-iframe (similar to authn/v1 flows)\n\n    // Ideally this can be added to a \"preSaveForm\" handler - but keeping this here for now.\n    if (!this.settings.get('features.deviceFingerprinting')) {\n      BaseForm.prototype.saveForm.apply(this, arguments);\n      return;\n    }\n\n    // Toggle Form saving status (e.g. disabling save button, etc)\n    this.model.trigger('request');\n\n    // For certain flows, we need to generate a device fingerprint\n    // to determine if we need to send a \"New Device Sign-on Notification\".\n    const authClient = this.settings.getAuthClient();\n    DeviceFingerprinting.generateDeviceFingerprint(authClient, this.$el[0])\n      .then(fingerprint => {\n        this.options.appState.set('deviceFingerprint', fingerprint);\n      })\n      .catch(() => { /* Keep going even if device fingerprint fails */ })\n      .finally(() => {\n        BaseForm.prototype.saveForm.apply(this, arguments);\n      });\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n\n    // Launch Device Authenticator\n    if (this.options.appState.hasRemediationObject(RemediationForms.LAUNCH_AUTHENTICATOR)) {\n      this.add(signInWithDeviceOption, '.o-form-fieldset-container', false, true, { isRequired: false });\n    }\n\n    if (this.options.appState.hasRemediationObject(RemediationForms.LAUNCH_WEBAUTHN_AUTHENTICATOR)) {\n      this.add(signInWithWebAuthn, '.o-form-fieldset-container', false, true, { isRequired: false });\n    }\n\n    // add forgot password link and external idps buttons if needed\n    const idpButtons = createIdpButtons(this.options);\n    if (Array.isArray(idpButtons) && idpButtons.length) {\n      // Add the forgot password link before the buttons for multiple IDPs\n      this._addForgotPasswordView();\n      this._addIdpView(idpButtons);\n    }\n\n    const customButtons = createCustomButtons(this.options.settings);\n    if (Array.isArray(customButtons) && customButtons.length) {\n      this.add(customButtonsView, {\n        selector: '.o-form-button-bar',\n        options: {\n          customButtons,\n          addSeparateLine: true,\n        }\n      });\n    }\n  },\n\n  postRender() {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    // When a user enters invalid credentials, /introspect returns an error,\n    // along with a user object containing the identifier entered by the user.\n    this.$el.find('.identifier-container').remove();\n    this.getCredentialsAndInvokeAction();\n  },\n\n  /**\n   * Update UI schemas for customization from .widgetrc.js or Admin Customization settings page.\n   * @returns Array\n   */\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    const { settings } = this.options;\n    const identifierExplainLabeli18nKey = 'primaryauth.username.tooltip';\n    const passwordExplainLabeli18nKey = 'primaryauth.password.tooltip';\n\n    let newSchemas = schemas.map(schema => {\n      let newSchema = { ...schema };\n\n      if (schema.name === 'identifier') {\n        if (isCustomizedI18nKey(identifierExplainLabeli18nKey, settings)) {\n          newSchema = {\n            ...newSchema,\n            explain: loc(identifierExplainLabeli18nKey, 'login'),\n            'explain-top': true,\n          };\n        }\n\n        const isAutoFillUIChallenge =\n          this.options.appState.hasRemediationObject(RemediationForms.CHALLENGE_WEBAUTHN_AUTOFILLUI_AUTHENTICATOR);\n        // Setting the autocomplete value to 'webauthn' allows the browser to list passkeys alongside usernames\n        const autoCompleteDefaultValue = isAutoFillUIChallenge && webauthn.isConditionalMediationAvailable()\n          ? 'username webauthn'\n          : 'username';\n        // We enable the browser's autocomplete for the identifier input\n        // because we want to allow the user to choose from previously used identifiers.\n        newSchema = {\n          ...newSchema,\n          autoComplete: Util.getAutocompleteValue(this.options.settings, autoCompleteDefaultValue)\n        };\n      } else if (schema.name === 'credentials.passcode') {\n        newSchema = {\n          ...newSchema,\n          autoComplete: Util.getAutocompleteValue(this.options.settings, 'current-password')\n        };\n\n        if (isCustomizedI18nKey(passwordExplainLabeli18nKey, settings)) {\n          newSchema = {\n            ...newSchema,\n            explain: loc(passwordExplainLabeli18nKey, 'login'),\n            'explain-top': true,\n          };\n        }\n      }\n\n      return newSchema;\n    });\n\n    // If showKeepMeSignedIn is explicitly set to false, we ensure we don't display\n    // the \"Keep me signed in\" checkbox\n    if (this.settings.get('features.showKeepMeSignedIn') === false) {\n      newSchemas = newSchemas.filter(schema => schema.name !== 'rememberMe');\n    }\n\n    return newSchemas;\n  },\n\n  showCustomFormErrorCallout(error, messages) {\n    if (!error?.responseJSON?.errorSummaryKeys?.includes(CUSTOM_ACCESS_DENIED_KEY)) {\n      return false;\n    }\n\n    const message = messages?.find(message => message.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n    if (!message) {\n      return false;\n    }\n\n    const { errorSummary } = error.responseJSON;\n\n    const options = {\n      type: 'error',\n      content: new CustomAccessDeniedErrorMessage({\n        message: errorSummary,\n        links: message.links,\n      }),\n    };\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n\n  remove() {\n    BaseForm.prototype.remove.apply(this, arguments);\n    if (this.webauthnAbortController) {\n      this.webauthnAbortController.abort();\n      this.webauthnAbortController = null;\n    }\n  },\n\n  async getCredentialsAndInvokeAction() {\n    const challengeData = this.options.appState.get('webauthnAutofillUIChallenge')?.challengeData;\n    const isPasskeyAutofillAvailable = await webauthn.isPasskeyAutofillAvailable();\n    if (!challengeData || !isPasskeyAutofillAvailable || typeof AbortController === 'undefined') {\n      return;\n    }\n\n    const options = _.extend({}, challengeData, {\n      challenge: CryptoUtil.strToBin(challengeData.challenge),\n    });\n\n    // There is already a check to make sure the browser supports AbortController\n    // eslint-disable-next-line compat/compat\n    this.webauthnAbortController = new AbortController();\n\n    // There is already a check to make sure the browser supports WebAuthn\n    // eslint-disable-next-line compat/compat\n    navigator.credentials.get({\n      mediation: 'conditional',\n      publicKey: options,\n      signal: this.webauthnAbortController.signal\n    }).then((assertion) => {\n      const userHandle = CryptoUtil.binToStr(assertion.response.userHandle ?? '');\n      if (_.isEmpty(userHandle)) {\n        const errorSummary = loc('oie.webauthn.error.invalidPasskey', 'login');\n        this.model.trigger('error', this.model, this._generateErrorObject(errorSummary));\n        return;\n      }\n      const credentials = {\n        clientData: CryptoUtil.binToStr(assertion.response.clientDataJSON),\n        authenticatorData: CryptoUtil.binToStr(assertion.response.authenticatorData),\n        signatureData: CryptoUtil.binToStr(assertion.response.signature),\n        userHandle\n      };\n\n      this.options.appState.trigger(\n        'invokeAction',\n        RemediationForms.CHALLENGE_WEBAUTHN_AUTOFILLUI_AUTHENTICATOR, \n        { credentials }\n      );\n    }, (error) => {\n      // Do not display if it is abort error triggered by code when switching.\n      // this.webauthnAbortController would be null if abort was triggered by code.\n      if (this.webauthnAbortController) {\n        const errorSummary = getMessageFromBrowserError(error);\n        this.model.trigger('error', this.model, this._generateErrorObject(errorSummary));\n      }\n    }).finally(() => {\n      // unset webauthnAbortController on successful authentication or error\n      this.webauthnAbortController = null;\n    });\n  },\n\n  _generateErrorObject(errorSummary) {\n    return {\n      responseJSON: { errorSummary }\n    };\n  },\n\n  _addForgotPasswordView() {\n    const forgotPasswordLink = getForgotPasswordLink(this.options.appState, this.options.settings);\n    if (forgotPasswordLink.length) {\n      this.add('<div class=\"links-primary\"></div>', { selector: '.o-form-button-bar' });\n      this.add(Link, {\n        selector: '.links-primary',\n        options: forgotPasswordLink[0],\n      });\n    }\n  },\n\n  _addIdpView(idpButtons) {\n    // We check the 'idpDisplay' option config to determine whether to render the idp buttons\n    // above or below the login fields\n    const idpDisplay = this.options.settings.get('idpDisplay');\n    const isPrimaryIdpDisplay = idpDisplay && idpDisplay.toUpperCase() === 'PRIMARY';\n\n    this.add(signInWithIdps, {\n      prepend: isPrimaryIdpDisplay,\n      selector: isPrimaryIdpDisplay ? '.o-form-fieldset-container' : '.o-form-button-bar',\n      options: {\n        idpButtons,\n        isPrimaryIdpDisplay\n      }\n    });\n  },\n\n  _shouldAddUsername(uiSchema) {\n    // We pre-populate the identifier/username field only if we're in an identifier\n    // form and if the option is passed in.\n    return (uiSchema.find(schema => schema.name === 'identifier') && this.settings.get('username'));\n  },\n\n  _shouldApplyRememberMyUsername(uiSchema) {\n    return (uiSchema.find(schema => schema.name === 'identifier')\n        && this.settings.get('features.rememberMe'));\n  },\n\n  /**\n   * When \"Remember My Username\" is enabled, we pre-fill the identifier\n   * field with the saved userName cookie. The cookie would have been originally\n   * saved when submitting the form previously.\n   */\n  _applyRememberMyUsername() {\n    const cookieUsername = CookieUtil.getCookieUsername();\n    if (cookieUsername) {\n      this.model.set('identifier', cookieUsername);\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n\n    // customize pre-submit form validation inline error messages\n    const identifierRequiredi18nKey = 'error.username.required';\n    const passwordRequiredi18nKey = 'error.password.required';\n    const props = ModelClass.prototype.props;\n    const validate = (attr) => {\n      const inlineErrors = {};\n      const isEmptyIdentifier = props['identifier'] && !attr?.['identifier'];\n      const isEmptyPassword = props['credentials.passcode'] && !attr?.['credentials.passcode'];\n      if (isEmptyIdentifier && isCustomizedI18nKey(identifierRequiredi18nKey, this.settings)) {\n        inlineErrors['identifier'] = loc(identifierRequiredi18nKey, 'login');\n      }\n      if (isEmptyPassword && isCustomizedI18nKey(passwordRequiredi18nKey, this.settings)) {\n        inlineErrors['credentials.passcode'] = loc(passwordRequiredi18nKey, 'login');\n      }\n      return inlineErrors;\n    };\n\n    return ModelClass.extend({\n      validate\n    });\n  },\n\n  initialize() {\n    // Override Footer by overriding showForgotPasswordLink method\n    this.Footer = IdentifierFooter.extend({\n      showForgotPasswordLink: () => {\n        // We don't add the forgot password link in the footer if SIW renders multi IDPs,\n        // instead in that case we add it before the IDP buttons in IdentifierView as primary links.\n        const idpButtons = createIdpButtons(this.options);\n        return (!this.options.appState.isIdentifierOnlyView() &&\n          (!Array.isArray(idpButtons) || idpButtons.length === 0));\n      }\n    });\n  },\n\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n\n    // If user entered identifier is not found, API sends back a message with a link to sign up\n    // This is the click handler for that link\n    const appState = this.options.appState;\n    this.$el.find('.js-sign-up').click(function() {\n      appState.trigger('invokeAction', RemediationForms.SELECT_ENROLL_PROFILE);\n      return false;\n    });\n  },\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm, BaseFooter, BaseView } from '../internals';\nimport Util from 'util/Util';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('password.reset.title.generic', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    let newSchemas = schemas.map(schema => {\n      let newSchema = { ...schema };\n      if (schema.name === 'identifier') {\n        // We enable the browser's autocomplete for the identifier input\n        // because we want to allow the user to choose from previously used identifiers.\n        newSchema = {\n          ...newSchema,\n          autoComplete: Util.getAutocompleteValue(this.options.settings, 'username')\n        };\n      }\n      return newSchema;\n    });\n    return newSchemas;\n  },\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter,\n});\n","import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { BaseForm, BaseView } from '../internals';\nimport { MS_PER_SEC } from '../utils/Constants';\n\nconst PollMessageView = View.extend({\n  template: hbs`\n    <div class=\"ion-messages-container\">\n      <p>{{i18n code=\"poll.form.message\"\n        bundle=\"login\" arguments=\"countDownCounterValue\" $1=\"<span class='strong'>$1</span>\"}} </p>\n    </div>\n    <div class=\"hide okta-waiting-spinner\"></div>\n    `\n  ,\n  getTemplateData() {\n    const countDownCounterValue = this.options;\n    return {\n      countDownCounterValue,\n    };\n  },\n});\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    title() {\n      return  loc('poll.form.title', 'login');\n    },\n\n    noButtonBar: true,\n\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const refreshInterval = this.options.appState.getCurrentViewState().refresh;\n      this.refreshTimeout = setTimeout(() => {\n        this.$el.find('.okta-waiting-spinner').show();\n        // start after a small delay so that the spinner does not get hidden too soon\n        setTimeout(() => this.saveForm(this.model), 200);\n      }, refreshInterval);\n    },\n\n    render() {\n      BaseForm.prototype.render.apply(this, arguments);\n      this.countDownCounterValue = Math.ceil(this.options.appState.getCurrentViewState().refresh / MS_PER_SEC);\n      this.add(new PollMessageView(this.countDownCounterValue));\n      this.startCountDown('.ion-messages-container span', MS_PER_SEC);\n    },\n\n    remove() {\n      BaseForm.prototype.remove.apply(this, arguments);\n      clearTimeout(this.refreshTimeout);\n    },\n\n    triggerAfterError() {\n      BaseForm.prototype.triggerAfterError.apply(this, arguments);\n      clearTimeout(this.refreshTimeout);\n      this.stopCountDown();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    startCountDown(selector , interval) {\n      if (this.countDown) {\n        clearInterval(this.countDown);\n      }\n      this.counterEl = this.$el.find(selector);\n      this.countDown = setInterval(() => {\n        if(this.counterEl.text() !== '0') {\n          this.counterEl.text(this.counterEl.text() - 1);\n        }\n      }, interval, this);\n    },\n\n    stopCountDown() {\n      if (this.countDown) {\n        clearInterval(this.countDown);\n      }\n    },\n  },\n));\n\nexport default BaseView.extend({\n  Body\n});\n","import IdentifierView from './IdentifierView';\n\nexport default IdentifierView.extend({\n  render() {\n    IdentifierView.prototype.render.apply(this, arguments);\n\n    this.$el.find('.sign-in-with-idp .separation-line').hide();\n    this.$el.find('.button-primary').hide();\n  }\n});\n","import { BaseForm, BaseView } from '../internals';\nimport { loc } from '@okta/courage';\n\nconst Body = BaseForm.extend({\n  title: function() {\n    return loc('oie.select.authenticators.enroll.title', 'login');\n  },\n  subtitle: function() {\n    const subtitle = this.options.settings.get('brandName') ?\n      loc('oie.select.authenticators.enroll.subtitle.custom', 'login', [this.options.settings.get('brandName')]):\n      loc('oie.select.authenticators.enroll.subtitle', 'login');\n    return subtitle;\n  },\n  noButtonBar: true,\n});\n\nexport default BaseView.extend({\n  Body,\n});\n\n","import { BaseForm, BaseView } from '../internals';\nimport { createCallout, loc } from '@okta/courage';\nimport BaseFooter from '../internals/BaseFooter';\nimport {getFactorPageCustomLink} from '../utils/LinksUtil';\n\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nexport const Body = BaseForm.extend({\n  title: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('password.reset.title.generic', 'login');\n    }\n    return loc('oie.select.authenticators.verify.title', 'login');\n  },\n  subtitle: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('oie.password.reset.verification', 'login');\n    }\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.select.authenticators.verify.subtitle', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    }\n    return loc('oie.select.authenticators.verify.subtitle', 'login');\n  },\n  isPasswordRecoveryFlow() {\n    return this.options.appState.get('isPasswordRecovery');\n  },\n  noButtonBar: true,\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      let options = {};\n      options.subtitle = loc('oie.selfservice.unlock_user.landing.to.app.success.message', 'login');\n      options.type = 'success';\n      options = createCallout(options);\n      BaseForm.prototype.showMessages.call(this, options);\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter.extend({\n    links() {\n      return getFactorPageCustomLink(this.options.appState, this.options.settings);\n    },\n  }),\n});\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm, BaseFooter, BaseView } from '../internals';\nimport { getBackToSignInLink, getSkipSetupLink, getReloadPageButtonLink } from '../utils/LinksUtil';\nimport EmailAuthenticatorHeader from '../components/EmailAuthenticatorHeader';\nimport { OTPInformationTerminalView } from './consent/EmailMagicLinkOTPTerminalView';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage';\nimport EndUserRemediationMessages from './end-user-remediation/EndUserRemediationMessages';\n\nconst RETURN_LINK_EXPIRED_KEY = 'idx.return.link.expired';\nconst IDX_RETURN_LINK_OTP_ONLY = 'idx.enter.otp.in.original.tab';\nconst SAFE_MODE_KEY_PREFIX = 'idx.error.server.safe.mode';\nconst UNLOCK_ACCOUNT_TERMINAL_KEY = 'oie.selfservice.unlock_user.success.message';\nconst UNLOCK_ACCOUNT_FAILED_PERMISSIONS = 'oie.selfservice.unlock_user.challenge.failed.permissions';\nconst RESET_PASSWORD_NOT_ALLOWED = 'oie.selfservice.reset.password.not.allowed';\nconst RETURN_TO_ORIGINAL_TAB_KEY = 'idx.return.to.original.tab';\nconst OPERATION_CANCELED_ON_OTHER_DEVICE_KEY = 'idx.operation.cancelled.on.other.device';\nconst OPERATION_CANCELED_BY_USER_KEY = 'idx.operation.cancelled.by.user';\nconst DEVICE_ACTIVATED = 'idx.device.activated';\nconst DEVICE_NOT_ACTIVATED_CONSENT_DENIED = 'idx.device.not.activated.consent.denied';\nconst DEVICE_NOT_ACTIVATED_INTERNAL_ERROR = 'idx.device.not.activated.internal.error';\nconst FLOW_CONTINUE_IN_NEW_TAB = 'idx.transferred.to.new.tab';\nconst EMAIL_LINK_OUT_OF_DATE = 'idx.return.stale';\nconst EMAIL_LINK_CANT_BE_PROCESSED = 'idx.return.error';\nconst EMAIL_VERIFICATION_REQUIRED = 'idx.email.verification.required';\nconst END_USER_REMEDIATION_KEY_PREFIX = 'idx.error.code.access_denied.device_assurance.remediation.';\n\nconst EMAIL_ACTIVATION_EMAIL_EXPIRE = 'idx.expired.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_INVALID = 'idx.missing.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_SUBMITTED = 'idx.request.activation.email';\nconst EMAIL_ACTIVATION_EMAIL_SUSPENDED = 'idx.activating.inactive.user';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\n\nexport const REGISTRATION_NOT_ENABLED = 'oie.registration.is.not.enabled';\nexport const FORGOT_PASSWORD_NOT_ENABLED = 'oie.forgot.password.is.not.enabled';\n\nconst EMAIL_AUTHENTICATOR_TERMINAL_KEYS = [\n  FLOW_CONTINUE_IN_NEW_TAB,\n  EMAIL_LINK_OUT_OF_DATE,\n  EMAIL_LINK_CANT_BE_PROCESSED,\n  EMAIL_VERIFICATION_REQUIRED,\n  RETURN_TO_ORIGINAL_TAB_KEY,\n  RETURN_LINK_EXPIRED_KEY,\n  OPERATION_CANCELED_ON_OTHER_DEVICE_KEY,\n  OPERATION_CANCELED_BY_USER_KEY,\n  IDX_RETURN_LINK_OTP_ONLY,\n];\n\nconst DEVICE_CODE_ERROR_KEYS = [\n  DEVICE_NOT_ACTIVATED_CONSENT_DENIED,\n  DEVICE_NOT_ACTIVATED_INTERNAL_ERROR\n];\n\nconst DEVICE_CODE_FLOW_TERMINAL_KEYS = [\n  DEVICE_ACTIVATED,\n  ...DEVICE_CODE_ERROR_KEYS\n];\n\n// These terminal views build their own links, basically they have cancel remediation in error response\n// Or doesn't require a Back to Sign in link because the flow didn't start from login screen\nconst NO_BACKTOSIGNIN_LINK_VIEWS = [\n  UNLOCK_ACCOUNT_TERMINAL_KEY,\n  RETURN_TO_ORIGINAL_TAB_KEY,\n  FLOW_CONTINUE_IN_NEW_TAB,\n  OPERATION_CANCELED_ON_OTHER_DEVICE_KEY,\n  ...DEVICE_CODE_FLOW_TERMINAL_KEYS,\n  UNLOCK_ACCOUNT_FAILED_PERMISSIONS,\n  RESET_PASSWORD_NOT_ALLOWED,\n  IDX_RETURN_LINK_OTP_ONLY,\n];\n\n// Key map to transform terminal view titles {ApiKey : WidgetKey}  \nconst terminalViewTitles = {\n  [RETURN_LINK_EXPIRED_KEY] : 'oie.email.return.link.expired.title',\n  [UNLOCK_ACCOUNT_TERMINAL_KEY] : 'account.unlock.unlocked.title',\n  [DEVICE_ACTIVATED] : 'device.code.activated.success.title',\n  [REGISTRATION_NOT_ENABLED] : 'oie.registration.form.title',\n  [FORGOT_PASSWORD_NOT_ENABLED] : 'password.reset.title.generic',\n  [EMAIL_ACTIVATION_EMAIL_EXPIRE] : 'oie.activation.request.email.title.expire',\n  [EMAIL_ACTIVATION_EMAIL_SUBMITTED] : 'oie.activation.request.email.title.submitted',\n  [EMAIL_ACTIVATION_EMAIL_SUSPENDED] : 'oie.activation.request.email.title.suspended',\n  [EMAIL_ACTIVATION_EMAIL_INVALID] : 'oie.activation.request.email.title.invalid',\n  [DEVICE_NOT_ACTIVATED_CONSENT_DENIED] : 'device.code.activated.error.title',\n  [DEVICE_NOT_ACTIVATED_INTERNAL_ERROR] : 'device.code.activated.error.title',\n  [RETURN_TO_ORIGINAL_TAB_KEY] : 'oie.consent.enduser.email.allow.title',\n  [IDX_RETURN_LINK_OTP_ONLY]: 'idx.return.link.otponly.your.verification.code',\n};\n\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  postRender() {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    this.$el.addClass('terminal-state');\n\n    // show device code terminal icons\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_FLOW_TERMINAL_KEYS)) {\n      const iconClass = this.options.appState.containsMessageWithI18nKey(DEVICE_ACTIVATED)\n        ? 'success-24-green' : 'error-24-red';\n      this.$('.o-form-head').before('<div class=\"device-code-terminal--icon-container\">' +\n        '<span class=\"device-code-terminal--icon ' + iconClass + '\"></span>' +\n        '</div>');\n    }\n  },\n\n  title() {\n    return this.getTerminalViewTitle();\n  },\n\n  getTerminalViewTitle() {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return loc('oie.safe.mode.title', 'login');\n    }\n\n    const apiKeys = Object.keys(terminalViewTitles);\n    const key = apiKeys.find(key => this.options.appState.containsMessageWithI18nKey(key));\n    if (key) {\n      return loc(terminalViewTitles[key], 'login');\n    }\n  },\n\n  prepareMessageForCustomView(messagesObjs) {\n    let hasCustomView = false;\n    if (this.options.appState.containsMessageWithI18nKey(IDX_RETURN_LINK_OTP_ONLY)) {\n      this.add(OTPInformationTerminalView);\n      hasCustomView = true;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage(\n          { message: messagesObjs.value[0].message, links: messagesObjs.value[0].links })\n      }));\n      hasCustomView = true;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(END_USER_REMEDIATION_KEY_PREFIX)) {\n      this.add(createCallout({\n        type: 'error',\n        content: new EndUserRemediationMessages({messages: messagesObjs.value}),\n      }));\n      hasCustomView = true;\n    }\n\n    return hasCustomView;\n  },\n\n  showMessages() {\n    const messagesObjs = this.options.appState.get('messages');\n    let hasCustomView = false;\n    let description;\n    if (this.options.appState.containsMessageWithI18nKey(OPERATION_CANCELED_ON_OTHER_DEVICE_KEY)) {\n      description = loc('idx.operation.cancelled.on.other.device', 'login');\n      messagesObjs.value.push({ message: loc('oie.consent.enduser.deny.description', 'login') });\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_TO_ORIGINAL_TAB_KEY)) {\n      description = loc('oie.consent.enduser.email.allow.description', 'login');\n      messagesObjs.value.push({ message: loc('oie.return.to.original.tab', 'login')});\n    } else if (this.options.appState.containsMessageWithI18nKey('tooManyRequests')) {\n      description = loc('oie.tooManyRequests', 'login');\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_LINK_EXPIRED_KEY)) {\n      messagesObjs.value[0].class = 'ERROR';\n    } else {\n      hasCustomView = this.prepareMessageForCustomView(messagesObjs);\n    }\n\n    if (description && Array.isArray(messagesObjs?.value)) {\n      messagesObjs.value[0].message = description;\n    }\n\n    this.options.appState.set('messages', messagesObjs);\n    if (!hasCustomView) {\n      BaseForm.prototype.showMessages.call(this);\n    }\n  },\n\n});\n\nconst Footer = BaseFooter.extend({\n  // All terminal views should have Back to sign in link either widget configured or server configured.\n  links: function() {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return getSkipSetupLink(this.options.appState);\n    }\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_ERROR_KEYS)) {\n      return getReloadPageButtonLink();\n    }\n    // If cancel object exists idx response then view would take care of rendering back to sign in link\n    const shouldShowBackToSignInLink = !this.options.appState.hasActionObject('cancel') &&\n      !this.options.appState.containsMessageWithI18nKey(NO_BACKTOSIGNIN_LINK_VIEWS) &&\n      !this.options.settings.get('features.hideSignOutLinkInMFA') &&\n      !this.options.settings.get('features.mfaOnlyFlow');\n    if (shouldShowBackToSignInLink) {\n      // TODO OKTA-432869 \"back to sign in\" links to org baseUrl, does not work correctly with embedded widget\n      return getBackToSignInLink(this.options);\n    }\n  }\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    if (this.options.appState.containsMessageWithI18nKey(EMAIL_AUTHENTICATOR_TERMINAL_KEYS)) {\n      this.Header = EmailAuthenticatorHeader;\n    }\n  },\n  Body,\n  Footer\n});\n","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('oie.activation.request.email.title.expire', 'login');\n  },\n\n  save() {\n    return loc('oie.activation.request.email.button', 'login');\n  },\n});\n\nexport default BaseView.extend({\n  Body\n});","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n  title: function() {\n    return loc('oie.select.authenticators.verify.title', 'login');\n  },\n  subtitle: function() {\n    return loc('oie.select.authenticators.verify.subtitle', 'login');\n  },\n});\n\nexport default BaseView.extend({\n  Body\n});","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\nconst UnlockAccountView = BaseForm.extend({\n  title: () => {\n    return loc('account.unlock.title', 'login');\n  },\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    this.Body = UnlockAccountView;\n  }\n});","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport Enums from 'util/Enums';\nimport Util from 'util/Util';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { WIDGET_FOOTER_CLASS } from '../../utils/Constants';\n\nconst OktaSignInWidgetOnCaptchaLoadedCallback = 'OktaSignInWidgetOnCaptchaLoaded';\nconst OktaSignInWidgetOnCaptchaSolvedCallback = 'OktaSignInWidgetOnCaptchaSolved';\n\nconst HCAPTCHA_URL = 'https://hcaptcha.com/1/api.js';\nconst RECAPTCHAV2_URL = 'https://www.google.com/recaptcha/api.js';\n\nexport default View.extend({\n  className: 'captcha-view',\n\n  template: hbs`\n    {{#if isCaptchaConfigured}}\\\n      <div id =\"captcha-container\"\n          class=\"{{className}}\"\n          data-sitekey=\"{{siteKey}}\"\n          data-callback=\"{{onCaptchaSolvedCallback}}\"\n          data-size=\"invisible\">\n      </div>\n    {{/if}}\\\n  `,\n\n  getTemplateData: function() {\n    if (this.captchaConfig) {\n      const className = this.captchaConfig.type === 'HCAPTCHA' ? 'h-captcha' : 'g-recaptcha';\n      return { \n        siteKey: this.captchaConfig.siteKey,\n        isCaptchaConfigured: true,\n        onCaptchaSolvedCallback: OktaSignInWidgetOnCaptchaSolvedCallback,\n        className, \n      };\n    } else {\n      return {};\n    }\n  },\n\n  initialize() {\n    if (this.options.appState.get('captcha')) {\n      this.captchaConfig = this.options.appState.get('captcha');\n      this._addCaptcha();\n    }\n  },\n\n  remove: function(){\n    View.prototype.remove.apply(this, arguments);\n\n    // Cleanup global Captcha references\n    if (this.captchaConfig.type === 'HCAPTCHA') {\n      window.hcaptcha = undefined;\n    } else if (this.captchaConfig.type === 'RECAPTCHA_V2') {\n      window.grecaptcha = undefined;\n    }\n  },\n\n  /**\n   *  Load the CAPTCHA lib dynamically (either HCAPTCHA or RECAPTCHAV2). Once loaded, trigger an event to inform\n   *  the parent form to actually render the CAPTCHA.\n  * */   \n  _addCaptcha() {\n    // Callback invoked when CAPTCHA is solved.\n    const onCaptchaSolved = (token) => {\n      const captchaObject = this._getCaptchaOject();\n\n      // We reset the Captcha. We need to reset because every time the \n      // Captcha resolves back with a token and say we have a server side error, \n      // if we submit the form again it won't work otherwise. The Captcha \n      // has to be reset for it to work again in that scenario.\n      const captchaId = this.$el.find('#captcha-container').attr('data-captcha-id');\n      captchaObject.reset(captchaId);\n\n      // Set the token in the model\n      const fieldName = this.options.name;\n      this.model.set(fieldName, token);\n\n      this.options.appState.trigger('saveForm', this.model); \n    };\n\n    // Callback when CAPTCHA lib is loaded\n    const onCaptchaLoaded = () => {\n      // This is just a safeguard to ensure we don't bind Captcha to an already bound element.\n      // It shouldn't happen in practice.\n      if (this.$el.find('#captcha-container').attr('data-captcha-id')) {\n        return;\n      }\n\n      const captchaObject = this._getCaptchaOject();\n\n      // We set a temporary token for Captcha because this is a required field for the form and is normally set\n      // at a later time. In order to prevent client-side validation errors because of this, we have to set a \n      // dummy value. We then overwrite this with the proper token in the onCaptchaSolved callback.\n      this.model.set(this.options.name, 'tempToken');\n\n      const captchaId = captchaObject.render('captcha-container', {\n        sitekey: this.captchaConfig.siteKey,\n        callback: onCaptchaSolved\n      });\n      \n      this.$el.find('#captcha-container').attr('data-captcha-id', captchaId);\n\n      // Let the Baseform know that Captcha is loaded.\n      this.options.appState.trigger('onCaptchaLoaded', captchaObject);\n\n      // Render the HCAPTCHA footer - we need to do this manually since the HCAPTCHA lib doesn't do it\n      if (this.captchaConfig.type === 'HCAPTCHA') {\n        this._addHCaptchaFooter();\n      }  \n    };\n\n    // Attaching the callback to the window object so that the CAPTCHA script that we dynamically render\n    // can have access to it since it won't have access to this view's scope.\n    window[OktaSignInWidgetOnCaptchaLoadedCallback] = onCaptchaLoaded;\n\n    // Attaching the Captcha solved callback to the window object because we reference it in our template under\n    // the 'data-callback' attribute which the Captcha library uses to invoke the callback.\n    window[OktaSignInWidgetOnCaptchaSolvedCallback] = onCaptchaSolved;\n\n    \n    if (this.captchaConfig.type === 'HCAPTCHA') {\n      this._loadCaptchaLib(this._getCaptchaUrl(HCAPTCHA_URL, 'hcaptcha'));\n    } else if (this.captchaConfig.type === 'RECAPTCHA_V2') {\n      this._loadCaptchaLib(this._getCaptchaUrl(RECAPTCHAV2_URL, 'recaptcha'));\n    }\n  },\n  \n  /**\n   *  We dynamically inject <script> tag into our login container because in case the customer is hosting\n   *  the SIW, we need to ensure we don't go out of scope when injecting the script.\n  * */ \n  _loadCaptchaLib(url) {\n    let scriptTag = document.createElement('script');\n    scriptTag.src = url;\n    scriptTag.async = true;\n    scriptTag.defer = true;\n    document.getElementById(Enums.WIDGET_CONTAINER_ID).appendChild(scriptTag);\n  },\n\n  _addHCaptchaFooter() {\n    // NOTE: insetAdjacentHTML() is supported in all major browsers: \n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML#browser_compatibility\n    const footerContainer = document.getElementsByClassName(WIDGET_FOOTER_CLASS);\n    if (footerContainer.length) {\n      const template = hbs('<div class=\"captcha-footer\">\\\n        <span class=\"footer-text\">\\\n          {{i18n code=\"hcaptcha.footer.label\" bundle=\"login\" \\\n          $1=\"<a href=\\'https://hcaptcha.com/privacy\\' target=\\'_blank\\'>$1</a>\" \\\n          $2=\"<a href=\\'https://hcaptcha.com/terms\\' target=\\'_blank\\'>$2</a>\"}}\\\n        </span>\\\n      </div>');\n\n      footerContainer[0].insertAdjacentHTML('beforeend',\n        template()\n      );\n    }\n  },\n\n  _getCaptchaOject() {\n    const captchaObject = this.captchaConfig.type === 'HCAPTCHA' ? window.hcaptcha : window.grecaptcha;\n    return captchaObject;\n  },\n\n  /**\n   *  Supported params for hCaptcha script:\n   *   https://github.com/hCaptcha/hcaptcha-loader#props\n   *   (starting from 'apihost')\n   *  Supported params for reCAPTCHA script:\n   *   https://developers.google.com/recaptcha/docs/display#javascript_resource_apijs_parameters\n  * */\n  _getCaptchaUrl(defaultBaseUrl, settingsKey) {\n    const locale = this.options.settings.get('language');\n    const scriptSource = this.options.settings.get(`${settingsKey}.scriptSource`);\n    const scriptParams = this.options.settings.get(`${settingsKey}.scriptParams`);\n\n    const baseUrl = scriptSource || defaultBaseUrl;\n    const params = {\n      ...scriptParams,\n      onload: OktaSignInWidgetOnCaptchaLoadedCallback,\n      render: 'explicit',\n      hl: locale || navigator.language,\n    };\n    const query = Util.searchParamsToString(params);\n    return baseUrl + '?' + query;\n  },\n\n});\n","import { BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\nimport ConsentViewForm from './ConsentViewForm';\nimport { doesI18NKeyExist } from '../../../ion/i18nTransformer';\n\nexport default BaseView.extend({\n  Header: AdminConsentViewHeader,\n  Body: ConsentViewForm,\n  createModelClass(currentViewState) {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const { uiSchema } = currentViewState;\n    const { scopes } = uiSchema[0];\n\n    const i18nKeyPrefix = 'consent.scopes';\n\n    const localizedScopes = scopes.map(({ name, displayName, description }) => {\n      const scopeKey = `${i18nKeyPrefix}.${name}`;\n      const labelKey = `${scopeKey}.label`;\n      const descKey = `${scopeKey}.desc`;\n      const doesLabelExist = doesI18NKeyExist(labelKey);\n      const doesDescExist = doesI18NKeyExist(descKey);\n      const i18nDisplayName = doesLabelExist ? loc(labelKey, 'login') : displayName;\n      const i18nDescription = doesDescExist ? loc(descKey, 'login'): description;\n\n      return {\n        name,\n        displayName: i18nDisplayName,\n        description: i18nDescription,\n        isCustomized: !doesLabelExist,\n      };\n    });\n\n    return ModelClass.extend({\n      props: {\n        scopes: {type: 'array', value: localizedScopes},\n      },\n      local: {\n        consent: {type: 'boolean', value: false},\n      },\n      toJSON: function() {\n        return {consent: this.get('consent')};\n      }\n    });\n  }\n});\n","import { View, _, loc } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst defaultLogo = '/img/logos/default.png';\n\nconst AdminConsentViewHeader = View.extend({\n  className: 'consent-title detail-row',\n  titleText: () => loc('oie.consent.scopes.admin.title', 'login'),\n  hasIssuer: true,\n  template: hbs`\n    {{#if clientURI}}\n    <a href=\"{{clientURI}}\" class=\"client-logo-link\" title=\"{{altText}}\" target=\"_blank\">\n    {{/if}}\n    {{#if customLogo}}\n      <img class=\"client-logo custom-logo\" src=\"{{customLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{else}}\n      <img class=\"client-logo default-logo\" src=\"{{defaultLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{/if}}\n    {{#if clientURI}}\n      </a>\n    {{/if}}\n    <h1>\n      <span class=\"title-text\">\n        <b class=\"no-translate\">{{appName}}</b>&nbsp;{{titleText}}\n      </span>\n      {{#if issuer}}\n        <div class=\"issuer no-translate\"><span>{{issuer}}</span></div>\n      {{/if}}\n    </h1>`,\n  getTemplateData: function() {\n    const { appState } = this.options;\n    const { label, clientUri, logo } =  appState.get('app');\n    const { issuer: issuerObj } = appState.get('authentication');\n\n    const customLogo = logo?.href;\n    const altText = loc('logo.for.the.app.alt.text', 'login');\n    const appName = _.escape(label);\n    const clientURI = clientUri?.href;\n\n    const issuer = this.hasIssuer ? issuerObj?.uri : null;\n    const titleText = this.titleText();\n\n    return {\n      customLogo,\n      defaultLogo,\n      clientURI,\n      issuer,\n      altText,\n      appName,\n      titleText,\n    };\n  }\n});\n\nexport default AdminConsentViewHeader;\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\n\nexport default BaseForm.extend(\n  {\n    noButtonBar: false,\n    noCancelButton: false,\n    buttonOrder: ['cancel', 'save'],\n    save: () => loc('consent.required.consentButton', 'login'),\n    cancel: () => loc('consent.required.cancelButton', 'login'),\n    title: false,\n    events: {\n      'click input[data-type=\"save\"]': function() {\n        this.setConsent(true);\n      },\n    },\n    setConsent(bool) {\n      this.model.set('consent', bool);\n    },\n    cancelForm() {\n      // override BaseForm.prototype.cancelForm which cancels auth flow\n      this.setConsent(false);\n      this.options.appState.trigger('saveForm', this.model);\n    },\n  },\n);\n","import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst generateGeolocationString = (location = {}) => {\n  if (!location.city && !location.country) {\n    return null;\n  }\n  // Use 1 of 2 formats based on presence of 'state' in response:\n  // 1. City, State, Country\n  // 2. City, Country\n  return location.state ?\n    loc('geolocation.formatting.all', 'login', [location.city, location.state, location.country]) :\n    loc('geolocation.formatting.partial', 'login', [location.city, location.country]);\n};\n\n// A map from FactorTransactionIntent in okta-core to customer-facing flow name\nconst challengeIntentToI18nKeyMap = {\n  'AUTHENTICATION': 'idx.return.link.otponly.enter.code.on.sign.in.page',\n  'RECOVERY': 'idx.return.link.otponly.enter.code.on.password.reset.page',\n  'UNLOCK_ACCOUNT': 'idx.return.link.otponly.enter.code.on.account.unlock.page',\n  'ENROLLMENT': 'idx.return.link.otponly.enter.code.on.sign.up.page'\n};\n\nconst getTerminalOtpEmailMagicLinkContext = (settings, appState) => {\n  const app = appState.get('app');\n  const client = appState.get('client');\n  const challengeIntentContentKey = challengeIntentToI18nKeyMap[appState.get('idx').context.intent];\n  const enterCodeOnFlowPage = challengeIntentContentKey\n    ? loc(challengeIntentContentKey, 'login')\n    : loc('idx.enter.otp.in.original.tab', 'login');\n  let appName, browserOnOsString, isMobileDevice, geolocation;\n  if (app?.label) {\n    appName = loc('idx.return.link.otponly.app', 'login', [app.label]);\n  }\n  if (client) {\n    browserOnOsString = loc('idx.return.link.otponly.browser.on.os', 'login', [client.browser, client.os]);\n    isMobileDevice = browserOnOsString.includes('Android') || browserOnOsString.includes('iOS');\n    geolocation = generateGeolocationString(client.location);\n  }\n  const otp = settings.get('otp') || appState.get('currentAuthenticator')?.contextualData?.otp;\n\n  return {\n    showRequestInfo: appName || browserOnOsString || geolocation,\n    appName,\n    browserOnOsString,\n    isMobileDevice,\n    geolocation,\n    otp,\n    enterCodeOnFlowPage\n  };\n};\n\nconst BaseEmailMagicLinkOTPTerminalView = View.extend({\n  getTemplateData() {\n    return getTerminalOtpEmailMagicLinkContext(this.options.settings, this.options.appState);\n  },\n});\n\nconst OTPInformationTerminalView = BaseEmailMagicLinkOTPTerminalView.extend({\n  template: hbs`\n  <p class=\"enter-code-on-page\">{{enterCodeOnFlowPage}}</p>\n  <h1 class='otp-value no-translate'>{{otp}}</h1>\n  {{#if showRequestInfo}}\n  <div class=\"enduser-email-otp-only--info\">\n    <div class=\"okta-form-label\">{{i18n code=\"idx.return.link.otponly.request\" bundle=\"login\"}}</div>\n  </div>\n  {{/if}}\n  {{#if browserOnOsString}}\n  <div class=\"enduser-email-otp-only--info\">\n    {{#if isMobileDevice}}\n      <i class=\"enduser-email-otp-only--icon icon--smartphone\" aria-hidden=\"true\"></i>\n    {{else}}\n      <i class=\"enduser-email-otp-only--icon icon--desktop\" aria-hidden=\"true\"></i>\n    {{/if}}\n    <div data-se=\"otp-browser-os\">{{browserOnOsString}}</div>\n  </div>\n  {{/if}}\n  {{#if appName}}\n  <div class=\"enduser-email-otp-only--info\">\n    <i class=\"enduser-email-otp-only--icon icon--app\" aria-hidden=\"true\"></i>\n    <div data-se=\"otp-app\">{{appName}}</div>\n  </div>\n  {{/if}}\n  {{#if geolocation}}\n  <div class=\"enduser-email-otp-only--info\">\n    <i class=\"enduser-email-otp-only--icon icon--location\" aria-hidden=\"true\"></i>\n    <div data-se=\"otp-geolocation\">{{geolocation}}</div>\n  </div>\n  {{/if}}\n  <br>\n  <p class='otp-warning'>{{i18n code=\"idx.return.link.otponly.warning.text\" bundle=\"login\"}}</p>\n  `,\n});\n\nexport {\n  OTPInformationTerminalView\n};\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\n\nexport default View.extend({\n  className: 'consent-description detail-row',\n  template: hbs(\n    '\\\n      <p>{{i18n code=\"consent.required.description\" bundle=\"login\"}}</p>\\\n    '\n  )\n});\n","import AdminConsentView from './AdminConsentView';\nimport EnduserConsentViewFooter from './EnduserConsentViewFooter';\nimport EnduserConsentViewHeader from './EnduserConsentViewHeader';\nimport EnduserConsentAgreementText from './EnduserConsentAgreementText';\n\n\nexport default AdminConsentView.extend({\n  Header: EnduserConsentViewHeader,\n  Footer: EnduserConsentViewFooter,\n  postRender() {\n    const scopeList = this.$el.find('.scope-list');\n    const consentAgreementText = new EnduserConsentAgreementText().render().el;\n    scopeList.after(consentAgreementText);\n  }\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\n\nconst ConsentViewFooter = View.extend({\n  className: 'consent-footer',\n  template: hbs(\n    '\\\n      {{#if termsOfService}}\\\n        <a class=\"terms-of-service\" href=\"{{termsOfService}}\" target=\"_blank\">\\\n          {{i18n code=\"consent.required.termsOfService\" bundle=\"login\"}}\\\n        </a>\\\n        {{#if privacyPolicy}}\\\n          <span class=\"no-translate\">&#8226</span>\\\n        {{/if}}\\\n      {{/if}}\\\n      {{#if privacyPolicy}}\\\n        <a class=\"privacy-policy\" href=\"{{privacyPolicy}}\" target=\"_blank\">\\\n          {{i18n code=\"consent.required.privacyPolicy\" bundle=\"login\"}}\\\n        </a>\\\n      {{/if}}\\\n    '\n  ),\n  getTemplateData: function() {\n    const appState = this.options.appState;\n    const app = appState.get('app');\n\n    return {\n      termsOfService: app.termsOfService && app.termsOfService.href,\n      privacyPolicy: app.privacyPolicy && app.privacyPolicy.href,\n    };\n  },\n});\n\nexport default ConsentViewFooter;\n","import { loc } from '@okta/courage';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\n\nexport default AdminConsentViewHeader.extend({\n  titleText: () => loc('oie.consent.scopes.enduser.title', 'login'),\n  hasIssuer: false,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport ConsentViewForm from './ConsentViewForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport EmailAuthenticatorHeader from '../../components/EmailAuthenticatorHeader';\n\nconst getInfo = hbs`\n  {{#if browser}}\n    <div class=\"enduser-email-consent--info no-translate\">\n      <i class=\"enduser-email-consent--icon icon--desktop\"></i>\n      <div>{{browser}}</div>\n    </div>\n  {{/if}}\n  {{#if app}}\n    <div class=\"enduser-email-consent--info no-translate\">\n      <i class=\"enduser-email-consent--icon icon--app\"></i>\n      <div>{{app}}</div>\n    </div>\n  {{/if}}`;\nconst enduserEmailConsentViewBody = ConsentViewForm.extend({\n  className: 'enduser-email-consent',\n\n  title() {\n    return loc('oie.consent.enduser.title', 'login');\n  },\n  save() {\n    return loc('oie.consent.enduser.accept.label', 'login');\n  },\n  cancel() {\n    return loc('oie.consent.enduser.deny.label', 'login');\n  },\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const info = getInfo(this.model.pick('browser', 'app'));\n    this.add(info);\n  },\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    return uiSchemas.filter(uiSchema => uiSchema.name !== 'consent' );\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Header: EmailAuthenticatorHeader,\n\n  buttonOrder: ['cancel', 'save'],\n\n  postRender() {\n    const buttonContainer = this.$el.find('.o-form-button-bar');\n    buttonContainer.find('.button-primary').removeClass('button-primary');\n  },\n\n  Body: enduserEmailConsentViewBody,\n\n  createModelClass({ requestInfo }) {\n    const ModelClass = BaseAuthenticatorView.prototype.createModelClass.apply(this, arguments);\n    const browser = requestInfo.find(({ name }) => name === 'browser');\n    const app = requestInfo.find(({ name }) => name === 'appName');\n\n    const local = Object.assign({\n      browser: {\n        type: 'string',\n        value: browser?.value\n      },\n      app: {\n        type: 'string',\n        value: app?.value\n      },\n    }, ModelClass.prototype.local );\n    return ModelClass.extend({\n      local,\n      toJSON() {\n        return {\n          consent: this.get('consent'),\n        };\n      },\n    });\n  }\n});\n","import { BaseView, BaseForm } from '../../internals';\nimport { _, $, View } from '@okta/courage';\nimport ConsentViewForm from './ConsentViewForm';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\nimport EnduserConsentViewFooter from './EnduserConsentViewFooter';\nimport ScopeCheckBox from '../../components/ScopeCheckBox';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst granularConsentViewHeader = AdminConsentViewHeader.extend({\n  hasIssuer: false,\n  template: hbs`\n    {{#if clientURI}}\n    <a href=\"{{clientURI}}\" class=\"client-logo-link\" title=\"{{altText}}\" target=\"_blank\">\n    {{/if}}\n    {{#if customLogo}}\n      <img class=\"client-logo custom-logo\" src=\"{{customLogo}}\" alt=\"{{altText}}\" aria-hidden />\n    {{else}}\n      <img class=\"client-logo default-logo\" src=\"{{defaultLogo}}\" alt=\"{{altText}}\" aria-hidden />\n    {{/if}}\n    {{#if clientURI}}\n      </a>\n    {{/if}}\n    <h1>\n      <span class=\"title-text\">\n        {{i18n \n            code=\"oie.consent.scopes.granular.title\" bundle=\"login\" \n            arguments=\"appName\"\n            $1=\"<b class='no-translate'>$1</b>\"\n            $2=\"<p>$2</p>\"\n        }}\n      </span>\n    </h1>\n    `,\n});\n\nconst granularConsentViewForm = ConsentViewForm.extend({\n  cancel: BaseForm.prototype.cancel,\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    uiSchemas.forEach(schema => {\n      if (schema.type === 'checkbox') {\n        _.assign(schema, {\n          input: ScopeCheckBox,\n          options: {\n            desc: schema.desc,\n            mutable: schema.mutable,\n            // need to extract scope name because it is in a subform (optedScopes.name)\n            scopeName: schema.name.substring(schema.name.indexOf('.') + 1)\n          }\n        });\n      }\n    });\n    return uiSchemas;\n  }\n});\n\nconst GranularConsentAgreementText = View.extend({\n  className: 'consent-description',\n  template: hbs`<p>{{i18n code=\"oie.consent.scopes.granular.description\" bundle=\"login\"}}</p>`\n});\n\n\nexport default BaseView.extend({\n  Header: granularConsentViewHeader,\n  Body: granularConsentViewForm,\n  Footer: EnduserConsentViewFooter,\n\n  postRender() {\n    const scopeList = this.$el.find('.o-form-fieldset-container');\n\n    // Show consent agreement text\n    scopeList.before(new GranularConsentAgreementText().render().el);\n\n    // Re-order scopes so mandatory ones are on bottom\n    this.$(':disabled').each(function() {\n      scopeList.append($(this).closest('.o-form-fieldset'));\n    });\n  }\n});\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst CUSTOM_APP_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.custom_app.method.push.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'custom-app-verify-resend-push',\n\n    title() {\n      return loc('oie.verify.custom_app.title', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n    },\n\n    save() {\n      return loc('oie.custom_app.push.resend', 'login');\n    },\n\n    showMessages() {\n      let options = {};\n      if (this.options.appState.containsMessageWithI18nKey(CUSTOM_APP_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        // add a title, subtitle, and bullet-points for \n        // Custom App enable biometrics message during verification\n        options.content = null;\n        options.className = 'okta-verify-uv-callout-content';\n        options.title = loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.title',\n          'login', [this.options.appState.getAuthenticatorDisplayName()]);\n        options.subtitle =\n        loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.description', 'login');\n        options.type = 'error';\n        options.bullets = [\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point1', 'login'),\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point2',\n            'login', [this.options.appState.getAuthenticatorDisplayName()]),\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point3',\n            'login', [this.options.appState.getAuthenticatorDisplayName()])\n        ];\n        options = createCallout(options);\n      }\n      BaseForm.prototype.showMessages.call(this, options);\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'mfa-verify-custom-otp',\n\n    title() {\n      const vendorName =\n        this.options.appState.getAuthenticatorDisplayName() ||\n        loc('oie.custom_otp.authenticator.default.vendorName', 'login');\n      return loc('oie.verify.custom_otp.title', 'login', [vendorName]);\n    },\n\n    subtitle() {\n      return loc('oie.verify.custom_otp.description', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { createButton, loc, _ } from '@okta/courage';\nimport { BaseView, BaseForm } from '../../internals';\nimport Util from '../../../../util/Util';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('password.expired.title.generic', 'login');\n  },\n  subtitle() {\n    return loc('password.expired.custom.subtitle', 'login');\n  },\n  noSubmitButton: true,\n  initialize() {\n    const { customExpiredPasswordName, customExpiredPasswordURL } = this.options.currentViewState;\n    this.add(createButton({\n      className: 'button button-primary button-wide',\n      title: _.partial(loc, 'password.expired.custom.submit', 'login', [customExpiredPasswordName]),\n      click: () => {\n        Util.redirect(customExpiredPasswordURL);\n      },\n    }));\n  },\n});\n\nexport default BaseView.extend({ Body });\n","import { createButton, loc, _ } from '@okta/courage';\nimport { BaseView, BaseForm, BaseFooter } from '../../internals';\nimport Util from '../../../../util/Util';\n\nconst Body = BaseForm.extend({\n  className: 'password-authenticator',\n  subtitle() {\n    return this.settings.get('brandName') ? loc('password.expiring.soon.subtitle.specific', 'login', \n      [this.settings.get('brandName')]) : loc('password.expiring.soon.subtitle.generic', 'login');\n  },\n  title() {\n    const passwordPolicy = this.options.appState.get('currentAuthenticator')?.settings;\n    const daysToExpiry = passwordPolicy.daysToExpiry;\n\n    if (daysToExpiry > 0) {\n      return loc('password.expiring.title', 'login', [daysToExpiry]);\n    } else if (daysToExpiry === 0) {\n      return loc('password.expiring.today', 'login');\n    } else {\n      return loc('password.expiring.soon', 'login');\n    }\n  },\n  noSubmitButton: true,\n  initialize() {\n    const { customExpiredPasswordName, customExpiredPasswordURL } = this.options.currentViewState;\n    this.add(createButton({\n      className: 'button button-primary button-wide',\n      title: _.partial(loc, 'password.expired.custom.submit', 'login', [customExpiredPasswordName]),\n      click: () => {\n        Util.redirect(customExpiredPasswordURL);\n      },\n    }));\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject('skip')) {\n      links.push({\n        'type': 'link',\n        'label': loc('password.expiring.later', 'login'),\n        'name': 'skip',\n        'actionPath': 'skip',\n      });\n    }\n    return links;\n  }\n});\n\nexport default BaseView.extend({ Body, Footer });\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport EndUserRemediationMessages from '../end-user-remediation/EndUserRemediationMessages';\n\nconst DeviceAssuranceGracePeriodView = BaseForm.extend(\n  {\n    title() {\n      return loc('idx.device_assurance.grace_period.title', 'login');\n    },\n\n    save() {\n      return loc('idx.device_assurance.grace_period.continue_to_app', 'login');\n    },\n\n    showMessages() {\n      const messages = this.options.appState.get('messages').value;\n      const languageCode = this.settings.get('languageCode');\n      if (messages) {\n        this.add(createCallout({\n          content: new EndUserRemediationMessages({ messages, languageCode }),\n          type: 'warning',\n        }));\n      }\n    },\n  },\n);\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    this.Body = DeviceAssuranceGracePeriodView;\n  }\n});\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseFooter, BaseView, BaseOktaVerifyChallengeView } from '../../internals';\nimport Enums from '../../../../util/Enums';\nimport {\n  CANCEL_POLLING_ACTION,\n  IDENTIFIER_FLOW,\n  AUTHENTICATION_CANCEL_REASONS,\n} from '../../utils/Constants';\nimport Link from '../../components/Link';\nimport { doChallenge, cancelPollingWithParams } from '../../utils/ChallengeViewUtil';\nimport OktaVerifyAuthenticatorHeader from '../../components/OktaVerifyAuthenticatorHeader';\nimport { getSignOutLink } from '../../utils/LinksUtil';\nimport CustomAccessDeniedErrorMessage from '../shared/CustomAccessDeniedErrorMessage';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\n\nconst Body = BaseOktaVerifyChallengeView.extend({\n  pollingCancelAction: CANCEL_POLLING_ACTION,\n\n  getDeviceChallengePayload() {\n    return this.options.currentViewState.relatesTo.value;\n  },\n\n  doChallenge() {\n    doChallenge(this, IDENTIFIER_FLOW);\n  },\n\n  onPollingFail() {\n    BaseOktaVerifyChallengeView.prototype.onPollingFail.apply(this, arguments);\n    // When SIW receives form error, polling is already stopped\n    // SIW needs to update footer link from /poll/cancel to /idp/idx/cancel\n    const data = { label: loc('loopback.polling.cancel.link.with.form.error', 'login') };\n    this.options.appState.trigger('updateFooterLink', data);\n  },\n\n  showCustomFormErrorCallout(error, messages) {\n    const responseJSON = error.responseJSON;\n    let options = {\n      type: 'error',\n      className: 'okta-verify-uv-callout-content',\n      subtitle: responseJSON.errorSummary,\n    };\n\n    const containsSignedNonceError = responseJSON.errorSummaryKeys &&\n      responseJSON.errorSummaryKeys.some((key) => key.includes('auth.factor.signedNonce.error'));\n    if (containsSignedNonceError) {\n      options.title = loc('user.fail.verifyIdentity', 'login');\n    }\n\n    const containsCustomAccessDeniedError = responseJSON.errorSummaryKeys &&\n      responseJSON.errorSummaryKeys.some((key) => key.includes('security.access_denied_custom_message'));\n    if(containsCustomAccessDeniedError) {\n      const message = messages?.find(message => message.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      if (!message) {\n        return false;\n      }\n      options = {\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: responseJSON.errorSummary,\n          links: message.links,\n        })\n      };\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  initialize() {\n    this.listenTo(this.options.appState, 'updateFooterLink', this.handleUpdateFooterLink);\n    if (this.isFallbackApproach() && !this.isFallbackDelayed()) {\n      BaseFooter.prototype.initialize.apply(this, arguments);\n    } else {\n      this.backLink = this.add(Link, {\n        options: {\n          name: 'cancel-authenticator-challenge',\n          label: loc('loopback.polling.cancel.link', 'login'),\n          clickHandler: () => {\n            cancelPollingWithParams(\n              this.options.appState,\n              CANCEL_POLLING_ACTION,\n              AUTHENTICATION_CANCEL_REASONS.USER_CANCELED,\n              null\n            );\n          },\n        }\n      }).last();\n    }\n  },\n\n  handleUpdateFooterLink(data) {\n    // only update link for loopback\n    if (!this.isFallbackApproach() || this.isFallbackDelayed()) {\n      this.backLink && this.backLink.remove();\n      this.backLink = this.add(Link, {\n        options: getSignOutLink(this.options.settings, data)[0]\n      }).last();\n    } \n  },\n\n  isFallbackApproach() {\n    return [\n      Enums.CUSTOM_URI_CHALLENGE,\n      Enums.UNIVERSAL_LINK_CHALLENGE,\n      Enums.APP_LINK_CHALLENGE\n    ].includes(this.options.currentViewState.relatesTo.value.challengeMethod);\n  },\n\n  isFallbackDelayed() {\n    // only delay showing the reopen Okta Verify button for the app link approach for now\n    // until we have more data shows other approaches have the slow cold start problem of the Okta Verify app as well\n    return this.options.currentViewState.relatesTo.value.challengeMethod === Enums.APP_LINK_CHALLENGE;\n  },\n});\n\nexport default BaseView.extend({\n  Header: OktaVerifyAuthenticatorHeader,\n  Body,\n  Footer\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('device.code.activate.title', 'login');\n  },\n\n  subtitle() {\n    return loc('device.code.activate.subtitle', 'login');\n  },\n\n  events: {\n    'keyup input[name=\"userCode\"]': function(e) {\n      e.preventDefault();\n      this.addHyphen(e);\n    }\n  },\n\n  addHyphen(evt) {\n    const currentVal = evt.target.value;\n    // add hyphen after 4th character\n    if (currentVal && currentVal.length === 4 && !['Backspace', 'Delete', '-'].includes(evt.key)) {\n      evt.target.value = currentVal.concat('-');\n    }\n  },\n});\n\nexport default BaseView.extend({\n  Body\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport { IosAndAndroidLoopbackOdaTerminalView,\n  AndroidAppLinkWithAccountOdaTerminalView,\n  AndroidAppLinkWithoutAccountOdaTerminalView,\n  getDeviceEnrollmentContext} from '../../components/OdaOktaVerifyTerminalView';\nimport MdmOktaVerifyTerminalView from '../../components/MdmOktaVerifyTerminalView';\nimport Enums from 'util/Enums';\nimport OktaVerifyAuthenticatorHeader from '../../components/OktaVerifyAuthenticatorHeader';\nimport Link from '../../components/Link';\n\nconst BaseDeviceEnrollTerminalForm = BaseForm.extend({\n  noButtonBar: true,\n  className: 'device-enrollment-terminal',\n});\n\nconst AndroidAppLinkPreselectForm = BaseForm.extend({\n  attributes: { 'data-se': 'android-app-link-setup-options-terminal' },\n  title() {\n    return loc('enroll.title.oda.with.account', 'login');\n  },\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const deviceEnrollmentContext = getDeviceEnrollmentContext(this.options.appState.get('deviceEnrollment'));\n    this.model.set('hasOVAccount', 'no');\n    this.addInput({\n      label: () => loc('enroll.subtitle.fastpass', 'login', [ deviceEnrollmentContext.orgName ]),\n      'label-top': true,\n      options: {\n        'no': loc('enroll.option.noaccount.fastpass', 'login'),\n        'yes': loc('enroll.option.account.fastpass', 'login'),\n      },\n      name: 'hasOVAccount',\n      type: 'radio',\n    });\n  },\n\n  saveForm() {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n    this.options.appState.trigger('updateDeviceEnrollmentView', this.model.get('hasOVAccount') === 'yes');\n  }\n});\n\nconst AndroidAppLinkWithAccountOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'android-oda-app-link-with-ov-account-terminal' },\n  title() {\n    return loc('enroll.title.oda.with.account', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(AndroidAppLinkWithAccountOdaTerminalView);\n  },\n});\n\nconst AndroidAppLinkWithoutAccountOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'android-oda-app-link-without-ov-account-terminal' },\n  title() {\n    return loc('enroll.title.oda.without.account', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(AndroidAppLinkWithoutAccountOdaTerminalView);\n  },\n});\n\nconst IosAndAndroidLoopbackOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'loopback-terminal' },\n  title() {\n    return loc('enroll.title.oda', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(IosAndAndroidLoopbackOdaTerminalView);\n  },\n});\n\nconst MdmTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'mdm-terminal' },\n  title() {\n    return loc('enroll.title.mdm', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(MdmOktaVerifyTerminalView);\n  },\n});\n\nconst AndroidAppLinkTerminalViewFooter = Link.extend({\n  postRender() {\n    this.$el.click((event) => {\n      event.preventDefault();\n      this.options.appState.trigger('switchBackToPreselect');\n    });\n  }\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    this.listenTo(this.options.appState, 'updateDeviceEnrollmentView', this.handleUpdateDeviceEnrollmentView);\n    this.listenTo(this.options.appState, 'switchBackToPreselect', this.handleSwitchBackToPreselect);\n\n    const deviceEnrollmentContext = getDeviceEnrollmentContext(this.options.appState.get('deviceEnrollment'));\n    this.enrollmentType = (deviceEnrollmentContext.enrollmentType|| '').toLowerCase(); // oda/mdm\n\n    switch (this.enrollmentType) {\n    case Enums.ODA:\n      this.Header = OktaVerifyAuthenticatorHeader;\n      this.Body = deviceEnrollmentContext.isAndroidAppLink ?\n        AndroidAppLinkPreselectForm : IosAndAndroidLoopbackOdaTerminalForm;\n      break;\n    case Enums.MDM:\n      this.Body = MdmTerminalForm;\n      break;\n    case Enums.WS1:\n      this.Body = MdmTerminalForm;\n    }\n  },\n\n  handleUpdateDeviceEnrollmentView(withAccount) {\n    this.Body = withAccount ? AndroidAppLinkWithAccountOdaTerminalForm : AndroidAppLinkWithoutAccountOdaTerminalForm;\n    this.backLink = this.add(AndroidAppLinkTerminalViewFooter, {\n      options: {\n        name: 'back-to-preselect',\n        label: loc('oform.back', 'login'),\n      }\n    }).last();\n    this.renderForm();\n  },\n\n  handleSwitchBackToPreselect() {\n    this.Body = AndroidAppLinkPreselectForm;\n    this.backLink && this.backLink.remove();\n    this.render();\n  },\n});\n","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\n// for BETA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for EA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"spinner\"></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport IdentifierFooter from '../../components/IdentifierFooter';\nimport SignInWithDeviceOption from '../signin/SignInWithDeviceOption';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('primaryauth.title', 'login');\n  },\n\n  noButtonBar: true,\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.add(\n      SignInWithDeviceOption,\n      { selector: '.o-form-fieldset-container',\n        bubble: false,\n        prepend: true,\n        options: { isRequired: true }\n      }\n    );\n  },\n});\n\n// override the footer to add all the supported links except the sign out link\n// no session is granted at this point\nconst Footer = IdentifierFooter.extend({\n  hasBackToSignInLink: false\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: Footer\n});\n","import { loc, createCallout } from '@okta/courage';\nimport Duo from '@okta/duo';\nimport { BaseForm } from '../../internals';\n\nexport default BaseForm.extend({\n\n  noButtonBar: true,\n\n  postRender: function() {\n    const contextualData = this.getContextualData();\n    // This is the place to check contextualData.integrationType once we support more types\n    // Currently we only support IFRAME\n    const duoFrame = this.add(`<iframe frameborder=\"0\" title=\"'${this.title()}'\"></iframe>`).last();\n    try {\n      Duo.init({\n        host: contextualData.host,\n        sig_request: contextualData.signedToken, // eslint-disable-line camelcase\n        iframe: duoFrame.el,\n        post_action: (signedData) => { // eslint-disable-line camelcase\n          this.model.set('credentials.signatureData', signedData);\n          this.saveForm(this.model);\n        },\n      });\n    } catch (e) {\n      duoFrame.remove();\n      this.add(createCallout({\n        type: 'error',\n        subtitle: loc('oie.duo.iFrameError', 'login'),\n      }), '.o-form-error-container');\n      console.error(e); // eslint-disable-line no-console\n    }\n  },\n\n  getContextualData() {\n    // to be overriden\n  }\n});\n","import { loc } from '@okta/courage';\nimport BaseDuoAuthenticatorForm from './BaseDuoAuthenticatorForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseDuoAuthenticatorForm.extend({\n  title() {\n    return loc('oie.duo.verify.title', 'login');\n  },\n\n  getContextualData() {\n    return this.options.appState.get('currentAuthenticatorEnrollment').contextualData;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport BaseDuoAuthenticatorForm from './BaseDuoAuthenticatorForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseDuoAuthenticatorForm.extend({\n  title() {\n    return loc('oie.duo.enroll.title', 'login');\n  },\n\n  getContextualData() {\n    return this.options.appState.get('currentAuthenticator').contextualData;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import hbs from '@okta/handlebars-inline-precompile';\nimport { View } from '@okta/courage';\n\n// Courage doesn't support HTML, hence creating a subtitle here.\nconst CheckYourEmailTitle = View.extend({\n  className: 'okta-form-subtitle',\n  attributes: {\n    'data-se': 'o-form-explain',\n  },\n  template: hbs`\n      {{#if email}}\n        {{#if secondaryEmail}}\n          {{i18n\n              code=\"oie.email.verify.alternate.magicLinkToEmailAddress.with.secondary.email\"\n              bundle=\"login\"\n              arguments=\"email;secondaryEmail\"\n              $1=\"<span class='strong no-translate'>$1</span>\"\n              $2=\"<span class='strong no-translate'>$2</span>\"\n          }}\n        {{else}}\n          {{i18n\n              code=\"oie.email.verify.alternate.magicLinkToEmailAddress\"\n              bundle=\"login\"\n              arguments=\"email\"\n              $1=\"<span class='strong no-translate'>$1</span>\"\n          }}\n        {{/if}}\n      {{else}}\n        {{i18n\n          code=\"oie.email.verify.alternate.magicLinkToYourEmail\"\n          bundle=\"login\"\n        }}\n      {{/if}}\n\n      {{#if useEmailMagicLinkValue}}\n        {{i18n\n          code=\"oie.email.verify.alternate.instructions\"\n          bundle=\"login\"\n        }}\n      {{else}}\n        {{i18n\n          code=\"oie.email.verify.alternate.verificationCode.instructions\"\n          bundle=\"login\"\n        }}\n      {{/if}}\n    `,\n\n  getTemplateData() {\n    return this.options;\n  },\n});\n\nconst CheckYourEmailEnrollTitle = View.extend({\n  className: 'okta-form-subtitle',\n  attributes: {\n    'data-se': 'o-form-explain',\n  },\n  template: hbs`\n    {{i18n code=\"oie.email.enroll.subtitle\" bundle=\"login\"}}\n  `,\n});\n\nconst EnterCodeLink = View.extend({\n  template: hbs`\n      <button\n        class=\"button-link enter-auth-code-instead-link\"\n      >\n          {{i18n code=\"oie.email.verify.alternate.show.verificationCode.text\"}}\n      </button>\n    `,\n});\n\nexport function getCheckYourEmailTitle() {\n  return CheckYourEmailTitle;\n}\n\nexport function getCheckYourEmailEnrollTitle() {\n  return CheckYourEmailEnrollTitle;\n}\n\nexport function getEnterCodeLink() {\n  return EnterCodeLink;\n}\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport email from '../shared/email';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BaseResendView from '../shared/BaseResendView';\nimport BaseFormWithPolling from '../../internals/BaseFormWithPolling';\n\nconst ResendView = BaseResendView.extend(\n  {\n    className: 'hide resend-email-view',\n    events: {\n      'click a.resend-link' : 'handleResendLink'\n    },\n    modelEvents: {\n      'error': 'handleError'\n    },\n\n    initialize() {\n      this.add(createCallout({\n        content: `${loc('email.code.not.received', 'login')}\n        <a class='resend-link'>${loc('email.button.resend', 'login')}</a>`,\n        type: 'warning',\n      }));\n    },\n\n    hideResendViewAndShowAfterTimeout() {\n      // Hide warning, but reinitiate to show warning again after some threshold of polling\n      if (!this.$el.hasClass('hide')) {\n        this.$el.addClass('hide');\n      }\n      this.showCalloutAfterTimeout();\n    },\n\n    handleResendLink() {\n      this.options.appState.trigger('invokeAction', this.options.resendEmailAction);\n      this.hideResendViewAndShowAfterTimeout();\n    },\n\n    handleError() {\n      this.hideResendViewAndShowAfterTimeout();\n    },\n  },\n);\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.startPolling();\n    },\n\n    postRender() {\n      BaseForm.prototype.postRender.apply(this, arguments);\n\n      // Add 1 instance of resend view\n      if (!this.$el.find('.resend-email-view').length) {\n        this.add(ResendView, {\n          selector: '.o-form-info-container',\n          prepend: true,\n          options: {\n            resendEmailAction: this.resendEmailAction,\n          }\n        });\n      }\n    },\n\n    saveForm() {\n      BaseForm.prototype.saveForm.apply(this, arguments);\n      this.stopPolling();\n    },\n\n    remove() {\n      BaseForm.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n\n    triggerAfterError(model, error) {\n      BaseForm.prototype.triggerAfterError.apply(this, arguments);\n      const isFormPolling = !!this.polling;\n      this.stopPolling();\n\n      if (error.responseJSON?.errorSummaryKeys?.includes('idx.session.expired')) {\n        // Do NOT resume polling since session is invalid and polling is already stopped\n        return;\n      }\n\n      if (this.isRateLimitError(error)) {\n        // When polling encounter rate limit error, wait 60 sec for rate limit bucket to reset\n        // before polling again & hide error message\n        if (isFormPolling) {\n          setTimeout(() => {\n            model.trigger('clearFormError');\n          }, 0);\n        }\n        this.startPolling(60000);\n      } else {\n        this.startPolling(this.options.appState.get('dynamicRefreshInterval'));\n      }\n    },\n\n    isRateLimitError(error) {\n      return (error.responseJSON?.errorSummaryKeys?.includes('tooManyRequests') // IDX API error\n        || (error.responseJSON?.errorCode === 'E0000047') && !error.responseJSON?.errorIntent); // Standard API error\n    },\n  },\n  email,\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorView.prototype.Body;\n\nconst SubtitleView = View.extend({\n  template: hbs`\n    <div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">\n      {{#if email}}\n        {{#if secondaryEmail}}\n          {{i18n\n            code=\"oie.email.verify.subtitle.text.with.email.and.secondary.email\"\n            bundle=\"login\"\n            arguments=\"email;secondaryEmail\"\n            $1=\"<span class='strong no-translate'>$1</span>\"\n            $2=\"<span class='strong no-translate'>$2</span>\"\n          }}\n        {{else}}\n          {{i18n\n            code=\"oie.email.verify.subtitle.text.with.email\"\n            bundle=\"login\"\n            arguments=\"email\"\n            $1=\"<span class='strong no-translate'>$1</span>\"\n          }}\n        {{/if}}\n      {{else}}\n        {{i18n\n          code=\"oie.email.verify.subtitle.text.without.email\"\n          bundle=\"login\"\n        }}\n      {{/if}}\n    </div>\n  `,\n\n  getTemplateData() {\n    const email = this.options.appState.get('currentAuthenticatorEnrollment')?.profile?.email;\n    const secondaryEmail = this.options.appState.get('currentAuthenticatorEnrollment')?.profile?.secondaryEmail;\n    return {\n      email,\n      secondaryEmail\n    };\n  },\n});\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  {\n    title() {\n      return loc('oie.email.challenge.mfa.title', 'login');\n    },\n\n    save() {\n      return loc('oie.email.verify.primaryButton', 'login');\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      this.add(SubtitleView, {\n        prepend: true,\n        selector: '.o-form-info-container',\n      });\n    },\n\n    getUISchema() {\n      // Prevent from displaying radio buttons on the UI\n      const uiSchemas = BaseAuthenticatorEmailForm.prototype.getUISchema.apply(this, arguments);\n      return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n    },\n  },\n);\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorEmailView from './BaseAuthenticatorEmailView';\nimport { getCheckYourEmailTitle, getEnterCodeLink } from './AuthenticatorEmailViewUtil';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorEmailView.prototype.Body;\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  Object.assign({\n    noButtonBar: true,\n    resendEmailAction: 'currentAuthenticatorEnrollment-resend',\n\n    events: {\n      'click .enter-auth-code-instead-link': 'showAuthCodeEntry',\n    },\n\n    initialize() {\n      BaseAuthenticatorEmailForm.prototype.initialize.apply(this, arguments);\n\n      const { email, secondaryEmail } =\n        this.options.currentViewState.relatesTo?.value?.profile || {};\n\n      const useEmailMagicLinkValue = this.isUseEmailMagicLink();\n\n      if (useEmailMagicLinkValue) {\n        this.add(getEnterCodeLink(), {\n          prepend: true,\n          selector: '.o-form-error-container',\n        });\n      }\n\n      this.add(getCheckYourEmailTitle(), {\n        prepend: true,\n        selector: '.o-form-error-container',\n        options: { email, secondaryEmail, useEmailMagicLinkValue },\n      });\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      if (this.isUseEmailMagicLink()) {\n        this.showCodeEntryField(false);\n      } else {\n        this.noButtonBar = false;\n      }\n    },\n\n    isUseEmailMagicLink() {\n      const useEmailMagicLink = this.options.appState.get('currentAuthenticatorEnrollment')?.\n        contextualData?.useEmailMagicLink;\n      return useEmailMagicLink !== undefined ? useEmailMagicLink : true;\n    },\n\n    showAuthCodeEntry() {\n      this.noButtonBar = false;\n      this.render();\n\n      this.showCodeEntryField(true);\n      this.removeEnterAuthCodeInsteadLink();\n    },\n\n    showCodeEntryField(show = true) {\n      const $textField = this.$el.find('.o-form-fieldset-container');\n      $textField.toggle(show);\n    },\n\n    removeEnterAuthCodeInsteadLink() {\n      this.$el.find('.enter-auth-code-instead-link').remove();\n    },\n  })\n);\n\nexport default BaseAuthenticatorEmailView.extend({\n  Body,\n});\n","import BaseAuthenticatorEmailView from './BaseAuthenticatorEmailView';\nimport { getCheckYourEmailTitle, getEnterCodeLink, getCheckYourEmailEnrollTitle } from './AuthenticatorEmailViewUtil';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorEmailView.prototype.Body;\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  Object.assign({\n    resendEmailAction: 'currentAuthenticator-resend',\n\n    initialize() {\n      BaseAuthenticatorEmailForm.prototype.initialize.apply(this, arguments);\n\n      const email = this.options.appState.get('user')?.profile?.email || this.options.appState.get('user')?.identifier\n       || {};\n\n      const useEmailMagicLinkValue = this.isUseEmailMagicLink();\n\n      if (useEmailMagicLinkValue !== undefined) {\n        \n        this.noButtonBar = true;\n        this.events['click .enter-auth-code-instead-link'] = 'showAuthCodeEntry';\n\n        if (useEmailMagicLinkValue) {\n          this.add(getEnterCodeLink(), {\n            prepend: true,\n            selector: '.o-form-error-container',\n          });\n        } \n  \n        this.add(getCheckYourEmailTitle(), {\n          prepend: true,\n          selector: '.o-form-error-container',\n          options: { email, useEmailMagicLinkValue },\n        });\n      } else {\n        this.add(getCheckYourEmailEnrollTitle(), {\n          prepend: true,\n          selector: '.o-form-error-container',\n        });\n      }\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      if (this.isUseEmailMagicLink() !== undefined) {\n        if (this.isUseEmailMagicLink()) {\n          this.showCodeEntryField(false);\n        } else {\n          this.noButtonBar = false;\n        }\n      }\n    },\n\n    isUseEmailMagicLink() {\n      return this.options.appState.get('currentAuthenticator')?.\n        contextualData?.useEmailMagicLink;\n    },\n\n    showAuthCodeEntry() {\n      this.noButtonBar = false;\n      this.render();\n\n      this.showCodeEntryField(true);\n      this.removeEnterAuthCodeInsteadLink();\n    },\n\n    showCodeEntryField(show = true) {\n      const $textField = this.$el.find('.o-form-fieldset-container');\n      $textField.toggle(show);\n    },\n\n    removeEnterAuthCodeInsteadLink() {\n      this.$el.find('.enter-auth-code-instead-link').remove();\n    },\n  })\n);\n\nexport default BaseAuthenticatorEmailView.extend({\n  Body,\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { getMessage } from '../../../ion/i18nTransformer';\nimport TimeUtil from 'util/TimeUtil';\nimport { loc } from 'util/loc';\n\nconst I18N_ACCESS_DENIED_KEY_PREFIX = 'idx.error.code.access_denied.device_assurance.remediation';\nconst I18N_GRACE_PERIOD_KEY_PREFIX = 'idx.device_assurance.grace_period.warning';\nconst HELP_AND_CONTACT_KEY_PREFIX = `${I18N_ACCESS_DENIED_KEY_PREFIX}.additional_help_`;\nconst CUSTOM_URL_ADDITIONAL_HELP_KEY = `${I18N_ACCESS_DENIED_KEY_PREFIX}.additional_help_custom`;\nconst REMEDIATION_OPTION_INDEX_KEY = `${I18N_ACCESS_DENIED_KEY_PREFIX}.option_index`;\nconst ACCESS_DENIED_TITLE_KEY = `${I18N_ACCESS_DENIED_KEY_PREFIX}.title`;\nconst GRACE_PERIOD_TITLE_KEY = `${I18N_GRACE_PERIOD_KEY_PREFIX}.title`;\nconst ACCESS_DENIED_EXPLANATION_KEY_PREFIX = `${I18N_ACCESS_DENIED_KEY_PREFIX}.explanation_`;\n\nfunction buildRemediationOptionBlockMessage(message) {\n  let link = null;\n  if (message.links && message.links[0] && message.links[0].url) {\n    link = message.links[0].url;\n  }\n  return {\n    message: getMessage(message),\n    link,\n    className: (\n      message.i18n.key === REMEDIATION_OPTION_INDEX_KEY ?\n        'end-user-remediation-option' :\n        'end-user-remediation-action'\n    ),\n  };\n}\n\nexport default View.extend({\n  className: 'end-user-remediation-messages-view',\n  template: hbs`\n    {{#if title}}\n      <div class=\"end-user-remediation-title\">{{title}}</div>\n    {{/if}}\n    {{#if explanation}}\n      <div class=\"end-user-remediation-explanation\">{{explanation}}</div>\n    {{/if}}\n    {{#if remediationOptions}}\n      <div class=\"end-user-remediation-options\">\n      {{#each remediationOptions}}\n        <div class=\"{{className}}\">\n        {{#if link}}\n          <a href=\"{{link}}\" target=\"_blank\" rel=\"noopener noreferrer\">{{message}}</a>\n        {{else}}\n          {{message}}\n        {{/if}}\n        </div>\n      {{/each}}\n      </div>\n    {{/if}}\n    <div class=\"end-user-remediation-help-and-contact\">\n    {{#if useCustomHelpText }}\n      {{i18n\n        code=\"idx.error.code.access_denied.device_assurance.remediation.additional_help_custom\"\n        bundle=\"login\"\n        $1=\"<a href='#' target='_blank' rel='noopener noreferrer' class='additional-help'>$1</a>\"\n      }}\n    {{else}}\n      {{i18n\n        code=\"idx.error.code.access_denied.device_assurance.remediation.additional_help_default\"\n        bundle=\"login\"\n        $1=\"<a href='#' target='_blank' rel='noopener noreferrer' class='additional-help'>$1</a>\"\n      }}\n    {{/if}}\n    </div>\n  `,\n  getTemplateData() {\n    const messages = this.options.messages;\n    const remediationOptions = [];\n    let title = null;\n    let explanation = null;\n    let useCustomHelpText = false;\n\n    // eslint-disable-next-line complexity\n    messages.forEach((msg) => {\n      const { i18n: { key, params = [] }, links, message } = msg;\n  \n      if (key === ACCESS_DENIED_TITLE_KEY) {\n        title = getMessage(msg);\n      } else if (key.startsWith(GRACE_PERIOD_TITLE_KEY)) {\n        if (params.length > 0) {\n          const expiry = params[0];\n          const expiryDate = new Date(expiry);\n          const localizedExpiry = TimeUtil.formatDateToDeviceAssuranceGracePeriodExpiryLocaleString(\n            expiryDate,\n            this.options.languageCode\n          );\n          title = localizedExpiry ? loc(key, 'login', [localizedExpiry]) : message;\n        }\n      } else if (key.startsWith(ACCESS_DENIED_EXPLANATION_KEY_PREFIX)) {\n        explanation = getMessage(msg);\n      } else if (key.startsWith(HELP_AND_CONTACT_KEY_PREFIX)) {\n        useCustomHelpText = key === CUSTOM_URL_ADDITIONAL_HELP_KEY;\n        if (links && links[0] && links[0].url) {\n          this.additionalHelpUrl = links[0].url;\n        }\n      } else {\n        remediationOptions.push(buildRemediationOptionBlockMessage(msg));\n      }\n    });\n\n    return {\n      title,\n      explanation,\n      remediationOptions,\n      useCustomHelpText,\n    };\n  },\n  render() {\n    View.prototype.render.apply(this, arguments);\n    if (this.additionalHelpUrl) {\n      this.$el.find('.additional-help').attr('href', this.additionalHelpUrl);\n    }\n  },\n});","const I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS = {\n  /**\n   * Mapping fields in the enroll profile remediation form to their i18n label for localization.\n   */\n  'enroll-profile.userProfile.login': 'oie.user.profile.login',\n  'enroll-profile.userProfile.lastName': 'oie.user.profile.lastname',\n  'enroll-profile.userProfile.firstName': 'oie.user.profile.firstname',\n  'enroll-profile.userProfile.email': 'oie.user.profile.primary.email',\n  'enroll-profile.userProfile.secondEmail': 'oie.user.profile.secondary.email',\n  'enroll-profile.userProfile.middleName': 'oie.user.profile.middleName',\n  'enroll-profile.userProfile.honorificPrefix': 'oie.user.profile.honorificPrefix',\n  'enroll-profile.userProfile.honorificSuffix': 'oie.user.profile.honorificSuffix',\n  'enroll-profile.userProfile.title': 'oie.user.profile.title',\n  'enroll-profile.userProfile.displayName': 'oie.user.profile.displayName',\n  'enroll-profile.userProfile.nickName': 'oie.user.profile.nickName',\n  'enroll-profile.userProfile.profileUrl': 'oie.user.profile.profileUrl',\n  'enroll-profile.userProfile.mobilePhone': 'oie.user.profile.mobilePhone',\n  'enroll-profile.userProfile.primaryPhone': 'oie.user.profile.primaryPhone',\n  'enroll-profile.userProfile.streetAddress': 'oie.user.profile.streetAddress',\n  'enroll-profile.userProfile.city': 'oie.user.profile.city',\n  'enroll-profile.userProfile.state': 'oie.user.profile.state',\n  'enroll-profile.userProfile.zipCode': 'oie.user.profile.zipCode',\n  'enroll-profile.userProfile.postalCode': 'oie.user.profile.postalCode',\n  'enroll-profile.userProfile.countryCode': 'oie.user.profile.countryCode',\n  'enroll-profile.userProfile.postalAddress': 'oie.user.profile.postalAddress',\n  'enroll-profile.userProfile.preferredLanguage': 'oie.user.profile.preferredLanguage',\n  'enroll-profile.userProfile.locale': 'oie.user.profile.locale',\n  'enroll-profile.userProfile.timezone': 'oie.user.profile.timezone',\n  'enroll-profile.userProfile.userType': 'oie.user.profile.userType',\n  'enroll-profile.userProfile.employeeNumber': 'oie.user.profile.employeeNumber',\n  'enroll-profile.userProfile.costCenter': 'oie.user.profile.costCenter',\n  'enroll-profile.userProfile.organization': 'oie.user.profile.organization',\n  'enroll-profile.userProfile.division': 'oie.user.profile.division',\n  'enroll-profile.userProfile.department': 'oie.user.profile.department',\n  'enroll-profile.userProfile.managerId': 'oie.user.profile.managerId',\n  'enroll-profile.userProfile.manager': 'oie.user.profile.manager',\n  'enroll-profile.credentials.passcode': 'oie.password.label',\n};\n\nexport {\n  I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS,\n};\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'google-authenticator-challenge',\n\n    title() {\n      return loc('oie.verify.google_authenticator.otp.title', 'login');\n    },\n\n    subtitle() {\n      return loc('oie.verify.google_authenticator.otp.description', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { addCustomButton, BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport EnrollGoogleAuthenticatorBarcodeView from './EnrollGoogleAuthenticatorBarcodeView';\nimport EnrollAuthenticatorManualSetupView from './EnrollAuthenticatorManualSetupView';\n\nconst VIEW_TO_DISPLAY = 'viewToDisplay';\nconst viewToDisplayState = {\n  BARCODE: 'barcode',\n  MANUAL: 'manual',\n  ENTER_CODE: 'enterCode',\n};\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.enroll.google_authenticator.setup.title', 'login');\n  },\n\n  noButtonBar: true,\n\n  className: 'oie-enroll-google-authenticator',\n\n  enterCodeSubtitle: View.extend({\n    template: hbs`\n      <div class=\"google-authenticator-setup-info-title enter-code-title\">\n      {{i18n code=\"oie.enroll.google_authenticator.enterCode.title\" bundle=\"login\"}}\n      </div>\n    `,\n  }),\n\n  getUISchema() {\n    const schema = BaseForm.prototype.getUISchema.apply(this, arguments);\n    // https://oktainc.atlassian.net/browse/OKTA-555191\n    const nextButton = addCustomButton({\n      className: 'google-authenticator-next',\n      title: loc('oform.next', 'login'),\n      click: () => {\n        this.model.set(VIEW_TO_DISPLAY, viewToDisplayState.ENTER_CODE);\n      }\n    });\n\n    const verifyButton = addCustomButton({\n      className: 'google-authenticator-verify',\n      title: loc('oform.verify', 'login'),\n      click: () => {\n        this.$el.submit();\n      }\n    });\n\n    schema[0].showWhen = {\n      viewToDisplay: viewToDisplayState.ENTER_CODE,\n    };\n\n    // Add Enter Code Subtitle\n    schema.unshift({\n      View: this.enterCodeSubtitle,\n      selector: '.o-form-fieldset-container',\n      showWhen: {\n        viewToDisplay: viewToDisplayState.ENTER_CODE,\n      }\n    });\n\n    schema.push(\n      {\n        View: EnrollGoogleAuthenticatorBarcodeView,\n        selector: '.o-form-fieldset-container',\n        showWhen: {\n          viewToDisplay: viewToDisplayState.BARCODE,\n        }\n      }, {\n        View: EnrollAuthenticatorManualSetupView,\n        selector: '.o-form-fieldset-container',\n        showWhen: {\n          viewToDisplay: viewToDisplayState.MANUAL,\n        }\n      }, {\n        label: false,\n        className: 'shared-secret no-translate',\n        type: 'text',\n        placeholder: this.options.appState.get('currentAuthenticator').contextualData.sharedSecret,\n        disabled: true,\n        showWhen: {\n          viewToDisplay: viewToDisplayState.MANUAL,\n        }\n      },\n      {\n        View: nextButton,\n        showWhen: {\n          viewToDisplay: (val) => val === viewToDisplayState.BARCODE || val === viewToDisplayState.MANUAL,\n        }\n      },\n      {\n        View: verifyButton,\n        showWhen: {\n          viewToDisplay: (val) => val === viewToDisplayState.ENTER_CODE,\n        }\n      },\n    );\n    return schema;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        viewToDisplay: {\n          value: 'barcode',\n          type: 'string',\n          required: true,\n          values: [viewToDisplayState.BARCODE, viewToDisplayState.MANUAL, viewToDisplayState.ENTER_CODE],\n        }\n      },\n      ModelClass.prototype.local,\n    );\n    return ModelClass.extend({\n      local,\n    });\n  },\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'oie-enroll-google-authenticator-manual-setup',\n  template: hbs`\n      <div class=\"google-authenticator-setup-info-title manual-setup-title\">\n        {{i18n code=\"oie.enroll.google_authenticator.cannotScanBarcode.title\" bundle=\"login\"}}\n      </div>\n      <p class=\"google-authenticator-setup-info\">\n          {{i18n code=\"oie.enroll.google_authenticator.manualSetupInstructions\" bundle=\"login\"}}\n      </p>\n    `,\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'oie-enroll-google-authenticator-barcode',\n  template: hbs`\n      {{#if href}}\n      <div class=\"google-authenticator-setup-info-title barcode-setup-title\">\n        {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.title\" bundle=\"login\"}}\n      </div>\n      <div class=\"qrcode-info-container\">\n        <p class=\"google-authenticator-setup-info\">\n          {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.description\" bundle=\"login\"}}\n        </p>\n        <div class=\"qrcode-container\">\n          <img class=\"qrcode\" src={{href}} alt=\"qr code\"></img>\n          <a href=\"#\" class=\"cannot-scan-link\">\n            {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.cannotScan\" bundle=\"login\"}}\n          </a>\n        </div>\n        </div>\n      {{/if}}\n    `,\n\n  getTemplateData() {\n    const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n    return { href: contextualData.qrcode?.href };\n  },\n\n  events: {\n    'click .cannot-scan-link': function(e) {\n      e.preventDefault();\n      this.options.model.set('viewToDisplay', 'manual');\n    }\n  },\n});\n","import { loc } from '@okta/courage';\nimport { BaseIdPAuthenticatorBody, BaseIdpAuthenticatorView} from './BaseIdpAuthenticator';\n\nconst Body = BaseIdPAuthenticatorBody.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.enroll.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.enroll.description', 'login', [displayName]);\n  },\n\n  save() {\n    return loc('mfa.enroll', 'login');\n  },\n\n});\n\nexport default BaseIdpAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport { BaseIdPAuthenticatorBody, BaseIdpAuthenticatorView} from './BaseIdpAuthenticator';\n\nconst Body = BaseIdPAuthenticatorBody.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.challenge.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.challenge.description', 'login', [displayName]);\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n});\n\nexport default BaseIdpAuthenticatorView.extend({\n  Body\n});\n","import { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from 'v2/view-builder/components/BaseAuthenticatorView';\nimport { FORMS as REMEDIATION_FORMS } from 'v2/ion/RemediationConstants';\n\nexport const BaseIdPAuthenticatorBody =  BaseForm.extend({\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.add('<div class=\"okta-waiting-spinner\"></div>');\n  }\n});\n\nexport const BaseIdpAuthenticatorView = BaseAuthenticatorView.extend({\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // get the error messages\n    const messages = this.options.appState.get('messages') || {};\n    // In case of failure, don't auto-redirect which will result in infinite redirects.\n    // so catch the error and render to the user.\n    if (\n      this.settings.get('features.skipIdpFactorVerificationBtn') &&\n      !Array.isArray(messages.value) &&\n      this.model.get('formName') !== REMEDIATION_FORMS.REDIRECT_IDVERIFY\n    ) { \n      this.$('.o-form-button-bar').hide();\n      this.$('.okta-waiting-spinner').show();\n      this.form.trigger('save', this.model);\n    } else {\n      this.$('.okta-waiting-spinner').hide();\n      this.$('.o-form-button-bar').show();\n    }\n  }\n});\n","import { loc, View } from '@okta/courage';\nimport { BaseIdPAuthenticatorBody, BaseIdpAuthenticatorView } from './BaseIdpAuthenticator';\nimport { FORMS } from 'v2/ion/RemediationConstants';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { BaseFooter } from 'v2/view-builder/internals';\n\nconst PrivacyTermsFooterView = View.extend({\n  tagName: 'p',\n  className: 'privacy-footer',\n  template: hbs`\n      <p>{{i18n code=\"oie.idv.idp.description.termsOfUse\" bundle=\"login\" \n        $1=\"<a href='https://withpersona.com/legal/terms-of-use' class='inline-link' data-se='terms-of-use'\n          target='_blank' rel='noopener noreferrer'>$1</a>\"\n        $2=\"<a href='https://withpersona.com/legal/privacy-policy' class='inline-link' data-se='privacy-policy'\n           target='_blank' rel='noopener noreferrer'>$2</a>\"}}\n      </p>\n      <p>{{i18n code=\"oie.idv.idp.description.agreement\" bundle=\"login\"}}</p>\n    `\n});\n\nconst Body = BaseIdPAuthenticatorBody.extend({\n  title() {\n    const redirectIDVerifyRemediation = this.options.appState.get('remediations').find((remediation) => {\n      return remediation.name === FORMS.REDIRECT_IDVERIFY;\n    });\n    return loc('oie.idv.idp.title', 'login', [redirectIDVerifyRemediation.idp.name]);\n  },\n  subtitle() {\n    return loc('oie.idv.idp.description', 'login');\n  },\n  save() {\n    return loc('oie.optional.authenticator.button.title', 'login');\n  },\n});\n\nexport default BaseIdpAuthenticatorView.extend({\n  Body,\n  Footer: BaseFooter.extend({\n    postRender() {\n      this.add(PrivacyTermsFooterView);\n    }\n  }),\n});\n","import { loc, createButton } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\n\nconst Body = BaseForm.extend({\n  noSubmitButton: true,\n\n  title() {\n    return loc('oie.kmsi.title', 'login');\n  },\n\n  subtitle() {\n    return loc('oie.kmsi.subtitle', 'login');\n  },\n\n  saveForm(isKeepMeSignedIn) {\n    this.model.set('keepMeSignedIn', isKeepMeSignedIn);\n    this.options.appState.trigger('saveForm', this.model);\n  },\n\n  // Overrides the default getUISchema in order to render 2 buttons instead of a checkbox\n  getUISchema() {\n    const form = this;\n    const acceptButton = createButton({\n      className: 'button button-secondary',\n      title: loc('oie.kmsi.accept', 'login'),\n      attributes: { 'data-se': 'stay-signed-in-btn' },\n      click: function() {\n        form.saveForm(true);\n      },\n    });\n    const rejectButton = createButton({\n      className: 'button button-secondary',\n      title: loc('oie.kmsi.reject', 'login'),\n      attributes: { 'data-se': 'do-not-stay-signed-in-btn' },\n      click: function() {\n        form.saveForm(false);\n      },\n    });\n    return [{ View: acceptButton }, { View: rejectButton }];\n  }\n});\n\nexport default BaseView.extend({ Body });\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ON_PREM_TOKEN_CHANGE_KEY = 'errors.E0000113';\n\nconst Body = BaseForm.extend({\n\n  className: 'on-prem-authenticator-verify',\n\n  modelEvents: {\n    'error': '_checkTokenChange'\n  },\n\n  title() {\n    const vendorName =\n      this.options.appState.getAuthenticatorDisplayName() ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    return loc('oie.on_prem.verify.title', 'login', [vendorName]);\n  },\n\n  _checkTokenChange(model, convertedErrors) {\n    const errorSummaryKeys = convertedErrors?.responseJSON?.errorSummaryKeys;\n    if (errorSummaryKeys && errorSummaryKeys.includes(ON_PREM_TOKEN_CHANGE_KEY)) {\n      // this means we are in change pin, so we should clear out answer input\n      this.model.set('credentials.passcode', '');\n      this.render();\n    }\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ON_PREM_TOKEN_CHANGE_KEY = 'errors.E0000113';\n\nconst Body = BaseForm.extend({\n\n  className: 'on-prem-authenticator-enroll',\n\n  modelEvents: {\n    'error': '_checkTokenChange'\n  },\n\n  title() {\n    const vendorName =\n      this.options.appState.getAuthenticatorDisplayName() ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    return loc('oie.on_prem.enroll.title', 'login', [vendorName]);\n  },\n\n  _checkTokenChange(model, convertedErrors) {\n    const errorSummaryKeys = convertedErrors?.responseJSON?.errorSummaryKeys;\n    if (errorSummaryKeys && errorSummaryKeys.includes(ON_PREM_TOKEN_CHANGE_KEY)) {\n      // this means we are in change pin, so we should clear out answer input\n      this.model.set('credentials.passcode', '');\n      this.render();\n    }\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { _, createCallout } from '@okta/courage';\nimport { BaseOktaVerifyChallengeView } from '../../internals';\nimport { getBiometricsErrorOptions } from '../../utils/ChallengeViewUtil';\n\nconst Body = BaseOktaVerifyChallengeView.extend({\n  getDeviceChallengePayload() {\n    return this.options.currentViewState.relatesTo.value.contextualData.challenge.value;\n  },\n\n  showCustomFormErrorCallout(error) {\n    const options = getBiometricsErrorOptions(error, false);\n    \n    // If not biometrics error, just show the returned error message\n    if (_.isEmpty(options)) {\n      return false;\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nexport default Body;\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst OV_NMC_FORCE_UPGRAGE_SERVER_KEY = 'oie.authenticator.app.method.push.force.upgrade.number_challenge';\nconst OV_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.app.method.push.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'okta-verify-resend-push',\n\n    title() {\n      return loc('oie.okta_verify.push.title', 'login');\n    },\n\n    save() {\n      return loc('oie.okta_verify.push.resend', 'login');\n    },\n\n    showMessages() {\n      let options = {};\n      if (this.options.appState.containsMessageWithI18nKey(OV_NMC_FORCE_UPGRAGE_SERVER_KEY)) {\n        // add a title for OV force upgrade\n        options.title = loc('oie.numberchallenge.force.upgrade.title', 'login');\n      } else if (this.options.appState.containsMessageWithI18nKey(OV_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        // add a title for OV enable biometrics message during verification\n        options.content = null;\n        options.className = 'okta-verify-uv-callout-content';\n        options.title = loc('oie.authenticator.app.method.push.verify.enable.biometrics.title', 'login');\n        options.subtitle = loc('oie.authenticator.app.method.push.verify.enable.biometrics.description', 'login');\n        options.type = 'error';\n        options.bullets = [\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point1', 'login'),\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point2', 'login'),\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point3', 'login')\n        ];\n        options = createCallout(options);\n      }\n      BaseForm.prototype.showMessages.call(this, options);\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { BaseForm } from '../../internals';\nimport { loc, createCallout, _ } from '@okta/courage';\nimport { getBiometricsErrorOptions } from '../../utils/ChallengeViewUtil';\n\n// for EA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for GA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"credential-sso-extension\"><div class=\"spinner\"></div></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  },\n\n  showCustomFormErrorCallout(error) {\n    const options = getBiometricsErrorOptions(error, false);\n    \n    // If not biometrics error, just show the returned error message\n    if (_.isEmpty(options)) {\n      return false;\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst OV_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.oktaverify.method.totp.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'okta-verify-totp-challenge',\n\n    title() {\n      return loc('oie.okta_verify.totp.title', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n\n    showCustomFormErrorCallout(error) {\n      const errorSummaryKeys = error?.responseJSON?.errorSummaryKeys;\n      let options;\n      if (errorSummaryKeys && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        options = {\n          type: 'error',\n          className: 'okta-verify-uv-callout-content',\n          title: loc('oie.authenticator.app.method.push.verify.enable.biometrics.title', 'login'),\n          subtitle: loc('oie.authenticator.app.method.push.verify.enable.biometrics.description', 'login'),\n          bullets: [\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point1', 'login'),\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point2', 'login'),\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point3', 'login')\n          ],\n        };\n        this.showMessages(createCallout(options));\n        return true;\n      }\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { Body as ChallengePushViewBody } from '../shared/ChallengePushView';\nimport ChallengeOktaVerifyFastPassView from './ChallengeOktaVerifyFastPassView';\nimport NumberChallengePushView from './NumberChallengePushView';\nimport { AUTHENTICATOR_METHODS } from '../../../ion/RemediationConstants';\n\nexport default BaseAuthenticatorView.extend({\n  initialize() {\n    BaseAuthenticatorView.prototype.initialize.apply(this, arguments);\n    const currentAuthenticator = this.options?.appState?.get('currentAuthenticator');\n    const selectedMethod = currentAuthenticator?.methods[0];\n    if (selectedMethod?.type === AUTHENTICATOR_METHODS.PUSH &&\n      currentAuthenticator?.contextualData?.correctAnswer) {\n      this.Body = NumberChallengePushView;\n    } else if (selectedMethod?.type === AUTHENTICATOR_METHODS.PUSH) {\n      this.Body = ChallengePushViewBody;\n    } else {\n      this.Body = ChallengeOktaVerifyFastPassView;\n    }\n  },\n});\n","import { View, _, loc, internal} from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\nimport { createInvisibleIFrame } from '../../utils/ChallengeViewUtil';\n\nconst { Notification } = internal.views.components;\nconst { Clipboard } = internal.util;\n\nexport default View.extend({\n  initialize() {\n    let deviceMap = getDeviceMap(this.options.appState);\n\n    // automatically trigger the Set up Okta Verify button on same device enrollment view\n    if (deviceMap && deviceMap.setupOVUrl && deviceMap.isDesktop) {\n      this.ulDom && this.ulDom.remove();\n      const IframeView = createInvisibleIFrame('custom-uri-container', deviceMap.setupOVUrl);\n      this.ulDom = this.add(IframeView).last();\n    }\n  },\n  template: hbs`\n      {{#if href}}\n        <ol class=\"qrcode-info ov-info\">\n          <li>{{i18n code=\"oie.enroll.okta_verify.qrcode.step1.updated\" bundle=\"login\"}}</li>\n          <li>{{i18n code=\"oie.enroll.okta_verify.qrcode.step2\" bundle=\"login\"}}</li>\n          <li>\n            {{i18n code=\"oie.enroll.okta_verify.qrcode.step3.updated\"\n            bundle=\"login\" $1=\"<span class='strong'>$1</span>\"}}\n          </li>\n        </ol>\n        <div class=\"qrcode-container\">\n          <img class=\"qrcode\" src={{href}} alt=\"{{i18n code=\"mfa.altQrCode\" bundle=\"login\" }}\"></img>\n        </div>\n      {{/if}}\n      {{#if email}}\n        <ul class=\"email-info ov-info\">\n          <li>\n            {{{i18n code=\"oie.enroll.okta_verify.email.info.updated\"\n            bundle=\"login\" arguments=\"email\" $1=\"<span class='strong'>$1</span>\"}}}\n          </li>\n          <li class=\"switch-channel-content\"></li>\n        </ul>\n      {{/if}}\n      {{#if phoneNumber}}\n        <ul class=\"sms-info ov-info\">\n          <li>\n            {{{i18n code=\"oie.enroll.okta_verify.sms.info.updated\"\n            bundle=\"login\" arguments=\"phoneNumber\" $1=\"<span class='strong'>$1</span>\"}}}\n          </li>\n          <li class=\"switch-channel-content\"></li>\n        </ul>\n      {{/if}}\n      {{#if deviceMap.setupOVUrl}}\n        <div class=\"sameDevice-setup{{#if sameDeviceOVEnrollmentEnabled}} ov-enrollment-enabled{{/if}}\">        \n          <p class=\"explanation\" data-se=\"subheader\">\n            {{#if deviceMap.isDesktop}}\n              <div class=\"desktop-instructions ov-info\">\n                {{i18n code=\"oie.enroll.okta_verify.setup.customUri.prompt\"\n                bundle=\"login\" $1=\"<span class='semi-strong'>$1</span>\"}}\n              </div>              \n              <div class=\"desktop-instructions\">\n                {{#if sameDeviceOVEnrollmentEnabled}}\n                  {{i18n code=\"customUri.required.content.prompt\"\n                  bundle=\"login\" $1=\"<span>$1</span>\"}}\n                {{else}}\n                  {{i18n code=\"oie.enroll.okta_verify.setup.customUri.noPrompt\"\n                  bundle=\"login\" $1=\"<span class='semi-strong'>$1</span>\"}}\n                {{/if}}\n              </div>\n              {{#unless sameDeviceOVEnrollmentEnabled}}\n                <div class=\"desktop-instructions\">\n                  {{i18n code=\"oie.enroll.okta_verify.setup.customUri.makeSureHaveOV\" bundle=\"login\"}}\n                </div>\n              {{/unless}}\n            {{else}}\n              {{i18n code=\"oie.enroll.okta_verify.setup.customUri.makeSureHaveOVToContinue\" bundle=\"login\"}}\n            {{/if}}\n          </p>      \n          <ol class=\"ov-info\">\n            {{#unless sameDeviceOVEnrollmentEnabled}}\n              {{#if deviceMap.platformLC}}\n                <li>\n                  <a aria-label='{{i18n code=\"customUri.required.content.download.linkText\" bundle=\"login\"}}'\n                  href=\"{{deviceMap.downloadHref}}\"\n                  class=\"app-store-logo {{deviceMap.platformLC}}-app-store-logo\"></a>\n                </li>\n              {{/if}}            \n                          \n              <li>\n                {{i18n code=\"oie.enroll.okta_verify.setup.customUri.setup\"\n                bundle=\"login\" $1=\"<span class='semi-strong'>$1</span>\"}}\n              </li>     \n            {{/unless}}\n            <li>\n              <a href=\"{{deviceMap.setupOVUrl}}\" class=\"button button-primary setup-button\">\n              {{i18n code=\"oie.enroll.okta_verify.setup.title\" bundle=\"login\"}}\n              </a>\n            </li>\n\n            {{#if sameDeviceOVEnrollmentEnabled}}\n              <li>\n                <span>{{i18n code=\"customUri.required.content.download.title\" bundle=\"login\"}}</span>&nbsp;\n                <a href=\"{{deviceMap.downloadHref}}\" target=\"_blank\" id=\"download-ov\" class=\"download-ov-link\">\n                  {{i18n code=\"customUri.required.content.download.linkText\" bundle=\"login\"}}\n                </a>\n              </li>\n            {{/if}}\n\n            {{#if showAnotherDeviceLink}}\n              <li>\n              {{#if deviceMap.isDesktop}}\n                {{i18n code=\"oie.enroll.okta_verify.setup.customUri.orOnMobile\"\n                bundle=\"login\" $1=\"<a class='orOnMobileLink' href='#'>$1</a>\"}}\n              {{else}}\n                {{i18n code=\"oie.enroll.okta_verify.setup.customUri.orMobile\"\n                bundle=\"login\" $1=\"<a class='orOnMobileLink' href='#'>$1</a>\"}}\n              {{/if}}              \n              </li>\n            {{/if}}\n          </ol>\n        </div>\n      {{else}}\n        {{#if sameDevice}}\n          <p class=\"explanation\" data-se=\"subheader\">\n            {{i18n code=\"oie.enroll.okta_verify.setup.subtitle \" bundle=\"login\"}}\n          </p>\n          <ol class=\"sameDevice-info ov-info\">\n            <li>\n              {{{i18n code=\"enroll.oda.without.account.step1\" bundle=\"login\" arguments=\"sameDevice.downloadHref\"}}}\n            </li>\n            <li>{{i18n code=\"oie.enroll.okta_verify.setup.openOv\" bundle=\"login\"}}</li>\n            <li>\n                {{i18n code=\"oie.enroll.okta_verify.setup.signInUrl\" bundle=\"login\"}}\n                <br><br/>\n                <span class='semi-strong no-translate'>{{sameDevice.orgUrl}}</span>\n                <a data-clipboard-text=\"{{sameDevice.orgUrl}}\" class=\"button link-button copy-org-clipboard-button\">\n                  {{i18n code=\"enroll.oda.org.copyLink\" bundle=\"login\"}}\n                </a>\n            </li>\n            <li>{{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.followInstruction\" bundle=\"login\"}}</li>\n          </ol>\n          <p class=\"closing\">\n            {{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.canBeClosed\" bundle=\"login\"}}\n          </p>\n        {{/if}}\n\n        {{#if deviceBootstrap}}\n          <p class=\"explanation\" data-se=\"subheader\">\n            {{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.subtitle\" bundle=\"login\"}}\n          </p>\n          <ol class=\"deviceBootstrap-info ov-info\">\n            <li>\n              {{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.openOv.suchAs\"\n              bundle=\"login\"\n              arguments=\"enrolledDeviceName\"\n              $1=\"<span class='semi-strong'>$1</span>\"}}\n            </li>\n            <li>{{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.selectAccount\" bundle=\"login\"}}</li>\n            <li>\n              {{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.addAccount\"\n              bundle=\"login\" $1=\"<span class='semi-strong'>$1</span>\"}}\n            </li>\n            <li>{{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.followInstruction\" bundle=\"login\"}}</li>\n          </ol>\n          <p class=\"closing\">\n            {{i18n code=\"oie.enroll.okta_verify.setup.skipAuth.canBeClosed\" bundle=\"login\"}}\n          </p>\n        {{/if}}\n      {{/if}}\n    `,\n  /* eslint complexity: [2, 20] */\n  getTemplateData() {\n    const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n    let enrolledDeviceName = '';\n    let deviceMap = getDeviceMap(this.options.appState);\n    let showAnotherDeviceLink = false;\n    if (contextualData) {\n      if (contextualData?.devicebootstrap && contextualData?.devicebootstrap.enrolledDevices) {\n        const enrolledDevices = contextualData?.devicebootstrap.enrolledDevices;\n        enrolledDeviceName = Array.isArray(enrolledDevices) && !_.isEmpty(enrolledDevices) ?\n          enrolledDevices[0] : enrolledDevices;\n      }\n    }\n\n    if (deviceMap.securityLevel && deviceMap.securityLevel === 'ANY') {\n      showAnotherDeviceLink = true;\n    }\n\n    const sameDeviceOVEnrollmentEnabled = this.options.settings.get('features.sameDeviceOVEnrollmentEnabled');\n\n    return {\n      href: contextualData.qrcode?.href,\n      email: _.escape(contextualData?.email),\n      phoneNumber:  _.escape(contextualData?.phoneNumber),\n      sameDevice: contextualData?.samedevice,\n      deviceBootstrap: contextualData?.devicebootstrap,\n      enrolledDeviceName: enrolledDeviceName,\n      deviceMap: deviceMap,\n      showAnotherDeviceLink: showAnotherDeviceLink,\n      sameDeviceOVEnrollmentEnabled,\n    };\n  },\n  postRender: function() {\n    const appState = this.options && this.options.appState;\n    const model = this.model;\n\n    this.$('.orOnMobileLink').click(function() {\n      if (!appState || !model) {\n        return;\n      }\n\n      const qrChannel = 'qrcode';\n      const remediations = appState.get('remediations');\n      const selectEnrollmentChannelRemediation = remediations.find((remediation) => {\n        return remediation.name === RemediationForms.SELECT_ENROLLMENT_CHANNEL;\n      });\n      if (!selectEnrollmentChannelRemediation) {\n        return;\n      }\n      const idField = _.find(selectEnrollmentChannelRemediation.uiSchema, (schema) =>\n        schema.name === 'authenticator.id');\n      if (!idField) {\n        return;\n      }\n      // filter selected channel\n      const qrChannelField = _.find(selectEnrollmentChannelRemediation.uiSchema, (schema) =>\n        schema.name === 'authenticator.channel');\n      if (!qrChannelField) {\n        return;\n      }\n      qrChannelField.options = _.filter(qrChannelField?.options, (option) =>\n        option.value === qrChannel);\n      qrChannelField.value = qrChannelField.options[0]?.value || qrChannel;\n      qrChannelField.sublabel = null;\n\n      model.set('authenticator.channel', qrChannelField.value);\n      model.set('authenticator.id', idField.value);\n      model.set('formName', selectEnrollmentChannelRemediation.name);\n      appState.trigger('saveForm', model);\n    });\n\n    Clipboard.attach('.copy-org-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.oda.org.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n\nfunction getDeviceMap(appState) {\n  if (!appState) {\n    return null;\n  }\n\n  const contextualData = appState.get('currentAuthenticator').contextualData;\n  let deviceMap = {};\n  if (contextualData.samedevice?.setupOVUrl) {\n    deviceMap = {...contextualData.samedevice};\n  } else if (contextualData.devicebootstrap?.setupOVUrl) {\n    deviceMap = {...contextualData.devicebootstrap};\n  }\n\n  if (deviceMap.platform) {\n    deviceMap.platformLC = deviceMap.platform.toLowerCase();\n    deviceMap.isDesktop = !(deviceMap.platformLC === 'ios' || deviceMap.platformLC === 'android');\n  }\n\n  return deviceMap;\n}\n","import { loc } from '@okta/courage';\nimport { BaseFormWithPolling } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport polling from '../shared/polling';\nimport OVResendView from './OVResendView';\nimport SwitchEnrollChannelLinkView from './SwitchEnrollChannelLinkView';\nimport EnrollChannelPollDescriptionView from './EnrollChannelPollDescriptionView';\n\nconst OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_IOS =\n  'oie.authenticator.app.non_fips_compliant_enrollment_device_incompatible';\nconst OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_NON_IOS =\n  'oie.authenticator.app.non_fips_compliant_enrollment_app_update_required';\nconst OV_QR_ENROLL_ENABLE_BIOMETRICS_KEY = 'oie.authenticator.app.method.push.enroll.enable.biometrics';\nlet shouldStartPolling = true;\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    title() {\n      const selectedChannel = this.options.appState.get('currentAuthenticator').contextualData.selectedChannel;\n      let title;\n      switch (selectedChannel) {\n      case 'email':\n        title = loc('oie.enroll.okta_verify.setup.email.title', 'login');\n        break;\n      case 'sms':\n        title = loc('oie.enroll.okta_verify.setup.sms.title', 'login');\n        break;\n      default:\n        title = loc('oie.enroll.okta_verify.setup.title', 'login');\n      }\n      return title;\n    },\n    className: 'oie-enroll-ov-poll',\n    noButtonBar: true,\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.listenTo(this.model, 'error', this.stopPolling);\n      if (shouldStartPolling) {\n        this.startPolling();\n      }\n    },\n    showMessages() {\n      // override showMessages to display custom callout\n      const calloutOptions = {};\n      if (this.options.appState.containsMessageWithI18nKey(OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_IOS) ||\n        this.options.appState.containsMessageWithI18nKey(OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_NON_IOS)) {\n        // add a title for ov force upgrade\n        calloutOptions.title = loc('oie.okta_verify.enroll.force.upgrade.title', 'login');\n      } else if (this.options.appState.containsMessageWithI18nKey(OV_QR_ENROLL_ENABLE_BIOMETRICS_KEY)) {\n        // add a title for OV enable biometrics message during enrollment\n        calloutOptions.title = loc('oie.authenticator.app.method.push.enroll.enable.biometrics.title', 'login');\n      }\n      BaseFormWithPolling.prototype.showMessages.call(this, calloutOptions);\n    },\n    getUISchema() {\n      const schema = [];\n      const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n      const selectedChannel = contextualData.selectedChannel;\n      let selector;\n      if (selectedChannel === 'qrcode') {\n        selector = '.qrcode-container';\n        shouldStartPolling = true;\n      } else if (['email', 'sms'].includes(selectedChannel)) {\n        selector = '.switch-channel-content';\n        shouldStartPolling = true;\n      } else if (['samedevice'].includes(selectedChannel)) {\n        // no selector if the channel is same device\n        shouldStartPolling = true;\n      } else if (['devicebootstrap'].includes(selectedChannel)) {\n        // no selector if the channel is device bootstrap\n        shouldStartPolling = false;\n      }\n      \n      schema.push({\n        View: EnrollChannelPollDescriptionView,\n      });\n      schema.push({\n        View: SwitchEnrollChannelLinkView,\n        options: {\n          selectedChannel\n        },\n        selector: selector,\n      });\n      if (['email', 'sms'].includes(selectedChannel)) {\n        schema.push({\n          View: OVResendView,\n          selector: '.o-form-error-container',\n        });\n      }\n      return schema;\n    },\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, _, Model } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CountryUtil from '../../../../util/CountryUtil';\nimport SwitchEnrollChannelLinkView from './SwitchEnrollChannelLinkView';\n\nconst Body = BaseForm.extend({\n  className: 'oie-enroll-ov-data',\n  title() {\n    return this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'email' ?\n      loc('oie.enroll.okta_verify.enroll.channel.email.title', 'login'):\n      loc('oie.enroll.okta_verify.enroll.channel.sms.title', 'login');\n  },\n\n  save() {\n    return loc('oie.enroll.okta_verify.setupLink', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const phoneNumberUISchema = _.find(uiSchemas, ({ name }) => name === 'phoneNumber');\n    const phoneNumberUISchemaIndex = _.findIndex(uiSchemas, ({ name }) => name === 'phoneNumber');\n\n    const countryUISchema = {\n      'label-top': true,\n      label: loc('mfa.country', 'login'),\n      type: 'select',\n      options: CountryUtil.getCountries(),\n      name: 'country',\n      wide: true,\n    };\n\n    // Create an input group - serves as a display wrapper\n    const phoneNumberWithCodeUISchema = {\n      label: loc('mfa.phoneNumber.placeholder', 'login'),\n      type: 'group',\n      modelType: 'string',\n      'label-top': true,\n      name: 'phoneCode',\n      input: [\n        {\n          type: 'label',\n          /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n          label: `+${this.model.get('phoneCode')}`,\n          className: 'country-code-label no-translate',\n        },\n        Object.assign({}, phoneNumberUISchema),\n      ],\n    };\n\n    if (phoneNumberUISchemaIndex !== -1) {\n      // Replace phoneNumberUISchema and add countryUISchema before phone.\n      uiSchemas.splice(phoneNumberUISchemaIndex, 1, countryUISchema, phoneNumberWithCodeUISchema);\n    }\n\n    const description = {\n      View: this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'email' ?\n        loc('oie.enroll.okta_verify.enroll.channel.email.subtitle', 'login'):\n        loc('oie.enroll.okta_verify.channel.sms.description.updated', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n\n    uiSchemas.push(description);\n    return uiSchemas;\n  },\n\n  handlePhoneCodeChange() {\n    const countryCodeField = this.el.querySelector('.country-code-label');\n    countryCodeField.innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    if (this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'sms') {\n      this.listenTo(this.model, 'change:phoneCode', this.handlePhoneCodeChange.bind(this));\n    }\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    if (this.options.appState.get('currentAuthenticator').contextualData.selectedChannel !== 'sms') {\n      return ModelClass;\n    }\n    const local = Object.assign(\n      {\n        country: {\n          // Set default country to \"US\"\n          'value': this.settings.get('defaultCountryCode'),\n          'type': 'string',\n        },\n      },\n      ModelClass.prototype.local,\n    );\n    const derived = Object.assign(\n      {\n        phoneCode: {\n          deps: [ 'country'],\n          fn: function(country) {\n            return CountryUtil.getCallingCodeForCountry(country);\n          },\n        },\n      },\n      ModelClass.prototype.derived,\n    );\n    return ModelClass.extend({\n      local,\n      derived,\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments);\n        const phoneCode = this.get('phoneCode');\n\n        // Add country code..\n        let formattedPhoneNumber = `+${phoneCode}${modelJSON.phoneNumber}`;\n\n        // Override phone with formatted number..\n        modelJSON.phoneNumber = formattedPhoneNumber;\n        return modelJSON;\n      },\n    });\n  },\n  postRender() {\n    this.add(SwitchEnrollChannelLinkView, 'form');\n  },\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst NumberChallengePhoneView = View.extend({\n  className: 'number-challenge-section',\n  template: hbs`\n     <p>\n     {{i18n\n      code=\"oie.numberchallenge.instruction\"\n      bundle=\"login\"\n      arguments=\"correctAnswer\"\n      $1=\"<span class='strong'>$1</span>\"}}\n     </p>\n    <div class=\"phone no-translate\">\n      <div class=\"phone--body\">\n        <div class=\"phone--screen\">\n          <span class=\"phone--number\" data-se=\"challenge-number\">{{correctAnswer}}</span>\n        </div>\n        <div class=\"phone--home-button\"></div>\n      </div>\n    </div>\n  `,\n  getTemplateData() {\n    const correctAnswer = this.options.appState.get('currentAuthenticator')?.contextualData?.correctAnswer;\n    return {\n      correctAnswer\n    };\n  },\n});\n\n\nexport default NumberChallengePhoneView;\n","import { loc } from '@okta/courage';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport ResendNumberChallengeView from './ResendNumberChallengeView';\nimport NumberChallengePhoneView from './NumberChallengePhoneView';\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    className: 'okta-verify-number-challenge',\n\n    events: {\n      'click a.resend-number-challenge': 'handleResendNumberChallenge'\n    },\n\n    handleResendNumberChallenge() {\n      this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n      // hide the warning\n      this.options.appState.trigger('hideNumberChallengeWarning');\n    },\n\n    title() {\n      return loc('oie.okta_verify.push.sent', 'login');\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.add(NumberChallengePhoneView);\n    },\n\n    triggerAfterError() {\n      BaseFormWithPolling.prototype.triggerAfterError.apply(this, arguments);\n      this.stopPolling();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.addWarning();\n    },\n\n    stopPoll() {\n      this.stopPolling();\n    },\n\n    addWarning() {\n      this.add(ResendNumberChallengeView, '.o-form-error-container');\n      this.options.appState.trigger('showNumberChallengeWarning');\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default Body;\n","import { createCallout } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport BaseResendView from '../shared/BaseResendView';\n\nexport default BaseResendView.extend({\n  //only show after certain threshold of polling\n  className: 'hide resend-ov-link-view',\n  events: {\n    'click a.resend-link' : 'handelResendLink'\n  },\n\n  initialize() {\n    const selectedChannel = this.options.appState.get('currentAuthenticator').contextualData.selectedChannel;\n    this.add(createCallout({\n      content: selectedChannel === 'email' ?\n        hbs `{{{i18n code=\"oie.enroll.okta_verify.email.notReceived\" bundle=\"login\"}}}`:\n        hbs `{{{i18n code=\"oie.enroll.okta_verify.sms.notReceived\" bundle=\"login\"}}}`,\n      type: 'warning',\n    }));\n  },\n\n  handelResendLink() {\n    this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n    //hide warning, but reinitiate to show warning again after some threshold of polling\n    this.$el.addClass('hide');\n    this.showCalloutAfterTimeout();\n  },\n});\n","import { _, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { WARNING_TIMEOUT } from '../../utils/Constants';\n\nconst ResendNumberChallengeView = View.extend({\n  initialize() {\n    this.listenTo(this.options.appState, 'showNumberChallengeWarning',  () => {\n      this.startWarningTimeout();\n    });\n\n    this.listenTo(this.options.appState, 'hideNumberChallengeWarning', () => {\n      this.clearWarning();\n    });\n  },\n  className: 'resend-number-challenge-warning hide',\n  template: hbs`\n      <div class=\"okta-form-infobox-warning infobox infobox-warning\">\n        <span class=\"icon warning-16\"></span>\n        <p>{{i18n\n          code=\"oie.numberchallenge.warning\"\n          bundle=\"login\"\n          $1=\"<a href='#' class='resend-number-challenge'>$1</a>\"}}\n        </p>\n      </div>\n  `,\n  showWarning() {\n    this.$el.removeClass('hide');\n  },\n  clearWarning() {\n    this.$el.addClass('hide');\n    clearTimeout(this.warningTimeout);\n    this.startWarningTimeout();\n  },\n  startWarningTimeout() {\n    this.warningTimeout = setTimeout(_.bind(function() {\n      this.showWarning();\n    }, this), WARNING_TIMEOUT);\n  }\n});\n\nexport default ResendNumberChallengeView;\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\n\nexport default View.extend({\n  className: 'ov-same-device-enroll-text',\n  template: hbs `\n        {{{i18n code=\"oie.enroll.okta_verify.select.channel.ovOnThisDevice\"\n        bundle=\"login\" $1=\"<a class='ov-same-device-enroll-link' href='#'>$1</a>\"}}}\n      `,\n  postRender: function() {\n    const appState = this.options && this.options.appState;\n    const model = this.model;\n\n    this.$('.ov-same-device-enroll-link').click(function() {\n      if (!appState || !model) {\n        return;\n      }\n\n      const sameDeviceChannel = 'samedevice';\n      const remediations = appState.get('remediations');\n      const selectEnrollmentChannelRemediation = remediations.find((remediation) => {\n        return remediation.name === RemediationForms.SELECT_ENROLLMENT_CHANNEL;\n      });\n\n      if (!selectEnrollmentChannelRemediation) {\n        return;\n      }\n      const idField = selectEnrollmentChannelRemediation.uiSchema?.find((schema) =>\n        schema.name === 'authenticator.id');\n      if (!idField) {\n        return;\n      }\n      // filter selected channel\n      const sameDeviceChannelField = selectEnrollmentChannelRemediation.uiSchema?.find((schema) =>\n        schema.name === 'authenticator.channel');\n      if (!sameDeviceChannelField) {\n        return;\n      }\n      sameDeviceChannelField.options = sameDeviceChannelField.options?.filter((option) =>\n        option.value === sameDeviceChannel);\n      sameDeviceChannelField.value = sameDeviceChannelField.options[0]?.value || sameDeviceChannel;\n      sameDeviceChannelField.sublabel = null;\n\n      model.set('authenticator.channel', sameDeviceChannelField.value);\n      model.set('authenticator.id', idField.value);\n      model.set('formName', selectEnrollmentChannelRemediation.name);\n      appState.trigger('saveForm', model);\n    });\n  },\n});\n","import { loc, _ } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\nimport SameDeviceEnrollLink from './SameDeviceEnrollLink';\n\nconst Body = BaseForm.extend({\n  title() {\n    return (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      ? loc('oie.enroll.okta_verify.setup.title', 'login')\n      : loc('oie.enroll.okta_verify.select.channel.title.updated', 'login');\n  },\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    // filter selected channel\n    const channelField = _.find(schemas, (schema) => schema.name === 'authenticator.channel');\n    // do not show the 'samedevice' radio option, that option is displayed as a link instead\n    channelField.options = _.filter(channelField?.options, (option) => (\n      option.value !== this.options.appState.get('currentAuthenticator')?.contextualData?.selectedChannel\n      && option.value !== 'samedevice'\n    ));\n    channelField.value = channelField.options[0]?.value;\n    channelField.sublabel = null;\n    this.model.set('authenticator.channel', channelField.value);\n    const description = {\n      View: loc('oie.enroll.okta_verify.select.channel.subtitle', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n    return [description, ...schemas];\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  postRender() {\n    const authenticatorFormValues = this.options.currentViewState.value\n      ?.find(val => val.name === 'authenticator').value.form.value;\n    const sameDeviceChannelAvailable = authenticatorFormValues\n      ?.find(val => val.name === 'channel').options?.find(channel => channel.value === 'samedevice');\n    // only add this link if the samedevice channel is available in the remediation\n    if (sameDeviceChannelAvailable) {\n      this.add(new SameDeviceEnrollLink({\n        model: this.model,\n        settings: this.settings,\n        appState: this.options.appState\n      }), 'form');\n    }\n  },\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\n\nexport default View.extend({\n  className: 'switch-channel-text',\n  template: hbs `\n    {{#if isQRcodeChannel}}\n      {{#if sameDeviceOVEnrollmentEnabled}}\n        {{{i18n code=\"oie.enroll.okta_verify.switch.channel.link.text\" bundle=\"login\"}}}\n      {{else}}\n        <a href=\"#\" class=\"switch-channel-link\"\n        aria-label=\"{{i18n code=\"enroll.totp.aria.cannotScan\" bundle=\"login\" }}\">\n          {{i18n code=\"enroll.totp.cannotScan\" bundle=\"login\"}}</a>\n      {{/if}}\n    {{else if isSameDeviceChannel}}\n    {{else if isDeviceBootstrapChannel}}\n    {{else}}\n      {{{i18n code=\"oie.enroll.okta_verify.switch.channel.link.text\" bundle=\"login\"}}}\n    {{/if}}`,\n  getTemplateData() {\n    const selectedChannel = this.options.appState.get('currentAuthenticator').contextualData.selectedChannel;\n    return {\n      sameDeviceOVEnrollmentEnabled: this.settings.get('features.sameDeviceOVEnrollmentEnabled'),\n      isQRcodeChannel: selectedChannel === 'qrcode',\n      // Do not show switch channel link for sameDevice or deviceBootstrap\n      isSameDeviceChannel: selectedChannel === 'samedevice',\n      isDeviceBootstrapChannel: selectedChannel === 'devicebootstrap',\n    };\n  },\n  postRender() {\n    this.$el.find('.switch-channel-link').on('click', (event) => {\n      const appState = this.options.appState;\n      event.preventDefault();\n      appState.trigger('switchForm', RemediationForms.SELECT_ENROLLMENT_CHANNEL);\n    });\n  },\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport AuthenticatorFooter from '../../components/AuthenticatorFooter';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { getForgotPasswordLink } from '../../utils/LinksUtil';\nimport { isCustomizedI18nKey } from '../../../ion/i18nTransformer';\n\n\nconst Body = BaseForm.extend({\n\n  title: function() {\n    return loc('oie.password.challenge.title', 'login');\n  },\n\n  save: function() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  /**\n   * Update UI schemas for customization from .widgetrc.js or Admin Customization settings page.\n   * @returns Array\n   */\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    const { settings } = this.options;\n    const passwordExplainLabeli18nKey = 'primaryauth.password.tooltip';\n\n    const passwordSchema = schemas.find(({name}) => name === 'credentials.passcode');\n\n    if (passwordSchema && isCustomizedI18nKey(passwordExplainLabeli18nKey, settings)) {\n      passwordSchema.explain = loc(passwordExplainLabeli18nKey, 'login');\n      passwordSchema['explain-top'] = true;\n    }\n\n    return schemas;\n  },\n\n});\n\nconst Footer = AuthenticatorFooter.extend({\n  links: function() {\n    let links = AuthenticatorFooter.prototype.links.apply(this, arguments);\n\n    links = getForgotPasswordLink(this.options.appState, this.options.settings).concat(links);\n\n    return links;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  Footer,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport {\n  getPasswordComplexityDescriptionForHtmlList,\n  removeRequirementsFromError } from '../../utils/AuthenticatorUtil';\nimport { generatePasswordPolicyHtml } from './PasswordPolicyUtil';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.password.enroll.title', 'login');\n  },\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const policy = this.getPasswordPolicySettings();\n    this.displayPasswordPolicy(policy);\n  },\n\n  displayPasswordPolicy(policy) {\n    if (policy) {\n      const rulesList = getPasswordComplexityDescriptionForHtmlList( policy );\n      generatePasswordPolicyHtml(this, rulesList, true);\n    }\n  },\n\n  triggerAfterError(model, error) {\n    error.responseJSON = removeRequirementsFromError(error.responseJSON);\n    this.options.appState.trigger('afterError', error);\n  },\n\n  getPasswordPolicySettings() {\n    // This will be overridden by following scenario since the policies could be different for those.\n    // - password reset (`ReEnrollAuthenticatorPasswordView.js`)\n    //\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    return relatesToObject?.value?.settings;\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const confirmPassword = {\n      name: 'confirmPassword',\n      label: loc('oie.password.confirmPasswordLabel','login'),\n      type: 'password',\n      'label-top': true,\n      params: {\n        showPasswordToggle: this.settings.get('showPasswordToggle'),\n      }\n    };\n\n    const updatedSchema = [];\n\n    for (let field of uiSchemas) {\n      updatedSchema.push(field);\n      if (field.name === 'credentials.passcode') {\n        updatedSchema.push(confirmPassword);\n      }\n    }\n\n    return updatedSchema;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        confirmPassword: {\n          type: 'string',\n          required: true,\n        }\n      },\n      ModelClass.prototype.local,\n    );\n    return ModelClass.extend({\n      local,\n      validate() {\n        if (this.get('credentials.passcode') !== this.get('confirmPassword') &&\n            this.get('credential.value') !== this.get('confirmPassword')) {\n          const errors = {\n            'confirmPassword': loc('password.error.match', 'login'),\n          };\n          return errors;\n        } else {\n          return null;\n        }\n      }\n    });\n  }\n});\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst generatePasswordPolicyHtml = function(form, rulesList, prepend) {\n  form.add(\n    View.extend({\n      tagName: 'section',\n      template:\n        hbs`<div class=\"password-authenticator--heading\">\n        {{i18n code=\"password.complexity.requirements.header\" bundle=\"login\"}}\n      </div>\n      <ul class=\"password-authenticator--list\">\n        {{#each rulesList}}<li>{{this}}</li>{{/each}}\n      </ul>`,\n      getTemplateData: () => ({ rulesList }),\n      attributes: {\n        'data-se': 'password-authenticator--rules'\n      }\n    }),\n    {\n      prepend,\n      selector: '.o-form-fieldset-container',\n    }\n  );\n};\n\nexport {\n  generatePasswordPolicyHtml,\n};","import { loc } from '@okta/courage';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n\n  className: 'password-authenticator',\n\n  title() {\n    const title = this.options.settings.get('brandName')?\n      loc('password.expired.title.specific', 'login', [this.options.settings.get('brandName')]):\n      loc('password.expired.title.generic', 'login');\n    return title;\n  },\n\n  save() {\n    return loc('password.expired.submit', 'login');\n  },\n\n  getPasswordPolicySettings() {\n    return this.options.appState.get('recoveryAuthenticator')?.settings\n      || this.options.appState.get('enrollmentAuthenticator')?.settings;\n  },\n\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body });\n","import { loc } from '@okta/courage';\nimport { BaseFooter } from '../../internals';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n  className: 'password-authenticator',\n  subtitle() {\n    if (this.options.settings.get('brandName')) {\n      return loc('password.expiring.subtitle.specific', 'login', [this.options.settings.get('brandName')]);\n    }\n  },\n  title() {\n    const passwordPolicy = this.getPasswordPolicySettings() || {};\n    const daysToExpiry = passwordPolicy.daysToExpiry;\n\n    if (daysToExpiry > 0) {\n      return loc('password.expiring.title', 'login', [daysToExpiry]);\n    } else if (daysToExpiry === 0) {\n      return loc('password.expiring.today', 'login');\n    } else {\n      return loc('password.expiring.soon', 'login');\n    }\n  },\n\n  save() {\n    return loc('password.expired.submit', 'login');\n  },\n  showMessages() {\n    // if brandName is configured and messages is present, render as subtitle with brandName in context\n    if (this.options.settings.get('brandName')) {\n      return null;\n    }\n    // else if brandName is not set, render messages object sent from server as text\n    EnrollAuthenticatorPasswordView.prototype.Body.prototype.showMessages.apply(this, arguments);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject('skip')) {\n      links.push({\n        'type': 'link',\n        'label': loc('password.expiring.later', 'login'),\n        'name': 'skip',\n        'actionPath': 'skip',\n      });\n    }\n    return links;\n  }\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body, Footer });\n","import { loc } from '@okta/courage';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n\n  className: 'password-authenticator',\n\n  title() {\n    const title = this.options.settings.get('brandName')?\n      loc('password.reset.title.specific', 'login', [this.options.settings.get('brandName')]):\n      loc('password.reset.title.generic', 'login');\n    return title;\n  },\n\n  save() {\n    return loc('password.reset', 'login');\n  },\n\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body });\n","import { _, loc } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(\n  {\n    className: 'phone-authenticator-challenge',\n    events: {\n      'click a.phone-authenticator-challenge__link': 'handleSecondaryLinkClick'\n    },\n\n    title() {\n      return loc('oie.phone.verify.title', 'login');\n    },\n\n    save() {\n      return (this.model.get('primaryMode') === 'sms')\n        ? loc('oie.phone.sms.primaryButton', 'login')\n        : loc('oie.phone.call.primaryButton', 'login');\n    },\n\n    handleSecondaryLinkClick(e) {\n      e.preventDefault();\n      // Call the API to send a code via secondary mode\n      const secondaryMode = this.model.get('secondaryMode');\n      this.model.set('authenticator.methodType', secondaryMode);\n      this.saveForm(this.model);\n    },\n\n    initialize() {\n      // This is needed when user clicks on secondary (say voice) and call fails with ratelimit server-side error.\n      // Then the user clicks primary button (say sms) and right methodType needs to be sent.\n      this.model.on('error', () => this.model.set('authenticator.methodType', this.model.get('primaryMode')));\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const sendText = (this.model.get('primaryMode') === 'sms')\n        ? loc('oie.phone.verify.sms.sendText', 'login')\n        : loc('oie.phone.verify.call.sendText', 'login');\n      const carrierChargesText = loc('oie.phone.carrier.charges', 'login');\n      const isPhoneNumberAvailable = this.model.get('phoneNumber') !== loc('oie.phone.alternate.title', 'login');\n      const extraCssClasses = isPhoneNumberAvailable ? 'strong no-translate nowrap' : '';\n      \n      const nickname = isPhoneNumberAvailable ? this.model.get('nickname') : '';\n      const nicknameText = nickname ? ` (${nickname})` : '';\n      const extraNicknameCssClasses = nicknameText ? 'no-translate authenticator-verify-nickname' : '';\n\n      const nicknameTemplate = nicknameText \n        ? `<span class=\"${extraNicknameCssClasses || ''}\">${nicknameText}.</span>`\n        : '<span class=\"no-translate\">.</span>';\n      // Courage doesn't support HTML, hence creating a subtitle here.\n      const content = `${sendText} ` + \n        `<span ${extraCssClasses ? ` class=\"${extraCssClasses}\"` : ''}>${this.model.escape('phoneNumber')}</span>` + \n        `${nicknameTemplate}`;\n      this.add('<div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">' + \n        `${content}` + \n        `<p>${carrierChargesText}</p>` + \n        '</div>'\n      );\n    },\n\n    getUISchema() {\n      // Change the UI schema to not display radios here.\n      const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n      return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n    },\n\n    render() {\n      BaseForm.prototype.render.apply(this, arguments);\n      const secondaryMode = this.model.get('secondaryMode');\n      if (secondaryMode) {\n        const secondaryButtonTitle = (secondaryMode === 'sms')\n          ? loc('oie.phone.sms.secondaryButton', 'login')\n          : loc('oie.phone.call.secondaryButton', 'login');\n        this.add(\n          `<a href=\"#\"\n            class=\"link phone-authenticator-challenge__link\"\n            data-se=\"phone-authenticator-challenge__link\">${secondaryButtonTitle}</a>`,\n          '.o-form-button-bar');\n      }\n    },\n  },\n);\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n\n  createModelClass({ uiSchema }) {\n    // It is important to get methods from here to maintain single source of truth.\n    const { options: methods } = _.find(uiSchema, schema => schema.name === 'authenticator.methodType');\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const { profile, nickname } = relatesToObject?.value || {};\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      primaryMode: {\n        'value': methods[0].value,\n        'type': 'string',\n      },\n      secondaryMode: {\n        'value': methods[1] && methods[1].value,\n        'type': 'string',\n      },\n      phoneNumber: {\n        'value': profile?.phoneNumber ? profile.phoneNumber : loc('oie.phone.alternate.title', 'login'),\n        'type': 'string',\n      },\n      nickname: {\n        'value': nickname ? nickname : '',\n        'type': 'string',\n      },\n    }, ModelClass.prototype.local);\n    return ModelClass.extend({ local });\n  },\n});\n","import { loc, createCallout } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BaseResendView from '../shared/BaseResendView';\n\nconst ResendView = BaseResendView.extend(\n  {\n    // To be shown after a timeout\n    className: 'phone-authenticator-challenge__resend-warning hide',\n    events: {\n      'click a.resend-link': 'handleResendLink'\n    },\n    modelEvents: {\n      'error': 'handleError'\n    },\n    \n    // Override this to change the resend action location from response\n    resendActionKey: 'currentAuthenticatorEnrollment-resend',\n\n    initialize() {\n      const resendText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.resendText', 'login')\n        : loc('oie.phone.verify.call.resendText', 'login');\n      const linkText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.resendLinkText', 'login')\n        : loc('oie.phone.verify.call.resendLinkText', 'login');\n      this.add(createCallout({\n        content: `${resendText}&nbsp;<a class='resend-link'>${linkText}</a>`,\n        type: 'warning',\n      }));\n    },\n\n    hideResendViewAndShowAfterTimeout() {\n      // Hide warning, but start a timeout again..\n      if (!this.el.classList.contains('hide')) {\n        this.el.classList.add('hide');\n      }\n      this.showCalloutAfterTimeout();\n    },\n\n    handleResendLink() {\n      this.options.appState.trigger('invokeAction', this.resendActionKey);\n      this.hideResendViewAndShowAfterTimeout();\n    },\n\n    handleError() {\n      this.hideResendViewAndShowAfterTimeout();\n    },\n  },\n);\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'phone-authenticator-challenge',\n\n    title() {\n      return loc('oie.phone.verify.title', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const sendText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.codeSentText', 'login')\n        : loc('mfa.calling', 'login');\n      const enterCodeText = loc('oie.phone.verify.enterCodeText', 'login');\n      const carrierChargesText = loc('oie.phone.carrier.charges', 'login');\n      const isPhoneNumberAvailable = this.model.get('phoneNumber') !== loc('oie.phone.alternate.title', 'login');\n      const strongClass = isPhoneNumberAvailable ? 'strong no-translate nowrap' : '';\n      \n      const nickname = isPhoneNumberAvailable ? this.model.get('nickname') : '';\n      const nicknameText = nickname ? ` (${nickname})` : '';\n      const extraNicknameCssClasses = nicknameText ? 'no-translate authenticator-verify-nickname' : '';\n\n      const nicknameTemplate = nicknameText \n        ? `<span class=\"${extraNicknameCssClasses || ''}\"}>${nicknameText}.</span>`\n        : '<span class=\"no-translate\">.</span>';\n      \n      // Courage doesn't support HTML, hence creating a subtitle here.\n      this.add('<div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">' + \n        `${sendText} ` + \n        `<span class=\"${strongClass}\">${this.model.escape('phoneNumber')}</span>` + \n        `${nicknameTemplate}` + \n        `&nbsp;${enterCodeText}` + \n        `<p>${carrierChargesText}</p>` + \n        '</div>', {\n        prepend: true,\n        selector: '.o-form-fieldset-container',\n      });\n    },\n\n    postRender() {\n      BaseForm.prototype.postRender.apply(this, arguments);\n      this.add(ResendView, {\n        selector: '.o-form-info-container',\n        prepend: true,\n      });\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n\n  createModelClass() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const { methods, profile, nickname } = relatesToObject?.value || {};\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      mode: {\n        'value': methods[0].type,\n        'type': 'string',\n      },\n      phoneNumber: {\n        'value': profile?.phoneNumber ? profile.phoneNumber : loc('oie.phone.alternate.title', 'login'),\n        'type': 'string',\n      },\n      nickname: {\n        'value': nickname ? nickname : '',\n        'type': 'string',\n      }\n    }, ModelClass.prototype.local );\n    return ModelClass.extend({ local });\n  },\n});\n\nexport { ResendView };","import { _, loc, Model } from '@okta/courage';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CountryUtil from '../../../../util/CountryUtil';\n\nconst Body = BaseForm.extend({\n\n  className: 'phone-authenticator-enroll',\n\n  title() {\n    return loc('oie.phone.enroll.title', 'login');\n  },\n\n  subtitle() {\n    return this.model.get('authenticator.methodType') === 'voice'\n      ? loc('oie.phone.enroll.call.subtitle', 'login')\n      : loc('oie.phone.enroll.sms.subtitle', 'login');\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    this.el.querySelector('.phone-authenticator-enroll__phone-code').innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  handlePhoneCodeChange() {\n    const countryCodeField = this.el.querySelector('.phone-authenticator-enroll__phone-code');\n    countryCodeField.innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  save() {\n    return this.model.get('authenticator.methodType') === 'voice'\n      ? loc('oie.phone.call.primaryButton', 'login')\n      : loc('oie.phone.sms.primaryButton', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    // TODO: Using underscore to support IE, replace with Array.prototype methods (find, findIndex) when IE\n    // support is removed\n    const phoneNumberUISchemaIndex = _.findIndex(uiSchemas, ({ name }) => name === 'authenticator.phoneNumber');\n\n    const countryUISchema = {\n      'label-top': true,\n      label: loc('mfa.country', 'login'),\n      type: 'select',\n      options: CountryUtil.getCountries(),\n      name: 'country',\n      wide: true,\n    };\n\n    const inputId = 'okta-phone-number-input';\n    \n    // Create an input group - serves as a display wrapper\n    const phoneNumberWithCodeUISchema = {\n      label: loc('mfa.phoneNumber.placeholder', 'login'),\n      inputId,\n      type: 'group',\n      modelType: 'string',\n      'label-top': true,\n      name: 'phoneCode',\n      className : 'phone-authenticator-enroll__phone',\n      input: [\n        {\n          type: 'label',\n          /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n          label: `+${this.model.get('phoneCode')}`,\n          className: 'phone-authenticator-enroll__phone-code no-translate',\n        },\n        Object.assign({ inputId }, uiSchemas[phoneNumberUISchemaIndex]),\n      ],\n    };\n\n    const extensionUISchema = {\n      label: loc('phone.extention.label', 'login'),\n      type: 'text',\n      className: 'phone-authenticator-enroll__phone-ext',\n      'label-top': true,\n      name: 'extension',\n      showWhen: {\n        'authenticator.methodType': 'voice'\n      }\n    };\n\n    if (phoneNumberUISchemaIndex !== -1) {\n      // Replace phoneNumberUISchema..\n      uiSchemas.splice(phoneNumberUISchemaIndex, 1, phoneNumberWithCodeUISchema);\n      // Add countryUISchema before & extensionUISchema after phone..\n      uiSchemas.splice(phoneNumberUISchemaIndex, 0, countryUISchema);\n      uiSchemas.splice(phoneNumberUISchemaIndex + 2, 0, extensionUISchema);\n    }\n\n    const methodType = _.find(uiSchemas,  ({ name }) => name === 'authenticator.methodType');\n\n    if (methodType && methodType.options.length === 1) {\n      methodType.className = 'hide';\n    }\n\n    return uiSchemas;\n  },\n\n  updateConditionalText() {\n    this.el.querySelector('.okta-form-subtitle').innerText = this.subtitle();\n    this.el.querySelector('input[type=\"submit\"]').value = this.save();\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.listenTo(this.model, 'change:authenticator.methodType', this.updateConditionalText);\n    this.listenTo(this.model, 'change:phoneCode', this.handlePhoneCodeChange.bind(this));\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        country: {\n          'value': this.settings.get('defaultCountryCode'),\n          'type': 'string',\n        },\n        extension: {\n          'type': 'string',\n        },\n      },\n      ModelClass.prototype.local,\n    );\n    const derived = Object.assign(\n      {\n        phoneCode: {\n          deps: [ 'country' ],\n          fn: function(country) {\n            return CountryUtil.getCallingCodeForCountry(country);\n          },\n        },\n      },\n      ModelClass.prototype.derived,\n    );\n    return ModelClass.extend({\n      local,\n      derived,\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments);\n        const extension = this.get('extension');\n        const phoneCode = this.get('phoneCode');\n\n        // Add country code..\n        let formattedPhoneNumber = `+${phoneCode}${modelJSON.authenticator.phoneNumber}`;\n\n        // Add extension if present..\n        if (modelJSON.authenticator.methodType === 'voice' && extension?.trim().length) {\n          formattedPhoneNumber = `${formattedPhoneNumber}x${extension}`;\n        }\n        // Override phone with formatted number..\n        modelJSON.authenticator.phoneNumber = formattedPhoneNumber;\n        return modelJSON;\n      },\n    });\n  },\n});\n","import { loc } from '@okta/courage';\nimport {\n  default as ChallengeAuthenticatorPhoneView,\n  ResendView\n} from './ChallengeAuthenticatorPhoneView';\nimport { BaseForm } from '../../internals';\n\nconst EnrollResendView = ResendView.extend(\n  {\n    // To be shown after a timeout\n    className: 'phone-authenticator-enroll--warning hide',\n    resendActionKey: 'currentAuthenticator-resend',\n  },\n);\n\nconst Body = ChallengeAuthenticatorPhoneView.prototype.Body.extend(\n  {\n    className: 'phone-authenticator-enroll',\n\n    title() {\n      return loc('oie.phone.enroll.title', 'login');\n    },\n\n    postRender() {\n      BaseForm.prototype.postRender.apply(this, arguments);\n      this.add(EnrollResendView, {\n        selector: '.o-form-info-container',\n        prepend: true,\n      });\n    },\n  },\n);\n\nexport default ChallengeAuthenticatorPhoneView.extend({ Body });\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport PIVHeader from './PIVHeader';\n\nconst Body = BaseForm.extend({\n\n  className: 'piv-cac-card',\n  modelEvents: {\n    request: 'startAuthentication',\n    error: 'stopAuthentication',\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.addInstructions();\n  },\n\n  title() {\n    return loc('piv.cac.title', 'login');\n  },\n\n  save() {\n    return loc('retry', 'login');\n  },\n\n  addInstructions() {\n    this.add(\n      `<div class='piv-verify-text'>\n        <p>${loc('piv.cac.card.insert', 'login')}</p>\n        <div data-se='piv-waiting' class='okta-waiting-spinner'></div>\n      </div>`\n    );\n  },\n  \n  startAuthentication: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.o-form-button-bar').hide();\n  },\n\n  stopAuthentication: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.o-form-button-bar').show();\n  }\n  \n});\n\nexport default BaseAuthenticatorView.extend({\n  Header: PIVHeader,\n  Body,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    const messages = this.options.appState.get('messages') || {};\n    // if piv view has errors, show errors and stop authentication.\n    // otherwise trigger authentication on page load\n    if (Array.isArray(messages.value)) {\n      this.form.stopAuthentication();\n    } else {\n      this.form.startAuthentication();\n      this.form.trigger('save', this.model);\n    }\n  },\n});\n","import { BaseHeader } from '../../internals';\nimport HeaderBeacon from '../../components/HeaderBeacon';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: HeaderBeacon.extend({\n    getBeaconClassName: function() {\n      return 'smartcard';\n    },\n  })\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.security.question.challenge.title', 'login');\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const questionKey = uiSchemas.filter(s => s.name.indexOf('questionKey') >= 0);\n    const answer = uiSchemas.filter(s => s.name.indexOf('answer') >= 0);\n\n    /**\n     * At verify SQ case,\n     * 'questionKey' is read-only hence it won't show up in UI anyway.\n     * 'answer' has label 'answer' but apparently UI want to display the\n     * actual question (label of `questionKey`) as better user experience.\n     */\n    if (questionKey.length === 1 && answer.length === 1) {\n      answer[0].label = questionKey[0].label;\n    }\n\n    return uiSchemas;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.security.question.enroll.title', 'login');\n  },\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { View } from '@okta/courage';\nimport { SHOW_RESEND_TIMEOUT } from '../../utils/Constants';\nimport sessionStorageHelper from '../../../client/sessionStorageHelper';\n\nexport default View.extend({\n\n  postRender() {\n    this.showCalloutAfterTimeout();\n  },\n\n  showCalloutAfterTimeout() {\n    const timeStamp = sessionStorageHelper.getResendTimestamp();\n    if (!timeStamp) {\n      sessionStorageHelper.setResendTimestamp(Date.now());\n    }\n\n    // We keep track of a 'global' timestamp in sessionStorage because if the SIW does a re-render,\n    // we don't want to force the user to wait another 30s again to see the resend link. With this\n    // the user will wait AT MOST 30s until they see the resend link.\n    this.showMeInterval = setInterval(() => {\n      const start = sessionStorageHelper.getResendTimestamp();\n      const now = Date.now();\n      if (now - start >= SHOW_RESEND_TIMEOUT) {\n        this.$el.removeClass('hide');\n        clearInterval(this.showMeInterval);\n        sessionStorageHelper.removeResendTimestamp();\n      }\n    }, 250);\n  },\n\n  remove() {\n    View.prototype.remove.apply(this, arguments);\n    clearInterval(this.showMeInterval);\n\n    const formName = this.options.appState.get('currentFormName');\n    const resendContext = this.options.appState.get('currentAuthenticator')?.resend \n      || this.options.appState.get('currentAuthenticatorEnrollment')?.resend;\n    const didFormNameChange = this.options.model.get('formName') !== formName;\n\n    // Clear resend timeStamp whenever we change views (this means we're navigating away from the resend view)\n    if (sessionStorageHelper.getResendTimestamp()\n      && (!resendContext || didFormNameChange)) {\n      sessionStorageHelper.removeResendTimestamp();\n    }    \n  },\n});\n","// Common view for OV push and custom app.\nimport { BaseFooter } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport ChallengeOktaVerifyCustomAppPushOnlyFormView from './ChallengeOktaVerifyCustomAppPushOnlyFormView';\nimport ChallengeOktaVerifyCustomAppFormView from './ChallengeOktaVerifyCustomAppFormView';\n\nexport default BaseAuthenticatorView.extend({\n  initialize() {\n    BaseAuthenticatorView.prototype.initialize.apply(this, arguments);\n    if (this.isPushOnlyWithAutoChallengeFlow()) {\n      this.Body = ChallengeOktaVerifyCustomAppPushOnlyFormView;\n    } else {\n      this.Body = ChallengeOktaVerifyCustomAppFormView;\n      this.Footer = BaseFooter;\n    }\n  },\n\n  isPushOnlyWithAutoChallengeFlow() {\n    const methodType = this.options.appState.getSchemaByName('authenticator.methodType');\n    const hasAutoChallengeSchema = this.options.appState.getSchemaByName('authenticator.autoChallenge');\n    const methodTypeOptions = methodType?.options;\n    return hasAutoChallengeSchema && methodTypeOptions.length === 1 && methodTypeOptions[0].value === 'push';\n  },\n});\n","// Common view for OV push and custom app.\nimport { Collection } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport AuthenticatorVerifyOptions from '../../components/AuthenticatorVerifyOptions';\nimport { getAuthenticatorDataForVerification } from '../../utils/AuthenticatorUtil';\nimport { Body as SelectAuthenticatorVerifyViewBody } from '../SelectAuthenticatorVerifyView';\nimport { AUTHENTICATOR_KEY } from '../../../ion/RemediationConstants';\n\nconst Body = SelectAuthenticatorVerifyViewBody.extend({\n  getUISchema() {\n    // Change the UI schema to not display radios here.\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const methodsSchema = uiSchemas.find(schema => schema.name === 'authenticator.methodType');\n\n    this._sortMethodOptionsIfDeviceKnown(methodsSchema.options);\n\n    const methodOptions = methodsSchema.options.map((option) => {\n      return Object.assign({}, option, getAuthenticatorDataForVerification({authenticatorKey:\n            this.isOV() ? AUTHENTICATOR_KEY.OV : AUTHENTICATOR_KEY.CUSTOM_APP, value: { methodType: option.value } }));\n    });\n    return [{\n      View: AuthenticatorVerifyOptions,\n      options: {\n        name: methodsSchema.name,\n        collection: new Collection(methodOptions),\n      }\n    }];\n  },\n\n  // If the `deviceKnown` attribute is true, we should put the signed_nonce method to the top of authenticator list.\n  // This is in sync with v2/ion/ui-schema/ion-object-handler.js - createOVOptions\n  _sortMethodOptionsIfDeviceKnown(methodOptions) {\n    // Check if the `deviceKnown` attribute is true\n    const deviceKnown = this.options?.currentViewState?.relatesTo?.value?.deviceKnown;\n\n    if (deviceKnown) {\n      const signedNonceIndex = methodOptions.findIndex((e) => e.value === 'signed_nonce');\n\n      if (signedNonceIndex > 0) {\n        const signedNonceModel = methodOptions[signedNonceIndex];\n\n        // Put the 'signed_nonce' option to the top of the list\n        methodOptions.splice(signedNonceIndex, 1);\n        methodOptions.unshift(signedNonceModel);\n      }\n    }\n  },\n  isOV() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n  },\n});\n\nexport default Body;\n","// Common view for OV push and custom app.\nimport { BaseForm } from '../../internals';\nimport {AUTHENTICATOR_KEY} from 'v2/ion/RemediationConstants';\nimport { loc } from '@okta/courage';\n\n\nconst Body = BaseForm.extend(Object.assign({\n  className: function() {\n    return this.isOV() ? 'okta-verify-send-push-form' : 'custom-app-send-push-form';\n  },\n\n  save() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV ?\n      loc('oie.okta_verify.sendPushButton', 'login'):\n      loc('oie.custom_app.sendPushButton', 'login');\n  },\n\n  title() {\n    return this.isOV() ? loc('oie.okta_verify.push.title', 'login'): loc('oie.custom_app.push.title', 'login');\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    // Move checkbox below the button\n    // Checkbox is rendered by BaseForm using remediation response and \n    // hence by default always gets added above buttons.\n    const checkbox = this.$el.find('[data-se=\"o-form-fieldset-authenticator.autoChallenge\"]');\n    checkbox.length && this.$el.find('.o-form-button-bar').after(checkbox);\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n  },\n\n  isOV() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n  },\n}));\n\nexport default Body;\n","// Common view for OV push and custom push.\nimport { loc, createButton, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport { WARNING_TIMEOUT } from '../../utils/Constants';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { AUTHENTICATOR_KEY } from '../../../ion/RemediationConstants';\n\nconst warningTemplate = View.extend({\n  className: 'okta-form-infobox-warning infobox infobox-warning',\n  template: hbs`\n    <span class=\"icon warning-16\"></span>\n    <p>{{warning}}</p>\n  `\n});\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    title() {\n      return this.isOV() ? loc('oie.okta_verify.push.title', 'login') :\n        loc('oie.verify.custom_app.title', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      // 'hasSavingState' would be true by default.\n      // Setting it to false when auth key is okta_verify or custom_app with autochallenge schema\n      // So that 'o-form-saving' css class is not added while polling and checkbox remains enabled.\n      if ((this.isOV() || this.isCustomApp()) && this.isAutoChallengeSupported()) {\n        this.hasSavingState = false;\n      }\n      this.listenTo(this.model, 'error', this.stopPoll);\n      this.addView();\n    },\n\n    addView() {\n      this.add(createButton({\n        className: 'button button-wide button-primary send-push link-button-disabled',\n        title: this.isOV() ? loc('oie.okta_verify.push.sent', 'login') : loc('oie.custom_app.push.sent', 'login'),\n        click: (e) => {\n          e.preventDefault();\n        }\n      }));\n      this.add(\n        `<span class='accessibility-text' role='alert'>\n        ${this.isOV() ? loc('oie.okta_verify.push.sent', 'login') : loc('oie.custom_app.push.sent', 'login')}</span>`,\n      );\n    },\n\n    render() {\n      BaseFormWithPolling.prototype.render.apply(this, arguments);\n\n      const checkbox = this.$el.find('[data-se=\"o-form-fieldset-autoChallenge\"]');\n\n      if (!this.isAutoChallengeSupported()) {\n        checkbox.length && checkbox.hide();\n      } else if (this.isOV() || this.isCustomApp()) {\n        // Move checkbox below the button\n        // Checkbox is rendered by BaseForm using remediation response and\n        // hence by default always gets added above buttons.\n        checkbox.length && this.$el.find('.o-form-fieldset-container').append(checkbox);\n      }\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n\n      const className = this.isOV() ?\n        'okta-verify-push-challenge' : ' custom-app-push-challenge';\n      this.$el.addClass(className);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.warningTimeout = setTimeout(() => {\n        const warningText = this.isOV() ? loc('oktaverify.warning', 'login') :\n          loc('oie.custom_app.push.warning', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n        this.showWarning(warningText);\n      }, WARNING_TIMEOUT);\n    },\n\n    stopPoll() {\n      this.stopPolling();\n      this.clearWarning();\n    },\n\n    showWarning(msg) {\n      this.clearWarning();\n      this.add(warningTemplate, '.o-form-error-container', {options: {warning: msg}});\n    },\n\n    clearWarning() {\n      if (this.$('.o-form-error-container div').hasClass('okta-form-infobox-warning')) {\n        this.$('.okta-form-infobox-warning').remove();\n      }\n      clearTimeout(this.warningTimeout);\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPoll();\n    },\n\n    isOV() {\n      return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n    },\n\n    isCustomApp() {\n      return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.CUSTOM_APP;\n    },\n\n    isAutoChallengeSupported() {\n      return (this.options.appState.getSchemaByName('autoChallenge') !== null &&\n        this.options.appState.getSchemaByName('autoChallenge') !== undefined);\n    }\n  },\n\n  polling,\n));\n\nconst AuthenticatorView = BaseAuthenticatorView.extend({\n  Body,\n});\n\nexport {\n  AuthenticatorView as default,\n  Body,\n};\n","import { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'custom-access-denied-error-message',\n  template: hbs`\n    {{#if message}}\n      <p>{{message}}</p>\n    {{/if}}\n    {{#if links}}\n      <ul class=\"custom-links\">\n        {{#each links}}\n        <li>\n          <a href={{url}} target=\"_blank\" rel=\"noopener noreferrer\">\n            {{label}}\n          </a>\n        </li>\n        {{/each}}\n      </ul>\n    {{/if}}\n  `,\n  getTemplateData() {\n    return {\n      message: this.options.message,\n      links: this.options.links,\n    };\n  },\n});","import { loc } from '@okta/courage';\nexport default {\n  title() {\n    return loc('oie.email.mfa.title', 'login');\n  }\n};\n","import { _ } from '@okta/courage';\nimport { MS_PER_SEC } from '../../utils/Constants';\n\nexport default {\n  startPolling(newRefreshInterval) {\n    this.fixedPollingInterval = this.options.currentViewState.refresh;\n    this.dynamicPollingInterval = newRefreshInterval;\n    this.countDownCounterValue = Math.ceil(this.pollingInterval / MS_PER_SEC);\n    // Poll is present in remediation form\n    if (this.fixedPollingInterval) {\n      this._startRemediationPolling();\n    } else {\n      // Poll is present in authenticator/ authenticator Enrollment obj.\n      // Authenticator won't co-exists hence it's safe to trigger both.\n      this._startAuthenticatorPolling();\n    }\n  },\n\n  _startAuthenticatorPolling() {\n    // Authenticator won't co-exists hence it's safe to trigger both.\n    [\n      'currentAuthenticator',\n      'currentAuthenticatorEnrollment',\n    ].some(responseKey => {\n      if (this.options.appState.has(responseKey)) {\n        const authenticator = this.options.appState.get(responseKey);\n        const authenticatorPollAction = `${responseKey}-poll`;\n        const pollInterval = this.dynamicPollingInterval || authenticator?.poll?.refresh;\n        if (_.isNumber(pollInterval)) {\n          this.polling = setTimeout(()=>{\n            this.options.appState.trigger('invokeAction', authenticatorPollAction);\n          }, pollInterval);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    });\n  },\n\n  _startRemediationPolling() {\n    const pollInterval = this.dynamicPollingInterval || this.fixedPollingInterval;\n    if (_.isNumber(pollInterval)) {\n      this.polling = setTimeout(() => {\n        this.options.appState.trigger('saveForm', this.model);\n      }, pollInterval);\n    }\n  },\n\n  stopPolling() {\n    if (this.polling) {\n      clearTimeout(this.polling);\n      this.polling = null;\n    }\n  }\n};\n","import { View, createButton } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'custom-buttons',\n  template: hbs`\n    {{#if addSeparateLine}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}\n    <div class=\"okta-custom-buttons-container primary-auth-container\"></div>\n    `,\n\n  initialize(options) {\n    options.customButtons.forEach((idpButton) => {\n      this.add(createButton(idpButton), '.okta-custom-buttons-container');\n    });\n  },\n\n  getTemplateData() {\n    const jsonData = View.prototype.getTemplateData.apply(this, arguments);\n\n    return Object.assign(jsonData, {\n      addSeparateLine: this.options.addSeparateLine,\n    });\n  }\n});\n","import { View, createButton, loc } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Util from '../../../../util/Util';\nimport Enums from '../../../../util/Enums';\nimport { UNIVERSAL_LINK_POST_DELAY } from '../../utils/Constants';\nimport { FORMS } from '../../../ion/RemediationConstants';\nimport { appendLoginHint } from '../../utils/ChallengeViewUtil';\n\nexport default View.extend({\n  className: 'sign-in-with-device-option',\n  template: hbs`\n    <div class=\"okta-verify-container\">\n    {{#if signInWithDeviceIsRequired}}\n      <div class=\"signin-with-ov-description\">\n      </div>\n    {{/if}}\n    </div>\n    {{#unless signInWithDeviceIsRequired}}\n    <div class=\"separation-line\">\n      <span>{{i18n code=\"authbutton.divider.text\" bundle=\"login\"}}</span>\n    </div>\n    {{/unless}}\n  `,\n  initialize() {\n    const appState = this.options.appState;\n    const deviceChallengePollRemediation = appState.hasRemediationObject(FORMS.LAUNCH_AUTHENTICATOR);\n    \n    const deviceChallenge = deviceChallengePollRemediation?.relatesTo?.value;\n    this.add(createButton({\n      className: 'button',\n      icon: 'okta-verify-authenticator',\n      title: loc('oktaVerify.button', 'login'),\n      click() {\n        if (this.model.get('identifier')) {\n          this.options.settings.set('identifier', encodeURIComponent(this.model.get('identifier')));\n        }\n\n        const isUVapproach = deviceChallenge?.challengeMethod === Enums.UNIVERSAL_LINK_CHALLENGE;\n        if (isUVapproach) {\n          // launch the Okta Verify app\n          let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, this.options?.settings?.get('identifier'));\n          Util.redirect(deviceChallengeUrl);\n        }\n\n        const isAppLinkapproach = deviceChallenge?.challengeMethod === Enums.APP_LINK_CHALLENGE;\n        if (isAppLinkapproach) {\n          // launch the Okta Verify app\n          let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, this.options?.settings?.get('identifier'));\n          Util.redirect(deviceChallengeUrl, window, true);\n        }\n\n        // OKTA-350084\n        // For the universal link (iOS) and app link (Android) approach,\n        // we need to 1. launch the Okta Verify app\n        // and 2. take the enduser to the next step right away\n        // In Safari, when Okta Verify app is not installed, step 1 responds with error immediately,\n        // then step 2 will respond with error.\n        // To avoid showing the error right before switching to the next UI,\n        // wait for 500 milliseconds before invoking step 2\n        Util.callAfterTimeout(() => {\n          if (this.options.isRequired) {\n            appState.trigger('saveForm', this.model);\n          } else {\n            appState.trigger('invokeAction', FORMS.LAUNCH_AUTHENTICATOR, {'rememberMe': this.model.get('rememberMe')});\n          }\n        }, isUVapproach || isAppLinkapproach ? UNIVERSAL_LINK_POST_DELAY : 0);\n      }\n    }), '.okta-verify-container');\n  },\n\n  getTemplateData() {\n    return {\n      signInWithDeviceIsRequired: !!this.options.isRequired,\n    };\n  },\n\n  postRender() {\n    if(this.options.isRequired) {\n      const appLabel = this.options.appState.attributes?.app?.label;\n      const resourceLabel = appLabel ? loc('oktaVerify.appDescription', 'login', [appLabel]) : \n        loc('oktaVerify.description', 'login');\n      const ovDescContainer = this.$el.find('.signin-with-ov-description');\n      ovDescContainer.text(resourceLabel);\n    }\n  }\n});\n","import { View, createButton } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'sign-in-with-idp',\n  template: hbs`\n    {{#if isSecondaryIdpDisplay}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}\n    <div class=\"okta-idps-container\"></div>\n    {{#if isPrimaryIdpDisplay}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}    \n    `,\n  initialize() {\n    this.options.idpButtons.forEach((idpButton) => {\n      this.add(createButton(idpButton), '.okta-idps-container');\n    });\n  },\n\n  getTemplateData() {\n    const jsonData = View.prototype.getTemplateData.apply(this, arguments);\n    const addDivider = this.options.idpButtons.length > 0;\n\n    return Object.assign(jsonData, {\n      isPrimaryIdpDisplay: addDivider && this.options.isPrimaryIdpDisplay,\n      isSecondaryIdpDisplay: addDivider && !this.options.isPrimaryIdpDisplay\n    });\n  }\n});\n","import { View, loc, createButton } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport { FORMS } from '../../../ion/RemediationConstants';\n\nexport default View.extend({\n  className: 'sign-in-with-webauthn-option',\n  template: hbs`\n    <div class=\"okta-webauthn-container\">\n    </div>\n    <div class=\"separation-line\">\n      <span>{{i18n code=\"authbutton.divider.text\" bundle=\"login\"}}</span>\n    </div>\n  `,\n  initialize() {\n    this.add(createButton({\n      className: 'button',\n      icon: 'okta-webauthn-authenticator',\n      title: loc('signinWithWebAuthn.button', 'login'),\n      click: () => {\n        this.options.appState.trigger('invokeAction', FORMS.LAUNCH_WEBAUTHN_AUTHENTICATOR);\n      }\n    }), '.okta-webauthn-container');\n  },\n});","import { loc } from '@okta/courage';\nimport BaseForm from '../../internals/BaseForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.symantecVip.challenge.title', 'login', [displayName])\n      : loc('oie.symantecVip.enroll.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.symantecVip.challenge.description', 'login', [displayName])\n      : loc('oie.symantecVip.enroll.description', 'login', [displayName]);\n  },\n\n  save() {\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('mfa.challenge.verify', 'login')\n      : loc('mfa.enroll', 'login');\n  },\n\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View, createCallout } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  // eslint-disable-next-line max-len\n  template: hbs`<p class=\"idx-webauthn-verify-text\">{{i18n code=\"oie.verify.webauthn.instructions\" bundle=\"login\"}}</p>`,\n  initialize() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const challengeData = relatesToObject?.value.contextualData.challengeData;\n    if (challengeData.userVerification === 'required') {\n      this.add(createCallout({\n        className: 'uv-required-callout',\n        size: 'slim',\n        type: 'warning',\n        subtitle: loc('oie.verify.webauthn.uv.required.instructions', 'login'),\n      }));\n    }\n    this.add('<div data-se=\"webauthn-waiting\" class=\"okta-waiting-spinner\"></div>');\n  },\n});\n","import { _, loc, createButton, createCallout } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CryptoUtil from '../../../../util/CryptoUtil';\nimport webauthn from '../../../../util/webauthn';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\nimport ChallengeWebauthnInfoView from './ChallengeWebauthnInfoView';\nimport { getMessageFromBrowserError } from '../../../ion/i18nTransformer';\nimport ChallengeWebauthnFooter from '../../components/ChallengeWebauthnFooter';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\nimport EnrollWebAuthnResidentKeyLinkView from './EnrollWebAuthnResidentkeyLinkView';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('oie.verify.webauth.title', 'login');\n  },\n\n  className: 'oie-verify-webauthn',\n\n  getUISchema() {\n    const schema = [];\n    // Returning custom array so no input fields are displayed for webauthn\n    if (webauthn.isNewApiAvailable()) {\n      const retryButton = createButton({\n        className: 'retry-webauthn button-primary default-custom-button',\n        title: loc('mfa.challenge.verify', 'login'),\n        click: () => {\n          this.getCredentialsAndSave();\n        }\n      });\n\n      schema.push({\n        View: ChallengeWebauthnInfoView,\n      }, {\n        View: retryButton,\n      });\n      if (this._canSetupWebAuthnResidentKey()) {\n        schema.push({View: EnrollWebAuthnResidentKeyLinkView});\n      }\n    } else {\n      schema.push({\n        View: createCallout({\n          className: 'webauthn-not-supported',\n          type: 'error',\n          subtitle: loc('oie.webauthn.error.not.supported', 'login'),\n        }),\n      });\n    }\n    return schema;\n  },\n\n  remove() {\n    BaseForm.prototype.remove.apply(this, arguments);\n    if (this.webauthnAbortController) {\n      this.webauthnAbortController.abort();\n      this.webauthnAbortController = null;\n    }\n  },\n\n  noButtonBar: true,\n\n  modelEvents: {\n    'error': '_stopVerification'\n  },\n\n  getCredentialsAndSave() {\n    this.clearErrors();\n    this._startVerification();\n    // AbortController is not supported in IE11\n    if (typeof AbortController !== 'undefined') {\n      this.webauthnAbortController = new AbortController();\n    }\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const authenticatorData = relatesToObject?.value || {};\n    const allowCredentials = [];\n    const authenticatorEnrollments = this.options.appState.get('authenticatorEnrollments')?.value || [];\n    authenticatorEnrollments.forEach((enrollement) => {\n      if (enrollement.key === 'webauthn') {\n        allowCredentials.push({\n          type: 'public-key',\n          id: CryptoUtil.strToBin(enrollement.credentialId),\n        });\n      }\n    });\n    const challengeData = authenticatorData.contextualData.challengeData;\n    const options = _.extend({}, challengeData, {\n      allowCredentials,\n      challenge: CryptoUtil.strToBin(challengeData.challenge),\n    });\n    // navigator.credentials() is not supported in IE11\n    // eslint-disable-next-line compat/compat\n    navigator.credentials.get({\n      publicKey: options,\n      signal: this.webauthnAbortController && this.webauthnAbortController.signal\n    }).then((assertion) => {\n      const credentials = {\n        clientData: CryptoUtil.binToStr(assertion.response.clientDataJSON),\n        authenticatorData: CryptoUtil.binToStr(assertion.response.authenticatorData),\n        signatureData: CryptoUtil.binToStr(assertion.response.signature)\n      };\n      const hasUserHandleSchema = this.options.appState.getSchemaByName('credentials.userHandle');\n      if (hasUserHandleSchema) {\n        _.extend(credentials, {\n          userHandle: CryptoUtil.binToStr(assertion.response.userHandle ?? '')\n        });\n      }\n      \n      this.model.set({\n        credentials\n      });\n      this.saveForm(this.model);\n    }, (error) => {\n      // Do not display if it is abort error triggered by code when switching.\n      // this.webauthnAbortController would be null if abort was triggered by code.\n      if (this.webauthnAbortController) {\n        this.model.trigger('error', this.model, {responseJSON: {errorSummary: getMessageFromBrowserError(error)}});\n      }\n    }).finally(() => {\n      // unset webauthnAbortController on successful authentication or error\n      this.webauthnAbortController = null;\n    });\n  },\n\n  _startVerification: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.retry-webauthn').hide();\n    this.$('.setup-webauthn-residentkey-text').hide();\n    this.$('.retry-webauthn')[0].textContent = loc('retry', 'login');\n  },\n\n  _stopVerification: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.retry-webauthn').show();\n    this.$('.setup-webauthn-residentkey-text').show();\n  },\n\n  _canSetupWebAuthnResidentKey: function() {\n    return this.options.appState.hasRemediationObject(RemediationForms.ENROLL_WEBAUTHN_RESIDENTKEY);\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  Footer: ChallengeWebauthnFooter,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // Trigger browser prompt automatically for other browsers for better UX.\n    if (webauthn.isNewApiAvailable() && !BrowserFeatures.isSafari()) {\n      this.form.getCredentialsAndSave();\n    }\n  },\n});\n","import { View } from '@okta/courage';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'setup-webauthn-residentkey-text',\n  template: hbs `<div>{{{i18n code=\"oie.enroll.webauthn.rk.link\" bundle=\"login\"}}}</div>`,\n  events: {\n    'click .setup-webauthn-residentkey-link': function(e) {\n      e.preventDefault();\n      this.options.appState.trigger('invokeAction', RemediationForms.ENROLL_WEBAUTHN_RESIDENTKEY);\n    },\n  },\n});\n","import { loc, View, createCallout } from '@okta/courage';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  // eslint-disable-next-line max-len\n  template: hbs`<p class=\"idx-webauthn-enroll-text\">{{i18n code=\"oie.enroll.webauthn.instructions\" bundle=\"login\"}}</p>`,\n  initialize() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const activationData = relatesToObject?.value.contextualData.activationData;\n    if (BrowserFeatures.isEdge()) {\n      this.add(View.extend({\n        tagName: 'p',\n        className: 'idx-webauthn-enroll-text-edge',\n        template: hbs`{{i18n code=\"oie.enroll.webauthn.instructions.edge\" bundle=\"login\"}}`\n      }));\n    }\n    if (activationData.authenticatorSelection.userVerification === 'required') {\n      this.add(createCallout({\n        className: 'uv-required-callout',\n        size: 'slim',\n        type: 'warning',\n        subtitle: loc('oie.enroll.webauthn.uv.required.instructions', 'login'),\n      }));\n    }\n    this.add('<div data-se=\"webauthn-waiting\" class=\"okta-waiting-spinner\"></div>');\n  },\n});\n","import { _, loc, createCallout, createButton } from '@okta/courage';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport webauthn from 'util/webauthn';\nimport CryptoUtil from 'util/CryptoUtil';\nimport EnrollWebauthnInfoView from './EnrollWebauthnInfoView';\nimport { getMessageFromBrowserError } from '../../../ion/i18nTransformer';\n\nfunction getExcludeCredentials(authenticatorEnrollments = []) {\n  const credentials = [];\n  authenticatorEnrollments.forEach((enrollement) => {\n    if (enrollement.key === 'webauthn') {\n      credentials.push({\n        type: 'public-key',\n        id: CryptoUtil.strToBin(enrollement.credentialId),\n      });\n    }\n  });\n  return credentials;\n}\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.enroll.webauthn.title', 'login');\n  },\n  className: 'oie-enroll-webauthn',\n  modelEvents: {\n    'error': '_stopEnrollment',\n  },\n  getUISchema() {\n    const schema = [];\n    // Returning custom array so no input fields are displayed for webauthn\n    if (webauthn.isNewApiAvailable()) {\n      schema.push({\n        View: EnrollWebauthnInfoView,\n      });\n      schema.push({\n        View: createButton({\n          className: 'webauthn-setup button button-primary button-wide',\n          title: loc('oie.enroll.webauthn.save', 'login'),\n          click: () => {\n            this.triggerWebauthnPrompt();\n          },\n        }),\n      });\n    } else {\n      schema.push({\n        View: createCallout({\n          className: 'webauthn-not-supported',\n          type: 'error',\n          subtitle: loc('oie.webauthn.error.not.supported', 'login'),\n        }),\n      });\n    }\n    return schema;\n  },\n  triggerWebauthnPrompt() {\n    this.$el.find('.o-form-error-container').empty();\n    this._startEnrollment();\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const activationData = relatesToObject?.value.contextualData.activationData;\n    if (webauthn.isNewApiAvailable()) {\n      const excludeCredentials = activationData.authenticatorSelection?.requireResidentKey === true ?\n        [] :\n        getExcludeCredentials(this.options.appState.get('authenticatorEnrollments').value);\n      const options = _.extend({}, activationData, {\n        challenge: CryptoUtil.strToBin(activationData.challenge),\n        user: {\n          id: CryptoUtil.strToBin(activationData.user.id),\n          name: activationData.user.name,\n          displayName: activationData.user.displayName\n        },\n        excludeCredentials\n      });\n      // AbortController is not supported in IE11\n      if (typeof AbortController !== 'undefined') {\n        this.webauthnAbortController = new AbortController();\n      }\n      navigator.credentials.create({\n        publicKey: options,\n        signal: this.webauthnAbortController && this.webauthnAbortController.signal\n      }).then((newCredential) => {\n        this.model.set({\n          credentials : {\n            clientData: CryptoUtil.binToStr(newCredential.response.clientDataJSON),\n            attestation: CryptoUtil.binToStr(newCredential.response.attestationObject),\n            // example data: [\"nfc\", \"usb\"]\n            transports: webauthn.processWebAuthnResponse(newCredential.response.getTransports, newCredential.response),\n            // example data: {\"credProps\":{\"rk\":true}}\n            clientExtensions: webauthn.processWebAuthnResponse(newCredential.getClientExtensionResults, newCredential)\n          }\n        });\n        this.saveForm(this.model);\n      })\n        .catch((error) => {\n          this.model.trigger('error', this.model, {responseJSON: {errorSummary: getMessageFromBrowserError(error)}});\n        }).finally(() => {\n          this.webauthnAbortController = null;\n        });\n    }\n  },\n  _startEnrollment: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.webauthn-setup').hide();\n  },\n\n  _stopEnrollment: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.webauthn-setup').show();\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    this.$el.find('.o-form-button-bar [type=\"submit\"]').remove();\n  },\n});\n","import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport BaseForm from '../../internals/BaseForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ExampleView = View.extend({\n  template: hbs`<div aria-hidden=\"true\" class=\"yubikey-demo\"></div>`,\n});\n\nconst Body = BaseForm.extend({\n  title() {\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.yubikey.challenge.title', 'login')\n      : loc('oie.yubikey.enroll.title', 'login');\n  },\n\n  subtitle() {\n    return loc('oie.yubikey.description', 'login');\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  getUISchema() {\n    const schema = BaseForm.prototype.getUISchema.apply(this, arguments);\n    schema.unshift({\n      View: ExampleView,\n      selector: '.o-form-fieldset-container',\n    });\n    return schema;\n  },\n\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { _, $ } from '@okta/courage';\nimport { ConfigError } from 'util/Errors';\nimport OAuth2Util from 'util/OAuth2Util';\n\nexport default function buildRenderOptions(widgetOptions = {}, options = {}) {\n  const authParams = $.extend(true, {}, widgetOptions.authParams, _.pick(options, OAuth2Util.AUTH_PARAMS));\n  const { el, clientId, redirectUri } = Object.assign({}, widgetOptions, options);\n  const renderOptions = Object.assign({}, { el, clientId, redirectUri, authParams });\n\n  if (!renderOptions.el) {\n    throw new ConfigError('\"el\" is required');\n  }\n\n  if (!renderOptions.clientId) {\n    throw new ConfigError('\"clientId\" is required');\n  }\n\n  if (!renderOptions.redirectUri) {\n    throw new ConfigError('\"redirectUri\" is required');\n  }\n\n  return renderOptions;\n}","import { $ } from '@okta/courage';\nimport Enums from 'util/Enums';\n\nexport default function createRouter(Router, widgetOptions, renderOptions, authClient, successFn, errorFn, hooks) {\n  let resolve;\n  let reject;\n  const promise = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  const routerOptions = $.extend(true, {}, widgetOptions, renderOptions, {\n    authClient,\n    hooks,\n    globalSuccessFn: (res) => {\n      successFn && successFn(res); // call success function if provided\n      if (res && res.status === Enums.SUCCESS) {\n        resolve(res);\n      }\n    },\n    globalErrorFn: (error) => {\n      errorFn && errorFn(error); // call error function if provided\n      reject(error);\n    }\n  });\n  const router = new Router(routerOptions);\n  router.start();\n  return {\n    router,\n    routerOptions,\n    promise\n  };\n}\n\n","// OIE supports only IDX pipeline\nimport {\n  createOktaAuthOAuth,\n  mixinIdx,\n  IdxTransactionMeta,\n  IdxStorageManagerInterface,\n  createIdxStorageManager,\n  createIdxOptionsConstructor,\n  OktaAuthIdxOptions,\n  IdxTransactionManagerInterface,\n  createIdxTransactionManager\n} from '@okta/okta-auth-js';\n\n// okta-auth-js supports a mixin pattern that allows us to compose a custom version containing only the code we need\n// build an AuthJS client that supports only the OIE engine\n\ntype M = IdxTransactionMeta;\ntype S = IdxStorageManagerInterface<M>;\ntype O = OktaAuthIdxOptions;\ntype TM = IdxTransactionManagerInterface;\n\nconst OptionsConstructor = createIdxOptionsConstructor();\nconst StorageManager = createIdxStorageManager<M>();\nconst IdxTransactionManager = createIdxTransactionManager();\n\n// Start with OAuth as base\nconst OktaAuthOAuth = createOktaAuthOAuth<M, S, O, TM>(StorageManager, OptionsConstructor, IdxTransactionManager);\n\n// Mixin IDX support\nconst OktaAuth = mixinIdx(OktaAuthOAuth);\n\nexport { OktaAuth };\n","import { OktaSignIn } from '../oie';\n\n// CDN bundle must have a single default export\nexport default OktaSignIn;\n","// OIE supports only IDX pipeline\nimport { loc } from '@okta/courage';\nimport Logger from 'util/Logger';\nimport { ConfigError } from 'util/Errors';\nimport { OktaAuth } from '../authClient/oie';\nimport { routerClassFactory } from '../router/oie';\nimport { WidgetOptions } from '../types/options';\nimport { createOktaSignIn } from '../widget/OktaSignIn';\n\nclass OktaSignIn extends createOktaSignIn(OktaAuth, routerClassFactory) {\n  constructor(options: WidgetOptions) {\n    super(options);\n\n    if (options.useClassicEngine !== false) {\n      Logger.error('This version of the Okta Signin Widget only supports OIE. Remove `useClassicEngine` option or set it to `false`.');\n      throw new ConfigError(loc('error.config'));\n    }\n  }\n}\n\nexport default OktaSignIn\nexport { OktaSignIn }\nexport * from '../types';\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Model } from '@okta/courage';\nimport { mergeHook } from 'util/Hooks';\nimport { HookDefinition, HooksOptions } from 'types';\n\nexport default class Hooks extends Model {\n\n  mergeHook(formName: string, hookToMerge: HookDefinition): void {\n    const hooks = this.get('hooks') || {};\n    mergeHook(hooks, formName, hookToMerge);\n    this.set('hooks', hooks);\n  }\n\n  getHook(formName: string): HookDefinition {\n    const hooks: HooksOptions = this.get('hooks') || {};\n    return hooks[formName]; // may be undefined\n  }\n  \n}\n","/* eslint max-statements: [2, 22],  complexity: [2, 12] */\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, Model, loc, internal, ModelProperty } from '@okta/courage';\nimport config from 'config/config.json';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Q from 'q';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport {\n  ConfigError,\n  UnsupportedBrowserError\n} from 'util/Errors';\nimport IDP from 'util/IDP';\nimport Logger from 'util/Logger';\nimport Util from 'util/Util';\nimport CountryUtil from 'util/CountryUtil';\nimport { OktaAuth } from '@okta/okta-auth-js';\nconst SharedUtil = internal.util.Util;\nconst assetBaseUrlTpl = hbs('https://global.oktacdn.com/okta-signin-widget/{{version}}');\n\nconst local: Record<string, ModelProperty> = {\n  authClient: ['object', false, undefined],\n  baseUrl: ['string', true],\n  recoveryToken: ['string', false, undefined],\n  stateToken: ['string', false, undefined],\n  username: ['string', false],\n  relayState: ['string', false],\n\n  // These two settings are aliases. Setting either value will set `backToSignInUri`\n  signOutLink: ['string', false], // for backward compatibility\n  backToSignInLink: ['string', false], // preferred setting\n\n  redirect: {\n    type: 'string',\n    values: ['never', 'always', 'auto'],\n    value: 'auto',\n  },\n\n  // allows bootstrapping the Widget into a specific view such\n  // as register or forgot password\n  flow: ['string', false, 'default'],\n\n  // Function to transform the username before passing it to the API\n  // for Primary Auth, Forgot Password and Unlock Account.\n  transformUsername: ['function', false],\n\n  // CALLBACKS\n  globalSuccessFn: 'function',\n  globalErrorFn: 'function',\n  processCreds: 'function',\n  hooks: 'object',\n\n  // IMAGES\n  logo: 'string',\n  logoText: ['string', false],\n  helpSupportNumber: 'string',\n\n  // <OIE>\n  // attribute to hold proxy (fake) idx response\n  // to render static pages without initiating idx pipeline\n  proxyIdxResponse: ['object', false],\n\n  // <OIE>\n  // By default, state handle will be saved to session storage\n  // and will be clear when terminal error or success redirect.\n  // Set this flag to true if you want to override this behavior.\n  // a.k.a dishonor the state handle stored in session storage.\n  overrideExistingStateToken: ['boolean', false, false],\n\n  // FEATURES\n  'features.router': ['boolean', true, false],\n  'features.securityImage': ['boolean', true, false],\n  'features.rememberMe': ['boolean', true, true],\n  'features.autoPush': ['boolean', true, false],\n  'features.smsRecovery': ['boolean', true, false],\n  'features.callRecovery': ['boolean', true, false],\n  'features.emailRecovery': ['boolean', false, true],\n  'features.webauthn': ['boolean', true, false],\n  'features.selfServiceUnlock': ['boolean', true, false],\n  'features.multiOptionalFactorEnroll': ['boolean', true, false],\n  'features.deviceFingerprinting': ['boolean', false, false],\n  'features.hideSignOutLinkInMFA': ['boolean', false, false],\n  'features.skipIdpFactorVerificationBtn': ['boolean', false, false],\n  'features.hideBackToSignInForReset': ['boolean', false, false],\n  'features.customExpiredPassword': ['boolean', true, false],\n  'features.registration': ['boolean', false, false],\n  'features.idpDiscovery': ['boolean', false, false],\n  'features.passwordlessAuth': ['boolean', false, false],\n  'features.showPasswordToggleOnSignInPage': ['boolean', false, false],\n  'features.trackTypingPattern': ['boolean', false, false],\n  'features.redirectByFormSubmit': ['boolean', false, false],\n  'features.useDeviceFingerprintForSecurityImage': ['boolean', false, true],\n  'features.showPasswordRequirementsAsHtmlList': ['boolean', false, false],\n  'features.mfaOnlyFlow': ['boolean', false, false],\n  'features.scrollOnError': ['boolean', false, true],\n  'features.showKeepMeSignedIn': ['boolean', false, true],\n  'features.showIdentifier': ['boolean', false, true],\n  'features.autoFocus': ['boolean', false, true],\n  'features.sameDeviceOVEnrollmentEnabled': ['boolean', false, false],\n  'features.showSessionRevocation': ['boolean', false, false],\n  'features.disableAutocomplete': ['boolean', false, false],\n\n  defaultCountryCode: ['string', false, 'US'],\n\n  // I18N\n  language: ['any', false], // Can be a string or a function\n  i18n: ['object', false],\n\n  // ASSETS\n  'assets.baseUrl': ['string', false],\n  'assets.rewrite': {\n    type: 'function',\n    value: _.identity,\n  },\n  'assets.languages': ['array', false],\n\n  // OAUTH2\n  issuer: 'string',\n  clientId: 'string',\n  redirectUri: 'string',\n  state: 'string',\n  nonce: 'string',\n  scopes: 'array',\n  codeChallenge: 'string',\n  codeChallengeMethod: ['string', false],\n  oAuthTimeout: ['number', false],\n\n  authScheme: ['string', false, 'OAUTH2'],\n\n  // External IdPs\n  idps: ['array', false, []],\n  idpDisplay: {\n    type: 'string',\n    values: ['PRIMARY', 'SECONDARY'],\n    value: 'SECONDARY',\n  },\n\n  // HELP LINKS\n  'helpLinks.help': 'string',\n  'helpLinks.forgotPassword': 'string',\n  'helpLinks.unlock': 'string',\n  'helpLinks.custom': 'array',\n  'helpLinks.factorPage.href': 'string',\n  'helpLinks.factorPage.text': 'string',\n\n  //Custom Buttons\n  customButtons: ['array', false, []],\n\n  //Registration\n  policyId: 'string',\n  'registration.click': 'function',\n  'registration.parseSchema': 'function',\n  'registration.preSubmit': 'function',\n  'registration.postSubmit': 'function',\n\n  //Consent\n  'consent.cancel': 'function',\n\n  //IDP Discovery\n  'idpDiscovery.requestContext': 'string',\n\n  //Colors\n  'colors.brand': 'string',\n\n  //cspNonce\n  'cspNonce': 'string',\n\n  //Descriptions\n  brandName: 'string',\n\n  //PIV\n  piv: ['object', false, {}],\n\n  //Email verify callback\n  otp: 'string',\n\n  //Support classic engine\n  useClassicEngine: ['boolean', false, false],\n\n  //hCaptcha script source URI\n  'hcaptcha.scriptSource': ['string', false],\n  //query params for hCaptcha script source URI\n  'hcaptcha.scriptParams': ['object', false, {}],\n\n  //reCAPTCHA script source URI\n  'recaptcha.scriptSource': ['string', false],\n};\n\nconst derived: Record<string, ModelProperty>  = {\n  backToSignInUri: {\n    deps: ['backToSignInLink', 'signOutLink'],\n    fn: function(backToSignInLink, signOutLink) {\n      return backToSignInLink || signOutLink; // prefer backToSignInLink over signOutLink, but they are aliases\n    }\n  },\n  showPasswordToggle: {\n    deps: ['features.showPasswordToggleOnSignInPage'],\n    fn: function() {\n      // showPasswordToggle is for OIE only.\n      // Used to default showPasswordToggleOnSignInPage to true.\n      const defaultValue = true;\n      const customizedValue = this.options?.features?.showPasswordToggleOnSignInPage ??\n        this.options?.['features.showPasswordToggleOnSignInPage'];\n      return customizedValue ?? defaultValue;\n    },\n    cache: true,\n  },\n  redirectUtilFn: {\n    deps: ['features.redirectByFormSubmit'],\n    fn: function(redirectByFormSubmit) {\n      return redirectByFormSubmit ? Util.redirectWithFormGet.bind(Util) : SharedUtil.redirect.bind(SharedUtil);\n    },\n    cache: true,\n  },\n  supportedLanguages: {\n    deps: ['i18n', 'language', 'assets.languages'],\n    fn: function(i18n, language, hostedLanguages) {\n      // By default, the language be automatically detected from the browser\n      // Developers can specify the language. It will be added to the supportedLanguages list.\n      // Developers can also provide a list of languages with hosted assets, these replace the default list\n      const supportedLanguages = hostedLanguages || config.supportedLanguages;\n      return _.union(\n        supportedLanguages,\n        _.keys(i18n),\n        _.isString(language) ? [language] : []\n      );\n    },\n    cache: true,\n  },\n  languageCode: {\n    deps: ['language', 'supportedLanguages'],\n    fn: function(language, supportedLanguages) {\n      const userLanguages = BrowserFeatures.getUserLanguages();\n\n      // TODO: revisit this fix - OKTA-491150\n      userLanguages.forEach((val, idx) => {\n        if (val === 'nl') {\n          userLanguages[idx] = 'nl-NL';\n        }\n        else if (val === 'pt') {\n          userLanguages[idx] = 'pt-BR';\n        }\n      });\n\n      const preferred = _.clone(userLanguages);\n\n      const supportedLowerCase = Util.toLower(supportedLanguages);\n\n      // Any developer defined \"language\" takes highest priority:\n      // As a string, i.e. 'en', 'ja', 'zh-CN'\n      if (_.isString(language)) {\n        preferred.unshift(language);\n      } else if (_.isFunction(language)) {\n        // As a callback function, which is passed the list of supported\n        // languages and detected user languages. This function must return\n        // a languageCode, i.e. 'en', 'ja', 'zh-CN'\n        preferred.unshift(language(supportedLanguages, userLanguages));\n      }\n\n      // Add default language, and expand to include any language\n      // codes that do not include region, dialect, etc.\n      preferred.push(config.defaultLanguage);\n      const expanded = Util.toLower(Util.expandLanguages(preferred));\n\n      // Perform a case insensitive search - this is necessary in the case\n      // of browsers like Safari\n      let i;\n      let supportedPos;\n\n      for (i = 0; i < expanded.length; i++) {\n        supportedPos = supportedLowerCase.indexOf(expanded[i]);\n        if (supportedPos > -1) {\n          return supportedLanguages[supportedPos];\n        }\n      }\n    },\n  },\n  countryCode: {\n    deps: ['defaultCountryCode'],\n    fn: function(defaultCountryCode) {\n      const countries = CountryUtil.getCountries();\n      return Object.keys(countries).includes(defaultCountryCode)\n        ? defaultCountryCode : 'US';\n    },\n  },\n  mode: {\n    deps: ['codeChallenge'],\n    fn: function(codeChallenge) {\n      if (codeChallenge) {\n        return 'remediation';\n      }\n      return 'relying-party';\n    }\n  },\n  oauth2Enabled: {\n    deps: ['clientId', 'authScheme', 'authClient'],\n    fn: function(clientId, authScheme, authClient) {\n       if (!clientId && authClient) {\n        clientId = authClient.options.clientId;\n      }\n      return (!!clientId) && authScheme.toLowerCase() === 'oauth2';\n    },\n    cache: true,\n  },\n  // Redirect Uri to provide in the oauth API\n  oauthRedirectUri: {\n    deps: ['redirectUri'],\n    fn: function(redirectUri) {\n      if (redirectUri) {\n        return redirectUri;\n      }\n\n      let origin = window.location.origin;\n\n      // IE8\n      if (!origin) {\n        const href = window.location.href;\n        const path = window.location.pathname;\n\n        if (path !== '') {\n          origin = href.substring(0, href.lastIndexOf(path));\n        }\n      }\n\n      return encodeURI(origin);\n    },\n  },\n  // Adjusts the idps passed into the widget based on if they get explicit support\n  configuredSocialIdps: {\n    deps: ['idps'],\n    fn: function(idps) {\n      return _.map(idps, function(idpConfig) {\n        const idp = _.clone(idpConfig);\n\n        let type = idp.type && idp.type.toLowerCase();\n\n        if (!(type && _.contains(IDP.SUPPORTED_SOCIAL_IDPS, type))) {\n          type = 'general-idp';\n          idp.text = idp.text || '{ Please provide a text value }';\n        }\n\n        idp.className = [\n          'social-auth-button',\n          'social-auth-' + type + '-button ',\n          idp.className ? idp.className : '',\n        ].join(' ');\n        idp.dataAttr = 'social-auth-' + type + '-button';\n        idp.i18nKey = 'socialauth.' + type + '.label';\n        return idp;\n      });\n    },\n    cache: true,\n  },\n  // Can support piv authentication\n  hasPivCard: {\n    deps: ['piv'],\n    fn: function(piv) {\n      return piv && piv.certAuthUrl;\n    },\n    cache: true,\n  },\n  // social auth buttons order - 'above'/'below' the primary auth form (boolean)\n  socialAuthPositionTop: {\n    deps: ['configuredSocialIdps', 'hasPivCard', 'idpDisplay'],\n    fn: function(configuredSocialIdps, hasPivCard, idpDisplay) {\n      return (!_.isEmpty(configuredSocialIdps) || hasPivCard) && idpDisplay.toUpperCase() === 'PRIMARY';\n    },\n    cache: true,\n  },\n  hasConfiguredButtons: {\n    deps: ['configuredSocialIdps', 'customButtons', 'hasPivCard'],\n    fn: function(configuredSocialIdps, customButtons, hasPivCard) {\n      return !_.isEmpty(configuredSocialIdps) || !_.isEmpty(customButtons) || hasPivCard;\n    },\n    cache: true,\n  }\n};\n\ntype SettingsProps = typeof local & typeof derived;\n\nexport default class Settings extends Model {\n  authClient:OktaAuth;\n\n  constructor(attributes, options) {\n    // base class constructor will call preinitialize() and initialize() and compute derived properties\n    super(attributes, options);\n\n    // apply languageCode\n    const authClient = this.getAuthClient();\n    this.setAcceptLanguageHeader(authClient);\n  }\n\n  get<A extends Backbone._StringKey<SettingsProps>>(attributeName: A): any {\n    return Model.prototype.get.call(this, attributeName);\n  }\n\n  preinitialize(...args) {\n    this.local = local;\n    this.derived = derived;\n    Model.prototype.preinitialize.apply(this, args);\n  }\n\n  initialize(options) {\n    options = options || {};\n    const { colors, authClient, flow } = options;\n    let { baseUrl } = options;\n\n    if (!baseUrl) {\n      // infer baseUrl from the issuer\n      // favor authClient API first\n      if (authClient) {\n        baseUrl = authClient.getIssuerOrigin();\n      } else {\n        // issuer can also be passed a top-level option or exist in authParams\n        const { authParams } = options;\n        let { issuer } = options;\n        issuer = issuer || authParams?.issuer;\n        baseUrl = issuer?.split('/oauth2/')[0];\n      }\n      this.set('baseUrl', baseUrl);\n    }\n\n    // If `flow` and `authClient` instance are passed to settings, set flow in auth client\n    if (authClient && flow) {\n      authClient.idx.setFlow(flow);\n    }\n\n    if (!baseUrl) {\n      this.callGlobalError(new ConfigError(loc('error.required.baseUrl')));\n    } else if (colors && _.isString(colors.brand) && !colors.brand.match(/^#[0-9A-Fa-f]{6}$/)) {\n      this.callGlobalError(new ConfigError(loc('error.invalid.colors.brand')));\n    } else if (BrowserFeatures.corsIsNotSupported()) {\n      this.callGlobalError(new UnsupportedBrowserError(loc('error.unsupported.cors')));\n    }\n  }\n\n  setAcceptLanguageHeader(authClient) {\n    if (authClient) {\n      authClient.http.setRequestHeader('Accept-Language', this.get('languageCode'));\n    }\n  }\n\n  setAuthClient(authClient) {\n    this.set('authClient', authClient);\n    this.setAcceptLanguageHeader(authClient);\n  }\n\n  getAuthClient() {\n    return this.get('authClient');\n  }\n\n  set(...args: any[]) {\n    try {\n      return Model.prototype.set.apply(this, args);\n    } catch (e) {\n      const message = e.message ? e.message : e;\n\n      this.callGlobalError(new ConfigError(message));\n    }\n  }\n\n  // Invokes the global success function. This should only be called on a\n  // terminal part of the code (i.e. authStatus SUCCESS or after sending\n  // a recovery email)\n  callGlobalSuccess(status, data) {\n    const res = _.extend(data, { status: status });\n    // Defer this to ensure that our functions have rendered completely\n    // before invoking their function\n\n    _.defer(_.partial(this.get('globalSuccessFn'), res));\n  }\n\n  // Invokes the global error function. This should only be called on non\n  // recoverable errors (i.e. configuration errors, browser unsupported\n  // errors, etc)\n  callGlobalError(err) {\n    const globalErrorFn = this.get('globalErrorFn') || this.options.globalErrorFn;\n    // Note: Must use \"this.options.globalErrorFn\" when they've passed invalid\n    // arguments - globalErrorFn will not have been set yet\n\n    if (globalErrorFn) {\n      globalErrorFn(err);\n    } else {\n      // Only throw the error if they have not registered a globalErrorFn\n      throw err;\n    }\n  }\n\n  // Get the username by applying the transform function if it exists.\n  transformUsername(username, operation) {\n    const transformFn = this.get('transformUsername');\n\n    if (transformFn && _.isFunction(transformFn)) {\n      return transformFn(username, operation);\n    }\n    return username;\n  }\n\n  processCreds(creds) {\n    const processCreds = this.get('processCreds');\n\n    return Q.Promise(function(resolve) {\n      if (!_.isFunction(processCreds)) {\n        resolve();\n      } else if (processCreds.length === 2) {\n        processCreds(creds, resolve);\n      } else {\n        processCreds(creds);\n        resolve();\n      }\n    });\n  }\n\n  parseRegistrationSchema(schema, onSuccess, onFailure) {\n    const parseSchema = this.get('registration.parseSchema');\n\n    //check for parseSchema callback\n    if (_.isFunction(parseSchema)) {\n      parseSchema(\n        schema,\n        function(schema) {\n          onSuccess(schema);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'parseSchema';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(schema);\n    }\n  }\n\n  preRegistrationSubmit(postData, onSuccess, onFailure) {\n    const preSubmit = this.get('registration.preSubmit');\n\n    //check for preSubmit callback\n    if (_.isFunction(preSubmit)) {\n      preSubmit(\n        postData,\n        function(postData) {\n          onSuccess(postData);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'preSubmit';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(postData);\n    }\n  }\n\n  postRegistrationSubmit(response, onSuccess, onFailure) {\n    const postSubmit = this.get('registration.postSubmit');\n\n    //check for postSubmit callback\n    if (_.isFunction(postSubmit)) {\n      postSubmit(\n        response,\n        function(response) {\n          onSuccess(response);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'postSubmit';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(response);\n    }\n  }\n\n  // Use the parse function to transform config options to the standard\n  // settings we currently support. This is a good place to deprecate old\n  // option formats.\n  parse(options) {\n    if (options.labels || options.country) {\n      Logger.deprecate('Use \"i18n\" instead of \"labels\" and \"country\"');\n      const overrides = options.labels || {};\n\n      _.each(options.country, function(val, key) {\n        overrides['country.' + key] = val;\n      });\n      // Old behavior is to treat the override as a global override, so we\n      // need to add these overrides to each language\n      options.i18n = {};\n      _.each(config.supportedLanguages, function(language) {\n        options.i18n[language] = overrides;\n      });\n      delete options.labels;\n      delete options.country;\n    }\n\n    // Default the assets.baseUrl to the cdn, or remove any trailing slashes\n    if (!options.assets) {\n      options.assets = {};\n    }\n    const abu = options.assets.baseUrl;\n\n    if (!abu) {\n      options.assets.baseUrl = assetBaseUrlTpl({ version: config.version });\n    } else if (abu[abu.length - 1] === '/') {\n      options.assets.baseUrl = abu.substring(0, abu.length - 1);\n    }\n\n    return options;\n  }\n\n  isDsTheme() {\n    return false;\n  }\n\n}\n","import V2Router from 'v2/WidgetRouter';\nimport { RouterConstructor, WidgetOptions } from 'types';\nimport Util from 'util/Util';\nimport { ConfigError } from 'util/Errors';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function routerClassFactory(options: WidgetOptions): RouterConstructor<V2Router> {\n  if (options.stateToken && Util.isV1StateToken(options.stateToken)) {\n    throw new ConfigError('This version of the Sign-in Widget does not support Classic Engine');\n  }\n  return V2Router;\n}\n","export * from './appState';\nexport * from './api';\nexport * from './authClient';\nexport * from './errors';\nexport * from './events';\nexport * from './registration';\nexport * from './options';\nexport * from './results';\nexport * from './router';\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\nconst fn: Record<string, (...any: any[]) => any> = {};\nconst hasFullCorsSupport = 'withCredentials' in new window.XMLHttpRequest();\nconst hasXDomainRequest = typeof window.XDomainRequest !== 'undefined';\n\nfn.corsIsNotSupported = function() {\n  return !(hasFullCorsSupport || hasXDomainRequest);\n};\n\nfn.corsIsNotEnabled = function(jqXhr) {\n  // Not a definitive check, but it's the best we've got.\n  // Note: This will change when OktaAuth is updated\n  return jqXhr.status === 0;\n};\n\n// This is currently not being used, but we'll keep it around for when we\n// want a fallback mechanism - i.e. use localStorage if it exists, else fall\n// back to cookies.\nfn.localStorageIsNotSupported = function() {\n  const test = 'test';\n\n  try {\n    localStorage.setItem(test, test);\n    localStorage.removeItem(test);\n    return false;\n  } catch (e) {\n    return true;\n  }\n};\n\nfn.supportsPushState = function(win) {\n  win = win || window;\n  return !!(win.history && win.history.pushState);\n};\n\nfn.isIE = function() {\n  return /(msie|trident)/i.test(navigator.userAgent);\n};\n\nfn.isFirefox = function() {\n  return navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n};\n\nfn.isEdge = function() {\n  // This is to just check for windows edge. Mac edge - chromium based's UA is 'edg'.\n  return navigator.userAgent.toLowerCase().indexOf('edge') > -1;\n};\n\nfn.isSafari = function() {\n  // Chrome has safari in its useragent string so adding this extra check.\n  return (\n    navigator.userAgent.toLowerCase().indexOf('safari') > -1 &&\n    navigator.userAgent.toLowerCase().indexOf('chrome') === -1\n  );\n};\n\nfn.isMac = function() {\n  return navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n};\n\n\nfn.isAndroid = function() {\n  // Windows Phone also contains \"Android\"\n  return /android/i.test(navigator.userAgent) &&\n    !/windows phone/i.test(navigator.userAgent);\n};\n\nfn.isIOS = function() {\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\n  return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n};\n\n// Returns a list of languages the user has configured for their browser, in\n// order of preference.\nfn.getUserLanguages = function() {\n  // Chrome, Firefox\n  if (navigator.languages) {\n    return [...navigator.languages];\n  }\n\n  const languages = [];\n  const properties = [\n    'language',         // Safari, IE11\n    'userLanguage',     // IE\n    'browserLanguage',  // IE\n    'systemLanguage'    // IE\n  ];\n\n  properties.forEach(function(property) {\n    if (navigator[property]) {\n      languages.push(navigator[property]);\n    }\n  });\n\n  return languages;\n};\n\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\nimport config from 'config/config.json';\nimport fetch from 'cross-fetch';\nimport country from 'nls/country.json';\nimport login from 'nls/login.json';\nimport _ from 'underscore';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport Logger from 'util/Logger';\nconst STORAGE_KEY = 'osw.languages';\n\ndeclare type i18nOptions = {\n  [localeOrCountry: string]: {\n    [i18nKey: string]: string;\n  }\n}\n\ndeclare type Assets = {\n  baseUrl: string;\n  rewrite(origPath: string): string;\n}\n\n/**\n * Converts options to our internal format, which distinguishes between\n * login and country bundles.\n *\n * Example options.i18n passed in by the developer:\n * {\n *   'en': {\n *     'needhelp': 'need help override',\n *     'primaryauth.title': 'new sign in text',\n *     'country.JP' = 'Japan, Japan'\n *   }\n * }\n *\n * Parsed:\n * {\n *  'en': {\n *    'login': {\n *      'needhelp': 'need help override',\n *      'primaryauth.title': 'new sign in text',\n *    },\n *    'country': {\n *      'JP': 'Japan, Japan'\n *    }\n *  }\n * }\n */\nfunction parseOverrides(i18n) {\n  if (!i18n) {\n    return {};\n  }\n\n  const i18nWithLowerCaseKeys = {};\n\n  _.each(_.keys(i18n), function(key) {\n    i18nWithLowerCaseKeys[key.toLowerCase()] = i18n[key];\n  });\n\n  return _.mapObject(i18nWithLowerCaseKeys, function(props) {\n    const mapped = { login: {}, country: {} };\n\n    if (!_.isObject(props)) {\n      throw new Error('Invalid format for \"i18n\"');\n    }\n    _.each(props, function(val, key) {\n      const split = key.split(/^country\\./);\n\n      if (split.length > 1) {\n        mapped.country[split[1]] = val;\n      } else {\n        mapped.login[split[0]] = val;\n      }\n    });\n    return mapped;\n  });\n}\n\n// Caching: We only bundle English by default in the Sign-In Widget. Other\n// languages are loaded on demand and cached in localStorage. These languages\n// are tied to the version of the widget - when it bumps, we reset the cache.\n\nfunction getCachedLanguages() {\n  let storage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (!storage || storage.version !== config.version) {\n    storage = {\n      version: config.version,\n    };\n  }\n  return storage;\n}\n\nfunction addLanguageToCache(language, loginJson, countryJson) {\n  const current = getCachedLanguages();\n\n  current[language] = {\n    login: loginJson,\n    country: countryJson,\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(current));\n}\n\n// By default, the assets.bundleUrl is tied to the Okta CDN.\n//\n// There are two overrides available for modifying where we load the asset\n// bundles from:\n//\n// 1. assets.baseUrl\n//\n//    This is the base path the OSW pulls assets from, which in this case is\n//    the Okta CDN. Override this config option if you want to host the\n//    files on your own domain, or if you're using a new version of the\n//    widget whose language files haven't been published to the CDN yet.\n//\n// 2. assets.rewrite\n//\n//    This is a function that can be used to modify the path + fileName of\n//    the bundle we're loading, relative to the baseUrl. When called, it\n//    will pass the current path, and expect the new path to be returned.\n//    This is useful, for example, if your build process has an extra\n//    cachebusting step, i.e:\n//\n//    function rewrite(file) {\n//      // file: /labels/json/login_ja.json\n//      return file.replace('.json', '.' + md5file(file) + '.json');\n//    }\n//\n// Note: Most developers will not need to use these overrides - the default\n// is to use the Okta CDN and to use the same path + file structure the\n// widget module publishes by default.\nfunction fetchJson(bundle, language, assets) {\n  // Our bundles use _ to separate country and region, i.e:\n  // zh-CN -> zh_CN\n  const languageCode = language.replace('-', '_');\n\n  const path = assets.rewrite(encodeURI(`/labels/json/${bundle}_${languageCode}.json`));\n\n  const headers = {\n    Accept: 'application/json',\n    'Content-Type': 'text/plain',\n  };\n\n  const mode = 'no-cors';\n\n  return fetch(assets.baseUrl + path, {\n    method: 'GET',\n    headers,\n    mode,\n  })\n    .then(res => res.text())\n    .then(txt => JSON.parse(txt));\n}\n\nasync function getBundles(language, assets, supportedLanguages) {\n  // Two special cases:\n  // 1. Default language is already bundled with the widget\n  // 2. If the language is not in our config file, it means that they've\n  //    probably defined it on their own.\n  if (language === config.defaultLanguage || !_.contains(supportedLanguages, language)) {\n    return {};\n  }\n\n  //local storage does not work correctly with android web views (embeded browers)\n  //so skip the caching and just make the request to get the local info\n  const localStorageIsSupported = !BrowserFeatures.localStorageIsNotSupported();\n\n  if (localStorageIsSupported) {\n    const cached = getCachedLanguages();\n\n    if (cached[language]) {\n      return cached[language];\n    }\n  }\n\n  try {\n    const [loginJson, countryJson] = await Promise.all([\n      fetchJson('login', language, assets),\n      fetchJson('country', language, assets)\n    ]);\n    if (localStorageIsSupported) {\n      addLanguageToCache(language, loginJson, countryJson);\n    }\n    return { login: loginJson, country: countryJson };\n  } catch(_e) {\n    // If there is an error, this will default to the bundled language and\n    // we will no longer try to load the language this session.\n    Logger.warn('Unable to load language: ' + language);\n    return {};\n  }\n}\n\nexport default {\n  login: login,\n  country: country,\n  // Courage components within the sign in widget point to courage bundle to look\n  // up i18nkeys. Since we dont have courage.properties inside the sign in widget\n  // we are pointing courage bundle to login.\n  courage: login,\n\n  currentLanguage: null,\n\n  isLoaded: function(language: string): boolean {\n    return this.currentLanguage === language;\n  },\n\n  remove: function(): void {\n    this.currentLanguage = null;\n  },\n\n  loadLanguage: async function(language: string, overrides: i18nOptions, assets: Assets, supportedLanguages: string[]): Promise<void> {\n    const parsedOverrides = parseOverrides(overrides);\n    const lowerCaseLanguage = language.toLowerCase();\n    const bundles = await getBundles(language, assets, supportedLanguages);\n    // Always extend from the built in defaults in the event that some\n    // properties are not translated\n    this.login = _.extend({}, login, bundles.login);\n    this.country = _.extend({}, country, bundles.country);\n    this.courage = _.extend({}, login, bundles.login);\n    if (parsedOverrides[lowerCaseLanguage]) {\n      _.extend(this.login, parsedOverrides[lowerCaseLanguage]['login']);\n      _.extend(this.country, parsedOverrides[lowerCaseLanguage]['country']);\n      _.extend(this.courage, parsedOverrides[lowerCaseLanguage]['login']);\n    }\n    this.currentLanguage = language;\n  },\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { loc } from './loc';\nimport Enums from './Enums';\nimport { ErrorXHR, ErrorContextData } from '../types/errors';\nimport { FlowIdentifier } from '@okta/okta-auth-js';\n\nabstract class CustomError extends Error {\n  constructor(message?: string) {\n    super(message);\n\n    // 'Error' breaks prototype chain. Need to restore it for ES5.\n    // https://github.com/microsoft/TypeScript/wiki/FAQ#why-doesnt-extending-built-ins-like-error-array-and-map-work\n    // Note: no need to adjust prototype in subclasses of 'CustomError'.\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n\nexport class ConfigError extends CustomError {\n  name = Enums.CONFIG_ERROR;\n  constructor(message?: string) {\n    super(message || loc('error.config'));\n  }\n}\n\nexport class UnsupportedBrowserError extends CustomError {\n  name = Enums.UNSUPPORTED_BROWSER_ERROR;\n  constructor(message?: string) {\n    super(message || loc('error.unsupported.browser'));\n  }\n}\n\nexport class OAuthError extends CustomError {\n  name = Enums.OAUTH_ERROR;\n}\n\nexport class RegistrationError extends CustomError {\n  name = Enums.REGISTRATION_FAILED;\n}\n\n// Thrown when initiation of poll was cancelled.\nexport class AuthStopPollInitiationError extends CustomError {\n  name = Enums.AUTH_STOP_POLL_INITIATION_ERROR;\n}\n\nexport class U2FError extends CustomError {\n  xhr: ErrorXHR;\n  name = Enums.U2F_ERROR;\n  constructor(err: ErrorContextData) {\n    super(err.xhr?.responseJSON?.errorSummary);\n    this.xhr = err.xhr;\n  }\n}\n\nexport class WebAuthnError extends CustomError {\n  xhr: ErrorXHR;\n  name = Enums.WEB_AUTHN_ERROR;\n  constructor(err: ErrorContextData) {\n    super(err.xhr?.responseJSON?.errorSummary);\n    this.xhr = err.xhr;\n  }\n}\n\n// This is triggered only when code aborts webauthn browser prompt.\nexport class WebauthnAbortError extends CustomError {\n  name = Enums.WEBAUTHN_ABORT_ERROR;\n}\n\nexport class ConfiguredFlowError extends CustomError {\n  flowSetting: FlowIdentifier;\n  name = Enums.CONFIGURED_FLOW_ERROR;\n  constructor(message: string, flowSetting: FlowIdentifier) {\n    super(message);\n    this.flowSetting = flowSetting;\n  }\n}\n","import { loc } from './loc';\n\nimport { AuthSdkError, OAuthError as SdkOAuthError} from '@okta/okta-auth-js';\nimport { OAuthError } from './Errors';\nimport { ErrorDetails } from '../types/errors';\n\ntype ErrorTraits = 'inline' | 'terminal';\n\ntype ErrorType = {\n  [key in ErrorTraits]?: boolean;\n};\n\nclass InlineErrorType implements ErrorType {\n  inline = true;\n}\n\nclass TerminalErrorType implements ErrorType {\n  terminal = true;\n}\n\nclass TypedOAuthError<T extends ErrorType> extends OAuthError {\n  errorType: T;\n  orginalError: AuthSdkError | SdkOAuthError;\n  errorDetails: ErrorDetails\n\n  constructor(originalError: AuthSdkError | SdkOAuthError, errorTypeCtor: new () => T) {\n    super(originalError.message);\n    this.errorType = new errorTypeCtor();\n    this.orginalError = originalError;\n\n    this.errorDetails = {\n      errorSummary: this.getErrorSummary(),\n      errorCode: originalError.errorCode,\n      errorCauses: 'errorCauses' in originalError ? originalError.errorCauses : undefined,\n    }\n  }\n\n  protected getErrorSummary() {\n    return this.orginalError.errorSummary;\n  }\n\n  public is(errorTrait: ErrorTraits) {\n    return Boolean(Object.getOwnPropertyDescriptor(this.errorType, errorTrait as PropertyKey)?.value);\n  }\n}\n\nclass RecoverableError<T extends ErrorType> extends TypedOAuthError<T> {\n\n}\n\nclass NonRecoverableError<T extends ErrorType> extends TypedOAuthError<T> {\n\n}\n\nclass ClockDriftError extends RecoverableError<TerminalErrorType> {\n  constructor(error: AuthSdkError | SdkOAuthError) {\n    super(error, TerminalErrorType);\n  }\n\n  getErrorSummary(): string {\n    return loc('error.unsynced.clock', 'login');\n  }\n}\n\nclass UserNotAssignedError extends RecoverableError<InlineErrorType> {\n  constructor(error: AuthSdkError | SdkOAuthError) {\n    super(error, InlineErrorType);\n  }\n}\n\nclass JITProfileProvisioningError extends RecoverableError<InlineErrorType> {\n  constructor(error: AuthSdkError | SdkOAuthError) {\n    super(error, InlineErrorType);\n  }\n  getErrorSummary(): string {\n    return loc('error.jit_failure', 'login');\n  }\n}\n\nclass MfaRequiredError extends NonRecoverableError<InlineErrorType> {\n  constructor(error: AuthSdkError | SdkOAuthError) {\n    super(error, InlineErrorType);\n  }\n\n  getErrorSummary(): string {\n    return loc('error.mfa.required', 'login');\n  }\n}\n\nfunction getTypedOAuthError(error: AuthSdkError | SdkOAuthError) {\n  switch(error.errorCode) {\n    case 'access_denied':\n      return new UserNotAssignedError(error);\n\n    case 'jit_failure_missing_fields':\n    case 'jit_failure_invalid_login_format':\n    case 'jit_failure_values_not_match_pattern':\n    case 'jit_failure_values_too_long':\n    case 'jit_failure_invalid_locale':\n      return new JITProfileProvisioningError(error);\n\n    case 'login_required':\n      const mfaRequiredMsg = 'The client specified not to prompt, but the client app requires re-authentication or MFA.';\n      if (error.message === mfaRequiredMsg) {\n        return new MfaRequiredError(error);\n      }\n\n    case 'INTERNAL':\n      const clockDriftMsg = 'The JWT was issued in the future';\n      if (error.message === clockDriftMsg) {\n        return new ClockDriftError(error);\n      }\n\n    default:\n      return new RecoverableError(error, Object);\n  }\n}\n\nexport {\n  RecoverableError,\n  NonRecoverableError,\n  JITProfileProvisioningError,\n  ClockDriftError,\n  UserNotAssignedError,\n  MfaRequiredError,\n  TypedOAuthError,\n  getTypedOAuthError\n}\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// Source code was copied from @okta/courage\n//  (src/courage/util/StringUtil.js)\n//  and should be kept in sync with @okta/courage\n\nimport Bundles from '@okta/okta-i18n-bundles';\n\nconst bundleNames = ['login', 'country', 'courage'];\ntype BundleName = typeof bundleNames[number];\ntype Bundle = {\n  [key: string]: string\n};\ntype Bundles = {\n  [key in BundleName]: Bundle;\n};\n\ninterface L10nErrorDetail {\n  type: 'l10n-error';\n  key: string;\n  bundleName: string;\n  reason: string;\n}\n\ndeclare global {\n  interface Window {\n    okta?: {\n      locale?: string\n    }\n  }\n}\n\n/**\n * Checks whether a translation for key exists in the bundle\n * @param  {String} key The key\n * @param  {String} [bundle=\"login\"] The name of the i18n bundle. Defaults to \"login\".\n * @return {Boolean}\n */\nexport const doesTranslationExist = (\n  key: string,\n  bundleName: BundleName = 'login'\n) => {\n  const bundle = getBundle(bundleName);\n  return !!bundle?.[key];\n};\n\n/**\n * Translate a key to the localized value\n * @param  {String} key The key\n * @param  {String} [bundle=\"login\"] The name of the i18n bundle. Defaults to \"login\".\n * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n * @param  {Boolean} [ignoreIncorrectParams] If true, a custom 'okta-i18n-error' event would not be dispatched\n * @return {String} The localized value\n */\nexport const loc = function (\n  key: string,\n  bundleName: BundleName = 'login',\n  params: Array<string | number | boolean | unknown> = [],\n  ignoreIncorrectParams = false\n) {\n  const bundle = getBundle(bundleName);\n  /* eslint complexity: [2, 7] */\n\n  if (!bundle) {\n    emitL10nError(key, bundleName, 'bundle');\n    return 'L10N_ERROR[' + bundleName + ']';\n  }\n\n  let value = bundle[key];\n\n  try {\n    params = params && params.slice ? params.slice(0) : [];\n    value = sprintf(value, params);\n\n    if (value) {\n      return value;\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  } catch (e) {\n    if (!ignoreIncorrectParams) {\n      emitL10nError(key, bundleName, 'parameters');\n    }\n    return 'L10N_ERROR[' + key + ']';\n  }\n};\n\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\nconst parseLocale = (locale: string) => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n\n  return locale;\n};\n\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\nfunction getBundle(bundleName: BundleName): Bundle {\n  if (!bundleName) {\n    const key = Object.keys(Bundles).filter(k => typeof k === 'object')[0];\n    return Bundles[key];\n  }\n\n  const locale = parseLocale(getRawLocale());\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n\n/**\n * Returns the user's locale as defined by window.okta.locale\n */\nfunction getRawLocale() {\n  return window?.okta?.locale || 'en';\n}\n\n/**\n * Dispatch custom 'okta-i18n-error' event\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\nfunction emitL10nError(key: string, bundleName: string, reason: string) {\n  const event = createCustomEvent('okta-i18n-error', {\n    detail: {\n      type: 'l10n-error',\n      key: key,\n      bundleName: bundleName,\n      reason: reason\n    }\n  });\n  if (event) {\n    document.dispatchEvent(event);\n  }\n}\n\nconst createCustomEvent = function (event: string, params: CustomEventInit<L10nErrorDetail>) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(event, params);\n  } else if (!window.CustomEvent) {\n    /**\n     * CustomEvent polyfill for IE\n     * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n     */\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: null\n    };\n    const evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n};\n\n/**\n * Format tempalte string with parameters\n * @param {String} value Template string, eg. \"Reset via {0}\"\n * @param  {Array} [params] A list of parameters to apply as tokens to the template string, eg. [\"SMS\"]\n * @return {String} Formatted string value, eg. \"Reset via SMS\"\n */\nfunction sprintf(value: string, params: Array<string | number | boolean | unknown>) {\n  /* eslint max-statements: [2, 15] */\n\n  function triggerError() {\n    throw new Error('Mismatch number of variables: ' + value + ', ' + JSON.stringify(params));\n  }\n\n  let oldValue = value, newValue = value;\n  for (let i = 0, l = params.length; i < l; i++) {\n    const entity = String(params[i]);\n    const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n    newValue = newValue.replace(regex, entity);\n\n    if (entity === undefined || entity === null || newValue === oldValue) {\n      triggerError();\n    }\n\n    oldValue = newValue;\n  }\n\n  if (/\\{[\\d+]\\}/.test(newValue)) {\n    triggerError();\n  }\n\n  return newValue;\n}\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Animations from 'util/Animations';\nimport LoadingBeacon from 'v1/views/shared/LoadingBeacon';\nconst NO_BEACON_CLS = 'no-beacon';\nconst LOADING_BEACON_CLS = 'beacon-small beacon-loading';\n\nfunction isLoadingBeacon(beacon) {\n  return beacon && beacon.equals(LoadingBeacon);\n}\n\nfunction removeBeacon(view) {\n  // There are some timing issues with removing beacons (i.e. the case of\n  // transitioning from loadingBeacon -> loadingBeacon)\n  if (!view.currentBeacon) {\n    return;\n  }\n  view.currentBeacon.remove();\n  view.currentBeacon = null;\n}\n\nfunction addBeacon(view, NextBeacon, selector, options) {\n  view.add(NextBeacon, {\n    selector: selector,\n    options: options,\n  });\n  view.currentBeacon = view.first();\n}\n\nfunction typeOfTransition(currentBeacon, NextBeacon, options) {\n  if (!currentBeacon && !NextBeacon) {\n    return 'none';\n  }\n  // Show Loading beacon\n  if (!currentBeacon && options.loading) {\n    return 'load';\n  }\n  // Swap/Hide Loading beacon\n  if (currentBeacon && isLoadingBeacon(currentBeacon)) {\n    return NextBeacon ? 'swap' : 'unload';\n  }\n  if (currentBeacon && currentBeacon.equals(NextBeacon, options)) {\n    return 'same';\n  }\n  if (!currentBeacon && NextBeacon) {\n    return 'add';\n  }\n  if (currentBeacon && !NextBeacon) {\n    return 'remove';\n  }\n  if (currentBeacon instanceof NextBeacon) {\n    return 'fade';\n  }\n  // If none of the above\n  // then we are changing the type of beacon\n  // ex. from SecurityBeacon to FactorBeacon\n  return 'swap';\n}\n\nexport default class Header extends View {\n  currentBeacon;\n  \n  preinitialize(...args) {\n    this.currentBeacon = null;\n    /* eslint-disable @okta/okta/no-unlocalized-text-in-templates */\n    this.template = hbs(\n      '\\\n        <div class=\"okta-sign-in-header auth-header\">\\\n          {{#if logo}}\\\n          <h1><img src=\"{{logo}}\" class=\"auth-org-logo\" alt=\"{{logoText}} logo\" aria-label=\"{{logoText}} logo\"></h1>\\\n          {{/if}}\\\n          <div data-type=\"beacon-container\" class=\"beacon-container\"></div>\\\n        </div>\\\n        <div class=\"auth-content\"><div class=\"auth-content-inner\"></div></div>\\\n      '\n    );\n    /* eslint-enable @okta/okta/no-unlocalized-text-in-templates */\n    View.prototype.preinitialize.apply(this, args);\n  }\n\n\n  // Attach a 'no-beacon' class if the security image feature\n  // is not passed in to prevent the beacon from jumping.\n  initialize(options) {\n    if (!options.settings.get('features.securityImage')) {\n      this.$el.addClass(NO_BEACON_CLS);\n      // To show/hide the spinner when there is no security image,\n      // listen to the appState's loading/removeLoading events.\n      this.listenTo(options.appState, 'loading', this.setLoadingBeacon);\n      this.listenTo(options.appState, 'removeLoading', this.removeLoadingBeacon);\n    }\n  }\n\n  /* eslint complexity: 0 */\n  setBeacon(NextBeacon, options) {\n    const selector = '[data-type=\"beacon-container\"]';\n    const container = this.$(selector);\n    const transition = typeOfTransition(this.currentBeacon, NextBeacon, options);\n\n    switch (transition) {\n    case 'none':\n      this.$el.addClass(NO_BEACON_CLS);\n      return;\n    case 'same':\n      return;\n    case 'add':\n      this.$el.removeClass(NO_BEACON_CLS);\n      addBeacon(this, NextBeacon, selector, options);\n      return Animations.explode(container);\n    case 'remove':\n      this.$el.addClass(NO_BEACON_CLS);\n      return Animations.implode(container)\n        .then(() => {\n          removeBeacon(this);\n        })\n        .done(); // TODO: can this be removed if Animations.implode returns standard ES6 Promise?\n    case 'fade':\n      // Other transitions are performed on the beacon container,\n      // but this transition is on the content inside the beacon.\n      // For a SecurityBeacon the username change will update the\n      // AppState and trigger an transition to a new Becon\n      // Since there is no url change this method is not called.\n      // For a FactorBeacon a page refresh has occurred\n      // so we execute the beacon's own transition method.\n      if (!this.currentBeacon.fadeOut) {\n        throw new Error('The current beacon is missing the \"fadeOut\" method');\n      }\n      options.animate = true;\n      return this.currentBeacon\n        .fadeOut()\n        .then(() => {\n          removeBeacon(this);\n          addBeacon(this, NextBeacon, selector, options);\n        })\n        .done(); // TODO: can this be removed if fadeOut returns standard ES6 Promise?\n    case 'swap':\n      return Animations.swapBeacons({\n        $el: container,\n        swap: () => {\n          const isLoading = isLoadingBeacon(this.currentBeacon);\n\n          // Order of these calls is important for -\n          // loader --> security/factor beacon swap.\n          removeBeacon(this);\n          this.$el.removeClass(NO_BEACON_CLS);\n          if (isLoading) {\n            container.removeClass(LOADING_BEACON_CLS);\n          }\n          addBeacon(this, NextBeacon, selector, options);\n        },\n      }).done(); // TODO: can this be removed if Animations.swapBeacons returns standard ES6 Promise?\n    case 'load':\n      // Show the loading beacon. Add a couple of classes\n      // before triggering the add beacon code.\n      container.addClass(LOADING_BEACON_CLS);\n      addBeacon(this, NextBeacon, selector, options);\n      return Animations.explode(container);\n    case 'unload':\n      // Hide the loading beacon.\n      return this.removeLoadingBeacon();\n    default:\n      throw new Error('the \"' + transition + '\" is not recognized');\n    }\n  }\n\n  // Show the loading beacon when the security image feature is not enabled.\n  setLoadingBeacon(isLoading) {\n    if (!isLoading || isLoadingBeacon(this.currentBeacon)) {\n      return;\n    }\n    this.setBeacon(LoadingBeacon, { loading: true });\n  }\n\n  // Hide the beacon on primary auth failure. On primary auth success, setBeacon does this job.\n  removeLoadingBeacon() {\n    if (!isLoadingBeacon(this.currentBeacon)) {\n      return;\n    }\n\n    const container = this.$('[data-type=\"beacon-container\"]');\n\n    return Animations.implode(container)\n      .then(() => {\n        removeBeacon(this);\n        container.removeClass(LOADING_BEACON_CLS);\n      })\n      .done(); // TODO: can this be removed if Animations.implode returns standard ES6 Promise?\n  }\n\n  getTemplateData() {\n    return this.settings.toJSON({ verbose: true });\n  }\n\n  getContentEl() {\n    return this.$('.auth-content-inner');\n  }\n}\n","/* eslint max-depth: [1,4] */\n/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// BaseLoginRouter contains the more complicated router logic - rendering/\n// transition, etc. Most router changes should happen in LoginRouter (which is\n// responsible for adding new routes)\nimport { _, $, Backbone, Router, loc, BaseRouterOptions } from '@okta/courage';\nimport Settings from 'models/Settings';\nimport Bundles from 'util/Bundles';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport ColorsUtil from 'util/ColorsUtil';\nimport Enums from 'util/Enums';\nimport { ConfigError } from 'util/Errors';\nimport Logger from 'util/Logger';\nimport LanguageUtil from 'util/LanguageUtil';\nimport AuthContainer from 'v1/views/shared/AuthContainer';\nimport Header from 'v1/views/shared/Header';\nimport AppState from './models/AppState';\nimport sessionStorageHelper from './client/sessionStorageHelper';\nimport {\n  startLoginFlow,\n  handleConfiguredFlow,\n  updateAppState,\n} from './client';\n\nimport CookieUtil from 'util/CookieUtil';\nimport { formatError, LegacyIdxError, StandardApiError } from './client/formatError';\nimport { RenderError, RenderResult } from 'types';\nimport { OktaAuth, IdxResponse } from '@okta/okta-auth-js';\nimport Hooks from 'models/Hooks';\nimport IonHelper from './ion/IonResponseHelper';\n\nexport interface BaseLoginRouterOptions extends BaseRouterOptions, Backbone.RouterOptions {\n  globalSuccessFn?: (res: RenderResult) => void;\n  globalErrorFn?: (res: RenderError) => void;\n  authClient?: OktaAuth;\n  hooks: Hooks\n}\n\nclass BaseLoginRouter extends Router<Settings, BaseLoginRouterOptions> {\n  Events: Backbone.Events = Backbone.Events; // also set on prototype\n  hasControllerRendered = false;\n  settings: Settings;\n  appState: AppState;\n  hooks: Hooks;\n  header: Header;\n\n  constructor(options: BaseLoginRouterOptions) {\n    super(options);\n\n    // Create a default success and/or error handler if\n    // one is not provided.\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function() { /* dummy function */ };\n    }\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function(err) {\n        Logger.error(err);\n      };\n    }\n\n    this.settings = new Settings(_.omit(options, 'el', 'hooks'), { parse: true });\n\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n\n    $('body > div').on('click', function() {\n      // OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n\n    this.hooks = options.hooks;\n    this.appState = new AppState({}, {\n      settings: this.settings,\n      hooks: this.hooks\n    });\n\n    const wrapper = new AuthContainer({ appState: this.appState });\n\n    $(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings,\n    });\n\n    // Hide until unitial render\n    this.hide();\n\n    this.listenTo(this.appState, 'change:deviceFingerprint', this.updateDeviceFingerprint);\n    this.listenTo(this.appState, 'restartLoginFlow', this.restartLoginFlow);\n  }\n\n  updateDeviceFingerprint() {\n    const authClient = this.settings.getAuthClient();\n    const fingerprint = this.appState.get('deviceFingerprint');\n    if (fingerprint) {\n      authClient.http.setRequestHeader('X-Device-Fingerprint', fingerprint);\n    }\n  }\n\n  async handleIdxResponseFailure(error: LegacyIdxError = { error: 'unknown', details: undefined }) {\n    // IDX errors will not call the global error handler\n    error = formatError(error);\n    await updateAppState(this.appState, error.details);\n  }\n\n  // Generic error handler for all exceptions\n  async handleError(error: LegacyIdxError | StandardApiError | Error = { error: 'unknown', details: undefined }) {\n    const formattedError = formatError({...error}); // format the error to resemble an IDX response\n    await updateAppState(this.appState, formattedError.details);\n  }\n\n  /* eslint max-statements: [2, 36], complexity: [2, 16] */\n  async render(Controller, options = {}) {\n    // If url changes then widget assumes that user's intention was to initiate a new login flow,\n    // so clear stored token to use the latest token.\n    if (sessionStorageHelper.getLastInitiatedLoginUrl() !== window.location.href) {\n      sessionStorageHelper.removeStateHandle();\n    }\n    // Since we have a wrapper view, render our wrapper and use its content\n    // element as our new el.\n    // Note: Render it here because we know dom is ready at this point\n    if (!this.header.rendered()) {\n      this.el = this.header.render().getContentEl();\n    }\n\n    // If we need to load a language (or apply custom i18n overrides), do\n    // this now and re-run render after it's finished.\n    if (!Bundles.isLoaded(this.settings.get('languageCode'))) {\n      await LanguageUtil.loadLanguage(this.appState, this.settings);\n    }\n\n    let error;\n    try {\n      let idxResp = await startLoginFlow(this.settings);\n      if (idxResp.error) {\n        await this.handleIdxResponseFailure(idxResp.error);\n      } else {\n        if (this.settings.get('flow') && !this.hasControllerRendered) {\n          idxResp = await handleConfiguredFlow(idxResp, this.settings);\n        }\n\n        // TODO: OKTA-494979 - temporary fix, remove when auth-js is upgraded to 6.6+\n        if (!idxResp.requestDidSucceed && IonHelper.isIdxSessionExpiredError(idxResp)) {\n          // clear transaction subsequent page loads do not use stale interactionHandle\n          const authClient = this.settings.getAuthClient();\n          authClient.transactionManager.clear();\n        }\n\n        await updateAppState(this.appState, idxResp);\n      }\n    } catch (exception) {\n      if (exception.is?.('terminal')) {\n        this.appState.setNonIdxError(exception);\n      } else {\n        error = exception;\n        await this.handleError(exception);\n      }\n    } finally {\n      // These settings should only be used one time, for initial render\n      this.settings.unset('stateToken');\n      this.settings.unset('proxyIdxResponse');\n    }\n\n    // Load the custom colors only on the first render\n    if (this.settings.get('colors.brand') && !ColorsUtil.isLoaded()) {\n      const colors = {\n        brand: this.settings.get('colors.brand'),\n      };\n      const cspNonce = this.settings.get('cspNonce');\n\n      ColorsUtil.addStyle(colors, cspNonce);\n    }\n\n    // Show before initial render\n    this.show();\n\n    // render Controller\n    this.unload();\n    const controllerOptions = _.extend({\n      el: this.el,\n      settings: this.settings,\n      appState: this.appState\n    }, options);\n    this.controller = new Controller(controllerOptions);\n\n    // Bubble up all controller events\n    this.listenTo(this.controller, 'all', this.trigger);\n\n    this.controller.render();\n\n    this.hasControllerRendered = true;\n\n    // This will reject the promise returned from renderEl\n    if (error) {\n      this.settings.callGlobalError(error);\n    }\n\n    // -- TODO: OKTA-244631 How to surface up the CORS error in IDX?\n    // -- The `err` object from idx.js doesn't have XHR object\n    // Global error handling for CORS enabled errors\n    // if (err.xhr && BrowserFeatures.corsIsNotEnabled(err.xhr)) {\n    //   this.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n    //   return;\n    // }\n  }\n\n  /**\n    * When \"Remember My Username\" is enabled, we save the identifier in a cookie\n    * so that the next time the user visits the SIW, the identifier field can be \n    * pre-filled with this value.\n   */\n  updateIdentifierCookie(idxResponse: IdxResponse) {\n    if (this.settings.get('features.rememberMe')) {\n      // Update the cookie with the identifier\n      const user = idxResponse?.context?.user;\n      const { identifier } = user?.value || {};\n      if (identifier) {\n        CookieUtil.setUsernameCookie(identifier);\n      }\n    } else {\n      // We remove the cookie explicitly if this feature is disabled.\n      CookieUtil.removeUsernameCookie();\n    }    \n  }\n\n  hasAuthenticationSucceeded(idxResponse: IdxResponse) {\n    // Check whether authentication has succeeded. This is done by checking the server response\n    // and seeing if either the 'success' or 'successWithInteractionCode' objects are present.\n    return idxResponse?.rawIdxState?.success || idxResponse?.rawIdxState?.successWithInteractionCode;\n  }\n\n  restartLoginFlow(flow) {\n    // clear all transaction data and saved IDX response\n    this.settings.getAuthClient().transactionManager.clear();\n    this.appState.set('idx', undefined);\n\n    // Clear the recoveryToken, if any\n    const authClient = this.settings.getAuthClient();\n    delete authClient.options['recoveryToken'];\n    this.settings.unset('recoveryToken');\n    // clear otp (email magic link), if any\n    this.settings.unset('otp');\n\n    // remove all event listeners from current controller instance. A new instance will be created in render().\n    this.controller.stopListening();\n\n    authClient.idx.setFlow(flow ?? this.settings.get('flow') ?? 'default');\n\n    // Re-render the widget\n    this.render(this.controller.constructor);\n  }\n\n  start() {\n    const pushState = BrowserFeatures.supportsPushState();\n    Router.prototype.start.call(this, { pushState: pushState });\n  }\n\n  hide() {\n    this.header.$el.hide();\n  }\n\n  show() {\n    this.header.$el.show();\n  }\n\n  remove() {\n    this.unload();\n    this.header.$el.remove();\n    this.stopListening(this.appState);\n    this.stopListening(this.settings);\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n}\n\n// Add \"Events\" to prototype for compatibility with existing code\nBaseLoginRouter.prototype.Events = Backbone.Events;\n\nexport default BaseLoginRouter;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AbstractRouter } from 'types';\nimport BaseLoginRouter, { BaseLoginRouterOptions } from './BaseLoginRouter';\nimport FormController from './controllers/FormController';\n\nconst routes = {\n  '': 'defaultAuth',\n  '*wildcard': 'defaultAuth',\n};\n\nexport default class WidgetRouter extends BaseLoginRouter implements AbstractRouter {\n  constructor(options: BaseLoginRouterOptions) {\n    super({ routes, ...options });\n  }\n\n  defaultAuth() {\n    this.render(FormController);\n  }\n}\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { ProceedOptions } from '@okta/okta-auth-js';\n\nexport async function emailVerifyCallback(settings) {\n  const authClient = settings.getAuthClient();\n  const idxOptions: ProceedOptions = {\n    exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n  };\n  const meta = await authClient.idx.getSavedTransactionMeta(); // meta can load in another tab using state if it matches\n  if (!meta || !meta.interactionHandle) {\n    // Flow can not continue in this tab. Create a synthetic server response and use it to display a message to the user\n    const messages = {\n      type: 'array',\n      value: [\n        // terminal-return-otp-only-no-location.json\n        {\n          'message': 'Enter the OTP in your original browser or device.',\n          'i18n': {\n            'key': 'idx.enter.otp.in.original.tab'\n          },\n          'class': 'INFO'\n        }\n      ]\n    };\n\n    const resp = {\n      neededToProceed: [],\n      // OKTA-382410 so bad that has to leverage rawIdxState\n      rawIdxState: {\n        messages,\n      },\n      context: {\n        messages,\n      }\n    };\n    return resp;\n  }\n  \n  // Proceed using the OTP code\n  const otp = settings.get('otp');\n  const idxResponse = await authClient.idx.proceed({\n    ...idxOptions,\n    otp\n  });\n  return idxResponse;\n}\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {\n  IdxContext,\n  IdxMessages,\n  IdxResponse,\n  RawIdxResponse\n} from '@okta/okta-auth-js';\nimport { loc } from '@okta/courage';\n\nexport interface LegacyIdxError {\n  error: string;\n  details: IdxResponse\n}\n\nexport interface StandardApiError {\n  error: string;\n  error_description: string;\n}\n\nexport function isInvalidRecoveryTokenError(error): error is StandardApiError {\n  // special case: error from interact when passing an (invalid) recovery token\n  return (error?.error === 'invalid_request' && error.error_description === 'The recovery token is invalid');\n}\n\nexport function isInvalidActivationTokenError(error): error is StandardApiError {\n  // special case: error from interact when passing an (invalid) activation token\n  return (error?.error === 'invalid_request' && error.error_description === 'The activation token is invalid');\n}\n\nexport function formatInvalidRecoveryTokenError(error: StandardApiError) {\n  // This error comes from `oauth2/interact` so is not an IDX error.\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: error.error_description,\n        i18n: {\n          key: 'oie.invalid.recovery.token'\n        },\n        class: 'ERROR'\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return idxError;\n}\n\nexport function formatInvalidActivationTokenError(error: StandardApiError) {\n  // This error comes from `oauth2/interact` so is not an IDX error.\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: error.error_description,\n        i18n: {\n          key: 'idx.missing.activation.token'\n        },\n        class: 'ERROR'\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return idxError;\n}\n\nexport function isOIENotEnabledError(error): error is StandardApiError {\n  // special case: error from interact when the Org does not have OIE enabled\n  // The response is not in IDX format. See playground/mocks/data/oauth2/error-feature-not-enabled.json\n  return (error?.error === 'access_denied' && error.error_description);\n}\n\nexport function formatOIENotEnabledError(error: StandardApiError) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: error.error_description,\n        i18n: {\n          key: 'oie.feature.disabled'\n        },\n        class: 'ERROR'\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\n\nexport function isOIEConfigurationError(error): error is StandardApiError {\n  return (error?.error && error.error_description);\n}\n\nexport function formatOIEConfigurationError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: loc('oie.configuration.error', 'login'),\n        class: 'ERROR',\n        i18n: undefined\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\n\nexport function formatIDXError(error: LegacyIdxError | StandardApiError | Error): LegacyIdxError {\n  // Make the error object resemble an IDX response\n  const idxError = error as LegacyIdxError;\n  idxError.details = idxError.details || {} as IdxResponse;\n  const { details } = idxError;\n  details.rawIdxState = details.rawIdxState || {} as RawIdxResponse;\n  details.context = details.context || {} as IdxContext;\n  details.neededToProceed = details.neededToProceed || [];\n\n  // Populate generic error message if there isn't any.\n  if (!details.rawIdxState.messages) {\n    const idxMessage: IdxMessages = {\n      type: 'array',\n      value: [\n        {\n          message: loc('oform.error.unexpected', 'login'),\n          class: 'ERROR',\n          i18n: undefined\n        }\n      ]\n    };\n    details.rawIdxState.messages = idxMessage;\n    details.context.messages = idxMessage;\n  }\n\n  return idxError;\n}\n\nexport function formatError(error: string | Error | LegacyIdxError | StandardApiError) {\n  // If the error is a string, wrap it in an Error object\n  if (typeof error === 'string') {\n    error = new Error(error);\n  }\n\n  // special case error handling\n\n  // invalid reccovery token\n  if (isInvalidRecoveryTokenError(error)) {\n    return formatInvalidRecoveryTokenError(error);\n  }\n\n  // invalid activation token\n  if (isInvalidActivationTokenError(error)) {\n    return formatInvalidActivationTokenError(error);\n  }\n\n  // OIE is not enabled\n  if (isOIENotEnabledError(error)) {\n    return formatOIENotEnabledError(error);\n  }\n\n  // Other errors from /interact in OAuth format\n  if (isOIEConfigurationError(error)) {\n    return formatOIEConfigurationError(error);\n  }\n\n  error = formatIDXError(error);\n  return error;\n}","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { ConfiguredFlowError, ConfigError } from 'util/Errors';\nimport { emailVerifyCallback } from './emailVerifyCallback';\nimport sessionStorageHelper from './sessionStorageHelper';\nimport { CONFIGURED_FLOW } from './constants';\nimport { IdxTransactionMeta, ProceedOptions } from '@okta/okta-auth-js';\n\nconst handleProxyIdxResponse = async (settings) => {\n  return Promise.resolve({\n    rawIdxState: settings.get('proxyIdxResponse'),\n    context: settings.get('proxyIdxResponse'),\n    neededToProceed: [],\n  });\n};\n\n/* eslint max-depth: [2, 3] */\n// eslint-disable-next-line complexity, max-statements\nexport async function startLoginFlow(settings) {\n  const authClient = settings.getAuthClient();\n  // nonce is not a top-level auth-js option, must be passed in manually\n  const { authParams } = settings.toJSON({verbose: true});\n  const nonce = settings.get('nonce') || authParams?.nonce;\n  const idxOptions: ProceedOptions = {\n    exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n    ...(nonce && { nonce })\n  };\n\n  // Return a preset response\n  if (settings.get('proxyIdxResponse')) {\n    return handleProxyIdxResponse(settings);\n  }\n\n  if (settings.get('overrideExistingStateToken')) {\n    sessionStorageHelper.removeStateHandle();\n  }\n\n  if (settings.get('otp')) {\n    return emailVerifyCallback(settings);\n  }\n\n  if (settings.get('oauth2Enabled')) {\n    const meta: IdxTransactionMeta = await authClient.idx.getSavedTransactionMeta();\n    if (!meta) {\n      // no saved transaction\n      // if the configured flow is set to `proceed`, the SIW should only continue an existing idx transaction\n      // if the SIW loads from a fresh state (there is no current transaction), throw an error\n      const flow = authClient.idx.getFlow();\n      if (flow && flow === CONFIGURED_FLOW.PROCEED) {\n        throw new ConfiguredFlowError(\n          'Unable to proceed: saved transaction could not be loaded', flow\n        );\n      }\n      // start new transaction\n      return authClient.idx.start(idxOptions); // calls interact\n    }\n\n    // continue saved transaction\n    return authClient.idx.proceed(idxOptions); // calls introspect\n  }\n\n  // Use stateToken from session storage if exists\n  // See more details at ./docs/use-session-token-prior-to-settings.png\n  const stateHandleFromSession = sessionStorageHelper.getStateHandle();\n  if (stateHandleFromSession) {\n    try {\n      const idxResp = await authClient.idx.start({\n        ...idxOptions,\n        stateHandle: stateHandleFromSession\n      });\n      const hasError = idxResp.context?.messages?.value.length > 0;\n      if (hasError) {\n        throw new Error('saved stateToken is invalid'); // will be caught in this function\n      }\n\n      // 1. abandon the settings.stateHandle given session.stateHandle is still valid\n      settings.set('stateToken', stateHandleFromSession);\n      // 2. chain the idxResp to next handler\n      return idxResp;\n    } catch {\n      // 1. remove session.stateHandle\n      sessionStorageHelper.removeStateHandle();\n      // 2. start the login again in order to introspect on settings.stateHandle\n      return startLoginFlow(settings);\n    }\n  }\n\n  // Use stateToken from options\n  const stateHandle = settings.get('stateToken');\n  if (stateHandle) {\n    return authClient.idx.start({\n      ...idxOptions,\n      stateHandle\n    });\n  }\n\n  throw new ConfigError('Invalid OIDC configuration. Set \"clientId\" and \"redirectUri\" in the widget options.');\n}\n","import { IdxResponse } from \"@okta/okta-auth-js\";\nimport AppState from '../models/AppState';\nimport sessionStorageHelper from './sessionStorageHelper';\nimport { interactionCodeFlow } from './interactionCodeFlow';\nimport { FORMS } from \"../ion/RemediationConstants\";\nimport transformIdxResponse from '../ion/transformIdxResponse';\n\n\nexport async function updateAppState(appState: AppState, idxResponse: IdxResponse): Promise<void> {\n  const settings = appState.settings;\n\n  const lastResponse = appState.get('idx');\n  const useInteractionCodeFlow = settings.get('oauth2Enabled');\n  if (useInteractionCodeFlow) {\n    if (idxResponse.interactionCode) {\n      // Although session.stateHandle isn't used by interation flow,\n      // it's better to clean up at the end of the flow.\n      sessionStorageHelper.removeStateHandle();\n      // This is the end of the IDX flow, now entering OAuth\n      const tokens = await interactionCodeFlow(settings, idxResponse);\n      // At the successful end of IDX flow `clearAppStateCache` has been called, \n      //  but `setIonResponse` is not called, so `appState` is empty.\n      // In such case `FormController` is not able to render any form.\n      appState.unset('currentFormName', { silent: true });\n      return tokens;\n    }  \n  } else {\n    // Do not save state handle for the first page loads.\n    // Because there shall be no difference between following behavior\n    // 1. bootstrap widget\n    //    -> save state handle to session storage\n    //    -> refresh page\n    //    -> introspect using sessionStorage.stateHandle\n    // 2. bootstrap widget\n    //    -> do not save state handle to session storage\n    //    -> refresh page\n    //    -> introspect using options.stateHandle\n    if (lastResponse) {\n      sessionStorageHelper.setStateHandle(idxResponse?.context?.stateHandle);\n    }\n    // Login flows that mimic step up (moving forward in login pipeline) via internal api calls,\n    // need to clear stored stateHandles.\n    // This way the flow can maintain the latest state handle. For eg. Device probe calls\n    if (appState.get('currentFormName') === FORMS.CANCEL_TRANSACTION) {\n      sessionStorageHelper.removeStateHandle();\n    }\n  }\n\n  // transform response\n  const ionResponse = transformIdxResponse(settings, idxResponse, lastResponse);\n\n  await appState.setIonResponse(ionResponse);\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { _, Controller, loc } from '@okta/courage';\nimport ViewFactory from '../view-builder/ViewFactory';\nimport IonResponseHelper from '../ion/IonResponseHelper';\nimport { getV1ClassName } from '../ion/ViewClassNamesFactory';\nimport {\n  FORMS, TERMINAL_FORMS, FORM_NAME_TO_OPERATION_MAP, ORG_PASSWORD_RECOVERY_LINK\n} from '../ion/RemediationConstants';\nimport transformPayload from '../ion/payloadTransformer';\nimport Util from 'util/Util';\nimport sessionStorageHelper from '../client/sessionStorageHelper';\nimport { HttpResponse, IdxStatus, ProceedOptions } from '@okta/okta-auth-js';\nimport { EventErrorContext } from 'types/events';\nimport { CONFIGURED_FLOW } from '../client/constants';\nimport { ConfigError } from 'util/Errors';\nimport { updateAppState } from 'v2/client';\nimport CookieUtil from '../../util/CookieUtil';\n\nexport interface ContextData {\n  controller: string;\n  formName: string;\n  authenticatorKey?: string;\n  methodType?: string;\n}\n\nexport default Controller.extend({\n  className: 'form-controller',\n\n  appStateEvents: {\n    'change:currentFormName': 'handleFormNameChange',\n    'afterError': 'handleAfterError',\n    'invokeAction': 'handleInvokeAction',\n    'saveForm': 'handleSaveForm',\n    'switchForm': 'handleSwitchForm',\n  },\n\n  preRender() {\n    this.removeChildren();\n  },\n\n  postRender() {\n    const currentViewState = this.options.appState.getCurrentViewState();\n    // TODO: add comments regarding when `currentViewState` would be null?\n    if (!currentViewState) {\n      return;\n    }\n\n    this.clearMetadata();\n\n    let formName = currentViewState.name;\n    if (formName === 'identify' && this.options.settings.get('flow') === CONFIGURED_FLOW.RESET_PASSWORD) {\n      formName = 'identify-recovery';\n    }\n    const TheView = ViewFactory.create(\n      formName,\n      this.options.appState.get('authenticatorKey'),\n    );\n    try {\n      this.formView = this.add(TheView, {\n        options: {\n          currentViewState,\n        }\n      }).last();\n    } catch (error) {\n      // This is the place where runtime error (NPE) happens at most of time.\n      // It has been swallowed by Q.js hence add try/catch to surface up errors.\n      this.options.settings.callGlobalError(error);\n      return;\n    }\n\n    this.triggerAfterRenderEvent();\n  },\n\n  clearMetadata() {\n    const formName = this.options.appState.get('currentFormName');\n    // TODO: OKTA-392835 shall not clear state handle at terminal page\n    if (TERMINAL_FORMS.includes(formName)) {\n      sessionStorageHelper.removeStateHandle();\n    }\n  },\n\n  triggerAfterRenderEvent() {\n    const contextData = this.createAfterEventContext();\n    this.trigger('afterRender', contextData);\n  },\n\n  handleFormNameChange() {\n    this.render();\n  },\n\n  handleAfterError(error: HttpResponse) {\n    const contextData = this.createAfterEventContext();\n    const errorContextData: EventErrorContext = {\n      xhr: error,\n      errorSummary: error.responseJSON && error.responseJSON.errorSummary,\n    };\n    // TODO: need some enhancement after https://github.com/okta/okta-idx-js/pull/27\n    // OKTA-318062\n    this.trigger('afterError', contextData, errorContextData);\n  },\n\n  createAfterEventContext(): ContextData {\n    const formName = this.options.appState.get('currentFormName');\n    const authenticatorKey = this.options.appState.get('authenticatorKey');\n    const methodType = this.options.appState.get('authenticatorMethodType');\n    const isPasswordRecoveryFlow = this.options.appState.get('isPasswordRecoveryFlow');\n\n    const v1ControllerClassName = getV1ClassName(\n      formName,\n      authenticatorKey,\n      methodType,\n      isPasswordRecoveryFlow,\n    );\n\n    const eventData: ContextData = {\n      controller: v1ControllerClassName,\n      formName,\n    };\n\n    if (authenticatorKey) {\n      eventData.authenticatorKey = authenticatorKey;\n    }\n    if (methodType) {\n      eventData.methodType = methodType;\n    }\n\n    return eventData;\n  },\n\n  handleSwitchForm(formName) {\n    // trigger formName change to change view\n    if (this.options.appState.get('messages')) {\n      // Clear messages before calling switch form.\n      // If a form has errors sent form API inside messages\n      // and user hits back to factors list which triggers switchForm,\n      // those error will show up on another screen that gets rendered after switchForm\n      this.options.appState.unset('messages');\n    }\n    this.options.appState.set('currentFormName', formName);\n  },\n\n  // eslint-disable-next-line max-statements\n  async handleInvokeAction(actionPath = '', actionParams = {}, showFormErrors = true) {\n    const { appState, settings } = this.options;\n\n    // For self-hosted scenario we need to start reset flow at identify page from scratch.\n    //  (Reusing state handle of transaction after failed sign-in attempt for reset flow is error prone)\n    // For Okta-hosted scenario we don't need to cancel/restart flow because SIW receives fresh state token\n    //  from backend on page load and doesn't save state handle to session storage after error.\n    if (actionPath === ORG_PASSWORD_RECOVERY_LINK && settings.get('oauth2Enabled')) {\n      appState.trigger('restartLoginFlow', 'resetPassword');\n      return;\n    }\n  \n    const idx = appState.get('idx');\n    const { stateHandle } = idx.context;\n    let invokeOptions: ProceedOptions = {\n      exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n      stateHandle\n    };\n    let error;\n\n    // Cancel action is executes synchronously\n    if (actionPath === 'cancel') {\n      // TODO: resolve race conditions caused by event pattern: OKTA-490220\n      settings.getAuthClient().transactionManager.clear({ clearIdxResponse: false });\n      sessionStorageHelper.removeStateHandle();\n      appState.clearAppStateCache();\n\n      if (settings.get('oauth2Enabled')) {\n        // In this case we need to restart login flow and recreate transaction meta\n        // that will be used in interactionCodeFlow function\n        appState.trigger('restartLoginFlow');\n        return;\n      }\n    }\n\n    const invokeableForms = [FORMS.LAUNCH_AUTHENTICATOR, FORMS.CHALLENGE_WEBAUTHN_AUTOFILLUI_AUTHENTICATOR];\n    if (invokeableForms.includes(actionPath) && actionParams) {\n      //https://oktainc.atlassian.net/browse/OKTA-562885  a temp solution to send rememberMe when click the launch OV buttion.\n      //will redesign to handle FastPass silent probing case where no username and rememberMe opiton at all.\n      invokeOptions = {\n        ...invokeOptions,\n        actions: [{\n          name: actionPath,\n          params: actionParams\n        }]\n      };\n    } else if (idx['neededToProceed'].find(item => item.name === actionPath)) {\n      invokeOptions = { ...invokeOptions, step: actionPath };\n    } else if (_.isFunction(idx['actions'][actionPath])) {\n      invokeOptions = {\n        ...invokeOptions,\n        actions: [{\n          name: actionPath,\n          params: actionParams\n        }]\n      };\n    } else {\n      error = new ConfigError(`Invalid action selected: ${actionPath}`);\n      this.options.settings.callGlobalError(error);\n      if (showFormErrors) {\n        await this.showFormErrors(this.formView.model, error, this.formView.form);\n      }\n      return;\n    }\n\n    // action will be executed asynchronously\n    await this.invokeAction(invokeOptions);\n  },\n\n  async invokeAction(invokeOptions) {\n    const authClient = this.options.settings.getAuthClient();\n    let resp;\n    let error;\n    try {\n      resp = await authClient.idx.proceed(invokeOptions);\n      if (resp.requestDidSucceed === false) {\n        error = resp;\n      }\n    } catch (e) {\n      error = e;\n    }\n\n    // if request did not succeed, show error on the current form\n    if (error) {\n      await this.showFormErrors(this.formView.model, error, this.formView.form);\n      return;\n    }\n\n    // process response, may render a new form\n    await this.handleIdxResponse(resp);\n  },\n\n  // eslint-disable-next-line max-statements, complexity\n  async handleSaveForm(model) {\n    const formName = model.get('formName');\n\n    // Toggle Form saving status (e.g. disabling save button, etc)\n    this.toggleFormButtonState(true);\n    model.trigger('request');\n\n    // Use full page redirection if necessary\n    if (model.get('useRedirect')) {\n      // Clear when navigates away from SIW page, e.g. success, IdP Authenticator.\n      // Because SIW sort of finished its current /transaction/\n      sessionStorageHelper.removeStateHandle();\n\n      // OKTA-635926: do not redirect without user gesture for ov enrollment on android\n      // if Util.isAndroidOVEnrollment() returns true we use a user gesture to complete the redirect in AutoRedirectView\n      if (!Util.isAndroidOVEnrollment()) {\n        const currentViewState = this.options.appState.getCurrentViewState();\n        // OKTA-702402: redirect only if/when the page is visible\n        Util.executeOnVisiblePage(() => {\n          Util.redirectWithFormGet(currentViewState.href);\n        });\n      }\n\n      return;\n    }\n\n    const payload = transformPayload(formName, model);\n    // Run hook: transform the user name (a.k.a identifier)\n    const values = this.transformIdentifier(formName, payload);\n\n    // widget rememberMe feature stores the entered identifier in a cookie, to pre-fill the form on subsequent visits to page\n    if (this.options.settings.get('features.rememberMe')) {\n      if (values.identifier) {\n        CookieUtil.setUsernameCookie(values.identifier);\n      }\n    }\n    else {\n      CookieUtil.removeUsernameCookie();\n    }\n\n    // Error out when this is not a remediation form. Unexpected Exception.\n    if (!this.options.appState.hasRemediationObject(formName)) {\n      this.options.settings.callGlobalError(`Cannot find http action for \"${formName}\".`);\n      await this.showFormErrors(this.formView.model, 'Cannot find action to proceed.', this.formView.form);\n      return;\n    }\n\n    // Reset password in identity-first flow needs some help to auto-select password and begin the reset flow\n    if (formName === 'identify' && this.options.settings.get('flow') === CONFIGURED_FLOW.RESET_PASSWORD) {\n      values.authenticator = 'okta_password';\n    }\n\n    // Submit request to idx endpoint\n    const authClient = this.options.settings.getAuthClient();\n    const idxOptions: ProceedOptions = {\n      exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n    };\n    try {\n      const idx = this.options.appState.get('idx');\n      const { stateHandle } = idx.context;\n      const resp = await authClient.idx.proceed({\n        ...idxOptions,\n        step: formName,\n        stateHandle,\n        ...values\n      });\n\n      if (resp.status === IdxStatus.FAILURE) {\n        throw resp.error; // caught and handled in this function\n      }\n      // follow idx transaction to render terminal view for session expired error\n      if (IonResponseHelper.isIdxSessionExpiredError(resp)) {\n        const authClient = this.settings.getAuthClient();\n        authClient.transactionManager.clear();\n        await this.handleIdxResponse(resp);\n        return;\n      }\n      // If the last request did not succeed, show errors on the current form\n      // Special case: Okta server responds 401 status code with WWW-Authenticate header and new remediation\n      // so that the iOS/MacOS credential SSO extension (Okta Verify) can intercept\n      // the response reaches here when Okta Verify is not installed\n      // we need to return an idx object so that\n      // the SIW can proceed to the next step without showing error\n      if (resp.requestDidSucceed === false && !resp.stepUp) {\n        await this.showFormErrors(model, resp, this.formView.form);\n        return;\n      }\n      const onSuccess = this.handleIdxResponse.bind(this, resp);\n      if (formName === FORMS.ENROLL_PROFILE) {\n        // call registration (aka enroll profile) hook\n        this.settings.postRegistrationSubmit(values?.userProfile?.email, onSuccess, (error) => {\n          model.trigger('error', model, {\n            responseJSON: error,\n          });\n        });\n      } else {\n        await onSuccess();\n      }\n    } catch(error) {\n      if (error.is?.('terminal')) {\n        this.options.appState.setNonIdxError(error);\n      } else {\n        await this.showFormErrors(model, error, this.formView.form);\n      }\n    } finally {\n      this.toggleFormButtonState(false);\n    }\n  },\n\n  transformIdentifier(formName, modelJSON) {\n    if (Object.prototype.hasOwnProperty.call(modelJSON, 'identifier')) {\n      // The callback function is passed two arguments:\n      // 1) username: The name entered by the user\n      // 2) operation: The type of operation the user is trying to perform:\n      //      - PRIMARY_AUTH\n      //      - FORGOT_PASSWORD\n      //      - UNLOCK_ACCOUNT\n      const operation = FORM_NAME_TO_OPERATION_MAP[formName];\n      modelJSON.identifier = this.settings.transformUsername(modelJSON.identifier, operation);\n    }\n    return modelJSON;\n  },\n\n  /**\n   * @param model current form model\n   * @param error any errors after user action\n   * @param form current form\n   * Handle errors that get displayed right after any user action. After such form errors widget doesn't\n   * reload or re-render, but updates the AppSate with latest remediation.\n   */\n  async showFormErrors(model, error, form) {\n    /* eslint max-statements: [2, 24] */\n    let errorObj;\n    let idxStateError;\n    let showErrorBanner = true;\n    model.trigger('clearFormError');\n\n    if (!error) {\n      error = 'FormController - unknown error found';\n      this.options.settings.callGlobalError(error);\n    }\n\n    if(error?.rawIdxState) {\n      idxStateError = error;\n      error = error.rawIdxState;\n    }\n\n    if (IonResponseHelper.isIonErrorResponse(error)) {\n      errorObj = IonResponseHelper.convertFormErrors(error);\n    } else if (error.errorSummary) {\n      errorObj = { responseJSON: error };\n    } else {\n      Util.logConsoleError(error);\n      errorObj = { responseJSON: { errorSummary: loc('error.unsupported.response', 'login')}};\n    }\n\n    if(_.isFunction(form?.showCustomFormErrorCallout)) {\n      showErrorBanner = !form.showCustomFormErrorCallout(errorObj, idxStateError?.messages);\n    }\n\n    // show error before updating app state.\n    model.trigger('error', model, errorObj, showErrorBanner);\n    idxStateError = Object.assign({}, idxStateError, {hasFormError: true});\n\n    // OKTA-725716: Don't save failed IDX response to state\n  },\n\n  async handleIdxResponse(idxResp) {\n    await updateAppState(this.options.appState, idxResp);\n  },\n\n  /**\n   * SignIn widget has its own (hacky) way to customize the button disabled state:\n   * adding `link-button-disabled` despite the name was intend only to disable\n   * `link-button`.\n   * Instead of doing decent refactor, we want to follow the convention for now.\n   *\n   * @param {boolean} disabled whether add extra disable CSS class.\n   */\n  toggleFormButtonState: function(disabled) {\n    const button = this.$el.find('.o-form-button-bar .button');\n    button.toggleClass('link-button-disabled', disabled);\n  },\n});\n","import { _ } from '@okta/courage';\n\ndeclare module '@okta/courage' {\n  interface OktaUnderscore {\n    nestedOmit(obj: Record<string, any>, names): Record<string, any>\n  }\n}\n\n_.mixin({\n  nestedOmit: function(obj, names) {\n    let result = _.omit(obj, names);\n\n    if (names.includes(result.name)) {\n      result = _.omit(result, 'value');\n    }\n\n    _.each(result, function(val, key) {\n      if (Array.isArray(val)) {\n        result[key] = val.map((v) => {\n          return _.nestedOmit(v, names);\n        });\n      } else if (typeof val === 'object') {\n        result[key] = _.nestedOmit(val, names);\n      }\n    });\n    return result;\n  },\n});\n\nexport { _ };\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Model, ModelProperty } from '@okta/courage';\nimport Logger from 'util/Logger';\nimport {\n  FORMS_WITHOUT_SIGNOUT,\n  FORMS_WITH_STATIC_BACK_LINK,\n  FORMS_FOR_VERIFICATION,\n  AUTHENTICATOR_KEY,\n  FORMS,\n} from '../ion/RemediationConstants';\nimport { createOVOptions } from '../ion/ui-schema/ion-object-handler';\nimport { _ } from '../mixins/mixins';\nimport { executeHooksBefore, executeHooksAfter } from 'util/Hooks';\nimport Settings from 'models/Settings';\nimport Hooks from 'models/Hooks';\nimport { RecoverableError } from 'util/OAuthErrors';\nimport { IdxRemediation } from '@okta/okta-auth-js';\nimport BrowserFeatures from 'util/BrowserFeatures';\n\nconst UNKNOWN_USER_I8N_KEY = \"idx.unknown.user\";\n/**\n * Keep track of stateMachine with this special model. Similar to `src/models/AppState.js`\n */\n\nconst local: Record<string, ModelProperty> = {\n  user: 'object',        // optional\n  currentFormName: 'string',\n  idx: 'object',\n  remediations: 'array',\n  dynamicRefreshInterval: 'number',\n  deviceFingerprint: 'string',\n  hooks: 'object' // instance of models/Hooks\n};\n\nconst derived: Record<string, ModelProperty> = {\n  authenticatorProfile: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { profile: undefined }, currentAuthenticatorEnrollment = { profile: undefined }) {\n      return currentAuthenticator.profile\n        || currentAuthenticatorEnrollment.profile\n        || {};\n    },\n  },\n  authenticatorKey: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { key: undefined }, currentAuthenticatorEnrollment = { key: undefined }) {\n      return currentAuthenticator.key\n        || currentAuthenticatorEnrollment.key\n        || '';\n    },\n  },\n  authenticatorMethodType: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { methods: undefined }, currentAuthenticatorEnrollment = { methods: undefined }) {\n      return currentAuthenticator.methods && currentAuthenticator.methods[0].type\n        || currentAuthenticatorEnrollment.methods && currentAuthenticatorEnrollment.methods[0].type\n        || '';\n    },\n  },\n  isPasswordRecovery: {\n    deps: ['recoveryAuthenticator'],\n    fn: function(recoveryAuthenticator = { type: undefined }) {\n      return recoveryAuthenticator?.type === 'password';\n    }\n  }\n};\n\nexport type AppStateProps = typeof local & typeof derived;\n\nexport default class AppState extends Model {\n  settings: Settings;\n  hooks: Hooks;\n  \n  constructor(attributes, options) {\n    super(attributes, options);\n    this.settings = options.settings;\n    this.hooks = options.hooks;\n  }\n\n  get<A extends Backbone._StringKey<AppStateProps>>(attributeName: A): any {\n    return Model.prototype.get.call(this, attributeName);\n  }\n\n  preinitialize(...args) {\n    this.local = local;\n    this.derived = derived;\n    Model.prototype.preinitialize.apply(this, args);\n  }\n\n  isIdentifierOnlyView() {\n    return !this.get('remediations')?.find(({ name }) => name === 'identify')\n      ?.uiSchema?.find(({ name }) => name === 'credentials.passcode');\n  }\n\n  hasRemediationObject(formName) {\n    return this.get('idx').neededToProceed.find((remediation) => remediation.name === formName);\n  }\n\n  hasActionObject(actionName) {\n    return !!this.get('idx')?.actions?.[actionName];\n  }\n\n  getRemediationAuthenticationOptions(formName) {\n    const form = this.hasRemediationObject(formName);\n    if (!form) {\n      return [];\n    }\n    const authenticator = form.value.find((value) => value.name === 'authenticator');\n    let authenticatorOptions = authenticator?.options || [];\n    // OV is a special case, so process OV options\n    authenticatorOptions = [...authenticatorOptions]; //clone it since we are changing it for OV\n    createOVOptions(authenticatorOptions);\n    return authenticatorOptions;\n  }\n\n  getActionByPath(actionPath) {\n    const paths = actionPath.split('.');\n    let targetObject;\n    if (paths.length === 1) {\n      targetObject = this.get('idx').actions;\n    } else {\n      targetObject = this.get(paths.shift());\n    }\n    // Limitation\n    // At the time of writting, action only lives in first level of state objects.\n    const actionName = paths.shift();\n    if (targetObject && _.isFunction(targetObject[actionName])) {\n      return targetObject[actionName];\n    } else {\n      return null;\n    }\n  }\n\n  getCurrentViewState() {\n    const currentFormName = this.get('currentFormName');\n\n    if (!currentFormName) {\n      return;\n    }\n\n    // didn't expect `remediations` is empty. See `setIonResponse`.\n    const currentViewState = this.get('remediations').filter(r => r.name === currentFormName)[0];\n\n    if (!currentViewState) {\n      Logger.error('Panic!!');\n      Logger.error(`\\tCannot find view state for form ${currentFormName}.`);\n      const allFormNames = this.get('remediations').map(r => r.name);\n      Logger.error(`\\tAll available form names: ${allFormNames}`);\n    }\n\n    return currentViewState;\n  }\n\n  /**\n   * Returns ui schema of the form field from current view state\n   * @param {string} fieldName\n   * @returns {}\n   */\n  getSchemaByName(fieldName) {\n    const currentViewState = this.getCurrentViewState();\n    if(currentViewState) {\n      const uiSchema = currentViewState.uiSchema;\n      return uiSchema.find(({ name }) => name === fieldName);\n    }\n  }\n\n  /**\n   * Returns the displayName of the authenticator\n   * @returns {string}\n   */\n  getAuthenticatorDisplayName() {\n    const currentAuthenticator = this.get('currentAuthenticator') || {};\n    const currentAuthenticatorEnrollment = this.get('currentAuthenticatorEnrollment') || {};\n\n    // For enrollment and certain verification flows, the currentAuthenticator object will be present.\n    // If not, we're likely in a traditional verify/challenge flow.\n    return currentAuthenticator.displayName || currentAuthenticatorEnrollment.displayName;\n  }\n\n  /**\n   * Checks to see if we're in an authenticator challenge flow.\n   * @returns {boolean}\n   */\n  isAuthenticatorChallenge() {\n    const currentFormName = this.get('currentFormName');\n    return FORMS_FOR_VERIFICATION.includes(currentFormName);\n  }\n\n  shouldReRenderView(transformedResponse) {\n    if (transformedResponse?.idx?.hasFormError) {\n      return false;\n    }\n\n    const previousRawState = this.has('idx') ? this.get('idx').rawIdxState : null;\n\n    const identicalResponse = _.isEqual(\n      _.nestedOmit(transformedResponse.idx.rawIdxState, ['expiresAt', 'refresh', 'stateHandle', 'headers']),\n      _.nestedOmit(previousRawState, ['expiresAt', 'refresh', 'stateHandle', 'headers']));\n\n    if (identicalResponse) {\n      this.set('dynamicRefreshInterval', this.getRefreshInterval(transformedResponse));\n    }\n\n    return this._isReRenderRequired(identicalResponse, transformedResponse, previousRawState);\n  }\n\n  getRefreshInterval(transformedResponse) {\n    // Only polling refresh interval has changed in the response,\n    // make sure to update the correct poll view's refresh value\n    const currentFormName = this.get('currentFormName');\n    const currentViewState = transformedResponse.remediations.filter(r => r.name === currentFormName)[0];\n    // Get new refresh interval for either: remediations, authenticator, or authenticator enrollment\n    return currentViewState.refresh ||\n      transformedResponse.currentAuthenticatorEnrollment?.poll?.refresh ||\n      transformedResponse.currentAuthenticator?.poll?.refresh;\n  }\n\n  // Sign Out link will be displayed in the footer of a form, unless:\n  // - widget configuration set hideSignOutLinkInMFA or mfaOnlyFlow to true\n  // - cancel remediation form is not present in the response\n  // - form is part of our list FORMS_WITHOUT_SIGNOUT\n  shouldShowSignOutLinkInCurrentForm(hideSignOutLinkInMFA) {\n    const idxActions = this.get('idx') && this.get('idx').actions;\n    const currentFormName = this.get('currentFormName');\n\n    return !hideSignOutLinkInMFA\n      && _.isFunction(idxActions?.cancel)\n      && !FORMS_WITHOUT_SIGNOUT.includes(currentFormName);\n  }\n\n  containsMessageWithI18nKey(keys) {\n    if (!Array.isArray(keys)) {\n      keys = [keys];\n    }\n    const messagesObjs = this.get('messages');\n    return messagesObjs && Array.isArray(messagesObjs.value)\n      && messagesObjs.value.some(messagesObj => _.contains(keys, messagesObj.i18n?.key));\n  }\n\n  containsMessageStartingWithI18nKey(keySubStr) {\n    const messagesObjs = this.get('messages');\n    return messagesObjs && Array.isArray(messagesObjs.value)\n      && messagesObjs.value.some(messagesObj => messagesObj.i18n?.key.startsWith(keySubStr));\n  }\n\n  clearAppStateCache() {\n    // clear appState before setting new values\n    const attrs = {};\n    for (const key in this.attributes) {\n      if (key !== 'currentFormName') {\n        attrs[key] = void 0;\n      }\n    }\n    this.set(attrs, Object.assign({}, { unset: true, silent: true }));\n    // clear cache for derived props.\n    this.trigger('cache:clear');\n  }\n\n  chooseRemediation(transformedResponse): IdxRemediation | undefined {\n    if (_.isEmpty(transformedResponse.remediations)) {\n      return;\n    }\n\n    const firstRemediation = transformedResponse.remediations[0];\n\n    // Special case: Okta Verify: show select enrollment channel instead of QR code on mobile\n    if (firstRemediation.name === 'enroll-poll'\n      && this.get('authenticatorKey') === AUTHENTICATOR_KEY.OV\n      && (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      && transformedResponse.currentAuthenticator?.contextualData?.selectedChannel === 'qrcode'\n    ) {\n        return transformedResponse.remediations.find(r => r.name === 'select-enrollment-channel')\n    }\n\n    // Default case: return the first remediation in the list\n    return firstRemediation;\n  }\n\n  async setIonResponse(transformedResponse) {\n    const doRerender = this.shouldReRenderView(transformedResponse);\n    this.clearAppStateCache();\n    // set new app state properties\n    this.set(transformedResponse);\n\n    if (doRerender) {\n      const remediation = this.chooseRemediation(transformedResponse);\n      let currentFormName = null;\n      if (remediation) {\n        currentFormName = remediation.name;\n      } else {\n        Logger.error('Panic!!');\n        Logger.error('\\tNo remediation found.');\n        Logger.error('\\tHere is the entire response');\n        Logger.error(JSON.stringify(transformedResponse, null, 2));\n      }\n\n      const hook = this.hooks?.getHook(currentFormName); // may be undefined\n      await executeHooksBefore(hook);\n  \n      this.unset('currentFormName', { silent: true });\n      // make sure change `currentFormName` is last step.\n      // change `currentFormName` will re-render FormController,\n      // which may depend on other derived properties hence\n      // those derived properties must be re-computed before\n      // re-rendering controller.\n      this.set({ currentFormName });\n\n      await executeHooksAfter(hook);\n    }\n  }\n\n  setNonIdxError(error: RecoverableError<any>) {\n    this.set('remediations', [{ name: FORMS.TERMINAL }]);\n    this.set('messages', { value: [\n      {\n        message: error.errorDetails.errorSummary,\n        class: 'ERROR'\n      }\n    ]})\n    this.set('currentFormName', FORMS.TERMINAL);\n  }\n\n  getUser() {\n    return this.get('user');\n  }\n\n  _isReRenderRequired(identicalResponse, transformedResponse, previousRawState) {\n    let reRender = true;\n\n    const isPreviousStateError = this.get('idx')?.hasFormError;\n    if (isPreviousStateError && this._isChallengeAuthenticatorPoll(transformedResponse, previousRawState)) {\n      reRender = false;\n    }\n\n    if (identicalResponse) {\n      /**\n       * returns false: When new response is same as last.\n       * usually happens during polling when pipeline doesn't proceed to next step.\n       * expiresAt will be different for each response, hence compare objects without that property\n       */\n      reRender = false;\n      if (this.get('currentFormName') === 'poll') {\n        /**\n         * returns true: We want to force reRender when currentForm is poll because request has to reinitiate\n         * based on new refresh and UI has to reflect new timer.\n         * We dont technical poll here we just make a request after the specified refresh time each time\n         * we get a new response.\n         */\n        reRender = true;\n      } else if (FORMS_WITH_STATIC_BACK_LINK.includes(this.get('currentFormName'))) {\n        /**\n         * returns true: We want to force reRender if you go back to selection screen from challenge or enroll screen\n         * and re-select the same authenticator for challenge. In this case also new response will be identical\n         * to the old response.\n         */\n        reRender = true;\n      } else if (this.containsMessageWithI18nKey(UNKNOWN_USER_I8N_KEY)) {\n        /**\n         * Need to re-render or else form will be stuck in saving mode.\n         * This message is a form warning that can result in identical responses if the user enters the same\n         * username as the one in the last message warning.\n         */\n        reRender = true;\n      }\n    }\n\n    return reRender;\n  }\n\n  /**\n   * This is to account for the edge case introduced by this issue: OKTA-419210. With the current idx remediations,\n   * there's no good way to generalize this as the backend handles the authenticators for phone, sms and \n   * email differently. Although not ideal, we have to keep this check in for now until we find a better solution.\n   */\n  _isChallengeAuthenticatorPoll(transformedResponse, previousRawState) {\n    const isSameExceptMessages = _.isEqual(\n      _.nestedOmit(transformedResponse.idx.rawIdxState, ['expiresAt', 'refresh', 'stateHandle', 'headers']),\n      _.nestedOmit(previousRawState, ['expiresAt', 'refresh', 'stateHandle', 'messages', 'headers']));\n\n    const isChallengeAuthenticator = this.get('currentFormName') === 'challenge-authenticator';\n    const isCurrentAuthenticatorEmail = this.get('currentAuthenticatorEnrollment')?.key === AUTHENTICATOR_KEY.EMAIL;\n\n    return isSameExceptMessages && isChallengeAuthenticator && isCurrentAuthenticatorEmail;\n  }\n}\n","import Logger from 'util/Logger';\nimport { AUTHENTICATOR_KEY, FORMS as RemediationForms } from '../ion/RemediationConstants';\nimport { BaseView } from './internals';\n\n// Identify\nimport IdentifierView from './views/IdentifierView';\nimport RedirectIdPView from './views/RedirectIdPView';\nimport RedirectIdvView from './views/idp/RedirectIdvView';\n\nimport IdentifyRecoveryView from './views/IdentifyRecoveryView';\n\n// Terminal & Auto-Redirect\nimport TerminalView from './views/TerminalView';\nimport AutoRedirectView from './views/AutoRedirectView';\n\n// safe mode poll view\nimport PollView from './views/PollView';\n\n// consent\nimport AdminConsentView from './views/consent/AdminConsentView';\nimport EnduserConsentView from './views/consent/EnduserConsentView';\nimport GranularConsentView from './views/consent/GranularConsentView';\nimport EnduserEmailConsentView from './views/consent/EnduserEmailConsentView';\n\n// Device (Okta Verify)\nimport DeviceChallengePollView from './views/device/DeviceChallengePollView';\nimport SSOExtensionView from './views/device/SSOExtensionView';\nimport SignInDeviceView from './views/device/SignInDeviceView';\nimport DeviceEnrollmentTerminalView from './views/device/DeviceEnrollmentTerminalView';\n\n// registration\nimport EnrollProfileView from './views/EnrollProfileView';\n\n// registration update\nimport EnrollProfileUpdateView from './views/EnrollProfileUpdateView';\n\n// Email Activation\nimport RequestActivationEmail from './views/activation/RequestActivationEmailView';\n\n// authenticator list\nimport SelectAuthenticatorEnrollView from './views/SelectAuthenticatorEnrollView';\nimport SelectAuthenticatorVerifyView from './views/SelectAuthenticatorVerifyView';\nimport SelectAuthenticatorUnlockAccountView from './views/authenticator/SelectAuthenticatorUnlockAccountView';\n\n// password\nimport EnrollAuthenticatorPasswordView from './views/password/EnrollAuthenticatorPasswordView';\nimport ChallengeAuthenticatorPasswordView from './views/password/ChallengeAuthenticatorPasswordView';\nimport ReEnrollAuthenticatorPasswordView from './views/password/ReEnrollAuthenticatorPasswordView';\nimport ReEnrollAuthenticatorWarningPasswordView from './views/password/ReEnrollAuthenticatorWarningPasswordView';\nimport ResetAuthenticatorPasswordView from './views/password/ResetAuthenticatorPasswordView';\n\n// phone\nimport EnrollAuthenticatorPhoneView from './views/phone/EnrollAuthenticatorPhoneView';\nimport EnrollAuthenticatorDataPhoneView from './views/phone/EnrollAuthenticatorDataPhoneView';\nimport ChallengeAuthenticatorPhoneView from './views/phone/ChallengeAuthenticatorPhoneView';\nimport ChallengeAuthenticatorDataPhoneView from './views/phone/ChallengeAuthenticatorDataPhoneView';\n\n// security question\nimport EnrollAuthenticatorSecurityQuestion from './views/security-question/EnrollAuthenticatorSecurityQuestionView';\nimport ChallengeAuthenticatorSecurityQuestion from './views/security-question/ChallengeAuthenticatorSecurityQuestion';\n\n//webauthn\nimport EnrollWebauthnView from './views/webauthn/EnrollWebauthnView';\nimport ChallengeWebauthnView from './views/webauthn/ChallengeWebauthnView';\n\n// email\nimport EnrollAuthenticatorEmailView from './views/email/EnrollAuthenticatorEmailView';\nimport ChallengeAuthenticatorEmailView from './views/email/ChallengeAuthenticatorEmailView';\nimport ChallengeAuthenticatorDataEmailView from './views/email/ChallengeAuthenticatorDataEmailView';\n\n// app (okta verify)\nimport EnrollPollOktaVerifyView from './views/ov/EnrollPollOktaVerifyView';\nimport SelectEnrollmentChannelOktaVerifyView from './views/ov/SelectEnrollmentChannelOktaVerifyView';\nimport EnrollementChannelDataOktaVerifyView from './views/ov/EnrollementChannelDataOktaVerifyView';\nimport ChallengeOktaVerifyView from './views/ov/ChallengeOktaVerifyView';\nimport ChallengeOktaVerifyTotpView from './views/ov/ChallengeOktaVerifyTotpView';\nimport ChallengeOktaVerifyResendPushView from './views/ov/ChallengeOktaVerifyResendPushView';\nimport ChallengeOktaVerifyCustomAppDataView from './views/shared/ChallengeOktaVerifyCustomAppDataView';\nimport ChallengeOktaVerifySSOExtensionView from './views/ov/ChallengeOktaVerifySSOExtensionView';\n\n// app (google authenticator)\nimport EnrollAuthenticatorGoogleAuthenticatorView from './views/google-authenticator/EnrollAuthenticatorGoogleAuthenticatorView';\nimport ChallengeGoogleAuthenticatorView from './views/google-authenticator/ChallengeGoogleAuthenticatorView';\n\n// on-prem mfa\nimport EnrollAuthenticatorOnPremView from './views/on-prem/EnrollAuthenticatorOnPremView';\nimport ChallengeAuthenticatorOnPremView from './views/on-prem/ChallengeAuthenticatorOnPremView';\n\n// duo mfa\nimport EnrollDuoAuthenticatorView from './views/duo/EnrollDuoAuthenticatorView';\nimport ChallengeDuoAuthenticatorView from './views/duo/ChallengeDuoAuthenticatorView';\n\n// idp authenticator\nimport AuthenticatorIdPVerifyView from './views/idp/AuthenticatorIdPVerifyView';\nimport AuthenticatorIdPEnrollView from './views/idp/AuthenticatorIdPEnrollView';\n\n// custom otp\nimport ChallengeCustomOTPAuthenticatorView from './views/custom-otp/ChallengeCustomOTPAuthenticatorView';\n\n// Symantec VIP authenticator\nimport AuthenticatorSymantecView from './views/symantec/AuthenticatorSymantecView';\n\n// Device code activate view\nimport DeviceCodeActivateView from './views/device/DeviceCodeActivateView';\n\n// X509 PIV view\nimport ChallengePIVView from './views/piv/ChallengePIVView';\n\n// YubiKey\nimport AuthenticatorYubiKeyView from './views/yubikey/AuthenticatorYubiKeyView';\n\n// custom app\nimport ChallengePushView from './views/shared/ChallengePushView';\nimport ChallengeCustomAppResendPushView from './views/custom-app/ChallengeCustomAppResendPushView';\n\n// custom password\nimport ReEnrollCustomPasswordExpiryView from './views/custom-password/ReEnrollCustomPasswordExpiryView';\nimport ReEnrollCustomPasswordExpiryWarningView from './views/custom-password/ReEnrollCustomPasswordExpiryWarningView';\n\n// keep me signed in\nimport PostAuthKeepMeSignedInView from './views/keep-me-signed-in/PostAuthKeepMeSignedInView';\n\n// unlock account\nimport UnlockAccountView from './views/authenticator/UnlockAccountView'\n\n// device assurance grace period\nimport DeviceAssuranceGracePeriodView from './views/device-assurance-grace-period/DeviceAssuranceGracePeriodView'\n\nconst DEFAULT = '_';\n\nconst VIEWS_MAPPING = {\n  [RemediationForms.IDENTIFY]: {\n    [DEFAULT]: IdentifierView,\n  },\n  [RemediationForms.IDENTIFY_RECOVERY]: {\n    [DEFAULT]: IdentifyRecoveryView,\n  },\n  [RemediationForms.DEVICE_CHALLENGE_POLL]: {\n    [DEFAULT]: DeviceChallengePollView,\n  },\n  [RemediationForms.LAUNCH_AUTHENTICATOR]: {\n    [DEFAULT]: SignInDeviceView,\n  },\n  [RemediationForms.DEVICE_APPLE_SSO_EXTENSION]: {\n    [DEFAULT]: SSOExtensionView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifySSOExtensionView,\n  },\n  [RemediationForms.CANCEL_TRANSACTION]: {\n    [DEFAULT]: SSOExtensionView,\n  },\n  [RemediationForms.ENROLL_PROFILE]: {\n    [DEFAULT]: EnrollProfileView,\n  },\n  [RemediationForms.ENROLL_PROFILE_UPDATE]: {\n    [DEFAULT]: EnrollProfileUpdateView,\n  },\n  [RemediationForms.POLL]: {\n    [DEFAULT]: PollView\n  },\n  [RemediationForms.REQUEST_ACTIVATION]: {\n    [DEFAULT]: RequestActivationEmail\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_ENROLL]: {\n    [DEFAULT]: SelectAuthenticatorEnrollView,\n  },\n  [RemediationForms.AUTHENTICATOR_ENROLLMENT_DATA]: {\n    [AUTHENTICATOR_KEY.PHONE]: EnrollAuthenticatorDataPhoneView,\n    [AUTHENTICATOR_KEY.EMAIL]: ChallengeAuthenticatorDataEmailView,\n  },\n  [RemediationForms.CONSENT_ADMIN]: {\n    [DEFAULT]: AdminConsentView\n  },\n  [RemediationForms.CONSENT_ENDUSER]: {\n    [DEFAULT]: EnduserConsentView\n  },\n  [RemediationForms.CONSENT_GRANULAR]: {\n    [DEFAULT]: GranularConsentView\n  },\n  [RemediationForms.CONSENT_EMAIL_CHALLENGE]: {\n    [DEFAULT]: EnduserEmailConsentView,\n  },\n  [RemediationForms.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.DUO]: EnrollDuoAuthenticatorView,\n    [AUTHENTICATOR_KEY.EMAIL]: EnrollAuthenticatorEmailView,\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: EnrollAuthenticatorGoogleAuthenticatorView,\n    [AUTHENTICATOR_KEY.IDP]: AuthenticatorIdPEnrollView,\n    [AUTHENTICATOR_KEY.ON_PREM]: EnrollAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.PASSWORD]: EnrollAuthenticatorPasswordView,\n    [AUTHENTICATOR_KEY.PHONE]: EnrollAuthenticatorPhoneView,\n    [AUTHENTICATOR_KEY.RSA]: EnrollAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: EnrollAuthenticatorSecurityQuestion,\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: AuthenticatorSymantecView,\n    [AUTHENTICATOR_KEY.WEBAUTHN]: EnrollWebauthnView,\n    [AUTHENTICATOR_KEY.YUBIKEY]: AuthenticatorYubiKeyView,\n  },\n  [RemediationForms.CHALLENGE_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.CUSTOM_OTP]: ChallengeCustomOTPAuthenticatorView,\n    [AUTHENTICATOR_KEY.DUO]: ChallengeDuoAuthenticatorView,\n    [AUTHENTICATOR_KEY.EMAIL]: ChallengeAuthenticatorEmailView,\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: ChallengeGoogleAuthenticatorView,\n    [AUTHENTICATOR_KEY.IDP]: AuthenticatorIdPVerifyView,\n    [AUTHENTICATOR_KEY.ON_PREM]: ChallengeAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyTotpView,\n    [AUTHENTICATOR_KEY.PASSWORD]: ChallengeAuthenticatorPasswordView,\n    [AUTHENTICATOR_KEY.PHONE]: ChallengeAuthenticatorPhoneView,\n    [AUTHENTICATOR_KEY.RSA]: ChallengeAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: ChallengeAuthenticatorSecurityQuestion,\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: AuthenticatorSymantecView,\n    [AUTHENTICATOR_KEY.WEBAUTHN]: ChallengeWebauthnView,\n    [AUTHENTICATOR_KEY.YUBIKEY]: AuthenticatorYubiKeyView,\n  },\n  [RemediationForms.ENROLL_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: EnrollPollOktaVerifyView,\n  },\n  [RemediationForms.SELECT_ENROLLMENT_CHANNEL]: {\n    [AUTHENTICATOR_KEY.OV]: SelectEnrollmentChannelOktaVerifyView,\n  },\n  [RemediationForms.ENROLLMENT_CHANNEL_DATA]: {\n    [AUTHENTICATOR_KEY.OV]: EnrollementChannelDataOktaVerifyView,\n  },\n  // Expired scenarios for authenticators..\n  [RemediationForms.REENROLL_AUTHENTICATOR]: {\n    // Password expired scenario..\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollAuthenticatorPasswordView\n  },\n  [RemediationForms.REENROLL_CUSTOM_PASSWORD_EXPIRY]: {\n    // Custom password expired scenario\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollCustomPasswordExpiryView,\n  },\n  [RemediationForms.REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING]: {\n    // Custom password expiry warning scenario\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollCustomPasswordExpiryWarningView,\n  },\n  // Will expire soon warnings for authenticators..\n  [RemediationForms.REENROLL_AUTHENTICATOR_WARNING]: {\n    // Password will expire soon scenario..\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollAuthenticatorWarningPasswordView,\n  },\n  // Reset forms for authenticators..\n  [RemediationForms.RESET_AUTHENTICATOR]: {\n    // Admin driven password reset..\n    [AUTHENTICATOR_KEY.PASSWORD]: ResetAuthenticatorPasswordView,\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: EnrollAuthenticatorGoogleAuthenticatorView,\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE]: {\n    [DEFAULT]: SelectAuthenticatorVerifyView,\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_UNLOCK]: {\n    [DEFAULT]: SelectAuthenticatorUnlockAccountView,\n  },\n  [RemediationForms.UNLOCK_ACCOUNT]: {\n    [DEFAULT]: UnlockAccountView,\n  },\n  [RemediationForms.CHALLENGE_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengePushView,\n  },\n  [RemediationForms.RESEND]: {\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyResendPushView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengeCustomAppResendPushView,\n  },\n  [RemediationForms.AUTHENTICATOR_VERIFICATION_DATA]: {\n    [AUTHENTICATOR_KEY.PHONE]: ChallengeAuthenticatorDataPhoneView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyCustomAppDataView,\n    [AUTHENTICATOR_KEY.EMAIL]: ChallengeAuthenticatorDataEmailView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengeOktaVerifyCustomAppDataView,\n  },\n  [RemediationForms.FAILURE_REDIRECT]: {\n    [DEFAULT]: AutoRedirectView,\n  },\n  [RemediationForms.SUCCESS_REDIRECT]: {\n    [DEFAULT]: AutoRedirectView,\n  },\n  [RemediationForms.REDIRECT_IDP]: {\n    [DEFAULT]: RedirectIdPView,\n  },\n  [RemediationForms.REDIRECT_IDVERIFY]: {\n    [DEFAULT]: RedirectIdvView,\n  },\n  [RemediationForms.PIV_IDP]: {\n    [DEFAULT]: ChallengePIVView,\n  },\n  [RemediationForms.DEVICE_ENROLLMENT_TERMINAL]: {\n    [DEFAULT]: DeviceEnrollmentTerminalView,\n  },\n  [RemediationForms.USER_CODE] : {\n    [DEFAULT] : DeviceCodeActivateView\n  },\n  [RemediationForms.KEEP_ME_SIGNED_IN]: {\n    [DEFAULT]: PostAuthKeepMeSignedInView,\n  },\n  [RemediationForms.TERMINAL]: {\n    [DEFAULT]: TerminalView,\n  },\n  [RemediationForms.DEVICE_ASSURANCE_GRACE_PERIOD]: {\n    [DEFAULT]: DeviceAssuranceGracePeriodView,\n  },\n};\n\nexport default {\n  create(formName, authenticatorKey = DEFAULT) {\n    const config = VIEWS_MAPPING[formName];\n    if (!config) {\n      Logger.warn(`Cannot find customized View for ${formName}.`);\n      return BaseView;\n    }\n    const View = config[authenticatorKey] || config[DEFAULT];\n    if (!View) {\n      Logger.warn(`Cannot find customized View for ${formName} + ${authenticatorKey}.`);\n      return BaseView;\n    }\n\n    return View;\n  }\n};\n","import hbs from '@okta/handlebars-inline-precompile';\n\nimport { _, Form, loc, internal, createCallout, View } from '@okta/courage';\nimport * as FormInputFactory from './FormInputFactory';\n\nconst { FormUtil } = internal.views.forms.helpers;\nconst INFO_MESSAGE_CLASS = 'INFO';\n\nexport default Form.extend({\n\n  layout: 'o-form-theme',\n  className: 'ion-form',\n  hasSavingState: true,\n  autoSave: false,\n  noCancelButton: true,\n\n  title() {\n    return loc('oform.title.authenticate', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  modelEvents: {\n    'clearFormError': 'handleClearFormError',\n    'error': 'triggerAfterError',\n  },\n\n  initialize() {\n    const uiSchemas = this.getUISchema();\n    const inputOptions = uiSchemas.map(FormInputFactory.create);\n\n    //should be used before adding any other input components\n    this.showMessages();\n\n    // Render CAPTCHA if one of the form fields requires us to.\n    this.listenTo(this.options.appState, 'onCaptchaLoaded', (captchaObject) => {\n      this.captchaObject = captchaObject;\n    });\n\n    inputOptions.forEach(input => {\n      this.addInputOrView(input);\n    });\n\n    this.listenTo(this, 'save', this.saveForm);\n    this.listenTo(this, 'cancel', this.cancelForm);\n  },\n\n  focus(...args) {\n    if (this.settings.get('features.autoFocus')) {\n      Form.prototype.focus.apply(this, args);\n    }\n  },\n\n  handleClearFormError() {\n    const formErrorContainer = this.$('.o-form-error-container');\n    formErrorContainer.empty();\n    if (formErrorContainer.hasClass('o-form-has-errors')) {\n      this.clearErrors();\n    }\n  },\n\n  triggerAfterError(model, error) {\n    this.options.appState.trigger('afterError', error);\n  },\n\n  saveForm(model) {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n\n    // Execute Captcha if enabled for this form.\n    if (this.captchaObject) {\n      this.captchaObject.execute();\n    } else {\n      this.options.appState.trigger('saveForm', model);\n    }\n  },\n\n  postRender() {\n    /**\n     * Widget would use infoContainer to display interactive messages that should be persisted during\n     * invalid form submissions. For eg resend-warning callout should not be cleared upon invalid form submit.\n     * Rerender would clear infoContainer or views classes can clear it explicitly.\n     */\n    let infoContainer = this.$el.find('.o-form-info-container');\n    if (!infoContainer.length) {\n      this.add('<div class=\"o-form-info-container\"></div>');\n      infoContainer = this.$el.find('.o-form-info-container');\n    }\n\n    this.$el.find('.o-form-error-container')\n      .attr('role', 'alert')\n      .before(infoContainer);\n\n    this.addIdentifier();\n  },\n\n  /**\n   * Render user identifier below title, or if no title, render below message.\n   */\n  addIdentifier() {\n    const { identifier } = this.options.appState.get('user') || {};\n    if (!identifier) {\n      return;\n    } else if (!this.settings.get('features.showIdentifier')) {\n      return;\n    }\n\n    const header = this.$el.find('[data-se=\"o-form-head\"]');\n    const identifierHTMLString = hbs('<div class=\"identifier-container\">\\\n        <span class=\"identifier no-translate\" data-se=\"identifier\" title=\"{{identifier}}\">{{identifier}}</span>\\\n      </div>')({identifier});\n\n    if (header.length) {\n      header.after(identifierHTMLString);\n    } else {\n      this.$el.find('.o-form-error-container').after(identifierHTMLString);\n    }\n  },\n\n  cancelForm() {\n    this.options.appState.trigger('invokeAction', 'cancel');\n  },\n\n  getUISchema() {\n    if (Array.isArray(this.options.currentViewState.uiSchema)) {\n      return this.options.currentViewState.uiSchema;\n    } else {\n      return [];\n    }\n  },\n\n  addInputOrView(input) {\n    if (input.visible === false || (input.mutable === false && input.visible !== true)) {\n      return;\n    }\n    if (input.View) {\n      this.add(input.View, _.omit(input, 'View', 'showWhen'));\n      if (input.showWhen) {\n        FormUtil.applyShowWhen(this.last(), input.showWhen);\n      }\n    } else {\n      this.addInput(input);\n    }\n\n    if (Array.isArray(input.optionsUiSchemas)) {\n      if (this.options.optionUiSchemaConfig[input.name]) {\n        const optionUiSchemaIndex = Number(this.options.optionUiSchemaConfig[input.name]);\n        const optionUiSchemas = input.optionsUiSchemas[optionUiSchemaIndex] || [];\n        optionUiSchemas.forEach(this.addInputOrView.bind(this));\n      }\n    }\n  },\n\n  /*\n  * Views should override this function to render custom error callouts for invalid form actions.\n  * Should return true when callout is customized\n  */\n  showCustomFormErrorCallout: null,\n\n  /*\n   * Renders the contents of messages object (if any, on error) during initialize\n   * This function is called during Form.initialize, and will display\n   * messages when the form reloads.\n   * Note: Any user action related form errors handled by FormController.showFormErrors\n   */\n  showMessages(options) {\n    const messages = this.options.appState.get('messages') || {};\n    const errContainer = '.o-form-error-container';\n    if (Array.isArray(messages.value) && !(options instanceof View)) {\n      this.add('<div class=\"ion-messages-container\"></div>', errContainer);\n      messages.value.forEach(obj => {\n        if(!obj?.class || obj.class === INFO_MESSAGE_CLASS) {\n          // add message as plain text\n          this.add(`<p>${obj.message}</p>`, '.ion-messages-container');\n        } else {\n          const errorObj = {\n            class: obj?.class ?? '',\n            message: obj?.message,\n            title: '',\n            ...options\n          };\n          this.add(createCallout({\n            content: errorObj.message,\n            type: errorObj.class.toLowerCase(),\n            title: errorObj.title\n          }), errContainer);\n          options = null; // prevent repeating first error message\n        }\n      });\n    } else if (options instanceof View) {\n      // if callee is showCustomFormErrorCallout. show custom error views\n      this.add(options, errContainer);\n    }\n  },\n});","import { Collection, _, loc, createButton, InputOptions } from '@okta/courage';\n\nimport AuthenticatorEnrollOptions from '../components/AuthenticatorEnrollOptions';\nimport AuthenticatorVerifyOptions from '../components/AuthenticatorVerifyOptions';\nimport { getAuthenticatorDataForEnroll, getAuthenticatorDataForVerification } from '../utils/AuthenticatorUtil';\nimport { AUTHENTICATOR_KEY, FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport IDP from 'util/IDP';\nimport AdminScopeList from 'v1/views/admin-consent/ScopeList';\nimport EnduserScopeList from 'v1/views/consent/ScopeList';\nimport CaptchaView from '../views/captcha/CaptchaView';\n\nconst isTextOverflowing = (text, maxWidth) => {\n  // Create a temporary element and attach it to the document so we can compare the client width to the \n  // max width allowed.\n  const elem = document.createElement('div');\n  elem.style.position = 'absolute';\n  elem.style.left = '-9999px';\n  elem.style.whiteSpace = 'nowrap';\n  elem.innerHTML = text;\n\n  document.body.appendChild(elem);\n  const result = elem.clientWidth;\n  document.body.removeChild(elem);\n\n  return result > maxWidth;\n};\n\nconst createAuthenticatorEnrollSelectView = (opt) => {\n  const optionItems = (opt.options || [])\n    .map(opt => {\n      return Object.assign({}, opt, getAuthenticatorDataForEnroll(opt));\n    });\n  return {\n    View: AuthenticatorEnrollOptions,\n    options: {\n      name: opt.name,\n      collection: new Collection(optionItems),\n    }\n  };\n};\n\nconst createAuthenticatorVerifySelectView = (opt) => {\n  let optionItems = (opt.options || []);\n  // If webauthn enrollments > 1 just show one entry with a generic namne (first) so user doesnt have to select which\n  // one to pick. eg) If there is yubikey5 and another unknown u2f key, user cannot identify that easily. We need to\n  // do this at least  until users can give authenticator enrollments custom names.\n  const authSet = new Set();\n  optionItems = optionItems.filter(opt => {\n    let isDuplicate;\n    if (opt.authenticatorKey === AUTHENTICATOR_KEY.WEBAUTHN) {\n      isDuplicate = authSet.has(opt.authenticatorKey);\n      authSet.add(opt.authenticatorKey);\n    } else if(opt.authenticatorKey === AUTHENTICATOR_KEY.CUSTOM_APP) {\n      // Filter the duplicate enrollment by id for custom app. \n      isDuplicate = authSet.has(opt?.value?.id);\n      authSet.add(opt?.value?.id);\n    }  \n    return !isDuplicate;\n  });\n  optionItems = optionItems.map(opt => {\n    return Object.assign({}, opt, getAuthenticatorDataForVerification(opt));\n  });\n  return {\n    View: AuthenticatorVerifyOptions,\n    options: {\n      name: opt.name,\n      collection: new Collection(optionItems),\n    }\n  };\n};\n\nconst createAdminScopesView = () => {\n  return {\n    View: AdminScopeList,\n  };\n};\nconst createEnduserScopesView = () => {\n  return {\n    View: EnduserScopeList,\n  };\n};\n\nconst createCaptchaView = (opt) => {\n  return {\n    View: CaptchaView,\n    options: {\n      name: opt.name,\n    }    \n  };\n};\n\nconst inputCreationStrategy = {\n  authenticatorEnrollSelect: createAuthenticatorEnrollSelectView,\n  authenticatorVerifySelect: createAuthenticatorVerifySelectView,\n  ['admin-consent']: createAdminScopesView,\n  ['consent']: createEnduserScopesView,\n  ['captcha']: createCaptchaView,\n};\n\n// TODO: move logic to uiSchemaTransformer\nconst create = function(uiSchemaObj) {\n  const strategyFn = inputCreationStrategy[uiSchemaObj.type] || _.identity;\n  return strategyFn(uiSchemaObj);\n};\n\nconst createPIVButton = (settings, appState) => {\n  const pivIdp =\n    appState.get('remediations').filter(idp => idp.name === RemediationForms.PIV_IDP);\n  if (pivIdp.length < 1) {\n    return [];\n  }\n  const pivConfig = settings.get('piv');\n  const className = pivConfig.className || '';\n  return [{\n    attributes: {\n      'data-se': 'piv-card-button',\n    },\n    className: className + ' piv-button',\n    title: pivConfig.text || loc('piv.cac.card', 'login'),\n    click: (e) => {\n      e.preventDefault();\n      appState.trigger('switchForm', RemediationForms.PIV_IDP);\n    },\n  }];\n};\n\n/**\n * Example of `redirect-idp` remediation.\n * {\n *   \"name\": \"redirect-idp\",\n *   \"type\": \"MICROSOFT\",\n *   \"idp\": {\n *      \"id\": \"0oa2szc1K1YPgz1pe0g4\",\n *      \"name\": \"Microsoft IDP\"\n *    },\n *   \"href\": \"http://localhost:3000/sso/idps/0oa2szc1K1YPgz1pe0g4?stateToken=BB...AA\",\n *   \"method\": \"GET\"\n * }\n *\n */\nconst createIdpButtons = ({ settings, appState }) => {\n  // This is the max allowable text width that we can display for IDP buttons.\n  // Generated by taking the 316px width of button minus padding-left (90 px) and padding-right (50px)\n  const MAX_IDP_BUTTON_WIDTH = 186;\n\n  const redirectIdpRemediations =\n    appState.get('remediations').filter(idp => idp.name === RemediationForms.REDIRECT_IDP);\n\n  if (!Array.isArray(redirectIdpRemediations)) {\n    return [];\n  }\n\n  // create piv button\n  const pivButton = createPIVButton(settings, appState);\n\n  //add buttons from idp object\n  const idpButtons = redirectIdpRemediations.map(idpObject => {\n    let type = idpObject.type?.toLowerCase();\n    let displayName;\n\n    if (!_.contains(IDP.SUPPORTED_SOCIAL_IDPS, type)) {\n      type = 'general-idp';\n      // OKTA-396684 - makes sure that custom idps always have a name\n      displayName = loc('customauth.sign.in.with.label', 'login', [idpObject.idp?.name]);\n    } else {\n      displayName = loc(`socialauth.${type}.label`, 'login');\n    }\n\n    const classNames = [\n      'social-auth-button',\n      `social-auth-${type}-button`,\n    ];\n\n    if (type === 'general-idp') {\n      classNames.push('no-translate');\n    }\n\n    if (idpObject.idp.className) {\n      classNames.push(idpObject.idp.className);\n    }\n\n    const button: InputOptions = {\n      attributes: {\n        'data-se': `social-auth-${type}-button`,\n      },\n      className: classNames.join(' '),\n      title: displayName,\n      href: idpObject.href,\n    };\n\n    if (isTextOverflowing(displayName, MAX_IDP_BUTTON_WIDTH)) {\n      // We add a tooltip in case the name gets truncated if too long\n      button.attributes.title = displayName;\n    }\n\n    return button;\n  });\n\n  return [...pivButton, ...idpButtons];\n};\n\nconst createCustomButtons = (settings) => {\n  const customButtons = settings.get('customButtons');\n  return customButtons.map(customButton => {\n    const button = {\n      attributes: {\n        'data-se': customButton.dataAttr\n      },\n      className: customButton.className + ' default-custom-button',\n      title: customButton.title || loc(customButton.i18nKey, 'login'),\n      click: customButton.click\n    };\n    return button;\n  });\n};\n\nconst addCustomButton = (customButtonSettings) => {\n  return createButton({\n    ...customButtonSettings,\n    className: `${customButtonSettings.className} default-custom-button button-primary`,\n  });\n};\n\nexport {\n  create,\n  createIdpButtons,\n  createCustomButtons,\n  addCustomButton,\n  isTextOverflowing\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ConfigError } from 'util/Errors';\nimport Util from 'util/Util';\nimport Logger from 'util/Logger';\nimport getAuthClient from 'widget/getAuthClient';\nimport buildRenderOptions from 'widget/buildRenderOptions';\nimport createRouter from 'widget/createRouter';\nimport Hooks from 'models/Hooks';\nimport {\n  WidgetOptions,\n  WidgetOktaAuthConstructor,\n  WidgetOktaAuthInterface,\n  OktaSignInAPI,\n  RenderSuccessCallback,\n  RenderErrorCallback,\n  RenderResult,\n  RenderOptions,\n  HookFunction,\n  RenderResultSuccess,\n  EventCallback,\n  EventCallbackWithError,\n  EventName,\n  RouterClassFactory,\n  AbstractRouter,\n  RouterConstructor,\n  OktaData,\n} from '../types';\nimport { Tokens } from '@okta/okta-auth-js';\n\nconst EVENTS_LIST = ['ready', 'afterError', 'afterRender'];\ndeclare global {\n  interface Window {\n    oktaData?: OktaData;\n  }\n}\n\nexport function createOktaSignIn\n(\n  authClientConstructor: WidgetOktaAuthConstructor,\n  routerClassFactory: RouterClassFactory\n)\n{\n  return class OktaSignIn implements OktaSignInAPI {\n    Router: RouterConstructor;\n    options: WidgetOptions;\n    hooks: Hooks;\n    router: AbstractRouter;\n    authClient: WidgetOktaAuthInterface;\n    // Map original event handler to wrapped one\n    _eventCallbackMap: WeakMap<EventCallback | EventCallbackWithError, EventCallback | EventCallbackWithError>;\n\n    constructor(options: WidgetOptions) {\n      Util.debugMessage(`\n          The Okta Sign-In Widget is running in development mode.\n          When you are ready to publish your app, embed the minified version to turn on production mode.\n          See: https://developer.okta.com/code/javascript/okta_sign-in_widget#cdn\n        `);\n      if (!options.stateToken) {\n        // need to set stateToken here vs in Settings to determine Router.\n        // oktaData is only available to SIW on custom domains.\n        // set stateToken in case user wipes out stateToken when overriding options.\n        options.stateToken = window?.oktaData?.signIn?.stateToken;\n      }\n      this.options = options;\n      this.authClient = getAuthClient(authClientConstructor, options);\n\n      // validate authClient configuration against widget options\n      if (options.useClassicEngine !== true && this.authClient.options.clientId && this.authClient.isPKCE() === false) {\n        throw new ConfigError(\n          'OAuth2 with interaction code flow requires PKCE to be enabled on the authClient.'\n        );\n      }\n\n      // Hooks can be modified before or after render\n      this.hooks = new Hooks({\n        hooks: options.hooks\n      });\n\n      this.Router = routerClassFactory(options);\n\n      this._eventCallbackMap = new WeakMap();\n\n      // Triggers the event up the chain so it is available to the consumers of the widget.\n      this.Router.prototype.Events.listenTo.call(this, this.Router.prototype, 'all', this.trigger);\n\n      // On the first afterRender event (usually when the Widget is ready) - emit a 'ready' event\n      this.once('afterRender', function(context) {\n        this.trigger('ready', context);\n      });\n    }\n\n    /**\n     * Render the sign in widget to an element. Returns a promise that will resolve on success or reject on error.\n     * @param options - options for the signin widget.\n     *        Must have an el or $el property to render the widget to.\n     * @param success - success callback function\n     * @param error - error callback function\n     */\n    renderEl(renderOptions: RenderOptions, successFn?: RenderSuccessCallback, errorFn?: RenderErrorCallback): Promise<RenderResult> {\n      if (this.router) {\n        throw new Error('An instance of the widget has already been rendered. Call remove() first.');\n      }\n\n      const res = createRouter(this.Router, this.options, renderOptions, this.authClient, successFn, errorFn, this.hooks);\n      this.router = res.router;\n      return res.promise;\n    }\n\n    \n    hide(): void {\n      if (this.router) {\n        this.router.hide();\n      }\n    }\n\n    show(): void {\n      if (this.router) {\n        this.router.show();\n      }\n    }\n\n    remove(): void {\n      if (this.router) {\n        this.router.remove();\n        this.router = undefined;\n      }\n    }\n\n    /**\n     * Renders the Widget and returns a promise that resolves to OAuth tokens\n     * @param options - options for the signin widget\n     */\n    showSignInToGetTokens(options?: RenderOptions): Promise<Tokens> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options), {\n        redirect: 'never'\n      });\n      const promise = this.renderEl(renderOptions).then(res => {\n        return (res as RenderResultSuccess).tokens;\n      });\n      const authClient = this.router.settings.getAuthClient();\n      if (authClient.isAuthorizationCodeFlow() && !authClient.isPKCE()) {\n        throw new ConfigError('\"showSignInToGetTokens()\" should not be used for authorization_code flow. ' + \n          'Use \"showSignInAndRedirect()\" instead');\n      }\n      return promise;\n    }\n\n    /**\n     * Renders the widget and redirects to the OAuth callback\n     * @param options - options for the signin widget\n     */\n    showSignInAndRedirect(options?: RenderOptions): Promise<void> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options), {\n        redirect: 'always'\n      });\n      return this.renderEl(renderOptions).then(() => {\n        // This method should never return, it will either redirect or reject with error\n        return;\n      });\n    }\n\n    /**\n     * Renders the widget. Either resolves the returned promise, or redirects.\n     * @param options - options for the signin widget\n     */\n    showSignIn(options?: RenderOptions): Promise<RenderResult> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options));\n      return this.renderEl(renderOptions);\n    }\n\n    // Hook convenience functions\n    before(formName: string, callbackFn: HookFunction): void {\n      this.hooks.mergeHook(formName, {\n        before: [\n          callbackFn\n        ]\n      });\n    }\n\n    after(formName: string, callbackFn: HookFunction): void {\n      this.hooks.mergeHook(formName, {\n        after: [\n          callbackFn\n        ]\n      });\n    }\n\n    getUser(): any {\n      return this.router?.appState?.getUser();\n    }\n    \n    // Events API\n\n    on(event: EventName, callback: EventCallback | EventCallbackWithError): void {\n      // custom events listener on widget instance to trap third-party callback errors\n      if (EVENTS_LIST.includes(event)) {\n        const origCallback = callback;\n        callback = function(...callbackArgs) {\n          try {\n            origCallback.apply(this, callbackArgs);\n          } catch (err) {\n            Logger.error(`[okta-signin-widget] \"${event}\" event handler error:`, err);\n          }\n        };\n        this._eventCallbackMap.set(origCallback, callback);\n      }\n      this.Router.prototype.Events.on.call(this, event, callback);\n    }\n\n    off(event?: EventName, callback?: EventCallback | EventCallbackWithError): void {\n      if (callback) {\n        callback = this._eventCallbackMap.get(callback) || callback;\n      }\n      this.Router.prototype.Events.off.call(this, event, callback);\n    }\n\n    once(event: EventName, callback: EventCallback): void {\n      this.Router.prototype.Events.once.call(this, event, callback);\n    }\n\n    stopListening(event?: EventName, callback?: EventCallback): void {\n      this.Router.prototype.Events.stopListening.call(this, event, callback);\n    }\n\n    listenTo(object: any, event: EventName, callback: EventCallback): void {\n      this.Router.prototype.Events.listenTo.call(this, object, event, callback);\n    }\n\n    trigger(event: EventName, ...args: any[]): void {\n      this.Router.prototype.Events.trigger.apply(this, [event, ...args]);\n    }\n\n  };\n}\n","import { ConfigError } from 'util/Errors';\nimport Util from 'util/Util';\nimport config from 'config/config.json';\nimport { WidgetOptions, WidgetOktaAuthConstructor, WidgetOktaAuthInterface } from 'types';\n\nexport default function getAuthClientInstance(\n  OktaAuth: WidgetOktaAuthConstructor,\n  options: WidgetOptions = {}\n): WidgetOktaAuthInterface\n{\n  // if authClient is set, authParams are disregarded\n  let { authClient, authParams } = options;\n\n  if (!authClient) {\n    // Create an authClient using widget options and optional authParams\n    const {\n      issuer,\n      clientId,\n      redirectUri,\n      state,\n      scopes,\n      flow,\n      codeChallenge,\n      codeChallengeMethod,\n      recoveryToken\n    } = options;\n    authParams = {\n      issuer,\n      clientId,\n      redirectUri,\n      state,\n      scopes,\n      flow,\n      codeChallenge,\n      codeChallengeMethod,\n      transformErrorXHR: Util.transformErrorXHR,\n      recoveryToken,\n      ...authParams\n    };\n\n    if (!authParams.issuer) {\n      authParams.issuer = options.baseUrl + '/oauth2/default';\n    }\n\n    authClient = new OktaAuth(authParams);\n  }\n\n  // Add widget version to extended user agent header\n  if (!authClient._oktaUserAgent) {\n    throw new ConfigError('The passed in authClient should be version 5.4.0 or above.');\n  } else {\n    authClient._oktaUserAgent.addEnvironment(`okta-signin-widget-${config.version}`);\n  }\n\n  return authClient;\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(self, function() {\nreturn ","\n\n// Do not use this type in code, so it won't be emitted in the declaration output\nimport { removeNils } from '../util';\n\nimport * as features from '../features';\nimport * as constants from '../constants';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport Emitter from 'tiny-emitter';\n\nimport {\n  EventEmitter,\n  OktaAuthConstructor,\n  OktaAuthBaseInterface,\n  OktaAuthBaseOptions,\n  OktaAuthOptionsConstructor, \n  FeaturesAPI,\n} from './types';\n\nexport function createOktaAuthBase\n<\n  O extends OktaAuthBaseOptions = OktaAuthBaseOptions,\n>\n(\n  OptionsConstructor: OktaAuthOptionsConstructor<O>\n): OktaAuthConstructor<OktaAuthBaseInterface<O>>\n{\n  class OktaAuthBase implements OktaAuthBaseInterface<O>\n  {\n    options: O;\n    emitter: EventEmitter;\n    features: FeaturesAPI;\n    static features: FeaturesAPI = features;\n    static constants = constants;\n    \n    constructor(...args: any[]) {\n      const options = new OptionsConstructor(args.length ? args[0] || {} : {});\n      this.options = removeNils(options) as O; // clear out undefined values\n      this.emitter = new Emitter();\n      this.features = features;\n    }\n  }\n\n  // Hoist feature detection functions to prototype & static type\n  OktaAuthBase.features = OktaAuthBase.prototype.features = features;\n\n  // Also hoist constants for CommonJS users\n  Object.assign(OktaAuthBase, {\n    constants\n  });\n\n  return OktaAuthBase;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthBaseOptions } from './types';\n\nexport function createBaseOptionsConstructor() {\n\n  return class BaseOptionsConstructor implements Required<OktaAuthBaseOptions> {\n    devMode: boolean;\n\n    constructor(args: any) {\n      this.devMode = !!args.devMode;\n    }\n  };\n\n}\n","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport Cookies from 'js-cookie';\nimport AuthSdkError from '../errors/AuthSdkError';\nimport {\n  StorageOptions,\n  CookieOptions,\n  SimpleStorage,\n  StorageType,\n  StorageUtil,\n} from '../storage/types';\nimport { warn } from '../util';\nimport { isIE11OrLess } from '../features';\n\nexport interface CookieStorage extends SimpleStorage {\n  setItem(key: string, value: any, expiresAt?: string | null): void; // can customize expiresAt\n  getItem(key?: string): any; // if no key is passed, all cookies are returned\n  removeItem(key: string); // remove a cookie\n}\n\nexport interface BrowserStorageUtil extends StorageUtil {\n  browserHasLocalStorage(): boolean;\n  browserHasSessionStorage(): boolean;\n  getStorageByType(storageType: StorageType, options: StorageOptions): SimpleStorage;\n  getLocalStorage(): Storage;\n  getSessionStorage(): Storage;\n  getInMemoryStorage(): SimpleStorage;\n  getCookieStorage(options?: StorageOptions): CookieStorage;\n  testStorage(storage: any): boolean;\n  storage: Cookies;\n  inMemoryStore: Record<string, unknown>;\n}\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil: BrowserStorageUtil = {\n\n  // IE11 bug that Microsoft doesn't plan to fix\n  // https://connect.microsoft.com/IE/Feedback/Details/1496040\n  browserHasLocalStorage: function() {\n    try {\n      var storage = this.getLocalStorage();\n      return this.testStorage(storage);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  browserHasSessionStorage: function() {\n    try {\n      var storage = this.getSessionStorage();\n      return this.testStorage(storage);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  testStorageType: function(storageType: StorageType): boolean {\n    var supported = false;\n    switch (storageType) {\n      case 'sessionStorage':\n        supported = this.browserHasSessionStorage();\n        break;\n      case 'localStorage':\n        supported = this.browserHasLocalStorage();\n        break;\n      case 'cookie':\n      case 'memory':\n        supported = true;\n        break;\n      default:\n        supported = false;\n        break;\n    }\n    return supported;\n  },\n\n  getStorageByType: function(storageType: StorageType, options?: StorageOptions): SimpleStorage {\n    let storageProvider;\n    switch (storageType) {\n      case 'sessionStorage':\n        storageProvider = this.getSessionStorage();\n        break;\n      case 'localStorage':\n        storageProvider = this.getLocalStorage();\n        break;\n      case 'cookie':\n        storageProvider = this.getCookieStorage(options);\n        break;\n      case 'memory':\n        storageProvider = this.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError(`Unrecognized storage option: ${storageType}`);\n        break;\n    }\n    return storageProvider;\n  },\n\n  findStorageType: function(types: StorageType[]) {\n    let curType;\n    let nextType;\n    \n    types = types.slice(); // copy array\n    curType = types.shift();\n    nextType = types.length ? types[0] : null;\n    if (!nextType) {\n      return curType;\n    }\n\n    if (this.testStorageType(curType)) {\n      return curType;\n    }\n\n    // preferred type was unsupported.\n    warn(`This browser doesn't support ${curType}. Switching to ${nextType}.`);\n\n    // fallback to the next type. this is a recursive call\n    return this.findStorageType(types);\n  },\n\n  getLocalStorage: function() {\n    // Workaound for synchronization issue of LocalStorage cross tabs in IE11\n    if (isIE11OrLess() && !window.onstorage) {\n      window.onstorage = function() {};\n    }\n    \n    return localStorage;\n  },\n\n  getSessionStorage: function() {\n    return sessionStorage;\n  },\n\n  // Provides webStorage-like interface for cookies\n  getCookieStorage: function(options): CookieStorage {\n    const secure = options!.secure;\n    const sameSite = options!.sameSite;\n    const sessionCookie = options!.sessionCookie;\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n    }\n    const storage: CookieStorage = {\n      getItem: this.storage.get,\n      setItem: (key, value, expiresAt = '2200-01-01T00:00:00.000Z') => {\n        // By defauilt, cookie shouldn't expire\n        expiresAt = (sessionCookie ? null : expiresAt) as string;\n        this.storage.set(key, value, expiresAt, {\n          secure: secure, \n          sameSite: sameSite,\n        });\n      },\n      removeItem: (key) => {\n        this.storage.delete(key);\n      },\n    };\n\n    if (!options!.useSeparateCookies) {\n      return storage;\n    }\n\n    // Tokens are stored separately because cookies have size limits.\n    // Can only be used when storing an object value. Object properties will be saved to separate cookies.\n    // Each property of the object must also be an object.\n    return {\n      getItem: function(key) {\n        var data = storage.getItem(); // read all cookies\n        var value = {};\n        Object.keys(data).forEach(k => {\n          if (k.indexOf(key!) === 0) { // filter out unrelated cookies\n            value[k.replace(`${key}_`, '')] = JSON.parse(data[k]); // populate with cookie data\n          }\n        });\n        return JSON.stringify(value);\n      },\n      setItem: function(key, value) {\n        var existingValues = JSON.parse(this.getItem(key));\n        value = JSON.parse(value);\n        // Set key-value pairs from input to cookies\n        Object.keys(value).forEach(k => {\n          var storageKey = key + '_' + k;\n          var valueToStore = JSON.stringify(value[k]);\n          storage.setItem(storageKey, valueToStore);\n          delete existingValues[k];\n        });\n        // Delete unmatched keys from existing cookies\n        Object.keys(existingValues).forEach(k => {\n          storage.removeItem(key + '_' + k);\n        });\n      },\n      removeItem: function(key) {\n        var existingValues = JSON.parse(this.getItem(key));\n        Object.keys(existingValues).forEach(k => {\n          storage.removeItem(key + '_' + k);\n        });\n      },\n    };\n  },\n\n  // Provides an in-memory solution\n  inMemoryStore: {}, // override this for a unique memory store per instance\n  getInMemoryStorage: function() {\n    return {\n      getItem: (key) => {\n        return this.inMemoryStore[key];\n      },\n      setItem: (key, value) => {\n        this.inMemoryStore[key] = value;\n      },\n    };\n  },\n\n  testStorage: function(storage) {\n    var key = 'okta-test-storage';\n    try {\n      storage.setItem(key, key);\n      storage.removeItem(key);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n\n  storage: {\n    set: function(name: string, value: string, expiresAt: string, options: CookieOptions): string {\n      const { sameSite, secure } = options;\n      if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n        throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n      }\n      var cookieOptions: CookieOptions = {\n        path: options.path || '/',\n        secure,\n        sameSite\n      };\n\n      // eslint-disable-next-line no-extra-boolean-cast\n      if (!!(Date.parse(expiresAt))) {\n        // Expires value can be converted to a Date object.\n        //\n        // If the 'expiresAt' value is not provided, or the value cannot be\n        // parsed as a Date object, the cookie will set as a session cookie.\n        cookieOptions.expires = new Date(expiresAt);\n      }\n\n      Cookies.set(name, value, cookieOptions);\n      return this.get(name);\n    },\n\n    get: function(name?: string): string {\n      // return all cookies when no args is provided\n      if (!arguments.length) {\n        return Cookies.get();\n      }\n      return Cookies.get(name);\n    },\n\n    delete: function(name: string): string {\n      return Cookies.remove(name, { path: '/' });\n    }\n  }\n};\n\nexport default storageUtil;\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError } from '../errors';\nimport { isFingerprintSupported } from '../features';\nimport {\n  addListener,\n  removeListener\n} from '../oidc';\nimport { FingerprintOptions } from '../base/types';\nimport { OktaAuthHttpInterface } from '../http/types';\n\nconst isMessageFromCorrectSource = (iframe: HTMLIFrameElement, event: MessageEvent)\n: boolean => event.source === iframe.contentWindow;\n\nexport default function fingerprint(sdk: OktaAuthHttpInterface, options?: FingerprintOptions): Promise<string> {\n  if (!isFingerprintSupported()) {\n    return Promise.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  const container = options?.container ?? document.body;\n  let timeout: NodeJS.Timeout;\n  let iframe: HTMLIFrameElement;\n  let listener: (this: Window, ev: MessageEvent) => void;\n  const promise = new Promise(function (resolve, reject) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n\n    // eslint-disable-next-line complexity\n    listener = function listener(e: MessageEvent) {\n      if (!isMessageFromCorrectSource(iframe, e)) {\n        return;\n      }\n\n      if (!e || !e.data || e.origin !== sdk.getIssuerOrigin()) {\n        return;\n      }\n\n      let msg;\n      try {\n        msg = JSON.parse(e.data);\n      } catch (err) {\n        // iframe messages should all be parsable\n        // skip not parsable messages come from other sources in same origin (browser extensions)\n        // TODO: add namespace flag in okta-core to distinguish messages that come from other sources\n        return;\n      }\n\n      if (!msg) { return; }\n      if (msg.type === 'FingerprintAvailable') {\n        return resolve(msg.fingerprint as string);\n      } else if (msg.type === 'FingerprintServiceReady') {\n        iframe?.contentWindow?.postMessage(JSON.stringify({\n          type: 'GetFingerprint'\n        }), e.origin);\n      } else {\n        return reject(new AuthSdkError('No data'));\n      }\n    };\n    addListener(window, 'message', listener);\n\n    iframe.src = sdk.getIssuerOrigin() + '/auth/services/devicefingerprint';\n    container.appendChild(iframe);\n\n    timeout = setTimeout(function() {\n      reject(new AuthSdkError('Fingerprinting timed out'));\n    }, options?.timeout || 15000);\n  });\n\n  return promise.finally(function() {\n    clearTimeout(timeout);\n    removeListener(window, 'message', listener);\n    if (container.contains(iframe)) {\n      iframe.parentElement?.removeChild(iframe);\n    }\n  }) as Promise<string>;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport const STATE_TOKEN_KEY_NAME = 'oktaStateToken';\nexport const DEFAULT_POLLING_DELAY = 500;\nexport const IOS_PAGE_AWAKEN_TIMEOUT = 500;\nexport const DEFAULT_MAX_CLOCK_SKEW = 300;\nexport const DEFAULT_CACHE_DURATION = 86400;\nexport const TOKEN_STORAGE_NAME = 'okta-token-storage';\nexport const CACHE_STORAGE_NAME = 'okta-cache-storage';\nexport const PKCE_STORAGE_NAME = 'okta-pkce-storage';\nexport const TRANSACTION_STORAGE_NAME = 'okta-transaction-storage';\nexport const SHARED_TRANSACTION_STORAGE_NAME = 'okta-shared-transaction-storage';\nexport const ORIGINAL_URI_STORAGE_NAME = 'okta-original-uri-storage';\nexport const IDX_RESPONSE_STORAGE_NAME = 'okta-idx-response-storage';\nexport const ACCESS_TOKEN_STORAGE_KEY = 'accessToken';\nexport const ID_TOKEN_STORAGE_KEY =  'idToken';\nexport const REFRESH_TOKEN_STORAGE_KEY =  'refreshToken';\nexport const REFERRER_PATH_STORAGE_KEY = 'referrerPath';\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nexport const MIN_VERIFIER_LENGTH = 43;\nexport const MAX_VERIFIER_LENGTH = 128;\nexport const DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nexport const IDX_API_VERSION = '1.0.0';","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n \n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport PCancelable from 'p-cancelable';\nimport { AuthSdkError } from '../errors';\nimport {\n  EVENT_ADDED,\n  EVENT_REMOVED,\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface\n} from '../oidc';\nimport {\n  AuthState,\n  AuthStateLogOptions,\n  OktaAuthCoreOptions,\n} from './types';\nimport { PromiseQueue, getConsole } from '../util';\n\nexport const INITIAL_AUTH_STATE = null;\nconst DEFAULT_PENDING = {\n  updateAuthStatePromise: null,\n  canceledTimes: 0\n};\nconst EVENT_AUTH_STATE_CHANGE = 'authStateChange';\nconst MAX_PROMISE_CANCEL_TIMES = 10;\n\n// only compare first level of authState\nconst isSameAuthState = (prevState: AuthState | null, state: AuthState) => {\n  // initial state is null\n  if (!prevState) {\n    return false;\n  }\n\n  return prevState.isAuthenticated === state.isAuthenticated \n    && JSON.stringify(prevState.idToken) === JSON.stringify(state.idToken)\n    && JSON.stringify(prevState.accessToken) === JSON.stringify(state.accessToken)\n    && prevState.error === state.error;\n};\n\n\nexport class AuthStateManager\n<\n  M extends OAuthTransactionMeta,\n  S extends OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions\n>\n{\n  _sdk: OktaAuthOAuthInterface<M, S, O>;\n  _pending: { \n    updateAuthStatePromise: any;\n    canceledTimes: number; \n  };\n  _authState: AuthState | null;\n  _prevAuthState: AuthState | null;\n  _logOptions: AuthStateLogOptions;\n  _transformQueue: PromiseQueue;\n\n  constructor(sdk: OktaAuthOAuthInterface<M, S, O>) {\n    if (!sdk.emitter) {\n      throw new AuthSdkError('Emitter should be initialized before AuthStateManager');\n    }\n\n    this._sdk = sdk;\n    this._pending = { ...DEFAULT_PENDING };\n    this._authState = INITIAL_AUTH_STATE;\n    this._logOptions = {};\n    this._prevAuthState = null;\n    this._transformQueue = new PromiseQueue({\n      quiet: true\n    });\n\n    // Listen on tokenManager events to start updateState process\n    // \"added\" event is emitted in both add and renew process\n    // Only listen on \"added\" event to update auth state\n    sdk.tokenManager.on(EVENT_ADDED, (key, token) => {\n      this._setLogOptions({ event: EVENT_ADDED, key, token });\n      this.updateAuthState();\n    });\n    sdk.tokenManager.on(EVENT_REMOVED, (key, token) => {\n      this._setLogOptions({ event: EVENT_REMOVED, key, token });\n      this.updateAuthState();\n    });\n  }\n\n  _setLogOptions(options) {\n    this._logOptions = options;\n  }\n\n  getAuthState(): AuthState | null {\n    return this._authState;\n  }\n\n  getPreviousAuthState(): AuthState | null {\n    return this._prevAuthState;\n  }\n\n  async updateAuthState(): Promise<AuthState> {\n    const { transformAuthState, devMode } = this._sdk.options;\n\n    const log = (status) => {\n      const { event, key, token } = this._logOptions;\n      getConsole().group(`OKTA-AUTH-JS:updateAuthState: Event:${event} Status:${status}`);\n      getConsole().log(key, token);\n      getConsole().log('Current authState', this._authState);\n      getConsole().groupEnd();\n      \n      // clear log options after logging\n      this._logOptions = {};\n    };\n\n    const emitAuthStateChange = (authState) => {\n      if (isSameAuthState(this._authState, authState)) {\n        devMode && log('unchanged'); \n        return;\n      }\n      this._prevAuthState = this._authState;\n      this._authState = authState;\n      // emit new authState object\n      this._sdk.emitter.emit(EVENT_AUTH_STATE_CHANGE, { ...authState });\n      devMode && log('emitted');\n    };\n\n    const finalPromise = (origPromise) => {       \n      return this._pending.updateAuthStatePromise.then(() => {\n        const curPromise = this._pending.updateAuthStatePromise;\n        if (curPromise && curPromise !== origPromise) {\n          return finalPromise(curPromise);\n        }\n        return this.getAuthState();\n      });\n    };\n\n    if (this._pending.updateAuthStatePromise) {\n      if (this._pending.canceledTimes >= MAX_PROMISE_CANCEL_TIMES) {\n        // stop canceling then starting a new promise\n        // let existing promise finish to prevent running into loops\n        devMode && log('terminated');\n        return finalPromise(this._pending.updateAuthStatePromise);\n      } else {\n        this._pending.updateAuthStatePromise.cancel();\n      }\n    }\n\n    /* eslint-disable complexity */\n    const cancelablePromise = new PCancelable((resolve, _, onCancel) => {\n      onCancel.shouldReject = false;\n      onCancel(() => {\n        this._pending.updateAuthStatePromise = null;\n        this._pending.canceledTimes = this._pending.canceledTimes + 1;\n        devMode && log('canceled');\n      });\n\n      const emitAndResolve = (authState) => {\n        if (cancelablePromise.isCanceled) {\n          resolve();\n          return;\n        }\n        // emit event and resolve promise \n        emitAuthStateChange(authState);\n        resolve();\n\n        // clear pending states after resolve\n        this._pending = { ...DEFAULT_PENDING };\n      };\n\n      this._sdk.isAuthenticated()\n        .then(() => {\n          if (cancelablePromise.isCanceled) {\n            resolve();\n            return;\n          }\n\n          const { accessToken, idToken, refreshToken } = this._sdk.tokenManager.getTokensSync();\n          const authState = {\n            accessToken,\n            idToken,\n            refreshToken,\n            isAuthenticated: !!(accessToken && idToken)\n          };\n\n          // Enqueue transformAuthState so that it does not run concurrently\n          const promise: Promise<AuthState> = transformAuthState\n            ? this._transformQueue.push(transformAuthState, null, this._sdk, authState) as Promise<AuthState>\n            : Promise.resolve(authState);\n\n          promise\n            .then(authState => emitAndResolve(authState))\n            .catch(error => emitAndResolve({\n              accessToken, \n              idToken, \n              refreshToken,\n              isAuthenticated: false, \n              error\n            }));\n        });\n    });\n    /* eslint-enable complexity */\n    this._pending.updateAuthStatePromise = cancelablePromise;\n\n    return finalPromise(cancelablePromise);\n  }\n\n  subscribe(handler): void {\n    this._sdk.emitter.on(EVENT_AUTH_STATE_CHANGE, handler);\n  }\n\n  unsubscribe(handler?): void {\n    this._sdk.emitter.off(EVENT_AUTH_STATE_CHANGE, handler);\n  }\n}\n","/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n  return obj && typeof obj.then === 'function';\n}\nexport var PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nexport var PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nexport var PROMISE_RESOLVED_VOID = Promise.resolve();\nexport function sleep(time, resolveWith) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      return res(resolveWith);\n    }, time);\n  });\n}\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * https://stackoverflow.com/a/8084248\n */\nexport function randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\n\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\nexport function microSeconds() {\n  var ms = new Date().getTime();\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}\n\n/**\n * Check if WebLock API is supported.\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API\n */\nexport function supportsWebLockAPI() {\n  if (typeof navigator !== 'undefined' && typeof navigator.locks !== 'undefined' && typeof navigator.locks.request === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}","import { microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  if ((typeof window !== 'undefined' || typeof self !== 'undefined') && typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport var NativeMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * this is a set which automatically forgets\n * a given entry when a new entry is set and the ttl\n * of the old one is over\n */\nvar ObliviousSet = /** @class */ (function () {\n    function ObliviousSet(ttl) {\n        this.ttl = ttl;\n        this.map = new Map();\n        /**\n         * Creating calls to setTimeout() is expensive,\n         * so we only do that if there is not timeout already open.\n         */\n        this._to = false;\n    }\n    ObliviousSet.prototype.has = function (value) {\n        return this.map.has(value);\n    };\n    ObliviousSet.prototype.add = function (value) {\n        var _this = this;\n        this.map.set(value, now());\n        /**\n         * When a new value is added,\n         * start the cleanup at the next tick\n         * to not block the cpu for more important stuff\n         * that might happen.\n         */\n        if (!this._to) {\n            this._to = true;\n            setTimeout(function () {\n                _this._to = false;\n                removeTooOldValues(_this);\n            }, 0);\n        }\n    };\n    ObliviousSet.prototype.clear = function () {\n        this.map.clear();\n    };\n    return ObliviousSet;\n}());\nexport { ObliviousSet };\n/**\n * Removes all entries from the set\n * where the TTL has expired\n */\nexport function removeTooOldValues(obliviousSet) {\n    var olderThen = now() - obliviousSet.ttl;\n    var iterator = obliviousSet.map[Symbol.iterator]();\n    /**\n     * Because we can assume the new values are added at the bottom,\n     * we start from the top and stop as soon as we reach a non-too-old value.\n     */\n    while (true) {\n        var next = iterator.next().value;\n        if (!next) {\n            return; // no more elements\n        }\n        var value = next[0];\n        var time = next[1];\n        if (time < olderThen) {\n            obliviousSet.map.delete(value);\n        }\n        else {\n            // We reached a value that is not old enough\n            return;\n        }\n    }\n}\nexport function now() {\n    return new Date().getTime();\n}\n//# sourceMappingURL=index.js.map","export function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n\n  // node\n  if (!options.node) options.node = {};\n  if (!options.node.ttl) options.node.ttl = 1000 * 60 * 2; // 2 minutes;\n  /**\n   * On linux use 'ulimit -Hn' to get the limit of open files.\n   * On ubuntu this was 4096 for me, so we use half of that as maxParallelWrites default.\n   */\n  if (!options.node.maxParallelWrites) options.node.maxParallelWrites = 2048;\n  if (typeof options.node.useFastPath === 'undefined') options.node.useFastPath = true;\n  return options;\n}","/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n * \n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */\n\nimport { sleep, randomInt, randomToken, microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\n\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport var TRANSACTION_SETTINGS = {\n  durability: 'relaxed'\n};\nexport var type = 'idb';\nexport function getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window !== 'undefined') {\n    if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  }\n  return false;\n}\n\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\nexport function commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nexport function createDatabase(channelName) {\n  var IndexedDB = getIdb();\n\n  // create table\n  var dbName = DB_PREFIX + channelName;\n\n  /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */\n  var openRequest = IndexedDB.open(dbName);\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n  return new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n}\n\n/**\n * writes the new message to the database\n * so other readers can find it\n */\nexport function writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  return new Promise(function (res, rej) {\n    tx.oncomplete = function () {\n      return res();\n    };\n    tx.onerror = function (ev) {\n      return rej(ev);\n    };\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nexport function getAllMessages(db) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        ret.push(cursor.value);\n        //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n        cursor[\"continue\"]();\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n\n  /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function (res, rej) {\n      getAllRequest.onerror = function (err) {\n        return rej(err);\n      };\n      getAllRequest.onsuccess = function (e) {\n        res(e.target.result);\n      };\n    });\n  }\n  function openCursor() {\n    // Occasionally Safari will fail on IDBKeyRange.bound, this\n    // catches that error, having it open the cursor to the first\n    // item. When it gets data it will advance to the desired key.\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n  return new Promise(function (res, rej) {\n    var openCursorRequest = openCursor();\n    openCursorRequest.onerror = function (err) {\n      return rej(err);\n    };\n    openCursorRequest.onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function removeMessagesById(channelState, ids) {\n  if (channelState.closed) {\n    return Promise.resolve([]);\n  }\n  var tx = channelState.db.transaction(OBJECT_STORE_ID, 'readwrite', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function (id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function (res) {\n      deleteRequest.onsuccess = function () {\n        return res();\n      };\n    });\n  }));\n}\nexport function getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        var msgObk = cursor.value;\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk);\n          //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          commitIndexedDBTransaction(tx);\n          res(ret);\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function cleanOldMessages(channelState) {\n  return getOldMessages(channelState.db, channelState.options.idb.ttl).then(function (tooOld) {\n    return removeMessagesById(channelState, tooOld.map(function (msg) {\n      return msg.id;\n    }));\n  });\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(),\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parallel\n      writeBlockPromise: PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n\n    /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */\n    db.onclose = function () {\n      state.closed = true;\n      if (options.idb.onclose) options.idb.onclose();\n    };\n\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n    _readLoop(state);\n    return state;\n  });\n}\nfunction _readLoop(state) {\n  if (state.closed) return;\n  readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n  return true;\n}\n\n/**\n * reads all new messages from the database and emits them\n */\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return PROMISE_RESOLVED_VOID;\n\n  // if no one is listening, we do not need to scan for new messages\n  if (!state.messagesCallback) return PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined sometimes\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */.filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return PROMISE_RESOLVED_VOID;\n  });\n}\nexport function close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nexport function canBeUsed() {\n  return !!getIdb();\n}\nexport function averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nexport var IndexedDBMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside webworkers because they have no access to localstorage\n * This is basically implemented to support IE9 or your grandmother's toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nimport { sleep, randomToken, microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'localstorage';\n\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\nexport function getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage;\n}\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nexport function addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n  window.addEventListener('storage', listener);\n  return listener;\n}\nexport function removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  if (!canBeUsed()) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n  var uuid = randomToken();\n\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n  };\n\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n    if (msgObj.uuid === uuid) return; // own message\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nexport function close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  var ls = getLocalStorage();\n  if (!ls) return false;\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n  return true;\n}\nexport function averageResponseTime() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2;\n  }\n  return defaultTime;\n}\nexport var LocalstorageMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'simulate';\nvar SIMULATE_CHANNELS = new Set();\nexport function create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nexport function close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  return 5;\n}\nexport var SimulateMethod = {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { NativeMethod } from './methods/native.js';\nimport { IndexedDBMethod } from './methods/indexed-db.js';\nimport { LocalstorageMethod } from './methods/localstorage.js';\nimport { SimulateMethod } from './methods/simulate.js';\n// the line below will be removed from es5/browser builds\n\n// order is important\nvar METHODS = [NativeMethod,\n// fastest\nIndexedDBMethod, LocalstorageMethod];\nexport function chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n\n  // the line below will be removed from es5/browser builds\n\n  // directly chosen\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return SimulateMethod;\n    }\n    var ret = chooseMethods.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage will be chosen\n   */\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod) {\n    throw new Error(\"No usable method found in \" + JSON.stringify(METHODS.map(function (m) {\n      return m.type;\n    })));\n  } else {\n    return useMethod;\n  }\n}","import { isPromise, PROMISE_RESOLVED_FALSE, PROMISE_RESOLVED_VOID } from './util.js';\nimport { chooseMethod } from './method-chooser.js';\nimport { fillOptionsWithDefaults } from './options.js';\n\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */\nexport var OPEN_BROADCAST_CHANNELS = new Set();\nvar lastId = 0;\nexport var BroadcastChannel = function BroadcastChannel(name, options) {\n  // identifier of the channel to debug stuff\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options);\n\n  // isListening\n  this._iL = false;\n\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n  this._onML = null;\n\n  /**\n   * _addEventListeners\n   */\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n\n  /**\n   * Unsent message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */\n  this._uMP = new Set();\n\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n  this._befC = [];\n\n  /**\n   * _preparePromise\n   */\n  this._prepP = null;\n  _prepareChannel(this);\n};\n\n// STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\nBroadcastChannel._pubkey = true;\n\n/**\n * clears the tmp-folder if is node\n * @return {Promise<boolean>} true if has run, false if not node\n */\nexport function clearNodeFolder(options) {\n  options = fillOptionsWithDefaults(options);\n  var method = chooseMethod(options);\n  if (method.type === 'node') {\n    return method.clearNodeFolder().then(function () {\n      return true;\n    });\n  } else {\n    return PROMISE_RESOLVED_FALSE;\n  }\n}\n\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\nvar ENFORCED_OPTIONS;\nexport function enforceOptions(options) {\n  ENFORCED_OPTIONS = options;\n}\n\n// PROTOTYPE\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed ' +\n      /**\n       * In the past when this error appeared, it was really hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _removeListenerObject(this, 'message', this._onML);\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n    if (this.closed) {\n      return;\n    }\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare\n    // wait until all current sending are processed\n    .then(function () {\n      return Promise.all(Array.from(_this._uMP));\n    })\n    // run before-close hooks\n    .then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    })\n    // close the channel\n    .then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n  get type() {\n    return this.method.type;\n  },\n  get isClosed() {\n    return this.closed;\n  }\n};\n\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function () {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n\n    // add/remove to unsent messages list\n    broadcastChannel._uMP.add(sendPromise);\n    sendPromise[\"catch\"]().then(function () {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n  _startListening(channel);\n}\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n  _stopListening(channel);\n}\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (listenerObject) {\n        /**\n         * Getting the current time in JavaScript has no good precision.\n         * So instead of only listening to events that happened 'after' the listener\n         * was added, we also listen to events that happened 100ms before it.\n         * This ensures that when another process, like a WebWorker, sends events\n         * we do not miss them out because their timestamp is a bit off compared to the main process.\n         * Not doing this would make messages missing when we send data directly after subscribing and awaiting a response.\n         * @link https://johnresig.com/blog/accuracy-of-javascript-time/\n         */\n        var hundredMsInMicro = 100 * 1000;\n        var minMessageTime = listenerObject.time - hundredMsInMicro;\n        if (msgObj.time >= minMessageTime) {\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n    var time = channel.method.microSeconds();\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // no one is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}","import { addBrowser } from './browser.js';\nimport { addNode } from './node.js';\n\n/**\n * Use the code directly to prevent import problems\n * with the detect-node package.\n * @link https://github.com/iliakan/detect-node/blob/master/index.js\n */\nvar isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\nvar USE_METHOD = isNode ? addNode : addBrowser;\nvar LISTENERS = new Set();\nvar startedListening = false;\nfunction startListening() {\n  if (startedListening) {\n    return;\n  }\n  startedListening = true;\n  USE_METHOD(runAll);\n}\nexport function add(fn) {\n  startListening();\n  if (typeof fn !== 'function') {\n    throw new Error('Listener is no function');\n  }\n  LISTENERS.add(fn);\n  var addReturn = {\n    remove: function remove() {\n      return LISTENERS[\"delete\"](fn);\n    },\n    run: function run() {\n      LISTENERS[\"delete\"](fn);\n      return fn();\n    }\n  };\n  return addReturn;\n}\nexport function runAll() {\n  var promises = [];\n  LISTENERS.forEach(function (fn) {\n    promises.push(fn());\n    LISTENERS[\"delete\"](fn);\n  });\n  return Promise.all(promises);\n}\nexport function removeAll() {\n  LISTENERS.clear();\n}\nexport function getSize() {\n  return LISTENERS.size;\n}","export function addNode(fn) {\n  process.on('exit', function () {\n    return fn();\n  });\n\n  /**\n   * on the following events,\n   * the process will not end if there are\n   * event-handlers attached,\n   * therefore we have to call process.exit()\n   */\n  process.on('beforeExit', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches ctrl+c event\n  process.on('SIGINT', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches uncaught exceptions\n  process.on('uncaughtException', function (err) {\n    return fn().then(function () {\n      console.trace(err);\n      process.exit(101);\n    });\n  });\n}","/* global WorkerGlobalScope */\n\nexport function addBrowser(fn) {\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {\n    /**\n     * Because killing a worker does directly stop the excution\n     * of the code, our only chance is to overwrite the close function\n     * which could work some times.\n     * @link https://stackoverflow.com/q/72903255/3443137\n     */\n    var oldClose = self.close.bind(self);\n    self.close = function () {\n      fn();\n      return oldClose();\n    };\n  } else {\n    /**\n     * if we are on react-native, there is no window.addEventListener\n     * @link https://github.com/pubkey/unload/issues/6\n     */\n    if (typeof window.addEventListener !== 'function') {\n      return;\n    }\n\n    /**\n     * for normal browser-windows, we use the beforeunload-event\n     */\n    window.addEventListener('beforeunload', function () {\n      fn();\n    }, true);\n\n    /**\n     * for iframes, we have to use the unload-event\n     * @link https://stackoverflow.com/q/47533670/3443137\n     */\n    window.addEventListener('unload', function () {\n      fn();\n    }, true);\n  }\n\n  /**\n   * TODO add fallback for safari-mobile\n   * @link https://stackoverflow.com/a/26193516/3443137\n   */\n}","import { add as unloadAdd } from 'unload';\n\n/**\n * sends and internal message over the broadcast-channel\n */\nexport function sendLeaderMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector.broadcastChannel.postInternal(msgJson);\n}\nexport function beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  leaderElector._hasLeader = true;\n  var unloadFn = unloadAdd(function () {\n    return leaderElector.die();\n  });\n  leaderElector._unl.push(unloadFn);\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      sendLeaderMessage(leaderElector, 'tell');\n    }\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._dpLC) {\n      /**\n       * another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       * @link https://github.com/pubkey/broadcast-channel/issues/414\n       * @link https://github.com/pubkey/broadcast-channel/issues/385\n       */\n      leaderElector._dpLC = true;\n      leaderElector._dpL(); // message the lib user so the app can handle the problem\n      sendLeaderMessage(leaderElector, 'tell'); // ensure other leader also knows the problem\n    }\n  };\n\n  leaderElector.broadcastChannel.addEventListener('internal', isLeaderListener);\n  leaderElector._lstns.push(isLeaderListener);\n  return sendLeaderMessage(leaderElector, 'tell');\n}","import { randomToken } from './util.js';\nimport { sendLeaderMessage, beLeader } from './leader-election-util.js';\n\n/**\n * A faster version of the leader elector that uses the WebLock API\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API\n */\nexport var LeaderElectionWebLock = function LeaderElectionWebLock(broadcastChannel, options) {\n  var _this = this;\n  this.broadcastChannel = broadcastChannel;\n  broadcastChannel._befC.push(function () {\n    return _this.die();\n  });\n  this._options = options;\n  this.isLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n  this._lstns = [];\n  this._unl = [];\n  this._dpL = function () {}; // onduplicate listener\n  this._dpLC = false; // true when onduplicate called\n\n  this._wKMC = {}; // stuff for cleanup\n\n  // lock name\n  this.lN = 'pubkey-bc||' + broadcastChannel.method.type + '||' + broadcastChannel.name;\n};\nLeaderElectionWebLock.prototype = {\n  hasLeader: function hasLeader() {\n    var _this2 = this;\n    return navigator.locks.query().then(function (locks) {\n      var relevantLocks = locks.held ? locks.held.filter(function (lock) {\n        return lock.name === _this2.lN;\n      }) : [];\n      if (relevantLocks && relevantLocks.length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    var _this3 = this;\n    if (!this._wLMP) {\n      this._wKMC.c = new AbortController();\n      var returnPromise = new Promise(function (res, rej) {\n        _this3._wKMC.res = res;\n        _this3._wKMC.rej = rej;\n      });\n      this._wLMP = new Promise(function (res) {\n        navigator.locks.request(_this3.lN, {\n          signal: _this3._wKMC.c.signal\n        }, function () {\n          // if the lock resolved, we can drop the abort controller\n          _this3._wKMC.c = undefined;\n          beLeader(_this3);\n          res();\n          return returnPromise;\n        })[\"catch\"](function () {});\n      });\n    }\n    return this._wLMP;\n  },\n  set onduplicate(_fn) {\n    // Do nothing because there are no duplicates in the WebLock version\n  },\n  die: function die() {\n    var _this4 = this;\n    this._lstns.forEach(function (listener) {\n      return _this4.broadcastChannel.removeEventListener('internal', listener);\n    });\n    this._lstns = [];\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n    this._unl = [];\n    if (this.isLeader) {\n      this.isLeader = false;\n    }\n    this.isDead = true;\n    if (this._wKMC.res) {\n      this._wKMC.res();\n    }\n    if (this._wKMC.c) {\n      this._wKMC.c.abort('LeaderElectionWebLock.die() called');\n    }\n    return sendLeaderMessage(this, 'death');\n  }\n};","import { sleep, randomToken, PROMISE_RESOLVED_VOID, PROMISE_RESOLVED_TRUE, supportsWebLockAPI } from './util.js';\nimport { sendLeaderMessage, beLeader } from './leader-election-util.js';\nimport { LeaderElectionWebLock } from './leader-election-web-lock.js';\nvar LeaderElection = function LeaderElection(broadcastChannel, options) {\n  var _this = this;\n  this.broadcastChannel = broadcastChannel;\n  this._options = options;\n  this.isLeader = false;\n  this._hasLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n\n  /**\n   * Apply Queue,\n   * used to ensure we do not run applyOnce()\n   * in parallel.\n   */\n  this._aplQ = PROMISE_RESOLVED_VOID;\n  // amount of unfinished applyOnce() calls\n  this._aplQC = 0;\n\n  // things to clean up\n  this._unl = []; // _unloads\n  this._lstns = []; // _listeners\n  this._dpL = function () {}; // onduplicate listener\n  this._dpLC = false; // true when onduplicate called\n\n  /**\n   * Even when the own instance is not applying,\n   * we still listen to messages to ensure the hasLeader flag\n   * is set correctly.\n   */\n  var hasLeaderListener = function hasLeaderListener(msg) {\n    if (msg.context === 'leader') {\n      if (msg.action === 'death') {\n        _this._hasLeader = false;\n      }\n      if (msg.action === 'tell') {\n        _this._hasLeader = true;\n      }\n    }\n  };\n  this.broadcastChannel.addEventListener('internal', hasLeaderListener);\n  this._lstns.push(hasLeaderListener);\n};\nLeaderElection.prototype = {\n  hasLeader: function hasLeader() {\n    return Promise.resolve(this._hasLeader);\n  },\n  /**\n   * Returns true if the instance is leader,\n   * false if not.\n   * @async\n   */\n  applyOnce: function applyOnce(\n  // true if the applyOnce() call came from the fallbackInterval cycle\n  isFromFallbackInterval) {\n    var _this2 = this;\n    if (this.isLeader) {\n      return sleep(0, true);\n    }\n    if (this.isDead) {\n      return sleep(0, false);\n    }\n\n    /**\n     * Already applying more than once,\n     * -> wait for the apply queue to be finished.\n     */\n    if (this._aplQC > 1) {\n      return this._aplQ;\n    }\n\n    /**\n     * Add a new apply-run\n     */\n    var applyRun = function applyRun() {\n      /**\n       * Optimization shortcuts.\n       * Directly return if a previous run\n       * has already elected a leader.\n       */\n      if (_this2.isLeader) {\n        return PROMISE_RESOLVED_TRUE;\n      }\n      var stopCriteria = false;\n      var stopCriteriaPromiseResolve;\n      /**\n       * Resolves when a stop criteria is reached.\n       * Uses as a performance shortcut so we do not\n       * have to await the responseTime when it is already clear\n       * that the election failed.\n       */\n      var stopCriteriaPromise = new Promise(function (res) {\n        stopCriteriaPromiseResolve = function stopCriteriaPromiseResolve() {\n          stopCriteria = true;\n          res();\n        };\n      });\n      var handleMessage = function handleMessage(msg) {\n        if (msg.context === 'leader' && msg.token != _this2.token) {\n          if (msg.action === 'apply') {\n            // other is applying\n            if (msg.token > _this2.token) {\n              /**\n               * other has higher token\n               * -> stop applying and let other become leader.\n               */\n              stopCriteriaPromiseResolve();\n            }\n          }\n          if (msg.action === 'tell') {\n            // other is already leader\n            stopCriteriaPromiseResolve();\n            _this2._hasLeader = true;\n          }\n        }\n      };\n      _this2.broadcastChannel.addEventListener('internal', handleMessage);\n\n      /**\n       * If the applyOnce() call came from the fallbackInterval,\n       * we can assume that the election runs in the background and\n       * not critical process is waiting for it.\n       * When this is true, we give the other instances\n       * more time to answer to messages in the election cycle.\n       * This makes it less likely to elect duplicate leaders.\n       * But also it takes longer which is not a problem because we anyway\n       * run in the background.\n       */\n      var waitForAnswerTime = isFromFallbackInterval ? _this2._options.responseTime * 4 : _this2._options.responseTime;\n      return sendLeaderMessage(_this2, 'apply') // send out that this one is applying\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })\n      // send again in case another instance was just created\n      .then(function () {\n        return sendLeaderMessage(_this2, 'apply');\n      })\n      // let others time to respond\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })[\"catch\"](function () {}).then(function () {\n        _this2.broadcastChannel.removeEventListener('internal', handleMessage);\n        if (!stopCriteria) {\n          // no stop criteria -> own is leader\n          return beLeader(_this2).then(function () {\n            return true;\n          });\n        } else {\n          // other is leader\n          return false;\n        }\n      });\n    };\n    this._aplQC = this._aplQC + 1;\n    this._aplQ = this._aplQ.then(function () {\n      return applyRun();\n    }).then(function () {\n      _this2._aplQC = _this2._aplQC - 1;\n    });\n    return this._aplQ.then(function () {\n      return _this2.isLeader;\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    if ( /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n    return this._aLP;\n  },\n  set onduplicate(fn) {\n    this._dpL = fn;\n  },\n  die: function die() {\n    var _this3 = this;\n    this._lstns.forEach(function (listener) {\n      return _this3.broadcastChannel.removeEventListener('internal', listener);\n    });\n    this._lstns = [];\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n    this._unl = [];\n    if (this.isLeader) {\n      this._hasLeader = false;\n      this.isLeader = false;\n    }\n    this.isDead = true;\n    return sendLeaderMessage(this, 'death');\n  }\n};\n\n/**\n * @param leaderElector {LeaderElector}\n */\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) {\n    return PROMISE_RESOLVED_VOID;\n  }\n  return new Promise(function (res) {\n    var resolved = false;\n    function finish() {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      leaderElector.broadcastChannel.removeEventListener('internal', whenDeathListener);\n      res(true);\n    }\n\n    // try once now\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) {\n        finish();\n      }\n    });\n\n    /**\n     * Try on fallbackInterval\n     * @recursive\n     */\n    var tryOnFallBack = function tryOnFallBack() {\n      return sleep(leaderElector._options.fallbackInterval).then(function () {\n        if (leaderElector.isDead || resolved) {\n          return;\n        }\n        if (leaderElector.isLeader) {\n          finish();\n        } else {\n          return leaderElector.applyOnce(true).then(function () {\n            if (leaderElector.isLeader) {\n              finish();\n            } else {\n              tryOnFallBack();\n            }\n          });\n        }\n      });\n    };\n    tryOnFallBack();\n\n    // try when other leader dies\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector._hasLeader = false;\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) {\n            finish();\n          }\n        });\n      }\n    };\n    leaderElector.broadcastChannel.addEventListener('internal', whenDeathListener);\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n  return options;\n}\nexport function createLeaderElection(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = supportsWebLockAPI() ? new LeaderElectionWebLock(channel, options) : new LeaderElection(channel, options);\n  channel._befC.push(function () {\n    return elector.die();\n  });\n  channel._leaderElector = elector;\n  return elector;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { ServiceInterface, ServiceManagerOptions } from '../core/types';\nimport {\n  BroadcastChannel,\n  createLeaderElection,\n  LeaderElector\n} from 'broadcast-channel';\nimport { isBrowser } from '../features';\n\ndeclare type OnLeaderHandler = (() => Promise<void>);\ndeclare type ServiceOptions = ServiceManagerOptions & {\n  onLeader?: OnLeaderHandler;\n};\n\nexport class LeaderElectionService implements ServiceInterface {\n  private options: ServiceOptions;\n  private channel?: BroadcastChannel;\n  private elector?: LeaderElector;\n  private started = false;\n\n  constructor(options: ServiceOptions = {}) {\n    this.options = options;\n    this.onLeaderDuplicate = this.onLeaderDuplicate.bind(this);\n    this.onLeader = this.onLeader.bind(this);\n  }\n\n  private onLeaderDuplicate() {\n  }\n\n  private async onLeader() {\n    await this.options.onLeader?.();\n  }\n\n  isLeader() {\n    return !!this.elector?.isLeader;\n  }\n\n  hasLeader() {\n    return !!this.elector?.hasLeader;\n  }\n\n  async start() {\n    if (this.canStart()) {\n      const { electionChannelName } = this.options;\n      this.channel = new BroadcastChannel(electionChannelName as string);\n      this.elector = createLeaderElection(this.channel);\n      this.elector.onduplicate = this.onLeaderDuplicate;\n      this.elector.awaitLeadership().then(this.onLeader);\n      this.started = true;\n    }\n  }\n\n  async stop() {\n    if (this.started) {\n      if (this.elector) {\n        await this.elector.die();\n        this.elector = undefined;\n      }\n      if (this.channel) {\n        // Workaround to fix error `Failed to execute 'postMessage' on 'BroadcastChannel': Channel is closed`\n        (this.channel as any).postInternal = () => Promise.resolve();\n        await this.channel.close();\n        this.channel = undefined;\n      }\n      this.started = false;\n    }\n  }\n\n  requiresLeadership() {\n    return false;\n  }\n\n  isStarted() {\n    return this.started;\n  }\n\n  canStart() {\n    return isBrowser() && !this.started;\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError } from '../errors';\nimport { ServiceInterface, ServiceManagerOptions } from '../core/types';\nimport { EVENT_EXPIRED, TokenManagerInterface, isRefreshToken } from '../oidc/types';\nimport { isBrowser } from '../features';\n\nexport class AutoRenewService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private options: ServiceManagerOptions;\n  private renewTimeQueue: Array<number>;\n  private started = false;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.renewTimeQueue = [];\n    this.onTokenExpiredHandler = this.onTokenExpiredHandler.bind(this);\n  }\n  \n  private shouldThrottleRenew(): boolean {\n    let res = false;\n    this.renewTimeQueue.push(Date.now());\n    if (this.renewTimeQueue.length >= 10) {\n      // get and remove first item from queue\n      const firstTime = this.renewTimeQueue.shift() as number;\n      const lastTime = this.renewTimeQueue[this.renewTimeQueue.length - 1];\n      res = (lastTime - firstTime) < 30 * 1000;\n    }\n    return res;\n  }\n\n  requiresLeadership() {\n    // If tokens sync storage is enabled, handle tokens expiration only in 1 leader tab\n    return !!this.options.syncStorage && isBrowser();\n  }\n\n  private processExpiredTokens() {\n    const tokenStorage = this.tokenManager.getStorage();\n    const tokens = tokenStorage.getStorage();\n    Object.keys(tokens).forEach(key => {\n      const token = tokens[key];\n      if (!isRefreshToken(token) && this.tokenManager.hasExpired(token)) {\n        this.onTokenExpiredHandler(key);\n      }\n    });\n  }\n\n  private onTokenExpiredHandler(key: string) {\n    if (this.options.autoRenew) {\n      if (this.shouldThrottleRenew()) {\n        const error = new AuthSdkError('Too many token renew requests');\n        this.tokenManager.emitError(error);\n      } else {\n        this.tokenManager.renew(key).catch(() => {}); // Renew errors will emit an \"error\" event \n      }\n    } else if (this.options.autoRemove) {\n      this.tokenManager.remove(key);\n    }\n  }\n\n  canStart() {\n    return (!!this.options.autoRenew || !!this.options.autoRemove) && !this.started;\n  }\n\n  async start() {\n    if (this.canStart()) {\n      this.tokenManager.on(EVENT_EXPIRED, this.onTokenExpiredHandler);\n      if (this.tokenManager.isStarted()) {\n        // If token manager has been already started, we could miss token expire events,\n        //  so need to process expired tokens manually.\n        this.processExpiredTokens();\n      }\n      this.started = true;\n    }\n  }\n\n  async stop() {\n    if (this.started) {\n      this.tokenManager.off(EVENT_EXPIRED, this.onTokenExpiredHandler);\n      this.renewTimeQueue = [];\n      this.started = false;\n    }\n  }\n\n  isStarted() {\n    return this.started;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { BroadcastChannel } from 'broadcast-channel';\nimport { isBrowser } from '../features';\nimport {\n  ServiceManagerOptions, ServiceInterface\n} from '../core/types';\nimport {\n  Token, Tokens, \n  EVENT_ADDED, EVENT_REMOVED, EVENT_RENEWED, EVENT_SET_STORAGE, TokenManagerInterface\n} from '../oidc/types';\nimport { AuthSdkError } from '../errors';\n\nexport type SyncMessage = {\n  type: string;\n  key?: string;\n  token?: Token;\n  oldToken?: Token;\n  storage?: Tokens;\n};\nexport class SyncStorageService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private options: ServiceManagerOptions;\n  private channel?: BroadcastChannel<SyncMessage>;\n  private started = false;\n  private enablePostMessage = true;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.onTokenAddedHandler = this.onTokenAddedHandler.bind(this);\n    this.onTokenRemovedHandler = this.onTokenRemovedHandler.bind(this);\n    this.onTokenRenewedHandler = this.onTokenRenewedHandler.bind(this);\n    this.onSetStorageHandler = this.onSetStorageHandler.bind(this);\n    this.onSyncMessageHandler = this.onSyncMessageHandler.bind(this);\n  }\n\n  requiresLeadership() {\n    return false;\n  }\n\n  isStarted() {\n    return this.started;\n  }\n\n  canStart() {\n    return !!this.options.syncStorage && isBrowser() && !this.started;\n  }\n\n  async start() {\n    if (!this.canStart()) {\n      return;\n    }\n    \n    const { syncChannelName } = this.options;\n    try {\n      // BroadcastChannel throws if no supported method can be found\n      this.channel = new BroadcastChannel(syncChannelName as string);\n    } catch (err) {\n      throw new AuthSdkError('SyncStorageService is not supported in current browser.');\n    }\n\n    this.tokenManager.on(EVENT_ADDED, this.onTokenAddedHandler);\n    this.tokenManager.on(EVENT_REMOVED, this.onTokenRemovedHandler);\n    this.tokenManager.on(EVENT_RENEWED, this.onTokenRenewedHandler);\n    this.tokenManager.on(EVENT_SET_STORAGE, this.onSetStorageHandler);\n    this.channel.addEventListener('message', this.onSyncMessageHandler);\n    this.started = true;\n  }\n\n  async stop() {\n    if (this.started) {\n      this.tokenManager.off(EVENT_ADDED, this.onTokenAddedHandler);\n      this.tokenManager.off(EVENT_REMOVED, this.onTokenRemovedHandler);\n      this.tokenManager.off(EVENT_RENEWED, this.onTokenRenewedHandler);\n      this.tokenManager.off(EVENT_SET_STORAGE, this.onSetStorageHandler);\n      this.channel?.removeEventListener('message', this.onSyncMessageHandler);\n      await this.channel?.close();\n      this.channel = undefined;\n      this.started = false;\n    }\n  }\n\n  private onTokenAddedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_ADDED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRemovedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_REMOVED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRenewedHandler(key: string, token: Token, oldToken?: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_RENEWED,\n      key,\n      token,\n      oldToken\n    });\n  }\n\n  private onSetStorageHandler(storage: Tokens) {\n    this.channel?.postMessage({\n      type: EVENT_SET_STORAGE,\n      storage\n    });\n  }\n\n  /* eslint-disable complexity */\n  private onSyncMessageHandler(msg: SyncMessage) {\n    // Notes:\n    // 1. Using `enablePostMessage` flag here to prevent sync message loop.\n    //    If this flag is on, tokenManager event handlers do not post sync message.\n    // 2. IE11 has known issue with synchronization of LocalStorage cross tabs.\n    //    One workaround is to set empty event handler for `window.onstorage`.\n    //    But it's not 100% working, sometimes you still get old value from LocalStorage.\n    //    Better approch is to explicitly udpate LocalStorage with `setStorage`.\n\n    this.enablePostMessage = false;\n    switch (msg.type) {\n      case EVENT_SET_STORAGE:\n        this.tokenManager.getStorage().setStorage(msg.storage);\n        break;\n      case EVENT_ADDED:\n        this.tokenManager.emitAdded(msg.key!, msg.token!);\n        this.tokenManager.setExpireEventTimeout(msg.key!, msg.token!);\n        break;\n      case EVENT_REMOVED:\n        this.tokenManager.clearExpireEventTimeout(msg.key!);\n        this.tokenManager.emitRemoved(msg.key!, msg.token!);\n        break;\n      case EVENT_RENEWED:\n        this.tokenManager.emitRenewed(msg.key!, msg.token!, msg.oldToken);\n        break;\n      default:\n        break;\n    }\n    this.enablePostMessage = true;\n  }\n} ","import { ServiceInterface, ServiceManagerOptions } from '../core/types';\nimport { TokenManagerInterface } from '../oidc/types';\nimport { isBrowser } from '../features';\n\nconst getNow = () => Math.floor(Date.now() / 1000);\n\nexport class RenewOnTabActivationService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private started = false;\n  private options: ServiceManagerOptions;\n  private lastHidden = -1;\n  onPageVisbilityChange: () => void;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    // store this context for event handler\n    this.onPageVisbilityChange = this._onPageVisbilityChange.bind(this);\n  }\n\n  // do not use directly, use `onPageVisbilityChange` (with binded this context)\n  /* eslint complexity: [0, 10] */\n  private _onPageVisbilityChange () {\n    if (document.hidden) {\n      this.lastHidden = getNow();\n    }\n    // renew will only attempt if tab was inactive for duration\n    else if (this.lastHidden > 0 && (getNow() - this.lastHidden >= this.options.tabInactivityDuration!)) {\n      const { accessToken, idToken } = this.tokenManager.getTokensSync();\n      if (!!accessToken && this.tokenManager.hasExpired(accessToken)) {\n        const key = this.tokenManager.getStorageKeyByType('accessToken');\n        // Renew errors will emit an \"error\" event\n        this.tokenManager.renew(key).catch(() => {});\n      }\n      else if (!!idToken && this.tokenManager.hasExpired(idToken)) {\n        const key = this.tokenManager.getStorageKeyByType('idToken');\n        // Renew errors will emit an \"error\" event\n        this.tokenManager.renew(key).catch(() => {});\n      }\n    }\n  }\n\n  async start () {\n    if (this.canStart() && !!document) {\n      document.addEventListener('visibilitychange', this.onPageVisbilityChange);\n      this.started = true;\n    }\n  }\n\n  async stop () {\n    if (document) {\n      document.removeEventListener('visibilitychange', this.onPageVisbilityChange);\n      this.started = false;\n    }\n  }\n\n  canStart(): boolean {\n    return isBrowser() &&\n    !!this.options.autoRenew &&\n    !!this.options.renewOnTabActivation &&\n    !this.started;\n  }\n\n  requiresLeadership(): boolean {\n    return false;\n  }\n\n  isStarted(): boolean {\n    return this.started;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport {\n  OAuthTransactionMeta,\n  OAuthStorageManagerInterface,\n} from '../../oidc';\n\nimport {\n  ServiceManagerInterface,\n  ServiceInterface,\n  ServiceManagerOptions,\n  OktaAuthCoreInterface,\n  OktaAuthCoreOptions\n} from '../types';\nimport { AutoRenewService,\n  SyncStorageService,\n  LeaderElectionService,\n  RenewOnTabActivationService\n} from '../../services';\nimport { removeNils } from '../../util';\n\nconst AUTO_RENEW = 'autoRenew';\nconst SYNC_STORAGE = 'syncStorage';\nconst LEADER_ELECTION = 'leaderElection';\nconst RENEW_ON_TAB_ACTIVATION = 'renewOnTabActivation';\n\nexport class ServiceManager\n<\n  M extends OAuthTransactionMeta,\n  S extends OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions\n>\nimplements ServiceManagerInterface \n{\n  private sdk: OktaAuthCoreInterface<M, S, O>;\n  private options: ServiceManagerOptions;\n  private services: Map<string, ServiceInterface>;\n  private started: boolean;\n\n  private static knownServices = [AUTO_RENEW, SYNC_STORAGE, LEADER_ELECTION, RENEW_ON_TAB_ACTIVATION];\n\n  private static defaultOptions: ServiceManagerOptions = {\n    autoRenew: true,\n    autoRemove: true,\n    syncStorage: true,\n    renewOnTabActivation: true,\n    tabInactivityDuration: 1800,    // 30 mins in seconds\n  };\n\n  constructor(sdk: OktaAuthCoreInterface<M, S, O>, options: ServiceManagerOptions = {}) {\n    this.sdk = sdk;\n    this.onLeader = this.onLeader.bind(this);\n\n    // TODO: backwards compatibility, remove in next major version - OKTA-473815\n    const { autoRenew, autoRemove, syncStorage } = sdk.tokenManager.getOptions();\n    options.electionChannelName = options.electionChannelName || options.broadcastChannelName;\n    this.options = Object.assign({}, \n      ServiceManager.defaultOptions,\n      { autoRenew, autoRemove, syncStorage }, \n      {\n        electionChannelName: `${sdk.options.clientId}-election`,\n        syncChannelName: `${sdk.options.clientId}-sync`,\n      },\n      removeNils(options)\n    );\n\n    this.started = false;\n    this.services = new Map();\n\n    ServiceManager.knownServices.forEach(name => {\n      const svc = this.createService(name);\n      if (svc) {\n        this.services.set(name, svc);\n      }\n    });\n  }\n\n  private async onLeader() {\n    if (this.started) {\n      // Start services that requires leadership\n      await this.startServices();\n    }\n  }\n\n  isLeader() {\n    return (this.getService(LEADER_ELECTION) as LeaderElectionService)?.isLeader();\n  }\n\n  isLeaderRequired() {\n    return [...this.services.values()].some(srv => srv.canStart() && srv.requiresLeadership());\n  }\n\n  async start() {\n    if (this.started) {\n      return;     // noop if services have already started\n    }\n    await this.startServices();\n    this.started = true;\n  }\n  \n  async stop() {\n    await this.stopServices();\n    this.started = false;\n  }\n\n  getService(name: string): ServiceInterface | undefined {\n    return this.services.get(name);\n  }\n\n  private async startServices() {\n    for (const [name, srv] of this.services.entries()) {\n      if (this.canStartService(name, srv)) {\n        await srv.start();\n      }\n    }\n  }\n\n  private async stopServices() {\n    for (const srv of this.services.values()) {\n      await srv.stop();\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  private canStartService(name: string, srv: ServiceInterface): boolean {\n    let canStart = srv.canStart() && !srv.isStarted();\n    // only start election if a leader is required\n    if (name === LEADER_ELECTION) {\n      canStart &&= this.isLeaderRequired();\n    } else if (srv.requiresLeadership()) {\n      canStart &&= this.isLeader();\n    }\n    return canStart;\n  }\n\n  private createService(name: string): ServiceInterface {\n    const tokenManager = this.sdk.tokenManager;\n\n    let service: ServiceInterface;\n    switch (name) {\n      case LEADER_ELECTION:\n        service = new LeaderElectionService({...this.options, onLeader: this.onLeader});\n        break;\n      case AUTO_RENEW:\n        service = new AutoRenewService(tokenManager, {...this.options});\n        break;\n      case SYNC_STORAGE:\n        service = new SyncStorageService(tokenManager, {...this.options});\n        break;\n      case RENEW_ON_TAB_ACTIVATION:\n        service = new RenewOnTabActivationService(tokenManager, {...this.options});\n        break;\n      default:\n        throw new Error(`Unknown service ${name}`);\n    }\n    return service;\n  }\n\n}\n","import { StorageManagerConstructor } from '../storage/types';\nimport { OktaAuthConstructor, OktaAuthOptionsConstructor } from '../base/types';\n\nimport { OktaAuthCoreInterface, OktaAuthCoreOptions } from './types';\nimport { createOktaAuthBase } from '../base';\nimport { mixinStorage } from '../storage/mixin';\nimport { mixinHttp } from '../http/mixin';\nimport { mixinOAuth } from '../oidc/mixin';\nimport {\n  OAuthStorageManagerInterface,\n  PKCETransactionMeta,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../oidc/types';\nimport { mixinCore } from './mixin';\nimport { mixinSession } from '../session/mixin';\n\nexport function createOktaAuthCore<\n  M extends PKCETransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions = OktaAuthCoreOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface\n>(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n): OktaAuthConstructor<OktaAuthCoreInterface<M, S, O, TM>>\n{\n  const Base = createOktaAuthBase(OptionsConstructor);\n  const WithStorage = mixinStorage<S, O>(Base, StorageManagerConstructor);\n  const WithHttp = mixinHttp<S, O>(WithStorage);\n  const WithSession = mixinSession<S, O>(WithHttp);\n  const WithOAuth = mixinOAuth<M, S, O, TM>(WithSession, TransactionManagerConstructor);\n  const Core = mixinCore<M, S, O, TM>(WithOAuth);\n  return Core;\n}\n","import { parseOAuthResponseFromUrl } from '../oidc/parseFromUrl';\nimport { OktaAuthConstructor } from '../base/types';\nimport {\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  PKCETransactionMeta,\n  Tokens,\n  TransactionManagerInterface,\n} from '../oidc/types';\nimport { AuthStateManager } from './AuthStateManager';\nimport { ServiceManager } from './ServiceManager';\nimport { OktaAuthCoreInterface, OktaAuthCoreOptions } from './types';\n\nexport function mixinCore\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions = OktaAuthCoreOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n    = OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthCoreInterface<M, S, O, TM>>\n{\n  return class OktaAuthCore extends Base implements OktaAuthCoreInterface<M, S, O, TM>\n  {\n    authStateManager: AuthStateManager<M, S, O>;\n    serviceManager: ServiceManager<M, S, O>;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      // AuthStateManager\n      this.authStateManager = new AuthStateManager<M, S, O>(this);\n\n      // ServiceManager\n      this.serviceManager = new ServiceManager<M, S, O>(this, this.options.services);\n    }\n\n    async start() {\n      await this.serviceManager.start();\n      // TODO: review tokenManager.start\n      this.tokenManager.start();\n      if (!this.token.isLoginRedirect()) {\n        await this.authStateManager.updateAuthState();\n      }\n    }\n  \n    async stop() {\n      // TODO: review tokenManager.stop\n      this.tokenManager.stop();\n      await this.serviceManager.stop();\n    }\n\n    async handleRedirect(originalUri?: string): Promise<void> {\n      await this.handleLoginRedirect(undefined, originalUri);\n    }\n\n    // eslint-disable-next-line complexity\n    async handleLoginRedirect(tokens?: Tokens, originalUri?: string): Promise<void> {\n      let state = this.options.state;\n  \n      // Store tokens and update AuthState by the emitted events\n      if (tokens) {\n        this.tokenManager.setTokens(tokens);\n        originalUri = originalUri || this.getOriginalUri(this.options.state);\n      } else if (this.isLoginRedirect()) {\n        try {\n          // For redirect flow, get state from the URL and use it to retrieve the originalUri\n          const oAuthResponse = await parseOAuthResponseFromUrl(this, {});\n          state = oAuthResponse.state;\n          originalUri = originalUri || this.getOriginalUri(state);\n          await this.storeTokensFromRedirect();\n        } catch(e) {\n          // auth state should be updated\n          await this.authStateManager.updateAuthState();\n          throw e;\n        }\n      } else {\n        return; // nothing to do\n      }\n      \n      // ensure auth state has been updated\n      await this.authStateManager.updateAuthState();\n  \n      // clear originalUri from storage\n      this.removeOriginalUri(state);\n  \n      // Redirect to originalUri\n      const { restoreOriginalUri } = this.options;\n      if (restoreOriginalUri) {\n        await restoreOriginalUri(this, originalUri);\n      } else if (originalUri) {\n        window.location.replace(originalUri);\n      }\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createOAuthOptionsConstructor } from '../oidc';\nimport { AuthState, OktaAuthCoreInterface, OktaAuthCoreOptions, ServiceManagerOptions } from './types';\n\n\nexport function createCoreOptionsConstructor()\n{\n  const OAuthOptionsConstructor = createOAuthOptionsConstructor();\n  return class CoreOptionsConstructor\n    extends OAuthOptionsConstructor\n    implements Required<OktaAuthCoreOptions>\n  {\n    services: ServiceManagerOptions;\n    transformAuthState: (oktaAuth: OktaAuthCoreInterface, authState: AuthState) => Promise<AuthState>;\n\n    constructor(options: any) {\n      super(options);\n      this.services = options.services;\n      this.transformAuthState = options.transformAuthState;\n    }\n  };\n}\n","import { createOAuthStorageManager } from '../oidc/storage';\nimport { PKCETransactionMeta } from '../oidc/types';\n\nexport function createCoreStorageManager<M extends PKCETransactionMeta = PKCETransactionMeta>() {\n  return createOAuthStorageManager<M>();\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AuthSdkError } from '../errors';\nimport { atob, btoa } from './webcrypto';\n\n// converts a string to base64 (url/filename safe variant)\nexport function stringToBase64Url(str) {\n  var b64 = btoa(str);\n  return base64ToBase64Url(b64);\n}\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nexport function base64ToBase64Url(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nexport function base64UrlToBase64(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n}\n\nexport function base64UrlToString(b64u) {\n  var b64 = base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw new AuthSdkError('Not a valid Base64Url');\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n}\n\nexport function stringToBuffer(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n}\n\nexport function base64UrlDecode(str) {\n  return atob(base64UrlToBase64(str));\n}\n\n// Converts base64 string to binary data view\nexport function base64UrlToBuffer(b64u) {\n  return Uint8Array.from(base64UrlDecode(b64u), (c: string) => c.charCodeAt(0));\n}\n\n// Converts an ArrayBuffer object that contains binary data to base64 encoded string\nexport function bufferToBase64Url(bin) {\n  return btoa(new Uint8Array(bin).reduce((s, byte) => s + String.fromCharCode(byte), ''));\n}\n\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* global atob, btoa, crypto */\nconst a = function(str) { return atob(str); };\nconst b = function (str) { return btoa(str); };\nconst c = typeof crypto === 'undefined' ? null : crypto;\n\nexport { a as atob, b as btoa, c as webcrypto };\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global TextEncoder */\nimport { stringToBase64Url } from './base64';\nimport { webcrypto } from './webcrypto';\n\nexport function getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return webcrypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf as unknown as number[]);\n    var b64u = stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { clone } from '../util';\nimport { stringToBuffer, base64UrlDecode } from './base64';\nimport { webcrypto } from './webcrypto';\n\nexport function verifyToken(idToken, key) {\n  key = clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return webcrypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = base64UrlDecode(jwt[2]);\n    var signature = stringToBuffer(b64Signature);\n\n    return webcrypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\nimport { HttpResponse } from '../http/types';\nimport { APIError, FieldError } from './types';\n\nexport default class AuthApiError extends CustomError implements APIError {\n  errorSummary: string;\n  errorCode?: string;\n  errorLink?: string;\n  errorId?: string;\n  errorCauses?: Array<FieldError>;\n  xhr?: HttpResponse;\n  meta?: Record<string, string | number>;\n\n  constructor(err: APIError, xhr?: HttpResponse, meta?: Record<string, string | number>) {\n    const message = err.errorSummary;\n    super(message);\n\n    this.name = 'AuthApiError';\n    this.errorSummary = err.errorSummary;\n    this.errorCode = err.errorCode;\n    this.errorLink = err.errorLink;\n    this.errorId = err.errorId;\n    this.errorCauses = err.errorCauses;\n\n    if (xhr) {\n      this.xhr = xhr;\n    }\n\n    if (meta) {\n      this.meta = meta;\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\n\nexport default class AuthPollStopError extends CustomError {\n  constructor() {\n    const message = 'The poll was stopped by the sdk';\n    super(message);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\nimport { APIError, FieldError } from './types';\n\nexport default class AuthSdkError extends CustomError implements APIError {\n  errorSummary: string;\n  errorCode: string;\n  errorLink: string;\n  errorId: string;\n  errorCauses: Array<FieldError>;\n  xhr?: XMLHttpRequest;\n\n  constructor(msg: string, xhr?: XMLHttpRequest) {\n    super(msg);\n    this.name = 'AuthSdkError';\n    this.errorCode = 'INTERNAL';\n    this.errorSummary = msg;\n    this.errorLink = 'INTERNAL';\n    this.errorId = 'INTERNAL';\n    this.errorCauses = [];\n    if (xhr) {\n      this.xhr = xhr;\n    }\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default class CustomError extends Error {\n  constructor(message: string) {\n    // https://stackoverflow.com/questions/41102060/typescript-extending-error-class\n    super(message); // 'Error' breaks prototype chain here\n    Object.setPrototypeOf(this, new.target.prototype); // restore prototype chain\n  }\n}\n","/* eslint-disable camelcase */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\nimport type { HttpResponse } from '../http';\n\nexport default class OAuthError extends CustomError {\n  errorCode: string;\n  errorSummary: string;\n\n  // for widget / idx-js backward compatibility\n  error: string;\n  error_description: string;\n\n  resp: HttpResponse | null = null;\n\n  constructor(errorCode: string, summary: string, resp?: HttpResponse) {\n    super(summary);\n\n    this.name = 'OAuthError';\n    this.errorCode = errorCode;\n    this.errorSummary = summary;\n\n    // for widget / idx-js backward compatibility\n    this.error = errorCode;\n    this.error_description = summary;\n\n    // an OAuth error (should) always result from a network request\n    // therefore include that in error for potential error handling\n    if (resp) {\n      this.resp = resp;\n    }\n  }\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport type { HttpResponse } from '../http';\nimport CustomError from './CustomError';\nimport { isFunction } from '../util';\n\n// Error thrown after an unsuccessful network request which requires an Authorization header \n// and returns a 4XX error with a www-authenticate header. The header value is parsed to construct \n// an error instance, which contains key/value pairs parsed out\nexport default class WWWAuthError extends CustomError {\n  static UNKNOWN_ERROR = 'UNKNOWN_WWW_AUTH_ERROR';\n\n  scheme: string;\n  parameters: Record<string, string>;\n  name = 'WWWAuthError';\n\n  resp: HttpResponse | null = null;\n\n  constructor(scheme: string, parameters: Record<string, string>, resp?: HttpResponse) {\n    // defaults to unknown error. `error` being returned in the www-authenticate header is expected\n    // but cannot be guaranteed. Throwing an error within a error constructor seems awkward\n    super(parameters.error ?? WWWAuthError.UNKNOWN_ERROR);\n    this.scheme = scheme;\n    this.parameters = parameters;\n\n    if (resp) {\n      this.resp = resp;\n    }\n  }\n\n  // convenience references\n  get error (): string { return this.parameters.error; }\n  get errorCode (): string { return this.error; }                 // parity with other error props\n  // eslint-disable-next-line camelcase\n  get error_description (): string { return this.parameters.error_description; }\n  // eslint-disable-next-line camelcase\n  get errorDescription (): string { return this.error_description; }\n  get errorSummary (): string { return this.errorDescription; }   // parity with other error props\n  get realm (): string { return this.parameters.realm; }\n\n  // parses the www-authenticate header for releveant\n  static parseHeader (header: string): WWWAuthError | null {\n    // header cannot be empty string\n    if (!header) {\n      return null;\n    }\n\n    // example string: Bearer error=\"invalid_token\", error_description=\"The access token is invalid\"\n    // regex will match on `error=\"invalid_token\", error_description=\"The access token is invalid\"`\n    // see unit test for more examples of possible www-authenticate values\n    // eslint-disable-next-line max-len\n    const regex = /(?:,|, )?([a-zA-Z0-9!#$%&'*+\\-.^_`|~]+)=(?:\"([a-zA-Z0-9!#$%&'*+\\-.,^_`|~ /:]+)\"|([a-zA-Z0-9!#$%&'*+\\-.^_`|~/:]+))/g;\n    const firstSpace = header.indexOf(' ');\n    const scheme = header.slice(0, firstSpace);\n    const remaining = header.slice(firstSpace + 1);\n    const params = {};\n\n    // Reference: foo=\"hello\", bar=\"bye\"\n    // i=0, match=[foo=\"hello1\", foo, hello]\n    // i=1, match=[bar=\"bye\", bar, bye]\n    let match;\n    while ((match = regex.exec(remaining)) !== null) {\n      params[match[1]] = (match[2] ?? match[3]);\n    }\n\n    return new WWWAuthError(scheme, params);\n  }\n\n  // finds the value of the `www-authenticate` header. HeadersInit allows for a few different\n  // representations of headers with different access patterns (.get vs [key])\n  static getWWWAuthenticateHeader (headers: HeadersInit = {}): string | null {\n    if (isFunction((headers as Headers)?.get)) {\n      return (headers as Headers).get('WWW-Authenticate');\n    }\n    return headers['www-authenticate'] ?? headers['WWW-Authenticate'];\n  }\n}\n","\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthApiError from './AuthApiError';\nimport AuthPollStopError from './AuthPollStopError';\nimport AuthSdkError from './AuthSdkError';\nimport OAuthError from './OAuthError';\nimport WWWAuthError from './WWWAuthError';\n\nfunction isAuthApiError(obj: any): obj is AuthApiError {\n  return (obj instanceof AuthApiError);\n}\n\nfunction isOAuthError(obj: any): obj is OAuthError {\n  return (obj instanceof OAuthError);\n}\n\nfunction isWWWAuthError(obj: any): obj is WWWAuthError {\n  return (obj instanceof WWWAuthError);\n}\n\nexport {\n  isAuthApiError,\n  isOAuthError,\n  isWWWAuthError,\n  AuthApiError,\n  AuthPollStopError,\n  AuthSdkError,\n  OAuthError,\n  WWWAuthError\n};\n\nexport * from './types';\n","// Generated ESM version of ua-parser-js\n// DO NOT EDIT THIS FILE!\n// Source: /src/main/ua-parser.js\n\n/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v2.0.0\n   Copyright © 2012-2024 Faisal Salman <f@faisalman.com>\n   AGPLv3 License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://uaparser.dev\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n/* jshint esversion: 6 */ \n/* globals window */\n\n\n    \n    //////////////\n    // Constants\n    /////////////\n\n    var LIBVERSION  = '2.0.0',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        XR          = 'xr',\n        EMBEDDED    = 'embedded',\n        INAPP       = 'inapp',\n        USER_AGENT  = 'user-agent',\n        UA_MAX_LENGTH = 500,\n        BRANDS      = 'brands',\n        FORMFACTORS = 'formFactors',\n        FULLVERLIST = 'fullVersionList',\n        PLATFORM    = 'platform',\n        PLATFORMVER = 'platformVersion',\n        BITNESS     = 'bitness',\n        CH_HEADER   = 'sec-ch-ua',\n        CH_HEADER_FULL_VER_LIST = CH_HEADER + '-full-version-list',\n        CH_HEADER_ARCH      = CH_HEADER + '-arch',\n        CH_HEADER_BITNESS   = CH_HEADER + '-' + BITNESS,\n        CH_HEADER_FORM_FACTORS = CH_HEADER + '-form-factors',\n        CH_HEADER_MOBILE    = CH_HEADER + '-' + MOBILE,\n        CH_HEADER_MODEL     = CH_HEADER + '-' + MODEL,\n        CH_HEADER_PLATFORM  = CH_HEADER + '-' + PLATFORM,\n        CH_HEADER_PLATFORM_VER = CH_HEADER_PLATFORM + '-version',\n        CH_ALL_VALUES       = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS],\n        UA_BROWSER  = 'browser',\n        UA_CPU      = 'cpu',\n        UA_DEVICE   = 'device',\n        UA_ENGINE   = 'engine',\n        UA_OS       = 'os',\n        UA_RESULT   = 'result',\n        AMAZON      = 'Amazon',\n        APPLE       = 'Apple',\n        ASUS        = 'ASUS',\n        BLACKBERRY  = 'BlackBerry',\n        GOOGLE      = 'Google',\n        HUAWEI      = 'Huawei',\n        LENOVO      = 'Lenovo',\n        HONOR       = 'Honor',\n        LG          = 'LG',\n        MICROSOFT   = 'Microsoft',\n        MOTOROLA    = 'Motorola',\n        SAMSUNG     = 'Samsung',\n        SHARP       = 'Sharp',\n        SONY        = 'Sony',\n        XIAOMI      = 'Xiaomi',\n        ZEBRA       = 'Zebra',\n        PREFIX_MOBILE  = 'Mobile ',\n        SUFFIX_BROWSER = ' Browser',\n        CHROME      = 'Chrome',\n        CHROMECAST  = 'Chromecast',\n        EDGE        = 'Edge',\n        FIREFOX     = 'Firefox',\n        OPERA       = 'Opera',\n        FACEBOOK    = 'Facebook',\n        SOGOU       = 'Sogou',\n        WINDOWS     = 'Windows';\n   \n    var isWindow            = typeof window !== UNDEF_TYPE,\n        NAVIGATOR           = (isWindow && window.navigator) ? \n                                window.navigator : \n                                undefined,\n        NAVIGATOR_UADATA    = (NAVIGATOR && NAVIGATOR.userAgentData) ? \n                                NAVIGATOR.userAgentData : \n                                undefined;\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (defaultRgx, extensions) {\n            var mergedRgx = {};\n            var extraRgx = extensions;\n            if (!isExtensions(extensions)) {\n                extraRgx = {};\n                for (var i in extensions) {\n                    for (var j in extensions[i]) {\n                        extraRgx[j] = extensions[i][j].concat(extraRgx[j] ? extraRgx[j] : []);\n                    }\n                }\n            }\n            for (var k in defaultRgx) {\n                mergedRgx[k] = extraRgx[k] && extraRgx[k].length % 2 === 0 ? extraRgx[k].concat(defaultRgx[k]) : defaultRgx[k];\n            }\n            return mergedRgx;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            if (typeof str1 === OBJ_TYPE && str1.length > 0) {\n                for (var i in str1) {\n                    if (lowerize(str1[i]) == lowerize(str2)) return true;\n                }\n                return false;\n            }\n            return isString(str1) ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        isExtensions = function (obj, deep) {\n            for (var prop in obj) {\n                return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n            }\n        },\n        isString = function (val) {\n            return typeof val === STR_TYPE;\n        },\n        itemListToArray = function (header) {\n            if (!header) return undefined;\n            var arr = [];\n            var tokens = strip(/\\\\?\\\"/g, header).split(',');\n            for (var i = 0; i < tokens.length; i++) {\n                if (tokens[i].indexOf(';') > -1) {\n                    var token = trim(tokens[i]).split(';v=');\n                    arr[i] = { brand : token[0], version : token[1] };\n                } else {\n                    arr[i] = trim(tokens[i]);\n                }\n            }\n            return arr;\n        },\n        lowerize = function (str) {\n            return isString(str) ? str.toLowerCase() : str;\n        },\n        majorize = function (version) {\n            return isString(version) ? strip(/[^\\d\\.]/g, version).split('.')[0] : undefined;\n        },\n        setProps = function (arr) {\n            for (var i in arr) {\n                var propName = arr[i];\n                if (typeof propName == OBJ_TYPE && propName.length == 2) {\n                    this[propName[0]] = propName[1];\n                } else {\n                    this[propName] = undefined;\n                }\n            }\n            return this;\n        },\n        strip = function (pattern, str) {\n            return isString(str) ? str.replace(pattern, EMPTY) : str;\n        },\n        stripQuotes = function (str) {\n            return strip(/\\\\?\\\"/g, str); \n        },\n        trim = function (str, len) {\n            if (isString(str)) {\n                str = strip(/^\\s\\s*/, str);\n                return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            if(!ua || !arrays) return;\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    var windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n        },\n        \n        formFactorsMap = {\n            'embedded'  : 'Automotive',\n            'mobile'    : 'Mobile',\n            'tablet'    : ['Tablet', 'EInk'],\n            'smarttv'   : 'TV',\n            'wearable'  : 'Watch',\n            'xr'        : ['VR', 'XR'],\n            '?'         : ['Desktop', 'Unknown'],\n            '*'         : undefined\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var defaultRegexes = {\n\n        browser : [[\n\n            // Most common regardless engine\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115)browser\\/([\\d\\.]+)/i,                              // HeyTap/Ovi/115\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UCBrowser']], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart ' + LENOVO + SUFFIX_BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure' + SUFFIX_BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, SOGOU + ' Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, SOGOU + ' Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq)/i                                               // LieBao Browser/Rekonq\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                              // Instagram/Snapchat\n            ], [NAME, VERSION, [TYPE, INAPP]], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA'], [TYPE, INAPP]], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok'], [TYPE, INAPP]], [\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME, [TYPE, INAPP]], [\n\n            /(chromium)[\\/ ]([-\\w\\.]+)/i                                        // Chromium\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android' + SUFFIX_BROWSER]], [\n\n            /chrome\\/([\\w\\.]+) mobile/i                                         // Chrome Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Chrome']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i                 // Safari Mobile\n            ], [VERSION, [NAME, PREFIX_MOBILE + 'Safari']], [\n            /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n            ], [[NAME, PREFIX_MOBILE + 'Safari']], [\n            /version\\/([\\w\\.\\,]+) .*(safari)/i                                  // Safari\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, '1']], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i                        // Firefox Mobile\n            ], [[NAME, PREFIX_MOBILE + FIREFOX], VERSION], [\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser\n            /\\b(links) \\(([\\w\\.]+)/i                                            // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n        ],\n\n        cpu : [[\n\n            /\\b(?:(amd|x|x86[-_]?|wow|win)64)\\b/i                               // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i,                                                     // IA32 (quicktime)\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                  // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /(?:honor)([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /tcl (xess p17aa)/i,\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n            /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, MOBILE]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(?:015|06[35]|142p?))/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n            /; (imo) ((?!tab)[\\w ]+?)(?: bui|\\))/i,                             // IMO\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i                                              // Kindle\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i               // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/chromecast/i                                    // Google Chromecast Third Generation\n            ], [[MODEL, CHROMECAST+' Third Generation'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey.*devicetype\\/([^/]*)/i                                       // Google Chromecast with specific device type\n            ], [[MODEL, /^/, 'Chromecast '], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /fuchsia.*crkey/i                                                   // Google Chromecast Nest Hub\n            ], [[MODEL, CHROMECAST+' Nest Hub'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast, Linux-based or unknown\n            ], [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                          // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) (\\w+)/i                                                 // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation \\w+)/i                                                // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[05][fnuw]?s?)\\b/i                                   // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, XR]], [\n            /(pico) (4|neo3(?: link|pro)?)/i                                    // Pico\n            ], [VENDOR, MODEL, [TYPE, XR]], [\n            /; (quest( \\d| pro)?)/i                                             // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, WINDOWS]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'macOS'], [VERSION, /_/g, '.']], [\n\n            // Google Chromecast\n            /android ([\\d\\.]+).*crkey/i                                         // Google Chromecast, Android-based\n            ], [VERSION, [NAME, CHROMECAST + ' Android']], [\n            /fuchsia.*crkey\\/([\\d\\.]+)/i                                        // Google Chromecast, Fuchsia-based\n            ], [VERSION, [NAME, CHROMECAST + ' Fuchsia']], [\n            /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i                       // Google Chromecast, Linux-based Smart Speaker\n            ], [VERSION, [NAME, CHROMECAST + ' SmartSpeaker']], [\n            /linux.*crkey\\/([\\d\\.]+)/i                                          // Google Chromecast, Legacy Linux-based\n            ], [VERSION, [NAME, CHROMECAST + ' Linux']], [\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast, unknown\n            ], [VERSION, [NAME, CHROMECAST]], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS/OpenHarmony\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google ChromeOS\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, \"Chrome OS\"], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) (\\w+)/i,                                    // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n            /(pico) .+os([\\w\\.]+)/i,                                            // Pico\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Factories\n    ////////////////\n\n    var defaultProps = (function () {\n            var props = { init : {}, isIgnore : {}, isIgnoreRgx : {}, toString : {}};\n            setProps.call(props.init, [\n                [UA_BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n                [UA_CPU, [ARCHITECTURE]],\n                [UA_DEVICE, [TYPE, MODEL, VENDOR]],\n                [UA_ENGINE, [NAME, VERSION]],\n                [UA_OS, [NAME, VERSION]]\n            ]);\n            setProps.call(props.isIgnore, [\n                [UA_BROWSER, [VERSION, MAJOR]],\n                [UA_ENGINE, [VERSION]],\n                [UA_OS, [VERSION]]\n            ]);\n            setProps.call(props.isIgnoreRgx, [\n                [UA_BROWSER, / ?browser$/i],\n                [UA_OS, / ?os$/i]\n            ]);\n            setProps.call(props.toString, [\n                [UA_BROWSER, [NAME, VERSION]],\n                [UA_CPU, [ARCHITECTURE]],\n                [UA_DEVICE, [VENDOR, MODEL]],\n                [UA_ENGINE, [NAME, VERSION]],\n                [UA_OS, [NAME, VERSION]]\n            ]);\n            return props;\n    })();\n\n    var createIData = function (item, itemType) {\n\n        var init_props = defaultProps.init[itemType],\n            is_ignoreProps = defaultProps.isIgnore[itemType] || 0,\n            is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0,\n            toString_props = defaultProps.toString[itemType] || 0;\n\n        function IData () {\n            setProps.call(this, init_props);\n        }\n\n        IData.prototype.getItem = function () {\n            return item;\n        };\n\n        IData.prototype.withClientHints = function () {\n\n            // nodejs / non-client-hints browsers\n            if (!NAVIGATOR_UADATA) {\n                return item\n                        .parseCH()\n                        .get();\n            }\n\n            // browsers based on chromium 85+\n            return NAVIGATOR_UADATA\n                    .getHighEntropyValues(CH_ALL_VALUES)\n                    .then(function (res) {\n                        return item\n                                .setCH(new UACHData(res, false))\n                                .parseCH()\n                                .get();\n            });\n        };\n\n        IData.prototype.withFeatureCheck = function () {\n            return item.detectFeature().get();\n        };\n\n        if (itemType != UA_RESULT) {\n            IData.prototype.is = function (strToCheck) {\n                var is = false;\n                for (var i in this) {\n                    if (this.hasOwnProperty(i) && !has(is_ignoreProps, i) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i]) : this[i]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n                        is = true;\n                        if (strToCheck != UNDEF_TYPE) break;\n                    } else if (strToCheck == UNDEF_TYPE && is) {\n                        is = !is;\n                        break;\n                    }\n                }\n                return is;\n            };\n            IData.prototype.toString = function () {\n                var str = EMPTY;\n                for (var i in toString_props) {\n                    if (typeof(this[toString_props[i]]) !== UNDEF_TYPE) {\n                        str += (str ? ' ' : EMPTY) + this[toString_props[i]];\n                    }\n                }\n                return str || UNDEF_TYPE;\n            };\n        }\n\n        if (!NAVIGATOR_UADATA) {\n            IData.prototype.then = function (cb) { \n                var that = this;\n                var IDataResolve = function () {\n                    for (var prop in that) {\n                        if (that.hasOwnProperty(prop)) {\n                            this[prop] = that[prop];\n                        }\n                    }\n                };\n                IDataResolve.prototype = {\n                    is : IData.prototype.is,\n                    toString : IData.prototype.toString\n                };\n                var resolveData = new IDataResolve();\n                cb(resolveData);\n                return resolveData;\n            };\n        }\n\n        return new IData();\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    function UACHData (uach, isHttpUACH) {\n        uach = uach || {};\n        setProps.call(this, CH_ALL_VALUES);\n        if (isHttpUACH) {\n            setProps.call(this, [\n                [BRANDS, itemListToArray(uach[CH_HEADER])],\n                [FULLVERLIST, itemListToArray(uach[CH_HEADER_FULL_VER_LIST])],\n                [MOBILE, /\\?1/.test(uach[CH_HEADER_MOBILE])],\n                [MODEL, stripQuotes(uach[CH_HEADER_MODEL])],\n                [PLATFORM, stripQuotes(uach[CH_HEADER_PLATFORM])],\n                [PLATFORMVER, stripQuotes(uach[CH_HEADER_PLATFORM_VER])],\n                [ARCHITECTURE, stripQuotes(uach[CH_HEADER_ARCH])],\n                [FORMFACTORS, itemListToArray(uach[CH_HEADER_FORM_FACTORS])],\n                [BITNESS, stripQuotes(uach[CH_HEADER_BITNESS])]\n            ]);\n        } else {\n            for (var prop in uach) {\n                if(this.hasOwnProperty(prop) && typeof uach[prop] !== UNDEF_TYPE) this[prop] = uach[prop];\n            }\n        }\n    }\n\n    function UAItem (itemType, ua, rgxMap, uaCH) {\n\n        this.get = function (prop) {\n            if (!prop) return this.data;\n            return this.data.hasOwnProperty(prop) ? this.data[prop] : undefined;\n        };\n\n        this.set = function (prop, val) {\n            this.data[prop] = val;\n            return this;\n        };\n\n        this.setCH = function (ch) {\n            this.uaCH = ch;\n            return this;\n        };\n\n        this.detectFeature = function () {\n            if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n                switch (this.itemType) {\n                    case UA_BROWSER:\n                        // Brave-specific detection\n                        if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == FUNC_TYPE) {\n                            this.set(NAME, 'Brave');\n                        }\n                        break;\n                    case UA_DEVICE:\n                        // Chrome-specific detection: check for 'mobile' value of navigator.userAgentData\n                        if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n                            this.set(TYPE, MOBILE);\n                        }\n                        // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n                        if (this.get(MODEL) == 'Macintosh' && NAVIGATOR && typeof NAVIGATOR.standalone !== UNDEF_TYPE && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n                            this.set(MODEL, 'iPad')\n                                .set(TYPE, TABLET);\n                        }\n                        break;\n                    case UA_OS:\n                        // Chrome-specific detection: check for 'platform' value of navigator.userAgentData\n                        if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n                            this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n                        }\n                        break;\n                    case UA_RESULT:\n                        var data = this.data;\n                        var detect = function (itemType) {\n                            return data[itemType]\n                                    .getItem()\n                                    .detectFeature()\n                                    .get();\n                        };\n                        this.set(UA_BROWSER, detect(UA_BROWSER))\n                            .set(UA_CPU, detect(UA_CPU))\n                            .set(UA_DEVICE, detect(UA_DEVICE))\n                            .set(UA_ENGINE, detect(UA_ENGINE))\n                            .set(UA_OS, detect(UA_OS));\n                }\n            }\n            return this;\n        };\n\n        this.parseUA = function () {\n            if (this.itemType != UA_RESULT) {\n                rgxMapper.call(this.data, this.ua, this.rgxMap);\n            }\n            if (this.itemType == UA_BROWSER) {\n                this.set(MAJOR, majorize(this.get(VERSION)));\n            }\n            return this;\n        };\n\n        this.parseCH = function () {\n            var uaCH = this.uaCH,\n                rgxMap = this.rgxMap;\n    \n            switch (this.itemType) {\n                case UA_BROWSER:\n                    var brands = uaCH[FULLVERLIST] || uaCH[BRANDS], prevName;\n                    if (brands) {\n                        for (var i in brands) {\n                            var brandName = strip(/(Google|Microsoft) /, brands[i].brand || brands[i]),\n                                brandVersion = brands[i].version;\n                            if (!/not.a.brand/i.test(brandName) && (!prevName || (/chrom/i.test(prevName) && !/chromi/i.test(brandName)))) {\n                                this.set(NAME, brandName)\n                                    .set(VERSION, brandVersion)\n                                    .set(MAJOR, majorize(brandVersion));\n                                prevName = brandName;\n                            }\n                        }\n                    }\n                    break;\n                case UA_CPU:\n                    var archName = uaCH[ARCHITECTURE];\n                    if (archName) {\n                        if (archName && uaCH[BITNESS] == '64') archName += '64';\n                        rgxMapper.call(this.data, archName + ';', rgxMap);\n                    }\n                    break;\n                case UA_DEVICE:\n                    if (uaCH[MOBILE]) {\n                        this.set(TYPE, MOBILE);\n                    }\n                    if (uaCH[MODEL]) {\n                        this.set(MODEL, uaCH[MODEL]);\n                    }\n                    // Xbox-Specific Detection\n                    if (uaCH[MODEL] == 'Xbox') {\n                        this.set(TYPE, CONSOLE)\n                            .set(VENDOR, MICROSOFT);\n                    }\n                    if (uaCH[FORMFACTORS]) {\n                        var ff;\n                        if (typeof uaCH[FORMFACTORS] !== 'string') {\n                            var idx = 0;\n                            while (!ff && idx < uaCH[FORMFACTORS].length) {\n                                ff = strMapper(uaCH[FORMFACTORS][idx++], formFactorsMap);\n                            }\n                        } else {\n                            ff = strMapper(uaCH[FORMFACTORS], formFactorsMap);\n                        }\n                        this.set(TYPE, ff);\n                    }\n                    break;\n                case UA_OS:\n                    var osName = uaCH[PLATFORM];\n                    if(osName) {\n                        var osVersion = uaCH[PLATFORMVER];\n                        if (osName == WINDOWS) osVersion = (parseInt(majorize(osVersion), 10) >= 13 ? '11' : '10');\n                        this.set(NAME, osName)\n                            .set(VERSION, osVersion);\n                    }\n                    // Xbox-Specific Detection\n                    if (this.get(NAME) == WINDOWS && uaCH[MODEL] == 'Xbox') {\n                        this.set(NAME, 'Xbox')\n                            .set(VERSION, undefined);\n                    }           \n                    break;\n                case UA_RESULT:\n                    var data = this.data;\n                    var parse = function (itemType) {\n                        return data[itemType]\n                                .getItem()\n                                .setCH(uaCH)\n                                .parseCH()\n                                .get();\n                    };\n                    this.set(UA_BROWSER, parse(UA_BROWSER))\n                        .set(UA_CPU, parse(UA_CPU))\n                        .set(UA_DEVICE, parse(UA_DEVICE))\n                        .set(UA_ENGINE, parse(UA_ENGINE))\n                        .set(UA_OS, parse(UA_OS));\n            }\n            return this;\n        };\n\n        setProps.call(this, [\n            ['itemType', itemType],\n            ['ua', ua],\n            ['uaCH', uaCH],\n            ['rgxMap', rgxMap],\n            ['data', createIData(this, itemType)]\n        ]);\n\n        return this;\n    }\n\n    function UAParser (ua, extensions, headers) {\n\n        if (typeof ua === OBJ_TYPE) {\n            if (isExtensions(ua, true)) {\n                if (typeof extensions === OBJ_TYPE) {\n                    headers = extensions;               // case UAParser(extensions, headers)           \n                }\n                extensions = ua;                        // case UAParser(extensions)\n            } else {\n                headers = ua;                           // case UAParser(headers)\n                extensions = undefined;\n            }\n            ua = undefined;\n        } else if (typeof ua === STR_TYPE && !isExtensions(extensions, true)) {\n            headers = extensions;                       // case UAParser(ua, headers)\n            extensions = undefined;\n        }\n\n        // Convert Headers object into a plain object\n        if (headers && typeof headers.append === FUNC_TYPE) {\n            var kv = {};\n            headers.forEach(function (v, k) { kv[k] = v; });\n            headers = kv;\n        }\n        \n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions, headers).getResult();\n        }\n\n        var userAgent = typeof ua === STR_TYPE ? ua :                                       // Passed user-agent string\n                                (headers && headers[USER_AGENT] ? headers[USER_AGENT] :     // User-Agent from passed headers\n                                ((NAVIGATOR && NAVIGATOR.userAgent) ? NAVIGATOR.userAgent : // navigator.userAgent\n                                    EMPTY)),                                                // empty string\n\n            httpUACH = new UACHData(headers, true),\n            regexMap = extensions ? \n                        extend(defaultRegexes, extensions) : \n                        defaultRegexes,\n\n            createItemFunc = function (itemType) {\n                if (itemType == UA_RESULT) {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap, httpUACH)\n                                    .set('ua', userAgent)\n                                    .set(UA_BROWSER, this.getBrowser())\n                                    .set(UA_CPU, this.getCPU())\n                                    .set(UA_DEVICE, this.getDevice())\n                                    .set(UA_ENGINE, this.getEngine())\n                                    .set(UA_OS, this.getOS())\n                                    .get();\n                    };\n                } else {\n                    return function () {\n                        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH)\n                                    .parseUA()\n                                    .get();\n                    };\n                }\n            };\n            \n        // public methods\n        setProps.call(this, [\n            ['getBrowser', createItemFunc(UA_BROWSER)],\n            ['getCPU', createItemFunc(UA_CPU)],\n            ['getDevice', createItemFunc(UA_DEVICE)],\n            ['getEngine', createItemFunc(UA_ENGINE)],\n            ['getOS', createItemFunc(UA_OS)],\n            ['getResult', createItemFunc(UA_RESULT)],\n            ['getUA', function () { return userAgent; }],\n            ['setUA', function (ua) {\n                if (isString(ua))\n                    userAgent = ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;\n                return this;\n            }]\n        ])\n        .setUA(userAgent);\n\n        return this;\n    }\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR, TYPE]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    export {UAParser};","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\n/* global document, window, TextEncoder, navigator */\n\nimport { UAParser } from 'ua-parser-js';\nimport { webcrypto } from './crypto';\n\nconst isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\t\n\nexport function isBrowser() {\n  return typeof document !== 'undefined' && typeof window !== 'undefined';\n}\n\nexport function isIE11OrLess() {\n  if (!isBrowser()) {\n    return false;\n  }\n  const documentMode = (document as any).documentMode;\n  return !!documentMode && documentMode <= 11;\n}\n\nexport function getUserAgent() {\n  return navigator.userAgent;\n}\n\nexport function isFingerprintSupported() {\n  const agent = getUserAgent();\n  return agent && !isWindowsPhone.test(agent);\t\n}\n\nexport function isPopupPostMessageSupported() {\n  if (!isBrowser()) {\n    return false;\n  }\n  const documentMode = (document as any).documentMode;\n  var isIE8or9 = documentMode && documentMode < 10;\n  if (typeof window.postMessage !== 'undefined' && !isIE8or9) {\n    return true;\n  }\n  return false;\n}\n\nfunction isWebCryptoSubtleSupported () {\n  return typeof webcrypto !== 'undefined'\n    && webcrypto !== null\n    && typeof webcrypto.subtle !== 'undefined'\n    && typeof Uint8Array !== 'undefined';\n}\n\nexport function isTokenVerifySupported() {\n  return isWebCryptoSubtleSupported();\n}\n\nexport function hasTextEncoder() {\n  return typeof TextEncoder !== 'undefined';\n}\n\nexport function isPKCESupported() {\n  return isTokenVerifySupported() && hasTextEncoder();\n}\n\nexport function isHTTPS() {\n  if (!isBrowser()) {\n    return false;\n  }\n  return window.location.protocol === 'https:';\n}\n\nexport function isLocalhost() {\n  // eslint-disable-next-line compat/compat\n  return isBrowser() && window.location.hostname === 'localhost';\n}\n\n// For now, DPoP is only supported on browsers\nexport function isDPoPSupported () {\n  return !isIE11OrLess() &&\n    typeof window.indexedDB !== 'undefined' &&\n    hasTextEncoder() &&\n    isWebCryptoSubtleSupported();\n}\n\nexport function isIOS () {\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\n  return isBrowser() && typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined' &&\n    // @ts-expect-error - MSStream is not in `window` type, unsurprisingly\n    (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream);\n}\n\nexport function isMobileSafari18 () {\n  if (isBrowser() && typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined') {\n    // eslint-disable-next-line new-cap\n    const { browser, os } = UAParser(navigator.userAgent);\n    return os.name?.toLowerCase() === 'ios' && !!browser.name?.toLowerCase()?.includes('safari')\n      && browser.major === '18';\n  }\n  return false;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global SDK_VERSION */\n\nimport { isBrowser } from '../features';\nexport class OktaUserAgent {\n  environments: string[];\n\n  constructor() {\n    // add base sdk env\n    this.environments = [`okta-auth-js/${SDK_VERSION}`];\n    this.maybeAddNodeEnvironment();\n  }\n\n  addEnvironment(env: string) {\n    this.environments.push(env);\n  }\n\n  getHttpHeader() {\n    return { 'X-Okta-User-Agent-Extended': this.environments.join(' ') };\n  }\n\n  getVersion() {\n    return SDK_VERSION;\n  }\n\n  maybeAddNodeEnvironment() {\n    if (isBrowser() || !process || !process.versions) {\n      return;\n    }\n    const { node: version } = process.versions;\n    this.environments.push(`nodejs/${version}`);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { OktaAuthHttpInterface } from './types';\n\nexport function setRequestHeader(authClient: OktaAuthHttpInterface, headerName, headerValue) {\n  authClient.options.headers = authClient.options.headers || {};\n  authClient.options.headers[headerName] = headerValue;\n}","import { OktaAuthStorageInterface, StorageManagerInterface } from '../storage/types';\nimport { OktaAuthConstructor } from '../base/types';\nimport {\n  HttpAPI,\n  OktaAuthHttpInterface,\n  OktaAuthHttpOptions,\n} from './types';\nimport { OktaUserAgent } from './OktaUserAgent';\nimport { setRequestHeader } from './headers';\nimport { toQueryString } from '../util';\nimport { get } from './request';\n\nexport function mixinHttp\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthHttpOptions = OktaAuthHttpOptions,\n  TBase extends OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n{\n  return class OktaAuthHttp extends Base implements OktaAuthHttpInterface<S, O>\n  {\n    _oktaUserAgent: OktaUserAgent;\n    http: HttpAPI;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      this._oktaUserAgent = new OktaUserAgent();\n\n      // HTTP\n      this.http = {\n        setRequestHeader: setRequestHeader.bind(null, this)\n      };\n    }\n\n    setHeaders(headers) {\n      this.options.headers = Object.assign({}, this.options.headers, headers);\n    }\n  \n    getIssuerOrigin(): string {\n      // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return this.options.issuer!.split('/oauth2/')[0];\n    }\n  \n    webfinger(opts): Promise<object> {\n      var url = '/.well-known/webfinger' + toQueryString(opts);\n      var options = {\n        headers: {\n          'Accept': 'application/jrd+json'\n        }\n      };\n      return get(this, url, options);\n    }\n  };\n}\n","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport crossFetch from 'cross-fetch';\nimport { FetchOptions, HttpResponse } from '../http/types';\n\n// content-type = application/json OR application/ion+json\nconst appJsonContentTypeRegex = /application\\/\\w*\\+?json/;\n\nfunction readData(response: Response): Promise<object | string> {\n  if (response.headers.get('Content-Type') &&\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    response.headers.get('Content-Type')!.toLowerCase().indexOf('application/json') >= 0) {\n  return response.json()\n    // JSON parse can fail if response is not a valid object\n    .catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status: number, data: object | string, response: Response) {\n  const isObject = typeof data === 'object';\n  const headers = {};\n  for (const pair of (response.headers as any).entries()) {\n    headers[pair[0]] = pair[1];\n  }\n  const result: HttpResponse = {\n    responseText: isObject ? JSON.stringify(data) : data as string,\n    status: status,\n    headers\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data as object;\n  }\n  return result;\n}\n\n/* eslint-disable complexity */\nfunction fetchRequest(method: string, url: string, args: FetchOptions) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  if (body && typeof body !== 'string') {\n    // JSON encode body (if appropriate)\n    if (appJsonContentTypeRegex.test(contentType)) {\n      body = JSON.stringify(body);\n    }\n    else if (contentType === 'application/x-www-form-urlencoded') {\n      body = Object.entries(body)\n      .map( ([param, value]) => `${param}=${encodeURIComponent(value)}` )\n      .join('&');\n    }\n  }\n\n  var fetch = global.fetch || crossFetch;\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body as string,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  });\n\n  if (!fetchPromise.finally) {\n    fetchPromise = Promise.resolve(fetchPromise);\n  }\n\n  return fetchPromise.then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response)\n      .then(data => {\n        return formatResult(status, data, response);\n      })\n      .then(result => {\n        if (error || result.responseJSON?.error) {\n          // Throwing result object since error handling is done in http.js\n          throw result;\n        }\n        return result;\n      });\n  });\n}\n\nexport default fetchRequest;\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createStorageOptionsConstructor } from '../storage';\nimport { HttpRequestClient, OktaAuthHttpOptions, RequestOptions } from './types';\nimport fetchRequest from '../fetch/fetchRequest';\n\nexport function createHttpOptionsConstructor() {\n  const StorageOptionsConstructor = createStorageOptionsConstructor();\n  return class HttpOptionsConstructor extends StorageOptionsConstructor implements Required<OktaAuthHttpOptions> {\n    issuer: string;\n    transformErrorXHR: (xhr: object) => any;\n    headers: object;\n    httpRequestClient: HttpRequestClient;\n    httpRequestInterceptors: ((request: RequestOptions) => void)[];\n    \n    constructor(args: any) {\n      super(args);\n      this.issuer = args.issuer;\n      this.transformErrorXHR = args.transformErrorXHR;\n      this.headers = args.headers;\n      this.httpRequestClient = args.httpRequestClient || fetchRequest;\n      this.httpRequestInterceptors = args.httpRequestInterceptors;\n    }\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nimport { isString, clone, isAbsoluteUrl, removeNils } from '../util';\nimport { STATE_TOKEN_KEY_NAME, DEFAULT_CACHE_DURATION, IOS_PAGE_AWAKEN_TIMEOUT } from '../constants';\nimport {\n  OktaAuthHttpInterface,\n  RequestOptions,\n  FetchOptions,\n  RequestData,\n  HttpResponse\n} from './types';\nimport { AuthApiError, OAuthError, APIError, WWWAuthError } from '../errors';\nimport { isMobileSafari18 } from '../features';\n\n\n// For iOS track last date when document became visible\nlet dateDocumentBecameVisible = 0;\nlet trackDateDocumentBecameVisible: () => void;\nif (isMobileSafari18()) {\n  dateDocumentBecameVisible = Date.now();\n  trackDateDocumentBecameVisible = () => {\n    if (!document.hidden) {\n      dateDocumentBecameVisible = Date.now();\n    }\n  };\n  document.addEventListener('visibilitychange', trackDateDocumentBecameVisible);\n}\n\nconst formatError = (sdk: OktaAuthHttpInterface, error: HttpResponse | Error): AuthApiError | OAuthError => {\n  if (error instanceof Error) {\n    // fetch() can throw exceptions\n    // see https://developer.mozilla.org/en-US/docs/Web/API/fetch#exceptions\n    return new AuthApiError({\n      errorSummary: error.message,\n    });\n  }\n\n  let resp: HttpResponse = error;\n  let err: AuthApiError | OAuthError | WWWAuthError;\n  let serverErr: Record<string, any> = {};\n  if (resp.responseText && isString(resp.responseText)) {\n    try {\n      serverErr = JSON.parse(resp.responseText);\n    } catch (e) {\n      serverErr = {\n        errorSummary: 'Unknown error'\n      };\n    }\n  }\n\n  if (resp.status >= 500) {\n    serverErr.errorSummary = 'Unknown error';\n  }\n\n  if (sdk.options.transformErrorXHR) {\n    resp = sdk.options.transformErrorXHR(clone(resp));\n  }\n\n  // \n  const wwwAuthHeader = WWWAuthError.getWWWAuthenticateHeader(resp?.headers) ?? '';\n\n  if (serverErr.error && serverErr.error_description) {\n    err = new OAuthError(serverErr.error, serverErr.error_description, resp);\n  } else {\n    err = new AuthApiError(serverErr as APIError, resp, { wwwAuthHeader });\n  }\n\n  if (wwwAuthHeader && resp?.status >= 400 && resp?.status < 500) {\n    const wwwAuthErr = WWWAuthError.parseHeader(wwwAuthHeader);\n    // check for 403 to avoid breaking change\n    if (resp.status === 403 && wwwAuthErr?.error === 'insufficient_authentication_context') {\n      // eslint-disable-next-line camelcase\n      const { max_age, acr_values } = wwwAuthErr.parameters;\n      err = new AuthApiError(\n        {\n          errorSummary: wwwAuthErr.error,\n          errorCauses: [{ errorSummary: wwwAuthErr.errorDescription }]\n        },\n        resp,\n        {\n          // eslint-disable-next-line camelcase\n          max_age: +max_age,\n          // eslint-disable-next-line camelcase\n          ...(acr_values && { acr_values })\n        }\n      );\n    }\n    else if (wwwAuthErr?.scheme === 'DPoP') {\n      err = wwwAuthErr;\n    }\n    // else {\n    //   // WWWAuthError.parseHeader may return null, only overwrite if !null\n    //   err = wwwAuthErr ?? err;\n    // }\n  }\n\n  return err;\n};\n\n// eslint-disable-next-line max-statements\nexport function httpRequest(sdk: OktaAuthHttpInterface, options: RequestOptions): Promise<any> {\n  options = options || {};\n\n  if (sdk.options.httpRequestInterceptors) {\n    for (const interceptor of sdk.options.httpRequestInterceptors) {\n      interceptor(options);\n    }\n  }\n\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials === true, // default value is false\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil!.storage,\n      httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies),\n      pollingIntent = options.pollingIntent;\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url as string];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var oktaUserAgentHeader = sdk._oktaUserAgent.getHttpHeader();\n  var headers: HeadersInit = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    ...oktaUserAgentHeader\n  };\n  Object.assign(headers, sdk.options.headers, options.headers);\n  headers = removeNils(headers) as HeadersInit;\n\n  if (accessToken && isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions: FetchOptions = {\n    headers,\n    data: args || undefined,\n    withCredentials\n  };\n\n  var err, res, promise;\n\n  if (pollingIntent && isMobileSafari18()) {\n    let waitForVisibleAndAwakenDocument: () => Promise<void>;\n    let waitForAwakenDocument: () => Promise<void>;\n    let recursiveFetch: () => Promise<HttpResponse>;\n\n    // Safari on iOS has a bug:\n    //  Performing `fetch` right after document became visible can fail with `Load failed` error.\n    // Running fetch after short timeout fixes this issue.\n    waitForAwakenDocument = () => {\n      const timeSinceDocumentIsVisible = Date.now() - dateDocumentBecameVisible;\n      if (timeSinceDocumentIsVisible < IOS_PAGE_AWAKEN_TIMEOUT) {\n        return new Promise<void>((resolve) => setTimeout(() => {\n          if (!document.hidden) {\n            resolve();\n          } else {\n            resolve(waitForVisibleAndAwakenDocument());\n          }\n        }, IOS_PAGE_AWAKEN_TIMEOUT - timeSinceDocumentIsVisible));\n      } else {\n        return Promise.resolve();\n      }\n    };\n\n    // Returns a promise that resolves when document is visible for 500 ms\n    waitForVisibleAndAwakenDocument = () => {\n      if (document.hidden) {\n        let pageVisibilityHandler: () => void;\n        return new Promise<void>((resolve) => {\n          pageVisibilityHandler = () => {\n            if (!document.hidden) {\n              document.removeEventListener('visibilitychange', pageVisibilityHandler);\n              resolve(waitForAwakenDocument());\n            }\n          };\n          document.addEventListener('visibilitychange', pageVisibilityHandler);\n        });\n      } else {\n        return waitForAwakenDocument();\n      }\n    };\n\n    // Restarts fetch on 'Load failed' error\n    // This error can occur when `fetch` does not respond\n    //  (due to CORS error, non-existing host, or network error)\n    const retryableFetch = (): Promise<HttpResponse> => {\n      return sdk.options.httpRequestClient!(method!, url!, ajaxOptions).catch((err) => {\n        const isNetworkError = err?.message === 'Load failed';\n        if (isNetworkError) {\n          return recursiveFetch();\n        }\n        throw err;\n      });\n    };\n\n    // Final promise to fetch that wraps logic with waiting for visible document\n    //  and retrying fetch request on network error\n    recursiveFetch = (): Promise<HttpResponse> => {\n      return waitForVisibleAndAwakenDocument().then(retryableFetch);\n    };\n\n    promise = recursiveFetch();\n  } else {\n    promise = sdk.options.httpRequestClient!(method!, url!, ajaxOptions);\n  }\n\n  return promise\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && isString(res)) {\n        res = JSON.parse(res);\n        if (res && typeof res === 'object' && !res.headers) {\n          if (Array.isArray(res)) {\n            res.forEach(item => {\n              item.headers = resp.headers;\n            });\n          } else {\n            res.headers = resp.headers;\n          }\n        }\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies!);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url!, {\n          expiresAt: Math.floor(Date.now()/1000) + DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n      \n      return res;\n    })\n    .catch(function(resp) {\n      err = formatError(sdk, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nexport function get(sdk: OktaAuthHttpInterface, url: string, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  Object.assign(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nexport function post(sdk: OktaAuthHttpInterface, url: string, args?: RequestData, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  Object.assign(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n","import { ClearTransactionMetaOptions, TransactionManagerOptions } from '../oidc/types';\nimport { createTransactionManager } from '../oidc/TransactionManager';\nimport { IdxTransactionMeta, IntrospectOptions } from './types';\nimport { isRawIdxResponse } from './types/idx-js';\nimport { IdxStorageManagerInterface, SavedIdxResponse } from './types/storage';\n\nexport function createIdxTransactionManager\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>\n>\n()\n{\n  const TransactionManager = createTransactionManager<M, S>();\n  return class IdxTransactionManager extends TransactionManager\n  {\n    constructor(options: TransactionManagerOptions) {\n      super(options);\n    }\n\n    clear(options: ClearTransactionMetaOptions = {}) {\n      super.clear(options);\n\n      if (options.clearIdxResponse !== false) {\n        this.clearIdxResponse();\n      }\n    }\n    \n    saveIdxResponse(data: SavedIdxResponse): void {\n      if (!this.saveLastResponse) {\n        return;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      if (!storage) {\n        return;\n      }\n      storage.setStorage(data);\n    }\n\n    // eslint-disable-next-line complexity\n    loadIdxResponse(options?: IntrospectOptions): SavedIdxResponse | null {\n      if (!this.saveLastResponse) {\n        return null;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      if (!storage) {\n        return null;\n      }\n      const storedValue = storage.getStorage();\n      if (!storedValue || !isRawIdxResponse(storedValue.rawIdxResponse)) {\n        return null;\n      }\n\n      if (options) {\n        const { stateHandle, interactionHandle } = options;\n        // only perform this check if NOT using generic remediator\n        if (!options.useGenericRemediator && stateHandle && storedValue.stateHandle !== stateHandle) {\n          return null;\n        }\n        if (interactionHandle && storedValue.interactionHandle !== interactionHandle) {\n          return null;\n        }\n      }\n\n      return storedValue;\n    }\n\n    clearIdxResponse(): void {\n      if (!this.saveLastResponse) {\n        return;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      storage?.clearStorage();\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { \n  OktaAuthIdxInterface,\n  IdxTransaction,\n  AuthenticatorKey,\n  AuthenticationOptions\n} from './types';\nimport { run } from './run';\n\nexport async function authenticate(\n  authClient: OktaAuthIdxInterface, options: AuthenticationOptions = {}\n): Promise<IdxTransaction> {\n  if (options.password && !options.authenticator) {\n    options.authenticator = AuthenticatorKey.OKTA_PASSWORD;\n  }\n  return run(authClient, { \n    ...options, \n    flow: 'authenticate'\n  });\n}\n","import { IdxAuthenticator, IdxRemediationValue } from '../types/idx-js';\n\n\nexport interface Credentials {\n  [key: string]: string | boolean | number | undefined;\n}\n\nexport abstract class Authenticator<Values> {\n  meta: IdxAuthenticator;\n\n  constructor(authenticator: IdxAuthenticator) {\n    this.meta = authenticator;\n  }\n\n  abstract canVerify(values: Values): boolean;\n\n  abstract mapCredentials(values: Values): Credentials | undefined;\n\n  abstract getInputs(idxRemediationValue: IdxRemediationValue): any; // TODO: add type\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface OktaPasswordInputValues {\n  password?: string;\n  passcode?: string;\n  credentials?: Credentials;\n  // for ResetAuthenticator\n  revokeSessions?: boolean;\n}\n\nexport class OktaPassword extends Authenticator<OktaPasswordInputValues> {\n  canVerify(values: OktaPasswordInputValues) {\n    return !!(values.credentials || values.password || values.passcode);\n  }\n\n  mapCredentials(values: OktaPasswordInputValues): Credentials | undefined {\n    const { credentials, password, passcode, revokeSessions } = values;\n    if (!credentials && !password && !passcode) {\n      return;\n    }\n    return credentials || {\n      passcode: passcode || password,\n      revokeSessions,\n    };\n  }\n\n  getInputs(idxRemediationValue) {\n    const inputs = [{\n      ...idxRemediationValue.form?.value[0],\n      name: 'password',\n      type: 'string',\n      required: idxRemediationValue.required,\n    }];\n    const revokeSessions = idxRemediationValue.form?.value.find(\n      input => input.name === 'revokeSessions'\n    );\n    if (revokeSessions) {\n      inputs.push({\n        name: 'revokeSessions',\n        type: 'boolean',\n        label: 'Sign me out of all other devices',\n        required: false,\n      });\n    }\n    return inputs;\n  }\n}\n","import { Authenticator, isAuthenticator } from '../types';\n\nexport function formatAuthenticator(incoming: unknown): Authenticator {\n  let authenticator: Authenticator;\n  if  (isAuthenticator(incoming)) {\n    authenticator = incoming;\n  } else if (typeof incoming === 'string') {\n    authenticator = {\n      key: incoming\n    };\n  } else {\n    throw new Error('Invalid format for authenticator');\n  }\n  return authenticator;\n}\n\n// Returns true if the authenticators are equivalent\nexport function compareAuthenticators(auth1, auth2) {\n  if (!auth1 || !auth2) {\n    return false;\n  }\n  // by id\n  if (auth1.id && auth2.id) {\n    return (auth1.id === auth2.id);\n  }\n  // by key\n  if (auth1.key && auth2.key) {\n    return (auth1.key === auth2.key);\n  }\n  return false;\n}\n\n// Find matched authenticator in provided order\nexport function findMatchedOption(authenticators, options) {\n  let option;\n  for (let authenticator of authenticators) {\n    option = options\n      .find(({ relatesTo }) => relatesTo.key && relatesTo.key === authenticator.key);\n    if (option) {\n      break;\n    }\n  }\n  return option;\n}","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface, CancelOptions, IdxTransactionMeta } from './types';\nimport { run } from './run';\nimport { getFlowSpecification } from './flow';\n\nexport async function cancel (authClient: OktaAuthIdxInterface, options?: CancelOptions) {\n  const meta = authClient.transactionManager.load() as IdxTransactionMeta;\n  const flowSpec = getFlowSpecification(authClient, meta.flow);\n  return run(authClient, {\n    ...options,\n    ...flowSpec,\n    actions: ['cancel']\n  });\n}\n","\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface } from './types';\n\nimport CustomError from '../errors/CustomError';\nimport { urlParamsToObject  } from '../oidc/util/urlParams';\nimport { EmailVerifyCallbackResponse } from './types/api';\n\nexport class EmailVerifyCallbackError extends CustomError {\n  state: string;\n  otp: string;\n\n  constructor(state: string, otp: string) {\n    super(`Enter the OTP code in the originating client: ${otp}`);\n    this.name = 'EmailVerifyCallbackError';\n    this.state = state;\n    this.otp = otp;\n  }\n}\n\nexport function isEmailVerifyCallbackError(error: Error) {\n  return (error.name === 'EmailVerifyCallbackError');\n}\n\n// Check if state && otp have been passed back in the url\nexport function isEmailVerifyCallback (urlPath: string): boolean {\n  return /(otp=)/i.test(urlPath) && /(state=)/i.test(urlPath);\n}\n\n// Parse state and otp from a urlPath (should be either a search or fragment from the URL)\nexport function parseEmailVerifyCallback(urlPath: string): EmailVerifyCallbackResponse {\n  return urlParamsToObject(urlPath) as EmailVerifyCallbackResponse;\n}\n\nexport async function handleEmailVerifyCallback(authClient: OktaAuthIdxInterface, search: string) {\n  if (isEmailVerifyCallback(search)) {\n    const { state, otp } = parseEmailVerifyCallback(search);\n    if (authClient.idx.canProceed({ state })) {\n      // same browser / device\n      return await authClient.idx.proceed({ state, otp });\n    } else {\n      // different browser or device\n      throw new EmailVerifyCallbackError(state, otp);\n    }\n  }\n}\n","import { createOktaAuthCore } from '../../core/factory';\nimport { OktaAuthOptionsConstructor } from '../../base/types';\nimport { StorageManagerConstructor } from '../../storage/types';\nimport { IdxTransactionManagerInterface, OktaAuthIdxInterface, OktaAuthIdxConstructor } from '../types/api';\nimport { IdxTransactionMeta } from '../types/meta';\nimport { IdxStorageManagerInterface } from '../types/storage';\nimport { OktaAuthIdxOptions } from '../types/options';\nimport { mixinIdx } from '../mixin';\nimport { TransactionManagerConstructor } from '../../oidc/types';\nimport { OktaAuthCoreInterface } from '../../core/types';\n\nexport function createOktaAuthIdx<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n)\n: OktaAuthIdxConstructor<OktaAuthIdxInterface<M, S, O, TM> & OktaAuthCoreInterface<M, S, O, TM>>\n{\n  const Core = createOktaAuthCore<M, S, O, TM>(\n    StorageManagerConstructor,\n    OptionsConstructor,\n    TransactionManagerConstructor\n  );\n  const WithIdx = mixinIdx(Core);\n  return WithIdx;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { isInteractionRequired, isInteractionRequiredError } from '../../oidc';\nimport { authenticate } from '../authenticate';\nimport { cancel } from '../cancel';\nimport {\n  handleEmailVerifyCallback,\n  isEmailVerifyCallback,\n  isEmailVerifyCallbackError,\n  parseEmailVerifyCallback\n} from '../emailVerify';\nimport { handleInteractionCodeRedirect } from '../handleInteractionCodeRedirect';\nimport { makeIdxState } from '../idxState';\nimport { interact } from '../interact';\nimport { introspect } from '../introspect';\nimport { poll } from '../poll';\nimport { canProceed, proceed } from '../proceed';\nimport { recoverPassword } from '../recoverPassword';\nimport { register } from '../register';\nimport { startTransaction } from '../startTransaction';\nimport {\n  clearTransactionMeta,\n  createTransactionMeta,\n  getSavedTransactionMeta,\n  getTransactionMeta,\n  isTransactionMetaValid,\n  saveTransactionMeta\n} from '../transactionMeta';\nimport { FlowIdentifier, IdxAPI, OktaAuthIdxInterface } from '../types';\nimport { unlockAccount } from '../unlockAccount';\nimport * as remediators from '../remediators';\nimport { getFlowSpecification } from '../flow/FlowSpecification';\nimport { setRemediatorsCtx } from '../util';\n\n// Factory\nexport function createIdxAPI(sdk: OktaAuthIdxInterface): IdxAPI {\n  setRemediatorsCtx({\n    remediators,\n    getFlowSpecification,\n  });\n  const boundStartTransaction = startTransaction.bind(null, sdk);\n  const idx = {\n    interact: interact.bind(null, sdk),\n    introspect: introspect.bind(null, sdk),\n    makeIdxResponse: makeIdxState.bind(null, sdk),\n    \n    authenticate: authenticate.bind(null, sdk),\n    register: register.bind(null, sdk),\n    start: boundStartTransaction,\n    startTransaction: boundStartTransaction, // Use `start` instead. `startTransaction` will be removed in 7.0\n    poll: poll.bind(null, sdk),\n    proceed: proceed.bind(null, sdk),\n    cancel: cancel.bind(null, sdk),\n    recoverPassword: recoverPassword.bind(null, sdk),\n\n    // oauth redirect callback\n    handleInteractionCodeRedirect: handleInteractionCodeRedirect.bind(null, sdk),\n\n    // interaction required callback\n    isInteractionRequired: isInteractionRequired.bind(null, sdk),\n    isInteractionRequiredError,\n\n    // email verify callback\n    handleEmailVerifyCallback: handleEmailVerifyCallback.bind(null, sdk),\n    isEmailVerifyCallback,\n    parseEmailVerifyCallback,\n    isEmailVerifyCallbackError,\n    \n    getSavedTransactionMeta: getSavedTransactionMeta.bind(null, sdk),\n    createTransactionMeta: createTransactionMeta.bind(null, sdk),\n    getTransactionMeta: getTransactionMeta.bind(null, sdk),\n    saveTransactionMeta: saveTransactionMeta.bind(null, sdk),\n    clearTransactionMeta: clearTransactionMeta.bind(null, sdk),\n    isTransactionMetaValid,\n    setFlow: (flow: FlowIdentifier) => {\n      sdk.options.flow = flow;\n    },\n    getFlow: (): FlowIdentifier | undefined => {\n      return sdk.options.flow;\n    },\n    canProceed: canProceed.bind(null, sdk),\n    unlockAccount: unlockAccount.bind(null, sdk),\n  };\n  return idx;\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport { \n  Identify,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  ReEnrollAuthenticator,\n  ReEnrollAuthenticatorWarning,\n  RedirectIdp,\n  AuthenticatorEnrollmentData,\n  SelectAuthenticatorEnroll,\n  EnrollAuthenticator,\n  AuthenticatorVerificationData,\n  EnrollPoll,\n  ChallengePoll,\n  SelectEnrollmentChannel,\n  EnrollmentChannelData,\n  Skip\n} from '../remediators';\n\nexport const AuthenticationFlow: RemediationFlow = {\n  'identify': Identify,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'enroll-authenticator': EnrollAuthenticator,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'challenge-poll': ChallengePoll,\n  'reenroll-authenticator': ReEnrollAuthenticator,\n  'reenroll-authenticator-warning': ReEnrollAuthenticatorWarning,\n  'enroll-poll': EnrollPoll,\n  'select-enrollment-channel': SelectEnrollmentChannel,\n  'enrollment-channel-data': EnrollmentChannelData,\n  'redirect-idp': RedirectIdp,\n  'skip': Skip,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport {\n  Identify,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  AuthenticatorVerificationData,\n  ResetAuthenticator,\n  ReEnrollAuthenticator,\n  ReEnrollAuthenticatorWarning,\n  SelectAuthenticatorEnroll,\n  AuthenticatorEnrollmentData,\n  EnrollPoll\n} from '../remediators';\n\nexport const PasswordRecoveryFlow: RemediationFlow = {\n  'identify': Identify,\n  'identify-recovery': Identify,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'reset-authenticator': ResetAuthenticator,\n  'reenroll-authenticator': ReEnrollAuthenticator,\n  'reenroll-authenticator-warning': ReEnrollAuthenticatorWarning,\n  'enroll-poll': EnrollPoll,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport { \n  SelectEnrollProfile,\n  EnrollPoll,\n  SelectEnrollmentChannel,\n  EnrollmentChannelData,\n  EnrollProfile,\n  SelectAuthenticatorEnroll,\n  EnrollAuthenticator,\n  AuthenticatorEnrollmentData,\n  Skip,\n} from '../remediators';\n\nexport const RegistrationFlow: RemediationFlow = {\n  'select-enroll-profile': SelectEnrollProfile,\n  'enroll-profile': EnrollProfile,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'enroll-poll': EnrollPoll,\n  'select-enrollment-channel': SelectEnrollmentChannel,\n  'enrollment-channel-data': EnrollmentChannelData,\n  'enroll-authenticator': EnrollAuthenticator,\n  'skip': Skip,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport {\n  Identify,\n  SelectAuthenticatorUnlockAccount,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  ChallengePoll,\n  AuthenticatorVerificationData,\n  ReEnrollAuthenticatorWarning\n} from '../remediators';\n\nexport const AccountUnlockFlow: RemediationFlow = {\n  'identify': Identify,\n  // NOTE: unlock-account is purposely not included. Handled as action\n  // because it's a rememdiation which requires no input\n  // 'unlock-account': UnlockAccount,\n  'select-authenticator-unlock-account': SelectAuthenticatorUnlockAccount,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'challenge-poll': ChallengePoll,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'reenroll-authenticator-warning': ReEnrollAuthenticatorWarning,\n};\n","import { OktaAuthIdxInterface, FlowIdentifier, FlowSpecification } from '../types';\nimport { AuthenticationFlow } from './AuthenticationFlow';\nimport { PasswordRecoveryFlow } from './PasswordRecoveryFlow';\nimport { RegistrationFlow } from './RegistrationFlow';\nimport { AccountUnlockFlow } from './AccountUnlockFlow';\n\n// eslint-disable-next-line complexity\nexport function getFlowSpecification(\n  oktaAuth: OktaAuthIdxInterface,\n  flow: FlowIdentifier = 'default'\n): FlowSpecification {\n  let remediators, actions, withCredentials = true;\n  switch (flow) {\n    case 'register':\n    case 'signup':\n    case 'enrollProfile':\n      remediators = RegistrationFlow;\n      withCredentials = false;\n      break;\n    case 'recoverPassword':\n    case 'resetPassword':\n      remediators = PasswordRecoveryFlow;\n      actions = [\n        'currentAuthenticator-recover', \n        'currentAuthenticatorEnrollment-recover'\n      ];\n      withCredentials = false;\n      break;\n    case 'unlockAccount':\n      remediators = AccountUnlockFlow;\n      withCredentials = false;\n      actions = [\n        'unlock-account'\n      ];\n      break;\n    case 'authenticate':\n    case 'login':\n    case 'signin':\n      remediators = AuthenticationFlow;\n      break;\n    default:\n      // default case has no flow monitor\n      remediators = AuthenticationFlow;\n      break;\n  }\n  return { flow, remediators, actions, withCredentials };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError, OAuthError } from '../errors';\nimport { IdxTransactionMeta } from './types/meta';\nimport { OktaAuthIdxInterface } from './types';\n\nexport async function handleInteractionCodeRedirect(\n  authClient: OktaAuthIdxInterface, \n  url: string\n): Promise<void> {\n  const meta = authClient.transactionManager.load() as IdxTransactionMeta;\n  if (!meta) {\n    throw new AuthSdkError('No transaction data was found in storage');\n  }\n\n  const { \n    codeVerifier,\n    state: savedState \n  } = meta;\n  const { \n    searchParams\n  // URL API has been added to the polyfill\n  // eslint-disable-next-line compat/compat\n  } = new URL(url); \n  const state = searchParams.get('state');\n  const interactionCode = searchParams.get('interaction_code');\n\n  // Error handling\n  const error = searchParams.get('error');\n  if (error) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    throw new OAuthError(error, searchParams.get('error_description')!);\n  }\n  if (state !== savedState) {\n    throw new AuthSdkError('State in redirect uri does not match with transaction state');\n  }\n  if (!interactionCode) {\n    throw new AuthSdkError('Unable to parse interaction_code from the url');\n  }\n  \n  // Save tokens to storage\n  const { tokens } = await authClient.token.exchangeCodeForTokens({ interactionCode, codeVerifier });\n  authClient.tokenManager.setTokens(tokens);\n}","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nconst isFieldMutable = function isFieldMutable(field) {\n  // mutable defaults to true, annoyingly\n  return ( field.mutable !== false );\n};\n\nconst divideSingleActionParamsByMutability = function divideSingleActionParamsByMutability( action ) {\n  const defaultParamsForAction = {}; // mutable and present\n  const neededParamsForAction = []; // mutable values\n  const immutableParamsForAction = {}; // immutable\n  // TODO: remove assumption that form names are unique, neededParams being an array is a temp fix\n  // not all actions have value (e.g. redirect)\n  // making sure they are not empty and instead hold the remediation object\n  if (!action.value) {\n    neededParamsForAction.push(action);\n    return { defaultParamsForAction, neededParamsForAction, immutableParamsForAction };\n  }\n\n  for ( let field of action.value ) {\n\n    if ( isFieldMutable( field ) ) {\n\n      neededParamsForAction.push(field);\n\n      if ( field.value ?? false ) {\n        defaultParamsForAction[field.name] = field.value;\n      }\n\n    } else {\n      immutableParamsForAction[field.name] = field.value ?? '';\n    }\n  }\n  return { defaultParamsForAction, neededParamsForAction, immutableParamsForAction };\n};\n\nexport const divideActionParamsByMutability = function divideActionParamsByMutability( actionList ) {\n  // TODO: when removing form name is unique assumption, this may all be redundant\n  actionList = Array.isArray(actionList) ? actionList : [ actionList ];\n  const neededParams = [];\n  const defaultParams = {};\n  const immutableParams = {};\n\n  for ( let action of actionList ) {\n    const { \n      defaultParamsForAction, \n      neededParamsForAction, \n      immutableParamsForAction \n    } = divideSingleActionParamsByMutability(action);\n    neededParams.push(neededParamsForAction);\n    defaultParams[action.name] = defaultParamsForAction;\n    immutableParams[action.name] = immutableParamsForAction;\n  }\n\n  return { defaultParams, neededParams, immutableParams };\n};\n\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable max-len, complexity */\nimport { httpRequest, RequestOptions } from '../../../http';\nimport { OktaAuthIdxInterface } from '../../types';    // auth-js/types\nimport { IdxActionFunction, IdxActionParams, IdxResponse, IdxToPersist } from '../../types/idx-js';\nimport { divideActionParamsByMutability } from './actionParser';\nimport AuthApiError from '../../../errors/AuthApiError';\n\nconst generateDirectFetch = function generateDirectFetch(authClient: OktaAuthIdxInterface, { \n  actionDefinition, \n  defaultParamsForAction = {}, \n  immutableParamsForAction = {}, \n  toPersist = {} as IdxToPersist\n}): IdxActionFunction {\n  const target = actionDefinition.href;\n  return async function(params: IdxActionParams = {}): Promise<IdxResponse> {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Accept': actionDefinition.accepts || 'application/ion+json',\n    };\n    const body = JSON.stringify({\n      ...defaultParamsForAction,\n      ...params,\n      ...immutableParamsForAction\n    });\n\n    try {\n      const options: RequestOptions = {\n        url: target,\n        method: actionDefinition.method,\n        headers,\n        args: body,\n        withCredentials: toPersist?.withCredentials ?? true\n      };\n      const isPolling = actionDefinition.name === 'poll' || actionDefinition.name?.endsWith('-poll');\n      if (isPolling) {\n        options.pollingIntent = true;\n      }\n      const response = await httpRequest(authClient, options);\n\n      return authClient.idx.makeIdxResponse({ ...response }, toPersist, true);\n    }\n    catch (err) {\n      if (!(err instanceof AuthApiError) || !err?.xhr) {\n        throw err;\n      }\n\n      const response = err.xhr;\n      const payload = response.responseJSON || JSON.parse(response.responseText);\n      const wwwAuthHeader = response.headers['WWW-Authenticate'] || response.headers['www-authenticate'];\n\n      const idxResponse = authClient.idx.makeIdxResponse({ ...payload }, toPersist, false);\n      if (response.status === 401 && wwwAuthHeader === 'Oktadevicejwt realm=\"Okta Device\"') {\n        // Okta server responds 401 status code with WWW-Authenticate header and new remediation\n        // so that the iOS/MacOS credential SSO extension (Okta Verify) can intercept\n        // the response reaches here when Okta Verify is not installed\n        // set `stepUp` to true if flow should be continued without showing any errors\n        idxResponse.stepUp = true;\n      }\n\n      return idxResponse;\n    }\n  };\n};\n\n// TODO: Resolve in M2: Either build the final polling solution or remove this code\n// const generatePollingFetch = function generatePollingFetch( { actionDefinition, defaultParamsForAction = {}, immutableParamsForAction = {} } ) {\n//   // TODO: Discussions ongoing about when/how to terminate polling: OKTA-246581\n//   const target = actionDefinition.href;\n//   return async function(params) {\n//     return fetch(target, {\n//       method: actionDefinition.method,\n//       headers: {\n//         'content-type': actionDefinition.accepts,\n//       },\n//       body: JSON.stringify({ ...defaultParamsForAction, ...params, ...immutableParamsForAction })\n//     })\n//       .then( response => response.ok ? response.json() : response.json().then( err => Promise.reject(err)) )\n//       .then( idxResponse => makeIdxState(authClient, idxResponse) );\n//   };\n// };\n\nconst generateIdxAction = function generateIdxAction( authClient: OktaAuthIdxInterface, actionDefinition, toPersist ): IdxActionFunction {\n  // TODO: leaving this here to see where the polling is EXPECTED to drop into the code, but removing any accidental trigger of incomplete code\n  // const generator =  actionDefinition.refresh ? generatePollingFetch : generateDirectFetch;\n  const generator = generateDirectFetch;\n  const { defaultParams, neededParams, immutableParams } = divideActionParamsByMutability( actionDefinition );\n\n  const action = generator(authClient, {\n    actionDefinition,\n    defaultParamsForAction: defaultParams[actionDefinition.name],\n    immutableParamsForAction: immutableParams[actionDefinition.name],\n    toPersist\n  });\n  action.neededParams = neededParams;\n  return action;\n};\n\nexport default generateIdxAction;\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface, IdxRemediation } from '../../types';    // auth-js/types\nimport generateIdxAction from './generateIdxAction';\n\nexport const generateRemediationFunctions = function generateRemediationFunctions(\n  authClient: OktaAuthIdxInterface,\n  remediationValue: IdxRemediation[],\n  toPersist = {}\n) {\n  return remediationValue.reduce((obj, remediation) => ({\n    ...obj,\n    [remediation.name]: generateIdxAction(authClient, remediation, toPersist)\n  }), {});\n};\n","const jsonpathRegex = /\\$?(?<step>\\w+)|(?:\\[(?<index>\\d+)\\])/g;\n\n/* eslint complexity:[0,8] */\nexport function jsonpath({ path, json }) {\n  const steps: string[] = [];\n  let match: RegExpExecArray | null;\n  while ((match = jsonpathRegex.exec(path)) !== null) {\n    const step = match?.groups?.step ?? match?.groups?.index;\n    if (step) {\n      steps.push(step);\n    }\n  }\n\n  if (steps.length < 1) {\n    return undefined;\n  }\n\n  // array length check above guarantees .pop() will return a value\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const lastStep = steps.pop()!;\n  let curr = json;\n  for (const step of steps) {\n    if (Object.prototype.hasOwnProperty.call(curr, step)) {\n      if (typeof curr[step] !== 'object') {\n        return undefined;\n      }\n\n      curr = curr[step];\n    }\n  }\n\n  return curr[lastStep];\n}\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable max-len */\n\nimport { OktaAuthIdxInterface, IdxResponse, IdxRemediation, IdxContext } from '../../types';    // auth-js/types\nimport { IdxActions } from '../../types/idx-js';\nimport { generateRemediationFunctions } from './remediationParser';\nimport generateIdxAction from './generateIdxAction';\nimport { jsonpath } from '../../../util/jsonpath';\nimport { AuthSdkError } from '../../../errors';\n\nconst SKIP_FIELDS = {\n  'remediation': true, // remediations are put into proceed/neededToProceed\n  'context': true, // the API response of 'context' isn't externally useful.  We ignore it and put all non-action (contextual) info into idxState.context\n};\n\nexport const parseNonRemediations = function parseNonRemediations( authClient: OktaAuthIdxInterface, idxResponse: IdxResponse, toPersist = {} ) {\n  const actions = {};\n  const context = {} as IdxContext;\n\n  Object.keys(idxResponse)\n    .filter( field => !SKIP_FIELDS[field])\n    .forEach( field => {\n      const fieldIsObject = typeof idxResponse[field] === 'object' && !!idxResponse[field];\n\n      if ( !fieldIsObject ) {\n        // simple fields are contextual info\n        context[field] = idxResponse[field];\n        return;\n      }\n\n      if ( idxResponse[field].rel ) {\n        // top level actions\n        actions[idxResponse[field].name] = generateIdxAction(authClient, idxResponse[field], toPersist);\n        return;\n      }\n\n      const { value: fieldValue, type, ...info} = idxResponse[field];\n      context[field] = { type, ...info}; // add the non-action parts as context\n\n      if ( type !== 'object' ) {\n        // only object values hold actions\n        context[field].value = fieldValue;\n        return;\n      }\n\n      // We are an object field containing an object value\n      context[field].value = {};\n      Object.entries<IdxRemediation>(fieldValue)\n        .forEach( ([subField, value]) => {\n          if (value.rel) { // is [field].value[subField] an action?\n            // add any \"action\" value subfields to actions\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            actions[`${field}-${subField.name || subField}`] = generateIdxAction(authClient, value, toPersist);\n          } else {\n            // add non-action value subfields to context\n            context[field].value[subField] = value;\n          }\n        });\n    });\n\n  return { context, actions };\n};\n\nconst expandRelatesTo = (idxResponse, value) => {\n  Object.keys(value).forEach(k => {\n    if (k === 'relatesTo') {\n      const query = Array.isArray(value[k]) ? value[k][0] : value[k];\n      if (typeof query === 'string') {\n        const result = jsonpath({ path: query, json: idxResponse });\n        if (result) {\n          value[k] = result;\n          return;\n        } else {\n          throw new AuthSdkError(`Cannot resolve relatesTo: ${query}`);\n        }\n      }\n    }\n    if (Array.isArray(value[k])) {\n      value[k].forEach(innerValue => expandRelatesTo(idxResponse, innerValue));\n    }\n  });\n};\n\nconst convertRemediationAction = (authClient: OktaAuthIdxInterface, remediation, toPersist) => {\n  // Only remediation that has `rel` field (indicator for form submission) can have http action\n  if (remediation.rel) {\n    const remediationActions = generateRemediationFunctions( authClient, [remediation], toPersist );\n    const actionFn = remediationActions[remediation.name];\n    return {\n      ...remediation,\n      action: actionFn,\n    };\n  }\n\n  return remediation;\n};\n\nexport const parseIdxResponse = function parseIdxResponse( authClient: OktaAuthIdxInterface, idxResponse, toPersist = {} ): {\n  remediations: IdxRemediation[];\n  context: IdxContext;\n  actions: IdxActions;\n} {\n  const remediationData = idxResponse.remediation?.value || [];\n\n  remediationData.forEach(\n    remediation => {\n      // TODO: remove once IDX is fixed - OKTA-659181\n      if (remediation.name === 'launch-authenticator' &&\n        remediation?.relatesTo?.[0] === 'authenticatorChallenge' &&\n        !idxResponse?.authenticatorChallenge\n      ) {\n        delete remediation.relatesTo;\n        return;\n      }\n\n      return expandRelatesTo(idxResponse, remediation);\n    }\n  );\n\n  const remediations = remediationData.map(remediation => convertRemediationAction( authClient, remediation, toPersist ));\n\n  const { context, actions } = parseNonRemediations( authClient, idxResponse, toPersist );\n\n  return {\n    remediations,\n    context,\n    actions,\n  };\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { makeIdxState } from './makeIdxState';\n\nexport default {\n  makeIdxState,\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { IdxResponse, IdxToPersist, IdxActionParams } from '../../types/idx-js';\nimport { OktaAuthIdxInterface, RawIdxResponse } from '../../types';    // auth-js/types\nimport { parseIdxResponse } from './idxResponseParser';\n\nexport function makeIdxState( \n  authClient: OktaAuthIdxInterface,\n  idxResponse: RawIdxResponse,\n  toPersist: IdxToPersist,\n  requestDidSucceed: boolean\n): IdxResponse {\n  const rawIdxResponse =  idxResponse;\n  const { remediations, context, actions } = parseIdxResponse( authClient, idxResponse, toPersist );\n  const neededToProceed = [...remediations];\n\n  const proceed: IdxResponse['proceed'] = async function( remediationChoice, paramsFromUser = {} ) {\n    /*\n    remediationChoice is the name attribute on each form\n    name should remain unique for items inside the remediation that are considered forms(identify, select-factor)\n    name can be duplicate for items like redirect where its not considered a form(redirect)\n    when names are not unique its a redirect to a href, so widget wont POST to idx-js layer.\n    */\n    const remediationChoiceObject = remediations.find((remediation) => remediation.name === remediationChoice);\n    if ( !remediationChoiceObject ) {\n      return Promise.reject(`Unknown remediation choice: [${remediationChoice}]`);\n    }\n\n    const actionFn = remediationChoiceObject.action;\n    if (typeof actionFn !== 'function') {\n      return Promise.reject(`Current remediation cannot make form submit action: [${remediationChoice}]`);\n    }\n\n    return remediationChoiceObject.action!(paramsFromUser as IdxActionParams);\n  };\n\n  const findCode = item => item.name === 'interaction_code';\n  const interactionCode = rawIdxResponse.successWithInteractionCode?.value?.find( findCode )?.value as string;\n\n  return {\n    proceed,\n    neededToProceed,\n    actions,\n    context,\n    rawIdxState: rawIdxResponse,\n    interactionCode,\n    toPersist,\n    requestDidSucceed,\n  };\n}\n","import { OktaAuthIdxInterface } from '../types';    // auth-js/types\nimport { IdxResponse, IdxToPersist, RawIdxResponse } from '../types/idx-js';      // idx/types\nimport { IDX_API_VERSION } from '../../constants';\nimport v1 from './v1/parsers';\n\n\nexport const parsersForVersion = function parsersForVersion( version ) {\n  switch (version) {\n    case '1.0.0':\n      return v1;\n    case undefined:\n    case null:\n      throw new Error('Api version is required');\n    default:\n      throw new Error(`Unknown api version: ${version}.  Use an exact semver version.`);\n  }\n};\n\nexport function validateVersionConfig(version) {\n  if ( !version ) {\n    throw new Error('version is required');\n  }\n\n  const cleanVersion = (version ?? '').replace(/[^0-9a-zA-Z._-]/, '');\n  if ( cleanVersion !== version || !version ) {\n    throw new Error('invalid version supplied - version is required and uses semver syntax');\n  }\n\n  parsersForVersion(version); // will throw for invalid version\n}\n\nexport function makeIdxState ( \n  authClient: OktaAuthIdxInterface,\n  rawIdxResponse: RawIdxResponse,\n  toPersist: IdxToPersist,\n  requestDidSucceed: boolean,\n): IdxResponse {\n  const version = rawIdxResponse?.version ?? IDX_API_VERSION;\n  validateVersionConfig(version);\n  \n  const { makeIdxState } = parsersForVersion(version);\n  return makeIdxState(authClient, rawIdxResponse, toPersist, requestDidSucceed);\n}\n","import { FingerprintAPI, OktaAuthConstructor } from '../base/types';\nimport { MinimalOktaOAuthInterface } from '../oidc/types';\nimport {\n  IdxTransactionManagerInterface,\n  OktaAuthIdxConstructor,\n  OktaAuthIdxOptions,\n  MinimalIdxAPI,\n  WebauthnAPI,\n  MinimalOktaAuthIdxInterface\n} from './types';\nimport { IdxTransactionMeta } from './types/meta';\nimport { IdxStorageManagerInterface } from './types/storage';\nimport { createMinimalIdxAPI } from '../idx/factory/minimalApi';\nimport fingerprint from '../browser/fingerprint';\nimport * as webauthn from './webauthn';\n\nexport function mixinMinimalIdx\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface,\n  TBase extends OktaAuthConstructor<MinimalOktaOAuthInterface<M, S, O, TM>>\n    = OktaAuthConstructor<MinimalOktaOAuthInterface<M, S, O, TM>>\n>\n(\n  Base: TBase\n): TBase & OktaAuthIdxConstructor<MinimalOktaAuthIdxInterface<M, S, O, TM>>\n{\n  return class OktaAuthIdx extends Base implements MinimalOktaAuthIdxInterface<M, S, O, TM>\n  {\n    idx: MinimalIdxAPI;\n    fingerprint: FingerprintAPI;\n    static webauthn: WebauthnAPI = webauthn;\n    \n    constructor(...args: any[]) {\n      super(...args);\n      this.idx = createMinimalIdxAPI(this);\n      this.fingerprint = fingerprint.bind(null, this);\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { makeIdxState } from '../idxState';\nimport { canProceed, proceed } from '../proceed';\nimport { startTransaction } from '../startTransaction';\nimport {\n  clearTransactionMeta,\n  createTransactionMeta,\n  getSavedTransactionMeta,\n  getTransactionMeta,\n  isTransactionMetaValid,\n  saveTransactionMeta\n} from '../transactionMeta';\nimport { MinimalIdxAPI, MinimalOktaAuthIdxInterface, OktaAuthIdxInterface } from '../types';\n\n// Factory\nexport function createMinimalIdxAPI(minimalSdk: MinimalOktaAuthIdxInterface): MinimalIdxAPI {\n  const sdk = minimalSdk as OktaAuthIdxInterface;\n  const boundStartTransaction = startTransaction.bind(null, sdk);\n  const idx = {\n    makeIdxResponse: makeIdxState.bind(null, sdk),\n\n    start: boundStartTransaction,\n    startTransaction: boundStartTransaction, // Use `start` instead. `startTransaction` will be removed in 7.0\n    proceed: proceed.bind(null, sdk),\n    canProceed: canProceed.bind(null, sdk),\n    \n    getSavedTransactionMeta: getSavedTransactionMeta.bind(null, sdk),\n    createTransactionMeta: createTransactionMeta.bind(null, sdk),\n    getTransactionMeta: getTransactionMeta.bind(null, sdk),\n    saveTransactionMeta: saveTransactionMeta.bind(null, sdk),\n    clearTransactionMeta: clearTransactionMeta.bind(null, sdk),\n    isTransactionMetaValid,\n  };\n  return idx;\n}\n\n","\nimport { OktaAuthConstructor } from '../../base/types';\nimport {\n  OAuthResponseType,\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  MinimalOktaOAuthInterface,\n  OktaAuthOAuthOptions,\n  PKCETransactionMeta,\n  BaseTokenAPI,\n  TransactionManagerInterface,\n  TransactionManagerConstructor,\n} from '../types';\nimport { createBaseTokenAPI } from '../factory/baseApi';\nimport { isLoginRedirect, hasResponseType } from '../util';\n\nimport { OktaAuthSessionInterface } from '../../session/types';\nexport function mixinMinimalOAuth\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n>\n(\n  Base: TBase,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>,\n): TBase & OktaAuthConstructor<MinimalOktaOAuthInterface<M, S, O, TM>>\n{\n  return class OktaAuthOAuth extends Base implements MinimalOktaOAuthInterface<M, S, O, TM>\n  {\n    token: BaseTokenAPI;\n    transactionManager: TM;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      this.transactionManager = new TransactionManagerConstructor(Object.assign({\n        storageManager: this.storageManager,\n      }, this.options.transactionManager));\n  \n      this.token = createBaseTokenAPI(this as any);\n    }\n\n    isLoginRedirect(): boolean {\n      return isLoginRedirect(this as any);\n    }\n\n    isPKCE(): boolean {\n      return !!this.options.pkce;\n    }\n\n    hasResponseType(responseType: OAuthResponseType): boolean {\n      return hasResponseType(responseType, this.options);\n    }\n\n    isAuthorizationCodeFlow(): boolean {\n      return this.hasResponseType('code');\n    }\n\n  };\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { decodeToken } from '../decodeToken';\nimport { exchangeCodeForTokens } from '../exchangeCodeForTokens';\nimport {\n  OktaAuthOAuthInterface,\n  BaseTokenAPI,\n} from '../types';\nimport { prepareTokenParams } from '../util';\n\n// Factory\nexport function createBaseTokenAPI(sdk: OktaAuthOAuthInterface): BaseTokenAPI {\n  const token: BaseTokenAPI = {\n    prepareTokenParams: prepareTokenParams.bind(null, sdk),\n    exchangeCodeForTokens: exchangeCodeForTokens.bind(null, sdk),\n    decode: decodeToken,\n  };\n\n  return token;\n}\n","import { OktaAuthOptionsConstructor } from '../../base/types';\nimport { StorageManagerConstructor } from '../../storage/types';\nimport { IdxTransactionManagerInterface, MinimalOktaAuthIdxInterface, OktaAuthIdxConstructor } from '../types/api';\nimport { IdxTransactionMeta } from '../types/meta';\nimport { IdxStorageManagerInterface } from '../types/storage';\nimport { OktaAuthIdxOptions } from '../types/options';\nimport { TransactionManagerConstructor, MinimalOktaOAuthInterface } from '../../oidc/types';\nimport { mixinMinimalIdx } from '../mixinMinimal';\nimport { createOktaAuthBase } from '../../base/factory';\nimport { mixinStorage } from '../../storage/mixin';\nimport { mixinHttp } from '../../http/mixin';\nimport { mixinSession } from '../../session/mixin';\nimport { mixinMinimalOAuth } from '../../oidc/mixin/minimal';\n\nexport function createMinimalOktaAuthIdx<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n)\n: OktaAuthIdxConstructor<\n  MinimalOktaAuthIdxInterface<M, S, O, TM> & MinimalOktaOAuthInterface<M, S, O, TM>\n>\n{\n  const Base = createOktaAuthBase(OptionsConstructor);\n  const WithStorage = mixinStorage<S, O>(Base, StorageManagerConstructor);\n  const WithHttp = mixinHttp<S, O>(WithStorage);\n  const WithSession = mixinSession<S, O>(WithHttp);\n  const WithOAuth = mixinMinimalOAuth<M, S, O, TM>(WithSession, TransactionManagerConstructor);\n  // do not mixin core\n  const WithIdx = mixinMinimalIdx(WithOAuth);\n  return WithIdx;\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint complexity:[0,8] */\nimport { OktaAuthIdxInterface, IdxTransactionMeta, InteractOptions, InteractResponse } from './types';\nimport { getSavedTransactionMeta, saveTransactionMeta, createTransactionMeta } from './transactionMeta';\nimport { getOAuthBaseUrl } from '../oidc';\nimport { removeNils } from '../util';\nimport { httpRequest } from '../http';\n\n\n/* eslint-disable camelcase */\nexport interface InteractParams {\n  client_id: string;\n  scope: string;\n  redirect_uri: string;\n  code_challenge: string;\n  code_challenge_method: string;\n  state: string;\n  activation_token?: string;\n  recovery_token?: string;\n  client_secret?: string;\n  max_age?: string | number;\n  acr_values?: string;\n  nonce?: string;\n}\n/* eslint-enable camelcase */\n\nfunction getResponse(meta: IdxTransactionMeta): InteractResponse {\n  return {\n    meta,\n    interactionHandle: meta.interactionHandle!,\n    state: meta.state\n  };\n}\n\n// Begin or resume a transaction. Returns an interaction handle\nexport async function interact (\n  authClient: OktaAuthIdxInterface, \n  options: InteractOptions = {}\n): Promise<InteractResponse> {\n  options = removeNils(options);\n\n  let meta = getSavedTransactionMeta(authClient, options);\n  // If meta exists, it has been validated against all options\n\n  if (meta?.interactionHandle) {\n    return getResponse(meta); // Saved transaction, return meta\n  }\n\n  // Create new meta, respecting previous meta if it has been set and is not overridden\n  meta = await createTransactionMeta(authClient, { ...meta, ...options });\n  const baseUrl = getOAuthBaseUrl(authClient);\n  let {\n    clientId,\n    redirectUri,\n    state,\n    scopes,\n    withCredentials,\n    codeChallenge,\n    codeChallengeMethod,\n    activationToken,\n    recoveryToken,\n    maxAge,\n    acrValues,\n    nonce\n  } = meta as IdxTransactionMeta;\n  const clientSecret = options.clientSecret || authClient.options.clientSecret;\n  withCredentials = withCredentials ?? true;\n\n  /* eslint-disable camelcase */\n  const url = `${baseUrl}/v1/interact`;\n  const params = {\n    client_id: clientId,\n    scope: scopes!.join(' '),\n    redirect_uri: redirectUri,\n    code_challenge: codeChallenge,\n    code_challenge_method: codeChallengeMethod,\n    state,\n    ...(activationToken && { activation_token: activationToken }),\n    ...(recoveryToken && { recovery_token: recoveryToken }),\n    // X-Device-Token header need to pair with `client_secret`\n    // eslint-disable-next-line max-len\n    // https://oktawiki.atlassian.net/wiki/spaces/eng/pages/2445902453/Support+Device+Binding+in+interact#Scenario-1%3A-Non-User-Agent-with-Confidential-Client-(top-priority)\n    ...(clientSecret && { client_secret: clientSecret }),\n    ...(maxAge && { max_age: maxAge }),\n    ...(acrValues && { acr_values: acrValues }),\n    ...(nonce && { nonce }),\n  } as InteractParams;\n  /* eslint-enable camelcase */\n\n  const headers = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n  };\n\n  const resp = await httpRequest(authClient, {\n    method: 'POST',\n    url,\n    headers,\n    withCredentials,\n    args: params\n  });\n  const interactionHandle = resp.interaction_handle;\n\n  const newMeta = {\n    ...meta,\n    interactionHandle,\n    \n    // Options which can be passed into interact() should be saved in the meta\n    withCredentials,\n    state,\n    scopes,\n    recoveryToken,\n    activationToken\n  };\n  // Save transaction meta so it can be resumed\n  saveTransactionMeta(authClient, newMeta);\n\n  return getResponse(newMeta);\n}\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { makeIdxState, validateVersionConfig } from './idxState';\nimport { IntrospectOptions, OktaAuthIdxInterface } from './types';\nimport { IdxResponse, isRawIdxResponse } from './types/idx-js';\nimport { getOAuthDomain } from '../oidc';\nimport { IDX_API_VERSION } from '../constants';\nimport { httpRequest } from '../http';\nimport { isAuthApiError } from '../errors';\n\nexport async function introspect (\n  authClient: OktaAuthIdxInterface, \n  options: IntrospectOptions = {}\n): Promise<IdxResponse> {\n  let rawIdxResponse;\n  let requestDidSucceed;\n\n  // try load from storage first\n  const savedIdxResponse = authClient.transactionManager.loadIdxResponse(options);\n  if (savedIdxResponse) {\n    rawIdxResponse = savedIdxResponse.rawIdxResponse;\n    requestDidSucceed = savedIdxResponse.requestDidSucceed;\n  }\n\n  // call idx.introspect if no existing idx response available in storage\n  if (!rawIdxResponse) {\n    const version = options.version || IDX_API_VERSION;\n    const domain = getOAuthDomain(authClient);\n    const { interactionHandle, stateHandle } = options;\n    const withCredentials = options.withCredentials ?? true;\n    try {\n      requestDidSucceed = true;\n      validateVersionConfig(version);\n      const url = `${domain}/idp/idx/introspect`;\n      const body = stateHandle ? { stateToken: stateHandle } : { interactionHandle };\n      const headers = {\n        'Content-Type': `application/ion+json; okta-version=${version}`, // Server wants this version info\n        Accept: `application/ion+json; okta-version=${version}`,\n      };\n      rawIdxResponse = await httpRequest(authClient, {\n        method: 'POST',\n        url,\n        headers,\n        withCredentials,\n        args: body\n      });\n    } catch (err) {\n      if (isAuthApiError(err) && err.xhr && isRawIdxResponse(err.xhr.responseJSON)) {\n        rawIdxResponse = err.xhr.responseJSON;\n        requestDidSucceed = false;\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  const { withCredentials } = options;\n  return makeIdxState(authClient, rawIdxResponse, { withCredentials }, requestDidSucceed);\n}\n","import { FingerprintAPI, OktaAuthConstructor } from '../base/types';\nimport { OktaAuthOAuthInterface } from '../oidc/types';\nimport {\n  IdxAPI, \n  IdxTransactionManagerInterface, \n  OktaAuthIdxInterface, \n  OktaAuthIdxConstructor, \n  OktaAuthIdxOptions, \n  WebauthnAPI\n} from './types';\nimport { IdxTransactionMeta } from './types/meta';\nimport { IdxStorageManagerInterface } from './types/storage';\nimport { createIdxAPI } from './factory/api';\nimport fingerprint from '../browser/fingerprint';\nimport * as webauthn from './webauthn';\n\nexport function mixinIdx\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n    = OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n>\n(Base: TBase): TBase & OktaAuthIdxConstructor<OktaAuthIdxInterface<M, S, O, TM>>\n{\n  return class OktaAuthIdx extends Base implements OktaAuthIdxInterface<M, S, O, TM>\n  {\n    idx: IdxAPI;\n    fingerprint: FingerprintAPI;\n    static webauthn: WebauthnAPI = webauthn;\n    \n    constructor(...args: any[]) {\n      super(...args);\n      this.idx = createIdxAPI(this);\n      this.fingerprint = fingerprint.bind(null, this);\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createCoreOptionsConstructor } from '../core/options';\nimport { FlowIdentifier } from './types/FlowIdentifier';\nimport { OktaAuthIdxOptions } from './types/options';\n\n\nexport function createIdxOptionsConstructor() {\n  const CoreOptionsConstructor = createCoreOptionsConstructor();\n  return class IdxOptionsConstructor\n    extends CoreOptionsConstructor \n    implements Required<OktaAuthIdxOptions>\n  {\n    flow: FlowIdentifier;\n    activationToken: string;\n    recoveryToken: string;\n  \n    // BETA WARNING: configs in this section are subject to change without a breaking change notice\n    idx: {\n      useGenericRemediator?: boolean;\n      exchangeCodeForTokens?: boolean;\n    };\n  \n    constructor(options: any) {\n      super(options);\n  \n      this.flow = options.flow;\n      this.activationToken = options.activationToken;\n      this.recoveryToken = options.recoveryToken;\n      this.idx = options.idx;\n    }\n  };\n  \n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { proceed } from './proceed';\n\nimport { \n  IdxPollOptions,\n  IdxTransaction,\n  OktaAuthIdxInterface,\n} from './types';\nimport { getSavedTransactionMeta } from './transactionMeta';\nimport { warn } from '../util';\n\nexport async function poll(authClient: OktaAuthIdxInterface, options: IdxPollOptions = {}): Promise<IdxTransaction> {\n  let transaction = await proceed(authClient, {\n    startPolling: true\n  });\n\n  const meta = getSavedTransactionMeta(authClient);\n  let availablePollingRemeditaions = meta?.remediations?.find(remediation => remediation.includes('poll'));\n  if (!availablePollingRemeditaions?.length) {\n    warn('No polling remediations available at the current IDX flow stage');\n  }\n\n  if (Number.isInteger(options.refresh)) {\n    return new Promise(function (resolve, reject) {\n      setTimeout(async function () {\n        try {\n          const refresh = transaction.nextStep?.poll?.refresh;\n          if (refresh) {\n            resolve(poll(authClient, {\n              refresh\n            }));\n          } else {\n            resolve(transaction);\n          }\n        } catch (err) {\n          reject(err);\n        }\n      }, options.refresh);\n    });\n  }\n\n  return transaction;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { \n  OktaAuthIdxInterface,\n  IdxTransaction,\n  ProceedOptions,\n} from './types';\nimport { run } from './run';\nimport { getSavedTransactionMeta } from './transactionMeta';\nimport { AuthSdkError } from '../errors';\n\nexport function canProceed(authClient: OktaAuthIdxInterface, options: ProceedOptions = {}): boolean {\n  const meta = getSavedTransactionMeta(authClient, options);\n  return !!(meta || options.stateHandle);\n}\n\nexport async function proceed(\n  authClient: OktaAuthIdxInterface,\n  options: ProceedOptions = {}\n): Promise<IdxTransaction> {\n\n  if (!canProceed(authClient, options)) {\n    throw new AuthSdkError('Unable to proceed: saved transaction could not be loaded');\n  }\n\n  let { flow, state } = options;\n  if (!flow) {\n    const meta = getSavedTransactionMeta(authClient, { state });\n    flow = meta?.flow;\n  }\n\n  return run(authClient, { \n    ...options, \n    flow\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { getFlowSpecification } from './flow';\nimport { \n  OktaAuthIdxInterface, \n  PasswordRecoveryOptions, \n  IdxTransaction,\n} from './types';\n\nexport async function recoverPassword(\n  authClient: OktaAuthIdxInterface, options: PasswordRecoveryOptions = {}\n): Promise<IdxTransaction> {\n  const flowSpec = getFlowSpecification(authClient, 'recoverPassword');\n  return run(\n    authClient, \n    { \n      ...options,\n      ...flowSpec,\n    }\n  );\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { hasSavedInteractionHandle } from './transactionMeta';\nimport { startTransaction } from './startTransaction';\nimport { AuthSdkError } from '../errors';\nimport { \n  RegistrationOptions, \n  IdxTransaction, \n  OktaAuthIdxInterface, \n  IdxFeature,\n} from './types';\n\nexport async function register(\n  authClient: OktaAuthIdxInterface, options: RegistrationOptions = {}\n): Promise<IdxTransaction> {\n\n  // Only check at the beginning of the transaction\n  if (!hasSavedInteractionHandle(authClient)) {\n    const { enabledFeatures } = await startTransaction(authClient, {\n      ...options,\n      flow: 'register',\n      autoRemediate: false\n    });\n    if (!options.activationToken && enabledFeatures && !enabledFeatures.includes(IdxFeature.REGISTRATION)) {\n      throw new AuthSdkError('Registration is not supported based on your current org configuration.');\n    }\n  }\n\n  return run(authClient, {\n    ...options,\n    flow: 'register'\n  });\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthenticatorData, AuthenticatorDataValues } from './Base/AuthenticatorData';\nimport { getAuthenticatorFromRemediation } from './util';\n\nexport type AuthenticatorEnrollmentDataValues =  AuthenticatorDataValues & {\n  phoneNumber?: string;\n  resend?: boolean; // resend is not a remediator value - revise when IdxResponse structure is updated\n}\nexport class AuthenticatorEnrollmentData extends AuthenticatorData<AuthenticatorEnrollmentDataValues> {\n  static remediationName = 'authenticator-enrollment-data';\n\n  mapAuthenticator() {\n    const authenticatorData = this.getAuthenticatorData();\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation)!;\n    return { \n      id: authenticatorFromRemediation.form!.value\n        .find(({ name }) => name === 'id')!.value,\n      methodType: authenticatorData!.methodType,\n      phoneNumber: authenticatorData!.phoneNumber,\n    };\n  }\n\n  getInputAuthenticator(remediation) {\n    return [\n      { name: 'methodType', type: 'string' }, \n      { name: 'phoneNumber', label: 'Phone Number', type: 'string' }\n    ].map(item => {\n      const value = remediation.form.value.find(val => val.name === item.name);\n      return { ...value, ...item };\n    });\n  }\n\n  protected mapAuthenticatorDataFromValues(data?) {\n    // get mapped authenticator from base class\n    data = super.mapAuthenticatorDataFromValues(data);\n    // add phoneNumber to authenticator if it exists in values\n    const { phoneNumber } = this.values;\n    if (!data && !phoneNumber) {\n      return;\n    }\n\n    return { \n      ...(data && data), \n      ...(phoneNumber && { phoneNumber }) \n    };\n  }\n\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AuthenticatorData, AuthenticatorDataValues } from './Base/AuthenticatorData';\n\nexport type AuthenticatorVerificationDataValues = AuthenticatorDataValues;\n\nexport class AuthenticatorVerificationData extends AuthenticatorData<AuthenticatorVerificationDataValues> {\n  static remediationName = 'authenticator-verification-data';\n\n  mapAuthenticator() {\n    return this.getAuthenticatorData();\n  }\n\n  getInputAuthenticator() {\n    const authenticator = this.getAuthenticatorFromRemediation();\n    const methodType = authenticator.form!.value.find(({ name }) => name === 'methodType');\n    // if has methodType in form, let user select the methodType\n    if (methodType && methodType.options) {\n      return { \n        name: 'methodType', \n        type: 'string', \n        required: true, \n        options: methodType.options \n      };\n    }\n    // no methodType, then return form values\n    const inputs = [...authenticator.form!.value];\n    return inputs;\n  }\n\n  getValuesAfterProceed(): AuthenticatorVerificationDataValues {\n    this.values = super.getValuesAfterProceed();\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'authenticator');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { IdxRemediationValue, IdxRemediation, IdxAuthenticator } from '../../types/idx-js';\nimport { isAuthenticator } from '../../types/api';\nimport { compareAuthenticators } from '../../authenticator/util';\n\nexport type AuthenticatorDataValues = RemediationValues & {\n  methodType?: string;\n};\n\n// Base class - DO NOT expose static remediationName\nexport class AuthenticatorData<T extends AuthenticatorDataValues = AuthenticatorDataValues> extends Remediator<T> {\n  authenticator: IdxAuthenticator;\n\n  constructor(remediation: IdxRemediation, values: T = {} as T) {\n    super(remediation, values);\n\n    // set before other data calculation\n    this.authenticator = this.getAuthenticator()!;\n\n    this.formatAuthenticatorData();\n  }\n\n  protected formatAuthenticatorData() {\n    const authenticatorData = this.getAuthenticatorData();\n    if (authenticatorData) {\n      this.values.authenticatorsData = this.values.authenticatorsData!.map(data => {\n        if (compareAuthenticators(this.authenticator, data)) {\n          return this.mapAuthenticatorDataFromValues(data);\n        }\n        return data;\n      });\n    } else {\n      const data = this.mapAuthenticatorDataFromValues();\n      if (data) {\n        this.values.authenticatorsData!.push(data);\n      }\n    }\n  }\n\n  protected getAuthenticatorData() {\n    return this.values.authenticatorsData!\n      .find((data) => compareAuthenticators(this.authenticator, data));\n  }\n\n  canRemediate() {\n    return this.values.authenticatorsData!\n      .some(data => compareAuthenticators(this.authenticator, data));\n  }\n\n  protected mapAuthenticatorDataFromValues(authenticatorData?) {\n    // add methodType to authenticatorData if it exists in values\n    let { methodType, authenticator } = this.values;\n    if (!methodType && isAuthenticator(authenticator)) {\n     methodType = authenticator?.methodType;\n    }\n    \n    const { id, enrollmentId } = this.authenticator;\n    const data = { \n      id,\n      enrollmentId,\n      ...(authenticatorData && authenticatorData),\n      ...(methodType && { methodType }) \n    };\n\n    return data.methodType ? data : null;\n  }\n\n  protected getAuthenticatorFromRemediation(): IdxRemediationValue {\n    const authenticator = this.remediation.value!\n      .find(({ name }) => name === 'authenticator') as IdxRemediationValue;\n    return authenticator;\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    // remove used authenticatorData\n    const authenticatorsData = this.values.authenticatorsData!\n      .filter(data => compareAuthenticators(this.authenticator, data) !== true);\n    return { ...this.values, authenticatorsData };\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable complexity */\nimport { OktaAuthIdxInterface, NextStep, IdxMessage, Authenticator, Input, RemediateOptions } from '../../types';\nimport { IdxAuthenticator, IdxRemediation, IdxContext } from '../../types/idx-js';\nimport { getAllValues, getRequiredValues, titleCase, getAuthenticatorFromRemediation } from '../util';\nimport { formatAuthenticator, compareAuthenticators } from '../../authenticator/util';\n\n// A map from IDX data values (server spec) to RemediationValues (client spec)\nexport type IdxToRemediationValueMap = Record<string, string[]>;\n\nexport interface RemediationValues {\n  stateHandle?: string;\n  authenticators?: (Authenticator | string)[];\n  authenticator?: string | Authenticator;\n  authenticatorsData?: Authenticator[];\n  resend?: boolean;\n}\n\nexport interface RemediatorConstructor {\n  remediationName: string;\n  new<T extends RemediationValues>(\n    remediation: IdxRemediation, \n    values?: T, \n    options?: RemediateOptions\n  ): any;\n}\n\n// Base class - DO NOT expose static remediationName\nexport class Remediator<T extends RemediationValues = RemediationValues> {\n  static remediationName: string;\n\n  remediation: IdxRemediation;\n  values: T;\n  options: RemediateOptions;\n  map?: IdxToRemediationValueMap;\n\n  constructor(\n    remediation: IdxRemediation, \n    values: T = {} as T, \n    options: RemediateOptions = {}\n  ) {\n    // assign fields to the instance\n    this.values = { ...values };\n    this.options = { ...options };\n    this.formatAuthenticators();\n    this.remediation = remediation;\n  }\n\n  private formatAuthenticators() {\n    this.values.authenticators = (this.values.authenticators || []) as Authenticator[];\n\n    // ensure authenticators are in the correct format\n    this.values.authenticators = this.values.authenticators.map(authenticator => {\n      return formatAuthenticator(authenticator);\n    });\n\n    // add authenticator (if any) to \"authenticators\"\n    if (this.values.authenticator) {\n      const authenticator = formatAuthenticator(this.values.authenticator);\n      const hasAuthenticatorInList = this.values.authenticators.some(existing => {\n        return compareAuthenticators(authenticator, existing);\n      });\n      if (!hasAuthenticatorInList) {\n        this.values.authenticators.push(authenticator);\n      }\n    }\n\n    // save non-key meta to \"authenticatorsData\" field\n    // authenticators will be removed after selection to avoid select-authenticator loop\n    this.values.authenticatorsData = this.values.authenticators.reduce((acc, authenticator) => {\n      if (typeof authenticator === 'object' && Object.keys(authenticator).length > 1) {\n        // save authenticator meta into authenticator data\n        acc.push(authenticator);\n      }\n      return acc;\n    }, this.values.authenticatorsData || []);\n  }\n\n  getName(): string {\n    return this.remediation.name;\n  }\n\n  // Override this method to provide custom check\n  /* eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars */\n  canRemediate(context?: IdxContext): boolean {\n    const required = getRequiredValues(this.remediation);\n    const needed = required!.find((key) => !this.hasData(key));\n    if (needed) {\n      return false; // missing data for a required field\n    }\n    return true; // all required fields have available data\n  }\n\n  // returns an object for the entire remediation form, or just a part\n  getData(key?: string) {\n    if (!key) {\n      let allValues = getAllValues(this.remediation);\n      let res = allValues!.reduce((data, key) => {\n        data[key] = this.getData(key); // recursive\n        return data;\n      }, {});\n      return res;\n    }\n\n    // Map value by \"map${Property}\" function in each subClass\n    if (typeof this[`map${titleCase(key)}`] === 'function') {\n      const val = this[`map${titleCase(key)}`](\n        this.remediation.value!.find(({name}) => name === key)\n      );\n      if (val) {\n        return val;\n      }\n    }\n\n    // If a map is defined for this key, return the first aliased property that returns a truthy value\n    if (this.map && this.map[key]) {\n      const entry = this.map[key];\n      for (let i = 0; i < entry.length; i++) {\n        let val = this.values[entry[i]];\n        if (val) {\n          return val;\n        }\n      }\n    }\n\n    // fallback: return the value by key\n    return this.values[key];\n  }\n\n  hasData(\n    key: string // idx name\n  ): boolean \n  {\n    // no attempt to format, we want simple true/false\n    return !!this.getData(key);\n  }\n\n  getNextStep(_authClient: OktaAuthIdxInterface, _context?: IdxContext): NextStep {\n    const name = this.getName();\n    const inputs = this.getInputs();\n    const authenticator = this.getAuthenticator();\n    // TODO: remove type field in the next major version change\n    // https://oktainc.atlassian.net/browse/OKTA-431749\n    const type = authenticator?.type;\n    return { \n      name, \n      inputs, \n      ...(type && { type }),\n      ...(authenticator && { authenticator }),\n    };\n  }\n\n  // Get inputs for the next step\n  getInputs(): Input[] {\n    const inputs: Input[] = [];\n    const inputsFromRemediation = this.remediation.value || [];\n    inputsFromRemediation.forEach(inputFromRemediation => {\n      let input;\n      let { name, type, visible, messages } = inputFromRemediation;\n      if (visible === false) {\n        return; // Filter out invisible inputs, like stateHandle\n      }\n      if (typeof this[`getInput${titleCase(name)}`] === 'function') {\n        input = this[`getInput${titleCase(name)}`](inputFromRemediation);\n      } else if (type !== 'object') {\n        // handle general primitive types\n        let alias;\n        const aliases = (this.map ? this.map[name] : null) || [];\n        if (aliases.length === 1) {\n          alias = aliases[0];\n        } else {\n          // try find key from values\n          alias = aliases.find(name => Object.keys(this.values).includes(name));\n        }\n        if (alias) {\n          input = { ...inputFromRemediation, name: alias };\n        }\n      }\n      if (!input) {\n        input = inputFromRemediation;\n      }\n      if (Array.isArray(input)) {\n        input.forEach(i => inputs.push(i));\n      } else {\n        // guarantees field-level messages are passed back\n        if (messages) {\n          input.messages = messages;\n        }\n        inputs.push(input);\n      }\n    });\n    return inputs;\n  }\n\n  static getMessages(remediation: IdxRemediation): IdxMessage[] | undefined {\n    if (!remediation.value) {\n      return;\n    }\n    return remediation.value[0]?.form?.value.reduce((messages: IdxMessage[], field) => {\n      if (field.messages) {\n        messages = [...messages, ...field.messages.value];\n      }\n      return messages;\n    }, []);\n  }\n\n  // Prepare values for the next remediation\n  // In general, remove used values from inputs for the current remediation\n  // Override this method if special cases need be handled\n  getValuesAfterProceed(): T {\n    const inputsFromRemediation = this.remediation.value || []; // \"raw\" inputs from server response\n    const inputsFromRemediator = this.getInputs(); // \"aliased\" inputs from SDK remediator\n    const inputs = [\n      ...inputsFromRemediation,\n      ...inputsFromRemediator\n    ];\n    // scrub all values related to this remediation\n    for (const input of inputs) {\n      delete this.values[input.name];\n    }\n    return this.values;\n  }\n\n  protected getAuthenticator(): IdxAuthenticator | undefined {\n    // relatesTo value may be an authenticator or an authenticatorEnrollment\n    const relatesTo = this.remediation.relatesTo?.value;\n    if (!relatesTo) {\n      return;\n    }\n\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation);\n    if (!authenticatorFromRemediation) {\n      // Hopefully value is an authenticator\n      return relatesTo;\n    }\n\n    // If relatesTo is an authenticatorEnrollment, the id is actually the enrollmentId\n    // Let's get the correct authenticator id from the form value\n    const id = authenticatorFromRemediation.form!.value\n      .find(({ name }) => name === 'id')!.value as string;\n    const enrollmentId = authenticatorFromRemediation.form!.value\n      .find(({ name }) => name === 'enrollmentId')?.value as string;\n\n    return {\n      ...relatesTo,\n      id,\n      enrollmentId\n    };\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { getAuthenticatorFromRemediation } from '../util';\nimport { IdxRemediationValue, IdxContext, IdxOption } from '../../types/idx-js';\nimport { Authenticator, isAuthenticator } from '../../types/api';\nimport { compareAuthenticators, findMatchedOption} from '../../authenticator/util';\n\nexport type SelectAuthenticatorValues = RemediationValues & {\n  authenticator?: string | Authenticator;\n};\n\n// Base class - DO NOT expose static remediationName\nexport class SelectAuthenticator<T extends SelectAuthenticatorValues = SelectAuthenticatorValues>\n  extends Remediator<T> {\n  selectedAuthenticator?: Authenticator;\n  selectedOption?: any;\n\n  // Find matched authenticator in provided order\n  findMatchedOption(authenticators, options) {\n    let option: IdxOption | undefined;\n    for (let authenticator of authenticators) {\n      option = options\n        .find(({ relatesTo }) => relatesTo.key && relatesTo.key === authenticator.key);\n      if (option) {\n        break;\n      }\n    }\n    return option;\n  }\n\n  /* eslint complexity:[0,9] */\n  canRemediate(context?: IdxContext) {\n    const { authenticators, authenticator } = this.values;\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation);\n    const { options } = authenticatorFromRemediation;\n    // Let users select authenticator if no input is provided\n    if (!authenticators || !authenticators.length) {\n      return false;\n    }\n\n    // Authenticator is explicitly specified by id\n    if (isAuthenticator(authenticator) && authenticator.id) {\n      return true;\n    }\n\n    // Proceed with provided authenticators\n    const matchedOption = this.findMatchedOption(authenticators, options!);\n    if (matchedOption) {\n      // Don't select current authenticator (OKTA-612939)\n      const isCurrentAuthenticator = context?.currentAuthenticator\n        && context?.currentAuthenticator.value.id === matchedOption.relatesTo?.id;\n      const isCurrentAuthenticatorEnrollment = context?.currentAuthenticatorEnrollment\n        && context?.currentAuthenticatorEnrollment.value.id === matchedOption.relatesTo?.id;\n      return !isCurrentAuthenticator && !isCurrentAuthenticatorEnrollment;\n    }\n    \n    return false;\n  }\n\n  mapAuthenticator(remediationValue: IdxRemediationValue) {\n    const { authenticators, authenticator } = this.values;\n\n    // Authenticator is explicitly specified by id\n    if (isAuthenticator(authenticator) && authenticator.id) {\n      this.selectedAuthenticator = authenticator; // track the selected authenticator\n      return authenticator;\n    }\n\n    const { options } = remediationValue;\n    const selectedOption = findMatchedOption(authenticators, options);\n    this.selectedAuthenticator = selectedOption.relatesTo; // track the selected authenticator\n    this.selectedOption = selectedOption;\n    return {\n      id: selectedOption?.value.form.value.find(({ name }) => name === 'id').value\n    };\n  }\n\n  getInputAuthenticator(remediation) {\n    const options = remediation.options.map(({ label, relatesTo }) => {\n      return {\n        label,\n        value: relatesTo.key\n      };\n    });\n    return { name: 'authenticator', type: 'string', options };\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    // remove used authenticators\n    const authenticators = (this.values.authenticators as Authenticator[])\n      .filter(authenticator => {\n        return compareAuthenticators(authenticator, this.selectedAuthenticator) !== true;\n      });\n    return { ...this.values, authenticators };\n  }\n\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface VerificationCodeValues {\n  verificationCode?: string;\n  otp?: string;\n  credentials?: Credentials;\n}\n\ninterface VerificationCodeCredentials extends Credentials {\n  passcode: string;\n}\n\n// general authenticator to handle \"verificationCode\" input\n// it can be used for \"email\", \"phone\", \"google authenticator\"\n// a new authenticator class should be created if special cases need to be handled\nexport class VerificationCodeAuthenticator extends Authenticator<VerificationCodeValues> {\n  canVerify(values: VerificationCodeValues) {\n    return !!(values.credentials ||values.verificationCode || values.otp);\n  }\n\n  mapCredentials(values): VerificationCodeCredentials | Credentials | undefined {\n    const { credentials, verificationCode, otp } = values;\n    if (!credentials && !verificationCode && !otp) {\n      return;\n    }\n    return credentials || { passcode: verificationCode || otp };\n  }\n\n  getInputs(idxRemediationValue) {\n    return {\n      ...idxRemediationValue.form?.value[0],\n      name: 'verificationCode',\n      type: 'string',\n      required: idxRemediationValue.required\n    };\n  }\n}\n","import { Credentials } from './Authenticator';\nimport { VerificationCodeAuthenticator } from './VerificationCodeAuthenticator';\n\ninterface TotpCredentials extends Credentials {\n  totp: string;\n}\n\nexport class OktaVerifyTotp extends VerificationCodeAuthenticator {\n  mapCredentials(values): TotpCredentials | undefined {\n    const { verificationCode } = values;\n    if (!verificationCode) {\n      return;\n    }\n    return { totp: verificationCode };\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface SecurityQuestionEnrollValues {\n  questionKey?: string;\n  question?: string;\n  answer?: string;\n  credentials?: Credentials;\n}\n\nexport class SecurityQuestionEnrollment extends Authenticator<SecurityQuestionEnrollValues> {\n  canVerify(values: SecurityQuestionEnrollValues) {\n    const { credentials } = values;\n    if (credentials && credentials.questionKey && credentials.answer) {\n      return true;\n    }\n    const { questionKey, question, answer } = values;\n    return !!(questionKey && answer) || !!(question && answer);\n  }\n\n  mapCredentials(values: SecurityQuestionEnrollValues): Credentials | undefined {\n    const { questionKey, question, answer } = values;\n    if (!answer || (!questionKey && !question)) {\n      return;\n    }\n    return {\n      questionKey: question ? 'custom' : questionKey,\n      question,\n      answer\n    };\n  }\n\n  getInputs() {\n    return [\n      { name: 'questionKey', type: 'string', required: true },\n      { name: 'question', type: 'string', label: 'Create a security question' },\n      { name: 'answer', type: 'string', label: 'Answer', required: true },\n    ];\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { Authenticator, Credentials } from './Authenticator';\n\nexport interface SecurityQuestionVerificationValues {\n  answer?: string;\n  credentials?: Credentials;\n}\n\nexport class SecurityQuestionVerification extends Authenticator<SecurityQuestionVerificationValues> {\n  canVerify(values: SecurityQuestionVerificationValues) {\n    const { credentials } = values;\n    if (credentials && credentials.answer) {\n      return true;\n    }\n    const { answer } = values;\n    return !!answer;\n  }\n\n  mapCredentials(values: SecurityQuestionVerificationValues): Credentials | undefined {\n    const { answer } = values;\n    if (!answer) {\n      return;\n    }\n    return {\n      questionKey: this.meta.contextualData!.enrolledQuestion!.questionKey,\n      answer\n    };\n  }\n\n  getInputs() {\n    return [\n      { name: 'answer', type: 'string', label: 'Answer', required: true }\n    ];\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface WebauthnEnrollValues {\n  clientData?: string;\n  attestation?: string;\n  credentials?: Credentials;\n}\n\nexport class WebauthnEnrollment extends Authenticator<WebauthnEnrollValues> {\n  canVerify(values: WebauthnEnrollValues) {\n    const { credentials } = values;\n    const obj = credentials || values;\n    const { clientData, attestation } = obj;\n    return !!(clientData && attestation);\n  }\n\n  mapCredentials(values: WebauthnEnrollValues): Credentials | undefined {\n    const { credentials, clientData, attestation } = values;\n    if (!credentials && !clientData && !attestation) {\n      return;\n    }\n    return credentials || ({\n      clientData,\n      attestation\n    });\n  }\n\n  getInputs() {\n    return [\n      { name: 'clientData', type: 'string', required: true, visible: false, label: 'Client Data' },\n      { name: 'attestation', type: 'string', required: true, visible: false, label: 'Attestation' },\n    ];\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface WebauthnVerificationValues {\n  clientData?: string;\n  authenticatorData?: string;\n  signatureData?: string;\n  credentials?: Credentials;\n}\n\nexport class WebauthnVerification extends Authenticator<WebauthnVerificationValues> {\n  canVerify(values: WebauthnVerificationValues) {\n    const { credentials } = values;\n    const obj = credentials || values;\n    const { clientData, authenticatorData, signatureData } = obj;\n    return !!(clientData && authenticatorData && signatureData);\n  }\n\n  mapCredentials(values: WebauthnVerificationValues): Credentials | undefined {\n    const { credentials, authenticatorData, clientData, signatureData } = values;\n    if (!credentials && !authenticatorData && !clientData && !signatureData) {\n      return;\n    }\n    return credentials || ({\n      authenticatorData,\n      clientData,\n      signatureData\n    });\n  }\n\n  getInputs() {\n    return [\n      { name: 'authenticatorData', type: 'string', label: 'Authenticator Data', required: true, visible: false },\n      { name: 'clientData', type: 'string', label: 'Client Data', required: true, visible: false },\n      { name: 'signatureData', type: 'string', label: 'Signature Data', required: true, visible: false },\n    ];\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { getAuthenticator, Authenticator, AuthenticatorValues } from '../../authenticator';\nimport { IdxRemediation, IdxContext } from '../../types/idx-js';\nimport { OktaAuthIdxInterface, NextStep } from '../../types';\n\nexport type VerifyAuthenticatorValues = AuthenticatorValues & RemediationValues;\n\n// Base class - DO NOT expose static remediationName\nexport class VerifyAuthenticator<T extends VerifyAuthenticatorValues = VerifyAuthenticatorValues>\n  extends Remediator<T> {\n\n  authenticator: Authenticator<VerifyAuthenticatorValues>;\n\n  constructor(remediation: IdxRemediation, values: T = {} as T) {\n    super(remediation, values);\n    this.authenticator = getAuthenticator(remediation);\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const nextStep = super.getNextStep(authClient, context);\n    const authenticatorEnrollments = context?.authenticatorEnrollments?.value;\n\n    return {\n      ...nextStep,\n      authenticatorEnrollments\n    };\n  }\n\n  canRemediate() {\n    return this.authenticator.canVerify(this.values);\n  }\n\n  mapCredentials() {\n    return this.authenticator.mapCredentials(this.values);\n  }\n\n  getInputCredentials(input) {\n    return this.authenticator.getInputs(input);\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'credentials');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {} as T);\n  }\n}\n","import { OktaVerifyTotp } from './OktaVerifyTotp';\nimport { Authenticator } from './Authenticator';\nimport { VerificationCodeAuthenticator } from './VerificationCodeAuthenticator';\nimport { OktaPassword } from './OktaPassword';\nimport { SecurityQuestionEnrollment } from './SecurityQuestionEnrollment';\nimport { SecurityQuestionVerification } from './SecurityQuestionVerification';\nimport { WebauthnEnrollment } from './WebauthnEnrollment';\nimport { WebauthnVerification } from './WebauthnVerification';\nimport { IdxAuthenticator, IdxRemediation } from '../types/idx-js';\nimport { AuthenticatorKey } from '../types';\n\n/* eslint complexity:[0,8] */\nexport function getAuthenticator(remediation: IdxRemediation): Authenticator<any> {\n  const relatesTo = remediation.relatesTo;\n  const value = relatesTo?.value || {} as IdxAuthenticator;\n  switch (value.key) {\n    case AuthenticatorKey.OKTA_PASSWORD:\n      return new OktaPassword(value);\n    case AuthenticatorKey.SECURITY_QUESTION:\n      if (value.contextualData?.enrolledQuestion) {\n        return new SecurityQuestionVerification(value);\n      } else {\n        return new SecurityQuestionEnrollment(value);\n      }\n    case AuthenticatorKey.OKTA_VERIFY:\n      return new OktaVerifyTotp(value);\n    case AuthenticatorKey.WEBAUTHN:\n      if (value.contextualData?.challengeData) {\n        return new WebauthnVerification(value);\n      } else {\n        return new WebauthnEnrollment(value);\n      }\n    default:\n      return new VerificationCodeAuthenticator(value);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type ChallengeAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class ChallengeAuthenticator extends VerifyAuthenticator<ChallengeAuthenticatorValues> {\n  static remediationName = 'challenge-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { EnrollPoll } from './EnrollPoll';\n\nexport class ChallengePoll extends EnrollPoll{\n  static remediationName = 'challenge-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'challenge-poll';\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type EnrollAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class EnrollAuthenticator extends VerifyAuthenticator<EnrollAuthenticatorValues> {\n  static remediationName = 'enroll-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { NextStep, OktaAuthIdxInterface } from '../types';\nimport { IdxContext } from '../types/idx-js';\n\nexport interface EnrollPollValues extends RemediationValues {\n  startPolling?: boolean;\n}\n\nexport class EnrollPoll extends Remediator<EnrollPollValues> {\n  static remediationName = 'enroll-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'enroll-poll';\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const common = super.getNextStep(authClient, context);\n    let authenticator = this.getAuthenticator();\n    if (!authenticator && context?.currentAuthenticator) {\n      authenticator = context.currentAuthenticator.value;\n    }\n    return {\n      ...common,\n      authenticator,\n      poll: {\n        required: true,\n        refresh: this.remediation.refresh\n      },\n    };\n  }\n\n  getValuesAfterProceed(): EnrollPollValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'startPolling');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { IdxRemediation, IdxRemediationValue, IdxAuthenticator } from '../types/idx-js';\nimport { RemediateOptions } from '../types';\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { Authenticator, Credentials, OktaPassword } from '../authenticator';\n\nexport interface EnrollProfileValues extends RemediationValues {\n  firstName?: string;\n  lastName?: string;\n  email?: string;\n  credentials?: Credentials;\n  password?: string;\n  passcode?: string;\n}\n\nexport class EnrollProfile extends Remediator<EnrollProfileValues> {\n  static remediationName = 'enroll-profile';\n\n  authenticator: Authenticator<any> | null = null;\n\n  constructor(\n    remediation: IdxRemediation,\n    values: EnrollProfileValues = {},\n    options: RemediateOptions = {}\n  ) {\n    super(remediation, values, options);\n\n    // credentials are only required when Profile Enrollment policy requires them\n    // if credentials are included in the remediation, they are considered required\n    // otherwise it will be omitted\n    const credentials = this.getCredentialsFromRemediation();\n    if (credentials) {\n      this.authenticator = this.authenticator = new OktaPassword({} as IdxAuthenticator);\n    }\n  }\n\n  canRemediate() {\n    // ensure credentials can be verified, if required\n    if (this.authenticator && !this.authenticator.canVerify(this.values)) {\n      return false;\n    }\n\n    const userProfileFromValues = this.getData().userProfile;\n    if (!userProfileFromValues) {\n      return false;\n    }\n    // eslint-disable-next-line max-len\n    const userProfileFromRemediation = this.remediation.value!.find(({ name }) => name === 'userProfile') as IdxRemediationValue;\n    return userProfileFromRemediation.form!.value.reduce((canRemediate, curr) => {\n      if (curr.required) {\n        canRemediate = canRemediate && !!userProfileFromValues[curr.name];\n      }\n      return canRemediate;\n    }, true);\n  }\n\n  getCredentialsFromRemediation () {\n    return this.remediation.value!.find(({ name }) => name === 'credentials');\n  }\n\n  mapUserProfile({form: { value: profileAttributes }}) {\n    const attributeNames = profileAttributes.map(({name}) => name);\n    const data = attributeNames.reduce((attributeValues, attributeName) => (\n      this.values[attributeName] ? {\n      ...attributeValues,\n      [attributeName]: this.values[attributeName]\n    } : attributeValues), {});\n    if (Object.keys(data).length === 0) {\n      return;\n    }\n    return data;\n  }\n\n  mapCredentials() {\n    const val = this.authenticator && this.authenticator.mapCredentials(this.values);\n    if (!val) {\n      return;\n    }\n    return val;\n  }\n\n  getInputUserProfile(input) {\n    return [...input.form.value];\n  }\n\n  getInputCredentials(input) {\n    return [...input.form.value];\n  }\n\n  getErrorMessages(errorRemediation) {\n    return errorRemediation.value[0].form.value.reduce((errors, field) => {\n      if (field.messages) {\n        errors.push(field.messages.value[0].message);\n      }\n      return errors;\n    }, []);\n  }\n}","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { IdxContext } from '../types/idx-js';\nimport { OktaAuthIdxInterface } from '../types';\n\n\nexport type EnrollmentChannelDataValues = RemediationValues & {\n  email?: string;\n  phoneNumber?: string;\n};\n\nexport class EnrollmentChannelData extends Remediator<EnrollmentChannelDataValues> {\n  static remediationName = 'enrollment-channel-data';\n\n  getInputEmail() {\n    return [\n      { name: 'email', type: 'string', required: true, label: 'Email' },\n    ];\n  }\n\n  getInputPhoneNumber() {\n    return [\n      { name: 'phoneNumber', type: 'string', required: true, label: 'Phone Number' },\n    ];\n  }\n\n  canRemediate() {\n    return Boolean(this.values.email || this.values.phoneNumber);\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context: IdxContext) {\n    const common = super.getNextStep(authClient, context);\n    const authenticator = context.currentAuthenticator.value;\n    return {\n      ...common,\n      authenticator,\n    };\n  }\n\n  getData() {\n    return {\n      stateHandle: this.values.stateHandle,\n      email: this.values.email,\n      phoneNumber: this.values.phoneNumber\n    };\n  }\n\n  getValuesAfterProceed(): EnrollmentChannelDataValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => !['email', 'phoneNumber'].includes(valueKey));\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/* eslint-disable complexity */\nimport { AuthSdkError } from '../../../errors';\nimport { Input } from '../../types';\n\nexport function unwrapFormValue(remediation): Input { \n  if (Array.isArray(remediation)) {\n    return remediation\n      .map(item => {\n        if (typeof item === 'string' || typeof item === 'number' || typeof item === 'boolean') {\n          return item;\n        }\n        return unwrapFormValue(item);\n      }) as any;\n  }\n\n  const res = {};\n  for (const [key, value] of Object.entries(remediation)) {\n    if (value === null || typeof value === 'undefined') {\n      continue;\n    }\n\n    if (typeof value === 'object') {\n      const formKeys = Object.keys(value as object);\n      // detect patterns like:\n      // value -> form -> value | form -> value\n      if (['value', 'form'].includes(key) \n        && formKeys.length === 1 \n        && ['value', 'form'].includes(formKeys[0])\n      ) {\n        // unwrap nested form\n        const unwrappedForm = unwrapFormValue(value);\n        Object.entries(unwrappedForm).forEach(([key, value]) => {\n          res[key] = value;\n        });\n      } else {\n        // dfs\n        res[key] = unwrapFormValue(value);\n      }\n    } else {\n      // handle primitive value\n      res[key] = value;\n    }\n  }\n\n  return res as Input;\n}\n\n// only check if value is required for now\n// TODO: support SDK layer type based input validation\nexport function hasValidInputValue(input, values) {\n  const fn = (input, values, requiredTracker) => {\n    const { name, value, type, options, required } = input;\n    const isRequired = required || requiredTracker;\n\n    // handle nested value - all required fields should be avaiable in values \n    if (Array.isArray(value)) {\n      return value.reduce((acc, item) => {\n        return acc && fn(item, values[name], isRequired); // recursive call\n      }, true);\n    }\n\n    // handle options field\n    // 1. object type options - check if each object field is required and value can be found from the selectedOption\n    // 2. primitive options - required field is avaiable from top level\n    // 3. unknown format - pass to backend for validation\n    if (options) {\n      // object type options\n      if (type === 'object') {\n        const selectedOption = values[name];\n        if (!selectedOption) {\n          return false;\n        }\n        if (!selectedOption.id) {\n          // unknown option format, pass to backend for validation\n          return true;\n        }\n        const optionSchema = options.find((option) => {\n          const idSchema = option.value.find(({ name }) => name === 'id' );\n          return idSchema.value === selectedOption.id;\n        });\n        if (!optionSchema) {\n          return false;\n        }\n        return optionSchema.value\n          .filter(({ required }) => !!required)\n          .reduce((acc, { name }) => {\n            return acc && !!selectedOption[name];\n          }, true);\n      }\n\n      // primitive options, not required - always valid\n      if (required === false) {\n        return true;\n      }\n\n      // primitive options, required - check if value is available\n      if (required === true) {\n        return !!values[name];\n      }\n\n      // unknown options, throw\n      throw new AuthSdkError(`Unknown options type, ${JSON.stringify(input)}`);\n    }\n\n    // base case\n    if (!isRequired) {\n      return true;\n    }\n      \n    return !!(values && values[name]);\n  };\n\n  return fn(input, values, false);\n}\n","import { OktaAuthIdxInterface, IdxContext, NextStep, Input } from '../../types';\nimport { Remediator } from '../Base/Remediator';\nimport { unwrapFormValue } from './util';\n\nexport class GenericRemediator extends Remediator {\n  canRemediate(): boolean {\n    // only handle remediations that are able to submit form (xhr)\n    if (typeof this.remediation.action !== 'function') {\n      return false;\n    }\n\n    // DO NOT REMOVE - bring it back when enable client side validation for GenericRemediator - OKTA-512003\n    // const inputs = this.getInputs();\n    // const res = inputs.reduce((acc, input) => {\n    //   return acc && hasValidInputValue(input, this.values);\n    // }, true);\n    // return res;\n\n    if (this.remediation.name === 'poll' || this.remediation.name.endsWith('-poll')) {\n      return true;\n    }\n\n    if (this.options.step) {\n      return true;\n    }\n    \n    // disable auto proceed for unknown remediations\n    return false;\n  }\n\n  getData() {\n    const data = this.getInputs().reduce((acc, { name }) => {\n      acc[name] = this.values[name];\n      return acc;\n    }, {});\n    return data;\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, _context?: IdxContext): NextStep {\n    const name = this.getName();\n    const inputs = this.getInputs();\n    \n    /* eslint-disable no-unused-vars, @typescript-eslint/no-unused-vars */\n    // excludes transformed fields\n    const { \n      // http metas have been transformed to action\n      href, \n      method, \n      rel, \n      accepts, \n      produces, \n      // value has been transform to inputs\n      value,\n      // will be transformed to a function that resolves IdxTransaction\n      action,\n      ...rest \n    } = this.remediation;\n    /* eslint-enable no-unused-vars, @typescript-eslint/no-unused-vars */\n\n    // step to handle form submission\n    if (action) {\n      return { \n        ...rest,\n        ...(!!inputs.length && { inputs }),\n        action: async (params?) => {\n          return authClient.idx.proceed({\n            step: name,\n            ...params\n          });\n        }\n      };\n    }\n\n    // return whole remediation data for other steps, eg \"redirect-idp\"\n    return { ...this.remediation } as NextStep;\n    \n  }\n\n  getInputs(): Input[] {\n    return (this.remediation.value || [])\n      .filter(({ name }) => name !== 'stateHandle')\n      .map(unwrapFormValue)\n      .map(input => {\n        // use string as default input type\n        input.type = input.type || 'string';\n        return input;\n      });\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Credentials } from '../authenticator';\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface IdentifyValues extends RemediationValues {\n  username?: string;\n  password?: string;\n  credentials?: Credentials;\n  rememberMe?: boolean;\n}\n\nexport class Identify extends Remediator<IdentifyValues> {\n  static remediationName = 'identify';\n\n  map = {\n    'identifier': ['username']\n  };\n\n  canRemediate(): boolean {\n    const { identifier } = this.getData();\n    return !!identifier;\n  }\n\n  mapCredentials() {\n    const { credentials, password } = this.values;\n    if (!credentials && !password) {\n      return;\n    }\n    return credentials || { passcode: password };\n  }\n\n  getInputCredentials(input) {\n    return {\n      ...input.form.value[0],\n      name: 'password',\n      required: input.required\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface ReEnrollAuthenticatorValues extends RemediationValues {\n  newPassword?: string;\n}\n\nexport class ReEnrollAuthenticator extends Remediator<ReEnrollAuthenticatorValues> {\n  static remediationName = 'reenroll-authenticator';\n\n  mapCredentials() {\n    const { newPassword } = this.values;\n    if (!newPassword) {\n      return;\n    }\n    return { \n      passcode: newPassword,\n    };\n  }\n\n  getInputCredentials(input) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const challengeType = this.getAuthenticator()!.type;\n    const name = challengeType === 'password' ? 'newPassword' : 'verificationCode';\n    return {\n      ...input.form.value[0],\n      name\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { ReEnrollAuthenticator } from './ReEnrollAuthenticator';\n\nexport class ReEnrollAuthenticatorWarning extends ReEnrollAuthenticator {\n  static remediationName = 'reenroll-authenticator-warning';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator } from './Base/Remediator';\n\nexport class RedirectIdp extends Remediator {\n  static remediationName = 'redirect-idp';\n\n  canRemediate() {\n    return false;\n  }\n\n  getNextStep() {\n    const { name, type, idp, href } = this.remediation;\n    return {\n      name,\n      type,\n      idp,\n      href\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type ResetAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class ResetAuthenticator extends VerifyAuthenticator<ResetAuthenticatorValues> {\n  static remediationName = 'reset-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\nimport { getAuthenticatorFromRemediation } from './util';\nimport { IdxRemediation } from '../types/idx-js';\nimport { AuthenticatorKey, Authenticator, RemediateOptions } from '../types';\n\nexport type SelectAuthenticatorAuthenticateValues = SelectAuthenticatorValues & {\n  password?: string;\n};\n\nexport class SelectAuthenticatorAuthenticate extends SelectAuthenticator<SelectAuthenticatorAuthenticateValues> {\n  static remediationName = 'select-authenticator-authenticate';\n\n  constructor(\n    remediation: IdxRemediation, \n    values: SelectAuthenticatorValues = {}, \n    options: RemediateOptions = {}\n  ) {\n    super(remediation, values, options);\n\n    // Preset password authenticator to trigger recover action\n    const isRecoveryFlow = this.options.flow === 'recoverPassword';\n    const hasPasswordInOptions = getAuthenticatorFromRemediation(remediation)\n      .options?.some(({ relatesTo }) => relatesTo?.key === AuthenticatorKey.OKTA_PASSWORD);\n    if (hasPasswordInOptions && (isRecoveryFlow || this.values.password)) {\n      this.values.authenticators = [\n        ...this.values.authenticators || [],\n        { key: AuthenticatorKey.OKTA_PASSWORD }\n      ] as Authenticator[];\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\n\nexport type SelectAuthenticatorEnrollValues = SelectAuthenticatorValues;\n\nexport class SelectAuthenticatorEnroll extends SelectAuthenticator<SelectAuthenticatorEnrollValues> {\n  static remediationName = 'select-authenticator-enroll';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\nimport { Authenticator } from '../types';\nimport { IdxRemediationValue } from '../types/idx-js';\n\n\nexport type SelectAuthenticatorUnlockAccountValues = SelectAuthenticatorValues & {\n  identifier?: string;\n  methodType?: string;\n};\n\nexport class SelectAuthenticatorUnlockAccount extends SelectAuthenticator<SelectAuthenticatorUnlockAccountValues> {\n  static remediationName = 'select-authenticator-unlock-account';\n  authenticator?: Authenticator;\n\n  map = {\n    identifier: ['username']\n  };\n\n  canRemediate() {\n    const identifier = this.getData('identifier');\n    return !!identifier && super.canRemediate();\n  }\n\n  mapAuthenticator(remediationValue: IdxRemediationValue) {\n    const authenticatorMap = super.mapAuthenticator(remediationValue);\n    const methodTypeOption = this.selectedOption?.value.form.value.find(({ name }) => name === 'methodType');\n\n    // defaults to 'manually defined' value\n    // 2nd: option may have pre-defined value, like stateHandle\n    // 3rd: if only a single OV option is available, default to that option\n    const methodTypeValue = this.values.methodType ||\n      methodTypeOption?.value as string || methodTypeOption?.options?.[0]?.value as string;\n\n    if (methodTypeValue) {\n      return {\n        ...authenticatorMap,\n        methodType: methodTypeValue\n      };\n    }\n\n    return authenticatorMap;\n  }\n\n  getInputUsername () {\n    return { name: 'username', type: 'string' };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface SelectEnrollProfileValues extends RemediationValues {}\n\nexport class SelectEnrollProfile extends Remediator<SelectEnrollProfileValues> {\n  static remediationName = 'select-enroll-profile';\n\n  canRemediate() {\n    return true;\n  }\n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { IdxRemediationValueForm, IdxContext } from '../types/idx-js';\nimport { Authenticator, OktaAuthIdxInterface } from '../types/api';\n\n\nexport type SelectEnrollmentChannelValues = RemediationValues & {\n  channel?: string;\n};\n\nexport class SelectEnrollmentChannel extends Remediator<SelectEnrollmentChannelValues> {\n  static remediationName = 'select-enrollment-channel';\n\n  canRemediate() {\n    if (this.values.channel) {\n      return true;\n    }\n\n    if (this.values.authenticator) {\n      const { id, channel } = this.values.authenticator as Authenticator;\n      if (!!id && !!channel) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context: IdxContext) {\n    const common = super.getNextStep(authClient, context);\n    const authenticator = context.currentAuthenticator.value;\n    return {\n      ...common,\n      authenticator,\n    };\n  }\n\n  getData() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const remediationValue = this.remediation!.value![0].value as IdxRemediationValueForm;\n    return {\n      authenticator: {\n        id: remediationValue.form.value[0].value,\n        channel: (this.values.authenticator as Authenticator)?.channel || this.values.channel,\n      },\n      stateHandle: this.values.stateHandle,\n\n    };\n  }\n\n  getValuesAfterProceed(): SelectEnrollmentChannelValues {\n    this.values = super.getValuesAfterProceed();\n    delete this.values.authenticators;    // required to prevent infinite loops from auto-remediating via values\n    const filterKey = this.values.channel ? 'channel' : 'authenticator';\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== filterKey);\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface SkipValues extends RemediationValues {\n  skip?: boolean;\n}\n\nexport class Skip extends Remediator<SkipValues> {\n  static remediationName = 'skip';\n\n  canRemediate() {\n    return !!this.values.skip || this.options.step === 'skip';\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { IdxRemediation, IdxRemediationValue } from '../types/idx-js';\n\nexport function getAllValues(idxRemediation: IdxRemediation) {\n  return idxRemediation.value?.map(r => r.name);\n}\n\nexport function getRequiredValues(idxRemediation: IdxRemediation) {\n  return idxRemediation.value?.reduce((required, cur) => {\n    if (cur.required) {\n      required.push(cur.name as never);\n    }\n    return required;\n  }, []);\n}\n\nexport function titleCase(str: string) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function getAuthenticatorFromRemediation(\n  remediation: IdxRemediation\n): IdxRemediationValue {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return remediation.value!.find(({ name }) => name === 'authenticator') as IdxRemediationValue;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable max-statements, max-depth, complexity */\nimport { AuthSdkError } from '../errors';\nimport { RemediationValues } from './remediators';\nimport { OktaAuthIdxInterface, RemediateOptions, RemediationResponse } from './types';\nimport { \n  IdxResponse,\n  IdxActionParams, \n} from './types/idx-js';\nimport {\n  isTerminalResponse,\n  filterValuesForRemediation,\n  getRemediator,\n  getNextStep,\n  handleFailedResponse\n} from './util';\n\nexport interface RemediateActionWithOptionalParams {\n  name: string;\n  params?: IdxActionParams;\n}\n\nexport type RemediateAction = string | RemediateActionWithOptionalParams;\n\n\nfunction getActionFromValues(values: RemediationValues, idxResponse: IdxResponse): string | undefined {\n  // Currently support resend actions only\n  return Object.keys(idxResponse.actions).find(action => !!values.resend && action.includes('-resend'));\n}\n\nfunction removeActionFromValues(values: RemediationValues): RemediationValues {\n  // Currently support resend actions only\n  return {\n    ...values,\n    resend: undefined\n  };\n}\n\nfunction removeActionFromOptions(options: RemediateOptions, actionName: string): RemediateOptions {\n  let actions = options.actions || [];\n  actions = actions.filter(entry => {\n    if (typeof entry === 'string') {\n      return entry !== actionName;\n    }\n    return entry.name !== actionName;\n  });\n\n  return { ...options, actions };\n}\n\n// This function is called recursively until it reaches success or cannot be remediated\nexport async function remediate(\n  authClient: OktaAuthIdxInterface,\n  idxResponse: IdxResponse,\n  values: RemediationValues,\n  options: RemediateOptions\n): Promise<RemediationResponse> {\n  let { neededToProceed, interactionCode } = idxResponse;\n  const { flow } = options;\n\n  // If the response contains an interaction code, there is no need to remediate\n  if (interactionCode) {\n    return { idxResponse };\n  }\n\n  const remediator = getRemediator(idxResponse, values, options);\n\n  // Try actions in idxResponse first\n  const actionFromValues = getActionFromValues(values, idxResponse);\n  const actionFromOptions = options.actions || [];\n  const actions = [\n    ...actionFromOptions,\n    ...(actionFromValues && [actionFromValues] || []),\n  ];\n  if (actions) {\n    for (let action of actions) {\n      // Action can either be specified as a string, or as an object with name and optional params\n      let params: IdxActionParams = {};\n      if (typeof action !== 'string') {\n        params = action.params || {};\n        action = action.name;\n      }\n      let valuesWithoutExecutedAction = removeActionFromValues(values);\n      let optionsWithoutExecutedAction = removeActionFromOptions(options, action);\n\n      if (typeof idxResponse.actions[action] === 'function') {\n        idxResponse = await idxResponse.actions[action](params);\n        if (idxResponse.requestDidSucceed === false) {\n          return handleFailedResponse(authClient, idxResponse, options);\n        }\n        if (action === 'cancel') {\n          return { idxResponse, canceled: true };\n        }\n        return remediate(\n          authClient, \n          idxResponse, \n          valuesWithoutExecutedAction, \n          optionsWithoutExecutedAction\n        ); // recursive call\n      }\n\n      // search for action in remediation list\n      const remediationAction = neededToProceed.find(({ name }) => name === action);\n      if (remediationAction) {\n        idxResponse = await idxResponse.proceed(action, params);\n        if (idxResponse.requestDidSucceed === false) {\n          return handleFailedResponse(authClient, idxResponse, options);\n        }\n        return remediate(authClient, idxResponse, values, optionsWithoutExecutedAction); // recursive call\n      }\n    }\n  }\n\n  // Do not attempt to remediate if response is in terminal state\n  const terminal = isTerminalResponse(idxResponse);\n  if (terminal) {\n    return { idxResponse, terminal };\n  }\n\n  if (!remediator) {\n    // With options.step, remediator is not required\n    if (options.step) {\n      values = filterValuesForRemediation(idxResponse, options.step, values); // include only requested values\n      idxResponse = await idxResponse.proceed(options.step, values);\n      if (idxResponse.requestDidSucceed === false) {\n        return handleFailedResponse(authClient, idxResponse, options);\n      }\n      return { idxResponse };\n    }\n\n    // With default flow, remediator is not required\n    if (flow === 'default') {\n      return { idxResponse };\n    }\n    throw new AuthSdkError(`\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [${neededToProceed.reduce((acc, curr) => acc ? acc + ' ,' + curr.name : curr.name, '')}]\n    `);\n  }\n\n  // Return next step to the caller\n  if (!remediator.canRemediate()) {\n    const nextStep = getNextStep(authClient, remediator, idxResponse);\n    return {\n      idxResponse,\n      nextStep,\n    };\n  }\n\n  const name = remediator.getName();\n  const data = remediator.getData();\n\n  idxResponse = await idxResponse.proceed(name, data);\n  if (idxResponse.requestDidSucceed === false) {\n    return handleFailedResponse(authClient, idxResponse, options);\n  }\n  // We may want to trim the values bag for the next remediation\n  // Let the remediator decide what the values should be (default to current values)\n  values = remediator.getValuesAfterProceed();\n  options = { ...options, step: undefined }; // do not re-use the step\n\n  // generic remediator should not auto proceed in pending status\n  // return nextStep directly\n  if (options.useGenericRemediator && !idxResponse.interactionCode && !isTerminalResponse(idxResponse)) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const gr = getRemediator(idxResponse, values, options)!;\n    const nextStep = getNextStep(authClient, gr, idxResponse);\n    return {\n      idxResponse,\n      nextStep,\n    };\n  }\n  \n  return remediate(authClient, idxResponse, values, options); // recursive call\n\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable max-statements, complexity, max-depth */\nimport { interact } from './interact';\nimport { introspect } from './introspect';\nimport { remediate } from './remediate';\nimport { RemediationValues } from './remediators/Base/Remediator';\nimport { \n  OktaAuthIdxInterface,\n  IdxStatus,\n  IdxTransaction,\n  IdxFeature,\n  NextStep,\n  RunOptions,\n  IdxTransactionMeta,\n} from './types';\nimport { IdxMessage, IdxResponse } from './types/idx-js';\nimport { getSavedTransactionMeta, saveTransactionMeta } from './transactionMeta';\nimport {\n  getAvailableSteps,\n  getEnabledFeatures,\n  getMessagesFromResponse,\n  isTerminalResponse,\n  getFlowSpecification\n} from './util';\nimport { Tokens } from '../oidc/types';\nimport { APIError } from '../errors/types';\ndeclare interface RunData {\n  options: RunOptions;\n  values: RemediationValues;\n  status?: IdxStatus;\n  tokens?: Tokens;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  error?: APIError | IdxResponse;\n  meta?: IdxTransactionMeta;\n  enabledFeatures?: IdxFeature[];\n  availableSteps?: NextStep[];\n  idxResponse?: IdxResponse;\n  canceled?: boolean;\n  interactionCode?: string;\n  shouldSaveResponse?: boolean;\n  shouldClearTransaction?: boolean;\n  clearSharedStorage?: boolean;\n  terminal?: boolean;\n}\n\nfunction initializeValues(options: RunOptions) {\n  // remove known options, everything else is assumed to be a value\n  const knownOptions = [\n    'flow', \n    'remediators', \n    'actions', \n    'withCredentials', \n    'step',\n    'useGenericRemediator',\n    'exchangeCodeForTokens',\n  ];\n  const values = { ...options };\n  knownOptions.forEach(option => {\n    delete values[option];\n  });\n  return values;\n}\n\nfunction initializeData(authClient: OktaAuthIdxInterface, data: RunData): RunData {\n  let { options } = data;\n  options = {\n    ...authClient.options.idx,\n    ...options\n  };\n  let {\n    flow,\n    withCredentials,\n    remediators,\n    actions,\n  } = options;\n\n  const status = IdxStatus.PENDING;\n\n  // certain options can be set by the flow specification\n  flow = flow || authClient.idx.getFlow?.() || 'default';\n  if (flow) {\n    authClient.idx.setFlow?.(flow);\n    const flowSpec = getFlowSpecification(authClient, flow);\n    // Favor option values over flow spec\n    withCredentials = (typeof withCredentials !== 'undefined') ? withCredentials : flowSpec.withCredentials;\n    remediators = remediators || flowSpec.remediators;\n    actions = actions || flowSpec.actions;\n  }\n\n  return { \n    ...data,\n    options: { \n      ...options, \n      flow, \n      withCredentials, \n      remediators, \n      actions,\n    },\n    status\n  };\n}\n\nasync function getDataFromIntrospect(authClient: OktaAuthIdxInterface, data: RunData): Promise<RunData> {\n  const { options } = data;\n  const {\n    stateHandle,\n    withCredentials,\n    version,\n    state,\n    scopes,\n    recoveryToken,\n    activationToken,\n    maxAge,\n    acrValues,\n    nonce,\n    useGenericRemediator,\n  } = options;\n\n  let idxResponse;\n  let meta = getSavedTransactionMeta(authClient, { state, recoveryToken, activationToken }); // may be undefined\n\n  if (stateHandle) {\n    idxResponse = await introspect(authClient, { withCredentials, version, stateHandle, useGenericRemediator });\n  } else {\n    let interactionHandle = meta?.interactionHandle; // may be undefined\n    if (!interactionHandle) {\n      // start a new transaction\n      authClient.transactionManager.clear();\n      const interactResponse = await interact(authClient, {\n        withCredentials,\n        state,\n        scopes,\n        activationToken,\n        recoveryToken,\n        maxAge,\n        acrValues,\n        nonce,\n      }); \n      interactionHandle = interactResponse.interactionHandle;\n      meta = interactResponse.meta;\n    }\n  \n    // Introspect to get idx response\n    idxResponse = await introspect(authClient, { withCredentials, version, interactionHandle, useGenericRemediator });\n  }\n  return { ...data, idxResponse, meta };\n}\n\nasync function getDataFromRemediate(authClient: OktaAuthIdxInterface, data: RunData): Promise<RunData> {\n  let {\n    idxResponse,\n    options,\n    values\n  } = data;\n\n  const {\n    autoRemediate,\n    remediators,\n    actions,\n    flow,\n    step,\n    useGenericRemediator,\n  } = options;\n  \n  const shouldRemediate = (autoRemediate !== false && (remediators || actions || step));\n  if (!shouldRemediate) {\n    return data;\n  }\n\n  values = { \n    ...values, \n    stateHandle: idxResponse!.rawIdxState.stateHandle \n  };\n\n  // Can we handle the remediations?\n  const { \n    idxResponse: idxResponseFromRemediation, \n    nextStep,\n    canceled,\n  } = await remediate(\n    authClient,\n    idxResponse!, \n    values, \n    {\n      remediators,\n      actions,\n      flow,\n      step,\n      useGenericRemediator,\n    }\n  );\n  idxResponse = idxResponseFromRemediation;\n\n  return { ...data, idxResponse, nextStep, canceled };\n}\n\nasync function getTokens(authClient: OktaAuthIdxInterface, data: RunData): Promise<Tokens> {\n  let { meta, idxResponse } = data;\n  const { interactionCode } = idxResponse as IdxResponse;\n  const {\n    clientId,\n    codeVerifier,\n    ignoreSignature,\n    redirectUri,\n    urls,\n    scopes,\n  } = meta as IdxTransactionMeta;\n  const tokenResponse = await authClient.token.exchangeCodeForTokens({\n    interactionCode,\n    clientId,\n    codeVerifier,\n    ignoreSignature,\n    redirectUri,\n    scopes\n  }, urls);\n  return tokenResponse.tokens;\n}\n\nasync function finalizeData(authClient: OktaAuthIdxInterface, data: RunData): Promise<RunData> {\n  let {\n    options,\n    idxResponse,\n    canceled,\n    status,\n  } = data;\n  const { exchangeCodeForTokens } = options;\n  let shouldSaveResponse = false;\n  let shouldClearTransaction = false;\n  let clearSharedStorage = true;\n  let interactionCode;\n  let tokens;\n  let enabledFeatures;\n  let availableSteps;\n  let messages;\n  let terminal;\n\n  if (idxResponse) {\n    shouldSaveResponse = !!(idxResponse.requestDidSucceed || idxResponse.stepUp);\n    enabledFeatures = getEnabledFeatures(idxResponse);\n    availableSteps = getAvailableSteps(authClient, idxResponse, options.useGenericRemediator);\n    messages = getMessagesFromResponse(idxResponse, options);\n    terminal = isTerminalResponse(idxResponse);\n  }\n\n  if (terminal) {\n    status = IdxStatus.TERMINAL;\n\n    // In most cases a terminal response should not clear transaction data. The user should cancel or skip to continue.\n    // A terminal \"success\" is a non-error response with no further actions available.\n    // In these narrow cases, saved transaction data should be cleared.\n    // One example of a terminal success is when the email verify flow is continued in another tab\n    const hasActions = Object.keys(idxResponse!.actions).length > 0;\n    const hasErrors = !!messages.find(msg => msg.class === 'ERROR');\n    const isTerminalSuccess = !hasActions && !hasErrors && idxResponse!.requestDidSucceed === true;\n    if (isTerminalSuccess) {\n      shouldClearTransaction = true;\n    } else {\n      // save response if there are actions available (ignore messages)\n      shouldSaveResponse = !!hasActions;\n    }\n    // leave shared storage intact so the transaction can be continued in another tab\n    clearSharedStorage = false;\n  } else if (canceled) {\n    status = IdxStatus.CANCELED;\n    shouldClearTransaction = true;\n  } else if (idxResponse?.interactionCode) { \n    interactionCode = idxResponse.interactionCode;\n    if (exchangeCodeForTokens === false) {\n      status = IdxStatus.SUCCESS;\n      shouldClearTransaction = false;\n    } else {\n      tokens = await getTokens(authClient, data);\n      status = IdxStatus.SUCCESS;\n      shouldClearTransaction = true;\n    }\n  }\n  return {\n    ...data,\n    status,\n    interactionCode,\n    tokens,\n    shouldSaveResponse,\n    shouldClearTransaction,\n    clearSharedStorage,\n    enabledFeatures,\n    availableSteps,\n    messages,\n    terminal\n  };\n}\n\nexport async function run(\n  authClient: OktaAuthIdxInterface, \n  options: RunOptions = {},\n): Promise<IdxTransaction> {\n  let data: RunData = {\n    options,\n    values: initializeValues(options)\n  };\n\n  data = initializeData(authClient, data);\n  data = await getDataFromIntrospect(authClient, data);\n  data = await getDataFromRemediate(authClient, data);\n  data = await finalizeData(authClient, data);\n\n  const {\n    idxResponse,\n    meta,\n    shouldSaveResponse,\n    shouldClearTransaction,\n    clearSharedStorage,\n    status,\n    enabledFeatures,\n    availableSteps,\n    tokens,\n    nextStep,\n    messages,\n    error,\n    interactionCode\n  } = data;\n\n  if (shouldClearTransaction) {\n    authClient.transactionManager.clear({ clearSharedStorage });\n  }\n  else {\n    // ensures state is saved to sessionStorage\n    saveTransactionMeta(authClient, { ...meta });\n\n    if (shouldSaveResponse) {\n      // Save intermediate idx response in storage to reduce introspect call\n      const { rawIdxState: rawIdxResponse, requestDidSucceed } = idxResponse!;\n      authClient.transactionManager.saveIdxResponse({\n        rawIdxResponse,\n        requestDidSucceed,\n        stateHandle: idxResponse!.context?.stateHandle,\n        interactionHandle: meta?.interactionHandle\n      });\n    }\n  }\n  \n  // copy all fields from idxResponse which are needed by the widget\n  const { actions, context, neededToProceed, proceed, rawIdxState, requestDidSucceed, stepUp } = idxResponse || {};\n  return {\n    status: status!,\n    ...(meta && { meta }),\n    ...(enabledFeatures && { enabledFeatures }),\n    ...(availableSteps && { availableSteps }),\n    ...(tokens && { tokens }),\n    ...(nextStep && { nextStep }),\n    ...(messages && messages.length && { messages }),\n    ...(error && { error }),\n    ...(stepUp && { stepUp }),\n    interactionCode, // if options.exchangeCodeForTokens is false\n\n    // from idx-js\n    actions: actions!,\n    context: context!,\n    neededToProceed: neededToProceed!,\n    proceed: proceed!,\n    rawIdxState: rawIdxState!,\n    requestDidSucceed\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { OktaAuthIdxInterface, IdxTransaction, StartOptions } from './types';\n\nexport async function startTransaction(\n  authClient: OktaAuthIdxInterface, \n  options: StartOptions = {}\n): Promise<IdxTransaction> {\n  // Clear IDX response cache and saved transaction meta (if any)\n  authClient.transactionManager.clear();\n\n  return run(authClient, {\n    exchangeCodeForTokens: false,\n    ...options\n  });\n}\n","import { CookieOptions, StorageManagerOptions, StorageOptions, StorageUtil } from '../storage/types';\nimport {  IdxTransactionMeta } from './types';\nimport { SavedObject } from '../storage';\nimport { IDX_RESPONSE_STORAGE_NAME } from '../constants';\nimport { createCoreStorageManager } from '../core/storage';\nimport { IdxResponseStorage } from './types/storage';\nimport { isBrowser } from '../features';\nimport { warn } from '../util';\nimport AuthSdkError from '../errors/AuthSdkError';\n\nexport function createIdxStorageManager<M extends IdxTransactionMeta>()\n{\n  const CoreStorageManager = createCoreStorageManager<M>();\n  return class IdxStorageManager extends CoreStorageManager\n  {\n    constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n      super(storageManagerOptions, cookieOptions, storageUtil);\n    }\n\n    // intermediate idxResponse\n    // store for network traffic optimazation purpose\n    // TODO: revisit in auth-js 6.0 epic JIRA: OKTA-399791\n    getIdxResponseStorage(options?: StorageOptions): IdxResponseStorage | null {\n      let storage;\n      if (isBrowser()) {\n        // on browser side only use memory storage \n        try {\n          storage = this.storageUtil.getStorageByType('memory', options);\n        } catch (e) {\n          // it's ok to miss response storage\n          // eslint-disable-next-line max-len\n          warn('No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic');\n        }\n      } else {\n        // on server side re-use transaction custom storage\n        const transactionStorage = this.getTransactionStorage(options);\n        if (transactionStorage) {\n          storage = {\n            getItem: (key) => {\n              const transaction = transactionStorage.getStorage();\n              if (transaction && transaction[key]) {\n                return transaction[key];\n              }\n              return null;\n            },\n            setItem: (key, val) => {\n              const transaction = transactionStorage.getStorage();\n              if (!transaction) {\n                throw new AuthSdkError('Transaction has been cleared, failed to save idxState');\n              }\n              transaction[key] = val;\n              transactionStorage.setStorage(transaction);\n            },\n            removeItem: (key) => {\n              const transaction = transactionStorage.getStorage();\n              if (!transaction) {\n                return;\n              }\n              delete transaction[key];\n              transactionStorage.setStorage(transaction);\n            }\n          };\n        }\n      }\n\n      if (!storage) {\n        return null;\n      }\n\n      return new SavedObject(storage, IDX_RESPONSE_STORAGE_NAME);\n    }\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface, IdxTransactionMeta, IdxTransactionMetaOptions } from './types';\nimport { removeNils, warn } from '../util';\nimport { createOAuthMeta, PKCETransactionMeta } from '../oidc';\n\n// Calculate new values\nexport async function createTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options: IdxTransactionMetaOptions = {}\n): Promise<IdxTransactionMeta> {\n  const tokenParams = await authClient.token.prepareTokenParams(options);\n  const pkceMeta = createOAuthMeta(authClient, tokenParams) as PKCETransactionMeta;\n  let {\n    flow = 'default',\n    withCredentials = true,\n    activationToken = undefined,\n    recoveryToken = undefined,\n    maxAge = undefined,\n    acrValues = undefined,\n  } = { ...authClient.options, ...options }; // local options override SDK options\n\n  const meta: IdxTransactionMeta = {\n    ...pkceMeta,\n    flow,\n    withCredentials,\n    activationToken,\n    recoveryToken,\n    maxAge,\n    acrValues\n  };\n  return meta;\n}\n\nexport function hasSavedInteractionHandle(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): boolean {\n  const savedMeta = getSavedTransactionMeta(authClient, options);\n  if (savedMeta?.interactionHandle) {\n    return true;\n  }\n  return false;\n}\n\n// Returns the saved transaction meta, if it exists and is valid\nexport function getSavedTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): IdxTransactionMeta | undefined {\n  options = removeNils(options);\n  options = { ...authClient.options, ...options }; // local options override SDK options\n  let savedMeta;\n  try {\n    savedMeta = authClient.transactionManager.load(options) as IdxTransactionMeta;\n  } catch (e) {\n    // ignore errors here\n  }\n\n  if (!savedMeta) {\n    return;\n  }\n\n  if (isTransactionMetaValid(savedMeta, options)) {\n    return savedMeta;\n  }\n\n  // existing meta is not valid for this configuration\n  // this is common when changing configuration in local development environment\n  // in a production environment, this may indicate that two apps are sharing a storage key\n  warn('Saved transaction meta does not match the current configuration. ' + \n    'This may indicate that two apps are sharing a storage key.');\n\n}\n\nexport async function getTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): Promise<IdxTransactionMeta> {\n  options = removeNils(options);\n  options = { ...authClient.options, ...options }; // local options override SDK options\n  // Load existing transaction meta from storage\n  const validExistingMeta = getSavedTransactionMeta(authClient, options);\n  if (validExistingMeta) {\n    return validExistingMeta;\n  }\n  // No existing? Create new transaction meta.\n  return createTransactionMeta(authClient, options);\n}\n\nexport function saveTransactionMeta (authClient: OktaAuthIdxInterface, meta): void {\n  authClient.transactionManager.save(meta, { muteWarning: true });\n}\n\nexport function clearTransactionMeta (authClient: OktaAuthIdxInterface): void {\n  authClient.transactionManager.clear();\n}\n\nexport function isTransactionMetaValid (meta, options: IdxTransactionMetaOptions  = {}): boolean {\n  // Validate against certain options. If these exist in options, they must match in meta\n  const keys = [\n    'issuer',\n    'clientId',\n    'redirectUri',\n    'state',\n    'codeChallenge',\n    'codeChallengeMethod',\n    'activationToken',\n    'recoveryToken'\n  ];\n  if (isTransactionMetaValidForOptions(meta, options, keys) === false) {\n    return false;\n  }\n\n  // Validate configured flow\n  const { flow } = options;\n  if (isTransactionMetaValidForFlow(meta, flow) === false) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isTransactionMetaValidForFlow(meta, flow) {\n  // Specific flows should not share transaction data\n  const shouldValidateFlow = flow && flow !== 'default' && flow !== 'proceed';\n  if (shouldValidateFlow) {\n    if (flow !== meta.flow) {\n      // The flow has changed; abandon the old transaction\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function isTransactionMetaValidForOptions(meta, options, keys) {\n  // returns false if values in meta do not match options\n  // if the option does not have a value for a specific key, it is ignored\n  const mismatch = keys.some(key => {\n    const value = options[key];\n    if (value && value !== meta[key]) {\n      return true;\n    }\n  });\n  return !mismatch;\n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { APIError } from '../../errors/types';\nimport {\n  OktaAuthOAuthInterface,\n  MinimalOktaOAuthInterface,\n  Tokens,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../../oidc/types';\nimport { FlowIdentifier } from './FlowIdentifier';\nimport {\n  IdxActions,\n  IdxAuthenticator,\n  IdxContext,\n  IdxForm,\n  IdxMessage,\n  IdxOption,\n  IdxRemediation,\n  IdxResponse,\n  RawIdxResponse,\n  IdxActionParams,\n  IdpConfig,\n  IdxToPersist,\n  ChallengeData,\n  ActivationData,\n} from './idx-js';\nimport {\n  AccountUnlockOptions,\n  AuthenticationOptions,\n  CancelOptions,\n  InteractOptions,\n  IntrospectOptions,\n  OktaAuthIdxOptions,\n  PasswordRecoveryOptions,\n  ProceedOptions,\n  RegistrationOptions,\n  StartOptions,\n  IdxTransactionMetaOptions\n} from './options';\nimport { IdxTransactionMeta } from './meta';\nimport { IdxStorageManagerInterface, SavedIdxResponse } from './storage';\nimport type {\n  WebauthnEnrollValues,\n  WebauthnVerificationValues\n} from '../authenticator';\nimport { OktaAuthConstructor, FingerprintAPI } from '../../base/types';\n\nexport enum IdxStatus {\n  SUCCESS = 'SUCCESS',\n  PENDING = 'PENDING',\n  FAILURE = 'FAILURE',\n  TERMINAL = 'TERMINAL',\n  CANCELED = 'CANCELED',\n}\n\nexport enum AuthenticatorKey {\n  OKTA_PASSWORD = 'okta_password',\n  OKTA_EMAIL = 'okta_email',\n  PHONE_NUMBER = 'phone_number',\n  GOOGLE_AUTHENTICATOR = 'google_otp',\n  SECURITY_QUESTION = 'security_question',\n  OKTA_VERIFY = 'okta_verify',\n  WEBAUTHN = 'webauthn',\n}\n\nexport type Input = {\n  name: string;\n  key?: string;\n  type?: string;\n  label?: string;\n  value?: string | {form: IdxForm} | Input[];\n  minLength?: number;\n  maxLength?: number;\n  secret?: boolean;\n  required?: boolean;\n  options?: IdxOption[];\n  mutable?: boolean;\n  visible?: boolean;\n  customLabel?: boolean\n}\n\n\nexport interface IdxPollOptions {\n  required?: boolean;\n  refresh?: number;\n}\n\nexport type NextStep = {\n  name: string;\n  authenticator?: IdxAuthenticator;\n  canSkip?: boolean;\n  canResend?: boolean;\n  inputs?: Input[];\n  poll?: IdxPollOptions;\n  authenticatorEnrollments?: IdxAuthenticator[];\n  // eslint-disable-next-line no-use-before-define\n  action?: (params?: IdxActionParams) => Promise<IdxTransaction>;\n  idp?: IdpConfig;\n  href?: string;\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n  refresh?: number;\n}\n\nexport enum IdxFeature {\n  PASSWORD_RECOVERY = 'recover-password',\n  REGISTRATION = 'enroll-profile',\n  SOCIAL_IDP = 'redirect-idp',\n  ACCOUNT_UNLOCK = 'unlock-account',\n}\n\n\nexport interface IdxTransaction {\n  status: IdxStatus;\n  tokens?: Tokens;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  error?: APIError | IdxResponse;\n  meta?: IdxTransactionMeta;\n  enabledFeatures?: IdxFeature[];\n  availableSteps?: NextStep[];\n  requestDidSucceed?: boolean;\n  stepUp?: boolean;\n  \n  // from idx-js, used by signin widget\n  proceed: (remediationName: string, params: unknown) => Promise<IdxResponse>;\n  neededToProceed: IdxRemediation[];\n  rawIdxState: RawIdxResponse;\n  interactionCode?: string;\n  actions: IdxActions;\n  context: IdxContext;\n}\n\n\nexport type Authenticator = {\n  id?: string;\n  key?: string;\n  methodType?: string;\n  phoneNumber?: string;\n  channel?: string;\n};\n\nexport function isAuthenticator(obj: any): obj is Authenticator {\n  return obj && (obj.key || obj.id);\n}\n\nexport interface RemediationResponse {\n  idxResponse: IdxResponse;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  terminal?: boolean;\n  canceled?: boolean;\n}\n\nexport interface InteractResponse {\n  state?: string;\n  interactionHandle: string;\n  meta: IdxTransactionMeta;\n}\n\nexport interface EmailVerifyCallbackResponse {\n  state: string;\n  otp: string;\n}\n\nexport interface MinimalIdxAPI {\n  // lowest level api\n  makeIdxResponse: (rawIdxResponse: RawIdxResponse, toPersist: IdxToPersist, requestDidSucceed: boolean) => IdxResponse;\n\n  // flow control\n  start: (options?: StartOptions) => Promise<IdxTransaction>;\n  canProceed(options?: ProceedOptions): boolean;\n  proceed: (options?: ProceedOptions) => Promise<IdxTransaction>;\n\n  // call `start` instead of `startTransaction`. `startTransaction` will be removed in next major version (7.0)\n  startTransaction: (options?: StartOptions) => Promise<IdxTransaction>;\n\n  // transaction meta\n  getSavedTransactionMeta: (options?: IdxTransactionMetaOptions) => IdxTransactionMeta | undefined;\n  createTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  getTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  saveTransactionMeta: (meta: unknown) => void;\n  clearTransactionMeta: () => void;\n  isTransactionMetaValid: (meta: unknown) => boolean;\n}\n\nexport interface IdxAPI {\n  // lowest level api\n  interact: (options?: InteractOptions) => Promise<InteractResponse>;\n  introspect: (options?: IntrospectOptions) => Promise<IdxResponse>;\n  makeIdxResponse: (rawIdxResponse: RawIdxResponse, toPersist: IdxToPersist, requestDidSucceed: boolean) => IdxResponse;\n\n  // flow entrypoints\n  authenticate: (options?: AuthenticationOptions) => Promise<IdxTransaction>;\n  register: (options?: RegistrationOptions) => Promise<IdxTransaction>;\n  recoverPassword: (options?: PasswordRecoveryOptions) => Promise<IdxTransaction>;\n  unlockAccount: (options?: AccountUnlockOptions) => Promise<IdxTransaction>;\n  poll: (options?: IdxPollOptions) => Promise<IdxTransaction>;\n\n  // flow control\n  start: (options?: StartOptions) => Promise<IdxTransaction>;\n  canProceed(options?: ProceedOptions): boolean;\n  proceed: (options?: ProceedOptions) => Promise<IdxTransaction>;\n  cancel: (options?: CancelOptions) => Promise<IdxTransaction>;\n  getFlow(): FlowIdentifier | undefined;\n  setFlow(flow: FlowIdentifier): void;\n\n  // call `start` instead of `startTransaction`. `startTransaction` will be removed in next major version (7.0)\n  startTransaction: (options?: StartOptions) => Promise<IdxTransaction>;\n\n  // redirect callbacks\n  isInteractionRequired: (hashOrSearch?: string) => boolean;\n  isInteractionRequiredError: (error: Error) => boolean; \n  handleInteractionCodeRedirect: (url: string) => Promise<void>;\n  isEmailVerifyCallback: (search: string) => boolean;\n  parseEmailVerifyCallback: (search: string) => EmailVerifyCallbackResponse;\n  handleEmailVerifyCallback: (search: string) => Promise<IdxTransaction | undefined>;\n  isEmailVerifyCallbackError: (error: Error) => boolean;\n\n  // transaction meta\n  getSavedTransactionMeta: (options?: IdxTransactionMetaOptions) => IdxTransactionMeta | undefined;\n  createTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  getTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  saveTransactionMeta: (meta: unknown) => void;\n  clearTransactionMeta: () => void;\n  isTransactionMetaValid: (meta: unknown) => boolean;\n}\n\nexport interface IdxTransactionManagerInterface extends TransactionManagerInterface {\n  saveIdxResponse(data: SavedIdxResponse): void;\n  loadIdxResponse(options?: IntrospectOptions): SavedIdxResponse | null;\n  clearIdxResponse(): void;\n}\n\nexport type IdxTransactionManagerConstructor = TransactionManagerConstructor<IdxTransactionManagerInterface>;\n\nexport interface WebauthnAPI {\n  getAssertion(credential: PublicKeyCredential): WebauthnVerificationValues;\n  getAttestation(credential: PublicKeyCredential): WebauthnEnrollValues;\n  buildCredentialRequestOptions(\n    challengeData: ChallengeData, authenticatorEnrollments: IdxAuthenticator[]\n  ): CredentialRequestOptions;\n  buildCredentialCreationOptions(\n    activationData: ActivationData, authenticatorEnrollments: IdxAuthenticator[]\n  ): CredentialCreationOptions;\n}\n\n\nexport interface OktaAuthIdxInterface\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>\n  extends OktaAuthOAuthInterface<M, S, O, TM>\n{\n  idx: IdxAPI;\n  fingerprint: FingerprintAPI;\n}\n\nexport interface MinimalOktaAuthIdxInterface\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>\n  extends MinimalOktaOAuthInterface<M, S, O, TM>\n{\n  idx: MinimalIdxAPI;\n  fingerprint: FingerprintAPI;\n}\n\nexport interface OktaAuthIdxConstructor\n<\n  I extends MinimalOktaAuthIdxInterface = OktaAuthIdxInterface\n>\n extends OktaAuthConstructor<I>\n{\n  new(...args: any[]): I;\n  webauthn: WebauthnAPI;\n}\n","/* eslint-disable no-use-before-define */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Input } from './api';\n\n\n// TODO: remove when idx-js provides type information\n\nexport interface ChallengeData {\n  challenge: string; \n  userVerification: string; \n  extensions?: {\n    appid: string;\n  };\n}\nexport interface ActivationData {\n  challenge: string;\n  rp: {\n    name: string;\n  };\n  user: {\n    id: string;\n    name: string;\n    displayName: string;\n  };\n  pubKeyCredParams: {\n    type: string;\n    alg: number;\n  }[];\n  attestation?: string;\n  authenticatorSelection?: {\n    userVerification?: string;\n    authenticatorAttachment?: string;\n    requireResidentKey?: boolean;\n    residentKey?: string;\n  };\n  excludeCredentials?: {\n    id: string;\n    type: string;\n  }[];\n}\nexport interface IdxAuthenticatorMethod {\n  type: string;\n}\nexport interface IdxAuthenticator {\n  displayName: string;\n  id: string;\n  key: string;\n  methods: IdxAuthenticatorMethod[];\n  type: string;\n  settings?: {\n    complexity?: unknown;\n    age?: unknown;\n  };\n  contextualData?: {\n    enrolledQuestion?: {\n      question: string;\n      questionKey: string;\n    };\n    qrcode?: { \n      href: string; \n      method: string; \n      type: string; \n    };\n    sharedSecret?: string;\n    questions?: {\n      questionKey: string;\n      question: string;\n    }[];\n    questionKeys?: string[];\n    selectedChannel?: string;\n    activationData?: ActivationData;\n    challengeData?: ChallengeData;\n  };\n  credentialId?: string;\n  enrollmentId?: string;\n  profile?: Record<string, unknown>;\n  resend?: Record<string, unknown>;\n  poll?: Record<string, unknown>;\n  recover?: Record<string, unknown>;\n  deviceKnown?: boolean;\n  nickname?: string;\n}\n\nexport interface IdxForm {\n  value: IdxRemediationValue[];\n}\n\nexport interface IdxOption {\n  value: string | {form: IdxForm} | Input[];\n  label: string;\n  relatesTo?: IdxAuthenticator;\n}\n\nexport interface IdpConfig {\n  id: string;\n  name: string;\n}\n\nexport interface IdxRemediationValueForm {\n  form: IdxForm;\n}\n\nexport interface IdxRemediationValue {\n  name: string;\n  type?: string;\n  required?: boolean;\n  secret?: boolean;\n  visible?: boolean;\n  mutable?: boolean;\n  value?: string | IdxRemediationValueForm;\n  label?: string;\n  form?: IdxForm;\n  options?: IdxOption[];\n  messages?: IdxMessages;\n  minLength?: number;\n  maxLength?: number;\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n}\n\nexport interface IdxRemediation {\n  name: string;\n  label?: string;\n  value?: IdxRemediationValue[];\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n  idp?: IdpConfig;\n  href?: string;\n  method?: string;\n  type?: string;\n  accepts?: string;\n  produces?: string;\n  refresh?: number;\n  rel?: string[];\n  action?: (payload?: IdxActionParams) => Promise<IdxResponse>;\n}\n\nexport interface IdxContext {\n  version: string;\n  stateHandle: string;\n  expiresAt: string;\n  intent: string;\n  currentAuthenticator: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  currentAuthenticatorEnrollment: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  authenticators: {\n    type: string;\n    value: IdxAuthenticator[];\n  };\n  authenticatorEnrollments: {\n    type: string;\n    value: IdxAuthenticator[];\n  };\n  enrollmentAuthenticator: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  user?: {\n    type: string;\n    value: Record<string, unknown>;\n  };\n  uiDisplay?: IdxContextUIDisplay\n  app: {\n    type: string;\n    value: Record<string, unknown>;\n  };\n  messages?: IdxMessages;\n  success?: IdxRemediation;\n  failure?: IdxRemediation;\n}\n\nexport interface IdxContextUIDisplay {\n  type: string;\n  value: {\n    label?: string;\n    buttonLabel?: string;\n  }\n}\n\nexport interface IdxMessage {\n  message: string;\n  class: string;\n  i18n: {\n    key: string;\n    params?: unknown[];\n  };\n}\n\nexport interface IdxMessages {\n  type: 'array';\n  value: IdxMessage[];\n}\n\n// JSON response from the server\nexport interface RawIdxResponse {\n  version: string;\n  stateHandle: string;\n  intent?: string;\n  expiresAt?: string;\n  remediation?: {\n    type: 'array';\n    value: IdxRemediation[];\n  };\n  messages?: IdxMessages;\n  success?: boolean;\n  successWithInteractionCode?: IdxRemediation;\n  currentAuthenticator?: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  currentAuthenticatorEnrollment?: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n}\n\nexport function isRawIdxResponse(obj: any): obj is RawIdxResponse {\n  return obj && obj.version;\n}\n\nexport interface IdxActionParams {\n  [key: string]: string | boolean | number | object;\n}\n\nexport interface IdxActions {\n  [key: string]: (params?: IdxActionParams) => Promise<IdxResponse>;\n}\n\nexport interface IdxToPersist {\n  interactionHandle?: string;\n  withCredentials?: boolean;\n}\n\nexport interface IdxActionFunction {\n  (params: IdxActionParams): Promise<IdxResponse>;\n  neededParams?: Array<Array<IdxRemediationValue>>;\n}\n\nexport interface IdxResponse {\n  proceed: (remediationName: string, params: unknown) => Promise<IdxResponse>;\n  neededToProceed: IdxRemediation[];\n  rawIdxState: RawIdxResponse;\n  interactionCode?: string;\n  actions: IdxActions;\n  toPersist: IdxToPersist;\n  context?: IdxContext;\n  requestDidSucceed?: boolean;\n  stepUp?: boolean;\n}\n\nexport function isIdxResponse(obj: any): obj is IdxResponse {\n  return obj && isRawIdxResponse(obj.rawIdxState);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { hasSavedInteractionHandle } from './transactionMeta';\nimport { startTransaction } from './startTransaction';\nimport { AuthSdkError } from '../errors';\nimport { \n  OktaAuthIdxInterface, \n  AccountUnlockOptions, \n  IdxTransaction,\n  IdxFeature,\n} from './types';\n\nexport async function unlockAccount(\n  authClient: OktaAuthIdxInterface, options: AccountUnlockOptions = {}\n): Promise<IdxTransaction> {\n  options.flow = 'unlockAccount';\n\n  // Only check at the beginning of the transaction\n  if (!hasSavedInteractionHandle(authClient)) {\n    const { enabledFeatures } = await startTransaction(authClient, { ...options, autoRemediate: false });\n    if (enabledFeatures && !enabledFeatures.includes(IdxFeature.ACCOUNT_UNLOCK)) {\n      throw new AuthSdkError(\n        'Self Service Account Unlock is not supported based on your current org configuration.'\n      );\n    }\n  }\n\n  return run(authClient, { ...options });\n}\n","import { warn, split2 } from '../util';\nimport { RemediationValues, Remediator, RemediatorConstructor } from './remediators';\nimport { GenericRemediator } from './remediators/GenericRemediator';\nimport {\n  OktaAuthIdxInterface,\n  IdxFeature,\n  NextStep,\n  RemediateOptions,\n  RemediationResponse,\n  RunOptions,\n  FlowIdentifier,\n  FlowSpecification\n} from './types';\nimport { IdxMessage, IdxRemediation, IdxRemediationValue, IdxResponse } from './types/idx-js';\n\ntype GetFlowSpecification = (\n  oktaAuth: OktaAuthIdxInterface,\n  flow: FlowIdentifier\n) => FlowSpecification;\n\nconst ctx: {\n  remediators: Record<string, RemediatorConstructor>,\n  getFlowSpecification: GetFlowSpecification,\n} = {\n  // default values to be used by minimal IDX API\n  remediators: {},\n  getFlowSpecification: function(_oktaAuth: OktaAuthIdxInterface, _flow: FlowIdentifier = 'default') {\n    return {\n      remediators: {}\n    } as FlowSpecification;\n  }\n};\n\n// should be set in createIdxAPI() factory\nexport function setRemediatorsCtx(newCtx: Partial<typeof ctx>) {\n  Object.assign(ctx, newCtx);\n}\n\nexport function getFlowSpecification(oktaAuth: OktaAuthIdxInterface, flow: FlowIdentifier = 'default') {\n  return ctx.getFlowSpecification(oktaAuth, flow);\n}\n\nexport function isTerminalResponse(idxResponse: IdxResponse) {\n  const { neededToProceed, interactionCode } = idxResponse;\n  return !neededToProceed.length && !interactionCode;\n}\n\nexport function canSkipFn(idxResponse: IdxResponse) {\n  return idxResponse.neededToProceed.some(({ name }) => name === 'skip');\n}\n\nexport function canResendFn(idxResponse: IdxResponse) {\n  return Object.keys(idxResponse.actions).some(actionName => actionName.includes('resend'));\n}\n\nexport function getMessagesFromIdxRemediationValue(\n  value?: IdxRemediationValue[]\n): IdxMessage[] | undefined {\n  if (!value || !Array.isArray(value)) {\n    return;\n  }\n  return value.reduce((messages, value) => {\n    if (value.messages) {\n      messages = [...messages, ...value.messages.value] as never;\n    }\n    if (value.form) {\n      const messagesFromForm = getMessagesFromIdxRemediationValue(value.form.value) || [];\n      messages = [...messages, ...messagesFromForm] as never;\n    } \n    if (value.options) {\n      let optionValues = [];\n      value.options.forEach(option => {\n        if (!option.value || typeof option.value === 'string') {\n          return;\n        }\n        optionValues = [...optionValues, option.value] as never;\n      });\n      const messagesFromOptions = getMessagesFromIdxRemediationValue(optionValues) || [];\n      messages = [...messages, ...messagesFromOptions] as never;\n    }\n    return messages;\n  }, []);\n}\n\nexport function getMessagesFromResponse(idxResponse: IdxResponse, options: RunOptions): IdxMessage[] {\n  let messages: IdxMessage[] = [];\n  const { rawIdxState, neededToProceed } = idxResponse;\n\n  // Handle global messages\n  const globalMessages = rawIdxState.messages?.value.map(message => message);\n  if (globalMessages) {\n    messages = [...messages, ...globalMessages] as never;\n  }\n\n  // Handle field messages for current flow\n  // Preserve existing logic for general cases, remove in the next major version\n  // Follow ion response format for top level messages when useGenericRemediator is true\n  if (!options.useGenericRemediator) {\n    for (let remediation of neededToProceed) {\n      const fieldMessages = getMessagesFromIdxRemediationValue(remediation.value);\n      if (fieldMessages) {\n        messages = [...messages, ...fieldMessages] as never;\n      }\n    }\n  }\n\n  // API may return identical error on same field, filter by i18n key\n  const seen = {};\n  messages = messages.reduce((filtered, message) => {\n    const key = message.i18n?.key;\n    if (key && seen[key] && message.message === seen[key].message) {\n      return filtered;\n    }\n    seen[key] = message;\n    filtered = [...filtered, message] as never;\n    return filtered;\n  }, []);\n\n  return messages;\n}\n\n\nexport function getEnabledFeatures(idxResponse: IdxResponse): IdxFeature[] {\n  const res = [];\n  const { actions, neededToProceed } = idxResponse;\n\n  if (actions['currentAuthenticator-recover']) {\n    res.push(IdxFeature.PASSWORD_RECOVERY as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'select-enroll-profile')) {\n    res.push(IdxFeature.REGISTRATION as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'redirect-idp')) {\n    res.push(IdxFeature.SOCIAL_IDP as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'unlock-account')) {\n    res.push(IdxFeature.ACCOUNT_UNLOCK as never);\n  }\n\n  return res;\n}\n\nexport function getAvailableSteps(\n  authClient: OktaAuthIdxInterface, \n  idxResponse: IdxResponse, \n  useGenericRemediator?: boolean\n): NextStep[] {\n  const res: NextStep[] = [];\n\n  const remediatorMap: Record<string, RemediatorConstructor> = Object.values(ctx.remediators)\n    .reduce((map, remediatorClass) => {\n      // Only add concrete subclasses to the map\n      if (remediatorClass.remediationName) {\n        map[remediatorClass.remediationName] = remediatorClass;\n      }\n      return map;\n    }, {});\n\n  for (let remediation of idxResponse.neededToProceed) {\n    const T = getRemediatorClass(remediation, { useGenericRemediator, remediators: remediatorMap });\n    if (T) {\n      const remediator: Remediator = new T(remediation);\n      res.push (remediator.getNextStep(authClient, idxResponse.context) as never);\n    }\n  }\n\n  for (const [name] of Object.entries((idxResponse.actions || {}))) {\n    let stepObj = {\n      name, \n      action: async (params?) => {\n        return authClient.idx.proceed({ \n          actions: [{ name, params }] \n        });\n      }\n    };\n    if (name.startsWith('currentAuthenticator')) {\n      const [part1, part2] = split2(name, '-');\n      const actionObj = idxResponse.rawIdxState[part1].value[part2];\n      /* eslint-disable no-unused-vars, @typescript-eslint/no-unused-vars */\n      const {\n        href, \n        method, \n        rel, \n        accepts, \n        produces, \n        ...rest\n      } = actionObj;\n      /* eslint-enable no-unused-vars, @typescript-eslint/no-unused-vars */\n      const value = actionObj.value?.filter(item => item.name !== 'stateHandle');\n      stepObj = { \n        ...rest,  \n        ...(value && { value }),\n        ...stepObj,\n      };\n    }\n    res.push(stepObj);\n  }\n\n  return res;\n}\n\nexport function filterValuesForRemediation(\n  idxResponse: IdxResponse,\n  remediationName: string,\n  values: RemediationValues\n): RemediationValues {\n  const remediations = idxResponse.neededToProceed || [];\n  const remediation = remediations.find(r => r.name === remediationName);\n  if (!remediation) {\n    // step was specified, but remediation was not found. This is unexpected!\n    warn(`filterValuesForRemediation: \"${remediationName}\" did not match any remediations`);\n    return values;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const valuesForRemediation = remediation.value!.reduce((res, entry) => {\n    const { name, value } = entry;\n    if (name === 'stateHandle') {\n      res[name] = value; // use the stateHandle value in the remediation\n    } else {\n      res[name] = values[name]; // use the value provided by the caller\n    }\n    return res;\n  }, {});\n  return valuesForRemediation;\n}\n\nfunction getRemediatorClass(remediation: IdxRemediation, options: RemediateOptions) {\n  const { useGenericRemediator, remediators } = options;\n  \n  if (!remediation) {\n    return undefined;\n  }\n\n  if (useGenericRemediator) {\n    return GenericRemediator;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return remediators![remediation.name];\n}\n\n// Return first match idxRemediation in allowed remediators\n// eslint-disable-next-line complexity\nexport function getRemediator(\n  idxResponse: IdxResponse,\n  values: RemediationValues,\n  options: RemediateOptions,\n): Remediator | undefined {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const remediators = options.remediators!;\n  const useGenericRemediator = options.useGenericRemediator;\n  const {neededToProceed: idxRemediations, context} = idxResponse;\n\n  let remediator: Remediator;\n  // remediation name specified by caller - fast-track remediator lookup \n  if (options.step) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const remediation = idxRemediations.find(({ name }) => name === options.step)!;\n    if (remediation) {\n      const T = getRemediatorClass(remediation, options);\n      return T ? new T(remediation, values, options) : undefined;\n    } else {\n      // step was specified, but remediation was not found. This is unexpected!\n      warn(`step \"${options.step}\" did not match any remediations`);\n      return;\n    }\n  }\n\n  const remediatorCandidates: Remediator[] = [];\n  if (useGenericRemediator) {\n    // always pick the first remediation for when use GenericRemediator\n    remediatorCandidates.push(new GenericRemediator(idxRemediations[0], values, options));\n  } else {\n    for (let remediation of idxRemediations) {\n      const isRemeditionInFlow = Object.keys(remediators as object).includes(remediation.name);\n      if (!isRemeditionInFlow) {\n        continue;\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const T = getRemediatorClass(remediation, options)!;\n      remediator = new T(remediation, values, options);\n      if (remediator.canRemediate(context)) {\n        // found the remediator\n        return remediator;\n      }\n      // remediator cannot handle the current values\n      // maybe return for next step\n      remediatorCandidates.push(remediator);  \n    }\n  }\n  \n  return remediatorCandidates[0];\n}\n\n\nexport function getNextStep(\n  authClient: OktaAuthIdxInterface, remediator: Remediator, idxResponse: IdxResponse\n): NextStep {\n  const nextStep = remediator.getNextStep(authClient, idxResponse.context);\n  const canSkip = canSkipFn(idxResponse);\n  const canResend = canResendFn(idxResponse);\n  return {\n    ...nextStep,\n    ...(canSkip && {canSkip}),\n    ...(canResend && {canResend}),\n  };\n}\n\nexport function handleFailedResponse(\n  authClient: OktaAuthIdxInterface,\n  idxResponse: IdxResponse,\n  options = {}\n): RemediationResponse {\n  const terminal = isTerminalResponse(idxResponse);\n  const messages = getMessagesFromResponse(idxResponse, options);\n  if (terminal) {\n    return { idxResponse, terminal, messages };\n  } else {\n    const remediator = getRemediator(idxResponse, {}, options);\n    const nextStep = remediator && getNextStep(authClient, remediator, idxResponse);\n    return {\n      idxResponse,\n      messages,\n      ...(nextStep && { nextStep }),\n    };\n  }\n  \n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { base64UrlToBuffer, bufferToBase64Url } from '../crypto/base64';\nimport {\n  ActivationData,\n  ChallengeData,\n  IdxAuthenticator,\n} from './types';\n\n\n// Get known credentials from list of enrolled authenticators\nconst getEnrolledCredentials = (authenticatorEnrollments: IdxAuthenticator[] = []) => {\n  const credentials: PublicKeyCredentialDescriptor[] = [];\n  authenticatorEnrollments.forEach((enrollement) => {\n    if (enrollement.key === 'webauthn') {\n      credentials.push({\n        type: 'public-key',\n        id: base64UrlToBuffer(enrollement.credentialId),\n      });\n    }\n  });\n  return credentials;\n};\n\n// Build options for navigator.credentials.create\n// https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create\nexport const buildCredentialCreationOptions = (\n  activationData: ActivationData, authenticatorEnrollments: IdxAuthenticator[]\n) => {\n  return {\n    publicKey: {\n      rp: activationData.rp,\n      user: {\n        id: base64UrlToBuffer(activationData.user.id),\n        name: activationData.user.name,\n        displayName: activationData.user.displayName\n      },\n      challenge: base64UrlToBuffer(activationData.challenge),\n      pubKeyCredParams: activationData.pubKeyCredParams,\n      attestation: activationData.attestation,\n      authenticatorSelection: activationData.authenticatorSelection,\n      excludeCredentials: getEnrolledCredentials(authenticatorEnrollments),\n    }\n  } as CredentialCreationOptions;\n};\n\n\n// Build options for navigator.credentials.get\n// https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/get\nexport const buildCredentialRequestOptions = (\n  challengeData: ChallengeData, authenticatorEnrollments: IdxAuthenticator[]\n) => {\n  return {\n    publicKey: {\n      challenge: base64UrlToBuffer(challengeData.challenge),\n      userVerification: challengeData.userVerification,\n      allowCredentials: getEnrolledCredentials(authenticatorEnrollments),\n    }\n  } as CredentialRequestOptions;\n};\n\n// Build attestation for webauthn enroll\n// https://developer.mozilla.org/en-US/docs/Web/API/AuthenticatorAttestationResponse\nexport const getAttestation = (credential: PublicKeyCredential) => {\n  const response = credential.response as AuthenticatorAttestationResponse;\n  const id = credential.id;\n  const clientData = bufferToBase64Url(response.clientDataJSON);\n  const attestation = bufferToBase64Url(response.attestationObject);\n  return {\n    id,\n    clientData,\n    attestation\n  };\n};\n\n// Build assertion for webauthn verification\n// https://developer.mozilla.org/en-US/docs/Web/API/AuthenticatorAssertionResponse\nexport const getAssertion = (credential: PublicKeyCredential) => {\n  const response = credential.response as AuthenticatorAssertionResponse;\n  const id = credential.id;\n  const clientData = bufferToBase64Url(response.clientDataJSON);\n  const authenticatorData = bufferToBase64Url(response.authenticatorData);\n  const signatureData = bufferToBase64Url(response.signature);\n  return {\n    id,\n    clientData,\n    authenticatorData,\n    signatureData\n  };\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default class SdkClock {\n  localOffset: number;\n\n  constructor(localOffset) {\n    // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n    this.localOffset = parseInt(localOffset || 0);\n  }\n\n  // factory method. Create an instance of a clock from current context.\n  static create(/* sdk, options */): SdkClock {\n    // TODO: calculate localOffset\n    var localOffset = 0;\n    return new SdkClock(localOffset);\n  }\n\n  // Return the current time (in seconds)\n  now() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { removeNils, clone } from '../util';\nimport { AuthSdkError } from '../errors';\nimport { validateToken  } from '../oidc/util';\nimport { isLocalhost, isIE11OrLess } from '../features';\nimport SdkClock from '../clock';\nimport {\n  Token, \n  Tokens, \n  TokenType, \n  TokenManagerOptions, \n  isIDToken, \n  isAccessToken,\n  isRefreshToken,\n  TokenManagerErrorEventHandler,\n  TokenManagerSetStorageEventHandler,\n  TokenManagerRenewEventHandler,\n  TokenManagerEventHandler,\n  TokenManagerInterface,\n  RefreshToken,\n  AccessTokenCallback,\n  IDTokenCallback,\n  RefreshTokenCallback,\n  EVENT_RENEWED,\n  EVENT_ADDED,\n  EVENT_ERROR,\n  EVENT_EXPIRED,\n  EVENT_REMOVED,\n  EVENT_SET_STORAGE,\n  TokenManagerAnyEventHandler,\n  TokenManagerAnyEvent,\n  OktaAuthOAuthInterface\n} from './types';\nimport { REFRESH_TOKEN_STORAGE_KEY, TOKEN_STORAGE_NAME } from '../constants';\nimport { EventEmitter } from '../base/types';\nimport { StorageOptions, StorageProvider, StorageType } from '../storage/types';\n\nconst DEFAULT_OPTIONS = {\n  // TODO: remove in next major version - OKTA-473815\n  autoRenew: true,\n  autoRemove: true,\n  syncStorage: true,\n  // --- //\n  clearPendingRemoveTokens: true,\n  storage: undefined, // will use value from storageManager config\n  expireEarlySeconds: 30,\n  storageKey: TOKEN_STORAGE_NAME\n};\n\ninterface TokenManagerState {\n  expireTimeouts: Record<string, unknown>;\n  renewPromise: Promise<Token | undefined> | null;\n  started?: boolean;\n}\nfunction defaultState(): TokenManagerState {\n  return {\n    expireTimeouts: {},\n    renewPromise: null\n  };\n}\nexport class TokenManager implements TokenManagerInterface {\n  private sdk: OktaAuthOAuthInterface;\n  private clock: SdkClock;\n  private emitter: EventEmitter;\n  private storage: StorageProvider;\n  private state: TokenManagerState;\n  private options: TokenManagerOptions;\n\n  on(event: typeof EVENT_RENEWED, handler: TokenManagerRenewEventHandler, context?: object): void;\n  on(event: typeof EVENT_ERROR, handler: TokenManagerErrorEventHandler, context?: object): void;\n  on(event: typeof EVENT_SET_STORAGE, handler: TokenManagerSetStorageEventHandler, context?: object): void;\n  on(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, \n    handler: TokenManagerEventHandler, context?: object): void;\n  on(event: TokenManagerAnyEvent, handler: TokenManagerAnyEventHandler, context?: object): void {\n    if (context) {\n      this.emitter.on(event, handler, context);\n    } else {\n      this.emitter.on(event, handler);\n    }\n  }\n\n  off(event: typeof EVENT_RENEWED, handler?: TokenManagerRenewEventHandler): void;\n  off(event: typeof EVENT_ERROR, handler?: TokenManagerErrorEventHandler): void;\n  off(event: typeof EVENT_SET_STORAGE, handler?: TokenManagerSetStorageEventHandler): void;\n  off(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, \n    handler?: TokenManagerEventHandler): void;\n  off(event: TokenManagerAnyEvent, handler?: TokenManagerAnyEventHandler): void {\n    if (handler) {\n      this.emitter.off(event, handler);\n    } else {\n      this.emitter.off(event);\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  constructor(sdk: OktaAuthOAuthInterface, options: TokenManagerOptions = {}) {\n    this.sdk = sdk;\n    this.emitter = (sdk as any).emitter;\n    if (!this.emitter) {\n      throw new AuthSdkError('Emitter should be initialized before TokenManager');\n    }\n    \n    options = Object.assign({}, DEFAULT_OPTIONS, removeNils(options));\n    if (!isLocalhost()) {\n      options.expireEarlySeconds = DEFAULT_OPTIONS.expireEarlySeconds;\n    }\n\n    this.options = options;\n\n    const storageOptions: StorageOptions = removeNils({\n      storageKey: options.storageKey,\n      secure: options.secure,\n    });\n    if (typeof options.storage === 'object') {\n      // A custom storage provider must implement getItem(key) and setItem(key, val)\n      storageOptions.storageProvider = options.storage;\n    } else if (options.storage) {\n      storageOptions.storageType = options.storage as StorageType;\n    }\n\n    this.storage = sdk.storageManager.getTokenStorage({...storageOptions, useSeparateCookies: true});\n    this.clock = SdkClock.create(/* sdk, options */);\n    this.state = defaultState();\n  }\n\n  start() {\n    if (this.options.clearPendingRemoveTokens) {\n      this.clearPendingRemoveTokens();\n    }\n    this.setExpireEventTimeoutAll();\n    this.state.started = true;\n  }\n  \n  stop() {\n    this.clearExpireEventTimeoutAll();\n    this.state.started = false;\n  }\n\n  isStarted() {\n    return !!this.state.started;\n  }\n\n  getOptions(): TokenManagerOptions {\n    return clone(this.options);\n  }\n  \n  getExpireTime(token) {\n    const expireEarlySeconds = this.options.expireEarlySeconds || 0;\n    var expireTime = token.expiresAt - expireEarlySeconds;\n    return expireTime;\n  }\n  \n  hasExpired(token) {\n    var expireTime = this.getExpireTime(token);\n    return expireTime <= this.clock.now();\n  }\n  \n  emitExpired(key, token) {\n    this.emitter.emit(EVENT_EXPIRED, key, token);\n  }\n  \n  emitRenewed(key, freshToken, oldToken) {\n    this.emitter.emit(EVENT_RENEWED, key, freshToken, oldToken);\n  }\n  \n  emitAdded(key, token) {\n    this.emitter.emit(EVENT_ADDED, key, token);\n  }\n  \n  emitRemoved(key, token?) {\n    this.emitter.emit(EVENT_REMOVED, key, token);\n  }\n  \n  emitError(error) {\n    this.emitter.emit(EVENT_ERROR, error);\n  }\n  \n  clearExpireEventTimeout(key) {\n    clearTimeout(this.state.expireTimeouts[key] as any);\n    delete this.state.expireTimeouts[key];\n  \n    // Remove the renew promise (if it exists)\n    this.state.renewPromise = null;\n  }\n  \n  clearExpireEventTimeoutAll() {\n    var expireTimeouts = this.state.expireTimeouts;\n    for (var key in expireTimeouts) {\n      if (!Object.prototype.hasOwnProperty.call(expireTimeouts, key)) {\n        continue;\n      }\n      this.clearExpireEventTimeout(key);\n    }\n  }\n  \n  setExpireEventTimeout(key, token) {\n    if (isRefreshToken(token)) {\n      return;\n    }\n\n    var expireTime = this.getExpireTime(token);\n    var expireEventWait = Math.max(expireTime - this.clock.now(), 0) * 1000;\n  \n    // Clear any existing timeout\n    this.clearExpireEventTimeout(key);\n  \n    var expireEventTimeout = setTimeout(() => {\n      this.emitExpired(key, token);\n    }, expireEventWait);\n  \n    // Add a new timeout\n    this.state.expireTimeouts[key] = expireEventTimeout;\n  }\n  \n  setExpireEventTimeoutAll() {\n    var tokenStorage = this.storage.getStorage();\n    for(var key in tokenStorage) {\n      if (!Object.prototype.hasOwnProperty.call(tokenStorage, key)) {\n        continue;\n      }\n      var token = tokenStorage[key];\n      this.setExpireEventTimeout(key, token);\n    }\n  }\n  \n  // reset timeouts to setup autoRenew for tokens from other document context (tabs)\n  resetExpireEventTimeoutAll() {\n    this.clearExpireEventTimeoutAll();\n    this.setExpireEventTimeoutAll();\n  }\n  \n  add(key, token: Token) {\n    var tokenStorage = this.storage.getStorage();\n    validateToken(token);\n    tokenStorage[key] = token;\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n    this.emitAdded(key, token);\n    this.setExpireEventTimeout(key, token);\n  }\n  \n  getSync(key): Token | undefined {\n    var tokenStorage = this.storage.getStorage();\n    return tokenStorage[key];\n  }\n  \n  async get(key): Promise<Token | undefined> {\n    return this.getSync(key);\n  }\n  \n  getTokensSync(): Tokens {\n    const tokens = {} as Tokens;\n    const tokenStorage = this.storage.getStorage();\n    Object.keys(tokenStorage).forEach(key => {\n      const token = tokenStorage[key];\n      if (isAccessToken(token)) {\n        tokens.accessToken = token;\n      } else if (isIDToken(token)) {\n        tokens.idToken = token;\n      } else if (isRefreshToken(token)) { \n        tokens.refreshToken = token;\n      }\n    });\n    return tokens;\n  }\n  \n  async getTokens(): Promise<Tokens> {\n    return this.getTokensSync();\n  }\n\n  getStorageKeyByType(type: TokenType): string {\n    const tokenStorage = this.storage.getStorage();\n    const key = Object.keys(tokenStorage).filter(key => {\n      const token = tokenStorage[key];\n      return (isAccessToken(token) && type === 'accessToken') \n        || (isIDToken(token) && type === 'idToken')\n        || (isRefreshToken(token) && type === 'refreshToken');\n    })[0];\n    return key;\n  }\n\n  private getTokenType(token: Token): TokenType {\n    if (isAccessToken(token)) {\n      return 'accessToken';\n    }\n    if (isIDToken(token)) {\n      return 'idToken';\n    }\n    if(isRefreshToken(token)) {\n      return 'refreshToken';\n    }\n    throw new AuthSdkError('Unknown token type');\n  }\n\n  // for synchronization of LocalStorage cross tabs for IE11\n  private emitSetStorageEvent() {\n    if (isIE11OrLess()) {\n      const storage = this.storage.getStorage();\n      this.emitter.emit(EVENT_SET_STORAGE, storage);\n    }\n  }\n\n  // used in `SyncStorageService` for synchronization of LocalStorage cross tabs for IE11\n  public getStorage() {\n    return this.storage;\n  }\n\n  setTokens(\n    tokens: Tokens,\n    // TODO: callbacks can be removed in the next major version OKTA-407224\n    accessTokenCb?: AccessTokenCallback, \n    idTokenCb?: IDTokenCallback,\n    refreshTokenCb?: RefreshTokenCallback\n  ): void {\n    const handleTokenCallback = (key, token) => {\n      const type = this.getTokenType(token);\n      if (type === 'accessToken') {\n        accessTokenCb && accessTokenCb(key, token);\n      } else if (type === 'idToken') {\n        idTokenCb && idTokenCb(key, token);\n      } else if (type === 'refreshToken') {\n        refreshTokenCb && refreshTokenCb(key, token);\n      }\n    };\n    const handleAdded = (key, token) => {\n      this.emitAdded(key, token);\n      this.setExpireEventTimeout(key, token);\n      handleTokenCallback(key, token);\n    };\n    const handleRenewed = (key, token, oldToken) => {\n      this.emitRenewed(key, token, oldToken);\n      this.clearExpireEventTimeout(key);\n      this.setExpireEventTimeout(key, token);\n      handleTokenCallback(key, token);\n    };\n    const handleRemoved = (key, token) => {\n      this.clearExpireEventTimeout(key);\n      this.emitRemoved(key, token);\n      handleTokenCallback(key, token);\n    };\n    \n    const types: TokenType[] = ['idToken', 'accessToken', 'refreshToken'];\n    const existingTokens = this.getTokensSync();\n\n    // valid tokens\n    types.forEach((type) => {\n      const token = tokens[type];\n      if (token) {\n        validateToken(token, type);\n      }\n    });\n  \n    // add token to storage\n    const storage = types.reduce((storage, type) => {\n      const token = tokens[type];\n      if (token) {\n        const storageKey = this.getStorageKeyByType(type) || type;\n        storage[storageKey] = token;\n      }\n      return storage;\n    }, {});\n    this.storage.setStorage(storage);\n    this.emitSetStorageEvent();\n\n    // emit event and start expiration timer\n    types.forEach(type => {\n      const newToken = tokens[type];\n      const existingToken = existingTokens[type];\n      const storageKey = this.getStorageKeyByType(type) || type;\n      if (newToken && existingToken) { // renew\n        // call handleRemoved first, since it clears timers\n        handleRemoved(storageKey, existingToken);\n        handleAdded(storageKey, newToken);\n        handleRenewed(storageKey, newToken, existingToken);\n      } else if (newToken) { // add\n        handleAdded(storageKey, newToken);\n      } else if (existingToken) { //remove\n        handleRemoved(storageKey, existingToken);\n      }\n    });\n  }\n  \n  remove(key) {\n    // Clear any listener for this token\n    this.clearExpireEventTimeout(key);\n  \n    var tokenStorage = this.storage.getStorage();\n    var removedToken = tokenStorage[key];\n    delete tokenStorage[key];\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n  \n    this.emitRemoved(key, removedToken);\n  }\n  \n  // TODO: this methods is redundant and can be removed in the next major version OKTA-407224\n  async renewToken(token) {\n    return this.sdk.token?.renew(token);\n  }\n  // TODO: this methods is redundant and can be removed in the next major version OKTA-407224\n  validateToken(token: Token) {\n    return validateToken(token);\n  }\n\n  // TODO: renew method should take no param, change in the next major version OKTA-407224\n  renew(key): Promise<Token | undefined> {\n    // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n    if (this.state.renewPromise) {\n      return this.state.renewPromise;\n    }\n\n    try {\n      var token = this.getSync(key);\n      let shouldRenew = token !== undefined;\n      // explicitly check if key='accessToken' because token keys are not guaranteed (long story, features dragons)\n      if (!token && key === 'accessToken') {\n        // attempt token renewal if refresh token is present (improves consistency of autoRenew)\n        const refreshKey = this.getStorageKeyByType('refreshToken');\n        const refreshToken = this.getSync(refreshKey);\n        shouldRenew = refreshToken !== undefined;\n      }\n\n      if (!shouldRenew) {\n        throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n      }\n    }\n    catch (err) {\n      this.emitError(err);\n      return Promise.reject(err);\n    }\n\n    // Remove existing autoRenew timeout\n    this.clearExpireEventTimeout(key);\n  \n    // A refresh token means a replace instead of renewal\n    // Store the renew promise state, to avoid renewing again\n    const renewPromise = this.state.renewPromise = this.sdk.token.renewTokens()\n      .then(tokens => {\n        this.setTokens(tokens);\n\n        // return accessToken in case where access token doesn't exist\n        // but refresh token exists\n        if (!token && key === 'accessToken') {\n          const accessToken = tokens['accessToken'];\n          this.emitRenewed(key, accessToken, null);\n          return accessToken;\n        }\n\n        // resolve token based on the key\n        const tokenType = this.getTokenType(token!);\n        return tokens[tokenType];\n      })\n      .catch(err => {\n        // If renew fails, remove token from storage and emit error\n        this.remove(key);\n        err.tokenKey = key;\n        this.emitError(err);\n        throw err;\n      })\n      .finally(() => {\n        // Remove existing promise key\n        this.state.renewPromise = null;\n      });\n  \n    return renewPromise;\n  }\n  \n  clear() {\n    const tokens = this.getTokensSync();\n    this.clearExpireEventTimeoutAll();\n    this.storage.clearStorage();\n    this.emitSetStorageEvent();\n\n    Object.keys(tokens).forEach(key => {\n      this.emitRemoved(key, tokens[key]);\n    });\n  }\n\n  clearPendingRemoveTokens() {\n    const tokenStorage = this.storage.getStorage();\n    const removedTokens = {};\n    Object.keys(tokenStorage).forEach(key => {\n      if (tokenStorage[key].pendingRemove) {\n        removedTokens[key] = tokenStorage[key];\n        delete tokenStorage[key];\n      }\n    });\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n    Object.keys(removedTokens).forEach(key => {\n      this.clearExpireEventTimeout(key);\n      this.emitRemoved(key, removedTokens[key]);\n    });\n  }\n\n  updateRefreshToken(token: RefreshToken) {\n    const key = this.getStorageKeyByType('refreshToken') || REFRESH_TOKEN_STORAGE_KEY;\n\n    // do not emit any event\n    var tokenStorage = this.storage.getStorage();\n    validateToken(token);\n    tokenStorage[key] = token;\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n  }\n\n  removeRefreshToken () {\n    const key = this.getStorageKeyByType('refreshToken') || REFRESH_TOKEN_STORAGE_KEY;\n    this.remove(key);\n  }\n\n  addPendingRemoveFlags() {\n    const tokens = this.getTokensSync();\n    Object.keys(tokens).forEach(key => {\n      tokens[key].pendingRemove = true;\n    });\n    this.setTokens(tokens);\n  }\n  \n}\n","import { OAuthStorageManagerInterface, OAuthTransactionMeta, isTransactionMeta } from '../types';\n\nconst MAX_ENTRY_LIFETIME = 30 * 60 * 1000; // 30 minutes\n\nexport function pruneSharedStorage<M extends OAuthTransactionMeta>(storageManager: OAuthStorageManagerInterface<M>) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  Object.keys(entries).forEach(state => {\n    const entry = entries[state];\n    const age = Date.now() - entry.dateCreated;\n    if (age > MAX_ENTRY_LIFETIME) {\n      delete entries[state];\n    }\n  });\n  sharedStorage.setStorage(entries);\n}\n\nexport function saveTransactionToSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string, meta: M\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  entries[state] = {\n    dateCreated: Date.now(),\n    transaction: meta\n  };\n  sharedStorage.setStorage(entries);\n}\n\n\nexport function loadTransactionFromSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  const entry = entries[state];\n  if (entry && entry.transaction && isTransactionMeta(entry.transaction)) {\n    return entry.transaction;\n  }\n  return null;\n}\n\nexport function clearTransactionFromSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  delete entries[state];\n  sharedStorage.setStorage(entries);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { StorageProvider } from '../storage/types';\nimport {\n  TransactionMeta,\n  isTransactionMeta,\n  TransactionMetaOptions,\n  TransactionManagerOptions,\n  OAuthTransactionMeta,\n  OAuthStorageManagerInterface,\n  ClearTransactionMetaOptions,\n  TransactionManagerInterface,\n  PKCETransactionMeta\n} from './types';\nimport { warn } from '../util';\nimport {\n  clearTransactionFromSharedStorage,\n  loadTransactionFromSharedStorage,\n  pruneSharedStorage,\n  saveTransactionToSharedStorage\n} from './util/sharedStorage';\n\n\nexport function createTransactionManager\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>\n>\n()\n{\n  return class TransactionManager implements TransactionManagerInterface\n  {\n    options: TransactionManagerOptions;\n    storageManager: S;\n    enableSharedStorage: boolean;\n    saveLastResponse: boolean;\n\n    constructor(options: TransactionManagerOptions) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      this.storageManager = options.storageManager! as S;\n      this.enableSharedStorage = options.enableSharedStorage === false ? false : true;\n      this.saveLastResponse = options.saveLastResponse === false ? false : true;\n      this.options = options;\n    }\n\n    // eslint-disable-next-line complexity\n    clear(options: ClearTransactionMetaOptions = {}) {\n      const transactionStorage: StorageProvider = this.storageManager.getTransactionStorage();\n      const meta = transactionStorage.getStorage();\n\n      // Clear primary storage (by default, sessionStorage on browser)\n      transactionStorage.clearStorage();\n\n      // Usually we want to also clear shared storage unless another tab may need it to continue/complete a flow\n      if (this.enableSharedStorage && options.clearSharedStorage !== false) {\n        const state = options.state || meta?.state;\n        if (state) {\n          clearTransactionFromSharedStorage(this.storageManager, state);\n        }\n      }\n    }\n\n    // eslint-disable-next-line complexity\n    save(meta: M, options: TransactionMetaOptions = {}) {\n      // There must be only one transaction executing at a time.\n      // Before saving, check to see if a transaction is already stored.\n      // An existing transaction indicates a concurrency/race/overlap condition\n\n      let storage: StorageProvider = this.storageManager.getTransactionStorage();\n      const obj = storage.getStorage();\n      // oie process may need to update transaction in the middle of process for tracking purpose\n      // false alarm might be caused \n      // TODO: revisit for a better solution, https://oktainc.atlassian.net/browse/OKTA-430919\n      if (isTransactionMeta(obj) && !options.muteWarning) {\n        // eslint-disable-next-line max-len\n        warn('a saved auth transaction exists in storage. This may indicate another auth flow is already in progress.');\n      }\n\n      storage.setStorage(meta);\n\n      // Shared storage allows continuation of transaction in another tab\n      if (this.enableSharedStorage && meta.state) {\n        saveTransactionToSharedStorage(this.storageManager, meta.state, meta);\n      }\n    }\n\n    exists(options: TransactionMetaOptions = {}): boolean {\n      try {\n        const meta = this.load(options);\n        return !!meta;\n      } catch {\n        return false;\n      }\n    }\n\n    // load transaction meta from storage\n    // eslint-disable-next-line complexity,max-statements\n    load(options: TransactionMetaOptions = {}): TransactionMeta | null {\n\n      let meta: TransactionMeta;\n\n      // If state was passed, try loading transaction data from shared storage\n      if (this.enableSharedStorage && options.state) {\n        pruneSharedStorage(this.storageManager); // prune before load\n        meta = loadTransactionFromSharedStorage(this.storageManager, options.state);\n        if (isTransactionMeta(meta)) {\n          return meta;\n        }\n      }\n\n      let storage: StorageProvider = this.storageManager.getTransactionStorage();\n      meta = storage.getStorage();\n      if (isTransactionMeta(meta)) {\n        // if we have meta in the new location, there is no need to go further\n        return meta;\n      }\n\n      return null;\n    }\n\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { JWTObject } from './types';\nimport { base64UrlToString } from '../crypto';\n\nexport function decodeToken(token: string): JWTObject {\n  var jwt = token.split('.');\n  var decodedToken: JWTObject;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(base64UrlToString(jwt[0])),\n      payload: JSON.parse(base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch (e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n","// References:\n// https://www.w3.org/TR/WebCryptoAPI/#concepts-key-storage\n// https://datatracker.ietf.org/doc/html/rfc9449\n\nimport {\n  webcrypto,\n  stringToBase64Url,\n  stringToBuffer,\n  bufferToBase64Url,\n  base64ToBase64Url,\n  btoa\n} from '../crypto';\nimport { AuthSdkError, OAuthError, WWWAuthError, isOAuthError, isWWWAuthError } from '../errors';\nimport { Tokens } from './types';\n\nexport interface DPoPClaims {\n  htm: string;\n  htu: string;\n  iat: number;\n  jti: string;\n  nonce?: string;\n  ath?: string;\n}\n\nexport interface DPoPProofParams {\n  keyPair: CryptoKeyPair;\n  url: string;\n  method: string;\n  nonce?: string;\n  accessToken?: string;\n}\n\nexport type ResourceDPoPProofParams = Omit<DPoPProofParams, 'keyPair' | 'nonce'>;\ntype DPoPProofTokenRequestParams = Omit<DPoPProofParams, 'accessToken'>;\n\nconst INDEXEDDB_NAME = 'OktaAuthJs';\nconst DB_KEY = 'DPoPKeys';\n\nexport function isDPoPNonceError(obj: any): obj is OAuthError | WWWAuthError {\n  return (\n    (isOAuthError(obj) || isWWWAuthError(obj)) &&\n    obj.errorCode === 'use_dpop_nonce'\n  );\n}\n\n/////////// crypto ///////////\n\nexport async function createJwt(header: object, claims: object, signingKey: CryptoKey): Promise<string> {\n  const head = stringToBase64Url(JSON.stringify(header));\n  const body = stringToBase64Url(JSON.stringify(claims));\n  const signature = await webcrypto.subtle.sign(\n    { name: signingKey.algorithm.name }, signingKey, stringToBuffer(`${head}.${body}`)\n  );\n  return `${head}.${body}.${base64ToBase64Url(bufferToBase64Url(signature))}`;\n}\n\nexport function cryptoRandomValue (byteLen = 32) {\n  return [...webcrypto.getRandomValues(new Uint8Array(byteLen))].map(v => v.toString(16)).join('');\n}\n\nexport async function generateKeyPair (): Promise<CryptoKeyPair> {\n  const algorithm = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: 'SHA-256',\n    modulusLength: 2048,\n    publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n  };\n\n  // The \"false\" here makes it non-exportable\n  // https://caniuse.com/mdn-api_subtlecrypto_generatekey\n  return webcrypto.subtle.generateKey(algorithm, false, ['sign', 'verify']);\n}\n\nasync function hashAccessToken (accessToken: string): Promise<string> {\n  const buffer = new TextEncoder().encode(accessToken);\n  const hash = await webcrypto.subtle.digest('SHA-256', buffer);\n\n  return btoa(String.fromCharCode.apply(null, new Uint8Array(hash) as unknown as number[]))\n    .replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\n/////////// indexeddb / keystore ///////////\n\n\n// https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore#instance_methods\n// add additional methods as needed\nexport type StoreMethod = 'get' | 'add' | 'delete' | 'clear';\n\n// convenience abstraction for exposing IDBObjectStore instance\nfunction keyStore (): Promise<IDBObjectStore> {\n  return new Promise((resolve, reject) => {\n    try {\n      const indexedDB = window.indexedDB;\n      const req = indexedDB.open(INDEXEDDB_NAME, 1);\n\n      req.onerror = function () {\n        reject(req.error!);\n      };\n\n      req.onupgradeneeded = function () {\n        const db = req.result;\n        db.createObjectStore(DB_KEY);\n      };\n\n      req.onsuccess = function () {\n        const db = req.result;\n        const tx = db.transaction(DB_KEY, 'readwrite');\n\n        tx.onerror = function () {\n          reject(tx.error!);\n        };\n\n        const store = tx.objectStore(DB_KEY);\n\n        resolve(store);\n\n        tx.oncomplete = function () {\n          db.close();\n        };\n      };\n    }\n    catch (err) {\n      reject(err);\n    }\n  });\n}\n\n// convenience abstraction for wrapping IDBObjectStore methods in promises\nasync function invokeStoreMethod (method: StoreMethod, ...args: any[]): Promise<IDBRequest> {\n  const store = await keyStore();\n  return new Promise((resolve, reject) => {\n    // https://github.com/microsoft/TypeScript/issues/49700\n    // https://github.com/microsoft/TypeScript/issues/49802\n    // @ts-expect-error ts(2556)\n    const req = store[method](...args);\n    req.onsuccess = function () {\n      resolve(req);\n    };\n    req.onerror = function () {\n      reject(req.error);\n    };\n  });\n}\n\nasync function storeKeyPair (pairId: string, keyPair: CryptoKeyPair) {\n  await invokeStoreMethod('add', keyPair, pairId);\n  return keyPair;\n}\n\n// attempts to find keyPair stored at given key, otherwise throws\nexport async function findKeyPair (pairId?: string): Promise<CryptoKeyPair> {\n  if (pairId) {\n    const req = await invokeStoreMethod('get', pairId);\n    if (req.result) {\n      return req.result;\n    }\n  }\n\n  // defaults to throwing unless keyPair is found\n  throw new AuthSdkError(`Unable to locate dpop key pair required for refresh${pairId ? ` (${pairId})` : ''}`);\n}\n\nexport async function clearDPoPKeyPair (pairId: string): Promise<void> {\n  await invokeStoreMethod('delete', pairId);\n}\n\nexport async function clearAllDPoPKeyPairs (): Promise<void> {\n  await invokeStoreMethod('clear');\n}\n\n// generates a crypto (non-extractable) private key pair and writes it to indexeddb, returns key (id)\nexport async function createDPoPKeyPair (): Promise<{keyPair: CryptoKeyPair, keyPairId: string}> {\n  const keyPairId = cryptoRandomValue(4);\n  const keyPair = await generateKeyPair();\n  await storeKeyPair(keyPairId, keyPair);\n  return { keyPair, keyPairId };\n}\n\n// will clear PK from storage if certain token conditions are met\n/* eslint max-len: [2, 132], complexity: [2, 12] */\nexport async function clearDPoPKeyPairAfterRevoke (revokedToken: 'access' | 'refresh', tokens: Tokens): Promise<void> {\n  let shouldClear = false;\n\n  const { accessToken, refreshToken } = tokens;\n\n  // revoking access token and refresh token doesn't exist\n  if (revokedToken === 'access' && accessToken && accessToken.tokenType === 'DPoP' && !refreshToken) {\n    shouldClear = true;\n  }\n\n  // revoking refresh token and access token doesn't exist\n  if (revokedToken === 'refresh' && refreshToken && !accessToken) {\n    shouldClear = true;\n  }\n\n  const pairId = accessToken?.dpopPairId ?? refreshToken?.dpopPairId;\n  if (shouldClear && pairId) {\n    await clearDPoPKeyPair(pairId);\n  }\n}\n\n/////////// proof generation methods ///////////\n\nexport async function generateDPoPProof ({ keyPair, url, method, nonce, accessToken }: DPoPProofParams): Promise<string> {\n  const { kty, crv, e, n, x, y } = await webcrypto.subtle.exportKey('jwk', keyPair.publicKey);\n  const header = {\n    alg: 'RS256',\n    typ: 'dpop+jwt',\n    jwk: { kty, crv, e, n, x, y }\n  };\n\n  const claims: DPoPClaims = {\n    htm: method,\n    htu: url,\n    iat: Math.floor(Date.now() / 1000),\n    jti: cryptoRandomValue(),\n  };\n\n  if (nonce) {\n    claims.nonce = nonce;\n  }\n\n  // encode access token\n  if (accessToken) {\n    claims.ath = await hashAccessToken(accessToken);\n  }\n\n  return createJwt(header, claims, keyPair.privateKey);\n}\n\n/* eslint max-len: [2, 132] */\nexport async function generateDPoPForTokenRequest ({ keyPair, url, method, nonce }: DPoPProofTokenRequestParams): Promise<string> {\n  const params: DPoPProofParams = { keyPair, url, method };\n  if (nonce) {\n    params.nonce = nonce;\n  }\n\n  return generateDPoPProof(params);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { isString, removeNils, toQueryString } from '../../util';\nimport { AuthSdkError } from '../../errors';\nimport { OAuthParams, TokenParams } from '../types';\n\nexport function convertTokenParamsToOAuthParams(tokenParams: TokenParams) {\n  // Quick validation\n  if (!tokenParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (isString(tokenParams.responseType) && tokenParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthParams: OAuthParams = {\n    'client_id': tokenParams.clientId,\n    'code_challenge': tokenParams.codeChallenge,\n    'code_challenge_method': tokenParams.codeChallengeMethod,\n    'display': tokenParams.display,\n    'idp': tokenParams.idp,\n    'idp_scope': tokenParams.idpScope,\n    'login_hint': tokenParams.loginHint,\n    'max_age': tokenParams.maxAge,\n    'nonce': tokenParams.nonce,\n    'prompt': tokenParams.prompt,\n    'redirect_uri': tokenParams.redirectUri,\n    'response_mode': tokenParams.responseMode,\n    'response_type': tokenParams.responseType,\n    'sessionToken': tokenParams.sessionToken,\n    'state': tokenParams.state,\n    'acr_values': tokenParams.acrValues,\n    'enroll_amr_values': tokenParams.enrollAmrValues,\n  };\n  oauthParams = removeNils(oauthParams) as OAuthParams;\n\n  ['idp_scope', 'response_type', 'enroll_amr_values'].forEach(function (mayBeArray) {\n    if (Array.isArray(oauthParams[mayBeArray])) {\n      oauthParams[mayBeArray] = oauthParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (tokenParams.responseType!.indexOf('id_token') !== -1 &&\n    tokenParams.scopes!.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else if (tokenParams.scopes) {\n    oauthParams.scope = tokenParams.scopes!.join(' ');\n  }\n\n  return oauthParams;\n}\n\nexport function buildAuthorizeParams(tokenParams: TokenParams) {\n  var oauthQueryParams = convertTokenParamsToOAuthParams(tokenParams);\n  return toQueryString({ \n    ...oauthQueryParams, \n    ...(tokenParams.extraParams && { ...tokenParams.extraParams })\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError, AuthApiError } from '../../errors';\nimport { CustomUrls, OAuthParams, OAuthResponse, RefreshToken, TokenParams } from '../types';\nimport { removeNils, toQueryString } from '../../util';\nimport { httpRequest, OktaAuthHttpInterface } from '../../http';\nimport { generateDPoPForTokenRequest, isDPoPNonceError } from '../dpop';\n\nexport interface TokenEndpointParams extends TokenParams {\n  dpopKeyPair?: CryptoKeyPair;\n}\n\ninterface TokenRequestParams {\n  url: string;\n  data: any;\n  dpopKeyPair?: CryptoKeyPair;\n  nonce?: string;\n}\n\nfunction validateOptions(options: TokenEndpointParams) {\n  // Quick validation\n  if (!options.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!options.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!options.authorizationCode && !options.interactionCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!options.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(sdk, options: TokenParams): string {\n  // Convert Token params to OAuth params, sent to the /token endpoint\n  var params: OAuthParams = removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': options.interactionCode ? 'interaction_code' : 'authorization_code',\n    'code_verifier': options.codeVerifier\n  });\n\n  if (options.interactionCode) {\n    params['interaction_code'] = options.interactionCode;\n  } else if (options.authorizationCode) {\n    params.code = options.authorizationCode;\n  }\n\n  const { clientSecret } = sdk.options;\n  if (clientSecret) {\n    params['client_secret'] = clientSecret;\n  }\n\n  // Encode as URL string\n  return toQueryString(params).slice(1);\n}\n\n/* eslint complexity: [2, 10] */\nasync function makeTokenRequest (sdk, { url, data, nonce, dpopKeyPair }: TokenRequestParams): Promise<OAuthResponse> {\n  const method = 'POST';\n  const headers: any = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n  };\n\n  if (sdk.options.dpop) {\n    if (!dpopKeyPair) {\n      throw new AuthSdkError('DPoP is configured but no key pair was provided');\n    }\n\n    const proof = await generateDPoPForTokenRequest({ url, method, nonce, keyPair: dpopKeyPair });\n    headers.DPoP = proof;\n  }\n\n  try {\n    const resp = await httpRequest(sdk, {\n      url,\n      method,\n      args: data,\n      headers\n    });\n    return resp;\n  }\n  catch (err) {\n    if (isDPoPNonceError(err) && !nonce) {\n      const dpopNonce = err.resp?.headers['dpop-nonce'];\n      if (!dpopNonce) {\n        // throws error is dpop-nonce header cannot be found, prevents infinite loop\n        throw new AuthApiError(\n          {errorSummary: 'No `dpop-nonce` header found when required'},\n          err.resp ?? undefined    // yay ts\n        );\n      }\n      return makeTokenRequest(sdk, { url, data, dpopKeyPair, nonce: dpopNonce });\n    }\n    throw err;\n  }\n}\n\n// exchange authorization code for an access token\nexport async function postToTokenEndpoint(sdk, options: TokenEndpointParams, urls: CustomUrls): Promise<OAuthResponse> {\n  validateOptions(options);\n  var data = getPostData(sdk, options);\n\n  const params: TokenRequestParams = {\n    url: urls.tokenUrl!,\n    data,\n    dpopKeyPair: options?.dpopKeyPair\n  };\n\n  return makeTokenRequest(sdk, params);\n}\n\nexport async function postRefreshToken(\n  sdk: OktaAuthHttpInterface,\n  options: TokenEndpointParams,\n  refreshToken: RefreshToken\n): Promise<OAuthResponse> {\n  const data = Object.entries({\n    client_id: options.clientId, // eslint-disable-line camelcase\n    grant_type: 'refresh_token', // eslint-disable-line camelcase\n    scope: refreshToken.scopes.join(' '),\n    refresh_token: refreshToken.refreshToken, // eslint-disable-line camelcase\n  }).map(function ([name, value]) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return name + '=' + encodeURIComponent(value!);\n  }).join('&');\n\n  let url = refreshToken.tokenUrl;\n  if (options.extraParams && Object.keys(options.extraParams).length >= 1) {\n    url += toQueryString(options.extraParams);\n  }\n\n  const params: TokenRequestParams = {\n    url,\n    data,\n    dpopKeyPair: options?.dpopKeyPair\n  };\n\n  return makeTokenRequest(sdk, params);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { get } from '../../http';\nimport { find } from '../../util';\nimport { OktaAuthOAuthInterface, WellKnownResponse } from '../types';\nimport AuthSdkError from '../../errors/AuthSdkError';\n\nexport function getWellKnown(sdk: OktaAuthOAuthInterface, issuer?: string): Promise<WellKnownResponse> {\n  var authServerUri = (issuer || sdk.options.issuer);\n  return get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nexport function getKey(sdk: OktaAuthOAuthInterface, issuer: string, kid: string): Promise<string> {\n  var httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies);\n\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/* eslint-disable max-len */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { CustomUrls, OAuthResponse, OAuthResponseType, OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { getOAuthUrls, getDefaultTokenParams } from './util';\nimport { clone } from '../util';\nimport { postToTokenEndpoint, TokenEndpointParams } from './endpoints/token';\nimport { handleOAuthResponse } from './handleOAuthResponse';\nimport { createDPoPKeyPair, findKeyPair } from './dpop';\n\n// codeVerifier is required. May pass either an authorizationCode or interactionCode\nexport async function exchangeCodeForTokens(sdk: OktaAuthOAuthInterface, tokenParams: TokenParams, urls?: CustomUrls): Promise<TokenResponse> {\n  urls = urls || getOAuthUrls(sdk, tokenParams);\n  // build params using defaults + options\n  tokenParams = Object.assign({}, getDefaultTokenParams(sdk), clone(tokenParams));\n\n  const {\n    authorizationCode,\n    interactionCode,\n    codeVerifier,\n    clientId,\n    redirectUri,\n    scopes,\n    ignoreSignature,\n    state,\n    acrValues,\n    dpop,\n    dpopPairId,\n    extraParams\n  } = tokenParams;\n\n  // postToTokenEndpoint() params\n  const getTokenOptions: TokenEndpointParams = {\n    clientId,\n    redirectUri,\n    authorizationCode,\n    interactionCode,\n    codeVerifier,\n    dpop,\n  };\n\n  // `handleOAuthResponse` hanadles responses from both `/authorize` and `/token` endpoints\n  // Here we modify the response from `/token` so that it more closely matches a response from `/authorize`\n  // `responseType` is used to validate that the expected tokens were returned\n  const responseType: OAuthResponseType[] = ['token']; // an accessToken will always be returned\n  if (scopes!.indexOf('openid') !== -1) {\n    responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n  }\n  // handleOAuthResponse() params\n  const handleResponseOptions: TokenParams = {\n    clientId,\n    redirectUri,\n    scopes,\n    responseType,\n    ignoreSignature,\n    acrValues,\n    extraParams\n  };\n\n  try {\n    if (dpop) {\n      // token refresh, KP should already exist\n      if (dpopPairId) {\n        const keyPair = await findKeyPair(dpopPairId);\n        getTokenOptions.dpopKeyPair = keyPair;\n        handleResponseOptions.dpop = dpop;\n        handleResponseOptions.dpopPairId = dpopPairId;\n      }\n      else {\n        const { keyPair, keyPairId } = await createDPoPKeyPair();\n        getTokenOptions.dpopKeyPair = keyPair;\n        handleResponseOptions.dpop = dpop;\n        handleResponseOptions.dpopPairId = keyPairId;\n      }\n    }\n\n    const oauthResponse: OAuthResponse = await postToTokenEndpoint(sdk, getTokenOptions, urls);\n\n    const tokenResponse: TokenResponse = await handleOAuthResponse(sdk, handleResponseOptions, oauthResponse, urls!);\n    tokenResponse.code = authorizationCode;\n    tokenResponse.state = state!;\n    return tokenResponse;\n  }\n  finally {\n    sdk.transactionManager.clear();\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { OktaAuthOAuthInterface, EnrollAuthenticatorOptions } from './types';\nimport { clone } from '../util';\nimport { prepareEnrollAuthenticatorParams, createEnrollAuthenticatorMeta } from './util';\nimport { buildAuthorizeParams } from './endpoints/authorize';\n\nexport function enrollAuthenticator(\n  sdk: OktaAuthOAuthInterface, \n  options: EnrollAuthenticatorOptions\n): void {\n  options = clone(options) || {};\n\n  const params = prepareEnrollAuthenticatorParams(sdk, options);\n  const meta = createEnrollAuthenticatorMeta(sdk, params);\n  const requestUrl = meta.urls.authorizeUrl + buildAuthorizeParams(params);\n  sdk.transactionManager.save(meta);\n  if (sdk.options.setLocation) {\n    sdk.options.setLocation(requestUrl);\n  } else {\n    window.location.assign(requestUrl);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { PromiseQueue } from '../../util';\nimport { decodeToken } from '../decodeToken';\nimport { exchangeCodeForTokens } from '../exchangeCodeForTokens';\nimport { getUserInfo } from '../getUserInfo';\nimport { getWithoutPrompt } from '../getWithoutPrompt';\nimport { getWithPopup } from '../getWithPopup';\nimport { getWithRedirect } from '../getWithRedirect';\nimport { parseFromUrl } from '../parseFromUrl';\nimport { renewToken } from '../renewToken';\nimport { renewTokens } from '../renewTokens';\nimport { renewTokensWithRefresh } from '../renewTokensWithRefresh';\nimport { revokeToken } from '../revokeToken';\nimport { oidcIntrospect } from '../introspect';\nimport {\n  AccessToken,\n  CustomUserClaims,\n  GetWithRedirectFunction,\n  IDToken,\n  OktaAuthOAuthInterface,\n  ParseFromUrlInterface,\n  TokenAPI,\n  UserClaims,\n  Endpoints,\n} from '../types';\nimport { isLoginRedirect, prepareTokenParams } from '../util';\nimport { verifyToken } from '../verifyToken';\nimport { enrollAuthenticator } from '../enrollAuthenticator';\n\n// Factory\nexport function createTokenAPI(sdk: OktaAuthOAuthInterface, queue: PromiseQueue): TokenAPI {\n  const useQueue = (method) => {\n    return PromiseQueue.prototype.push.bind(queue, method, null);\n  };\n\n  const getWithRedirectFn = useQueue(getWithRedirect.bind(null, sdk)) as GetWithRedirectFunction;\n\n  // eslint-disable-next-line max-len\n  const parseFromUrlFn = useQueue(parseFromUrl.bind(null, sdk)) as ParseFromUrlInterface;\n  const parseFromUrlApi: ParseFromUrlInterface = Object.assign(parseFromUrlFn, {\n    // This is exposed so we can mock getting window.history in our tests\n    _getHistory: function() {\n      return window.history;\n    },\n\n    // This is exposed so we can mock getting window.location in our tests\n    _getLocation: function() {\n      return window.location;\n    },\n\n    // This is exposed so we can mock getting window.document in our tests\n    _getDocument: function() {\n      return window.document;\n    }\n  });\n\n  const token: TokenAPI ={\n    prepareTokenParams: prepareTokenParams.bind(null, sdk),\n    exchangeCodeForTokens: exchangeCodeForTokens.bind(null, sdk),\n    getWithoutPrompt: getWithoutPrompt.bind(null, sdk),\n    getWithPopup: getWithPopup.bind(null, sdk),\n    getWithRedirect: getWithRedirectFn,\n    parseFromUrl: parseFromUrlApi,\n    decode: decodeToken,\n    revoke: revokeToken.bind(null, sdk),\n    renew: renewToken.bind(null, sdk),\n    renewTokensWithRefresh: renewTokensWithRefresh.bind(null, sdk),\n    renewTokens: renewTokens.bind(null, sdk),\n    getUserInfo: <C extends CustomUserClaims = CustomUserClaims>(\n      accessTokenObject: AccessToken,\n      idTokenObject: IDToken\n    ): Promise<UserClaims<C>> => {\n      return getUserInfo(sdk, accessTokenObject, idTokenObject);\n    },\n    verify: verifyToken.bind(null, sdk),\n    isLoginRedirect: isLoginRedirect.bind(null, sdk),\n    introspect: oidcIntrospect.bind(null, sdk),\n  };\n\n  // Wrap certain async token API methods using PromiseQueue to avoid issues with concurrency\n  // 'getWithRedirect' and 'parseFromUrl' are already wrapped\n  const toWrap = [\n    'getWithoutPrompt',\n    'getWithPopup',\n    'revoke',\n    'renew',\n    'renewTokensWithRefresh',\n    'renewTokens'\n  ];\n  toWrap.forEach(key => {\n    token[key] = useQueue(token[key]);\n  });\n\n  return token;\n}\n\nexport function createEndpoints(sdk: OktaAuthOAuthInterface): Endpoints {\n  return {\n    authorize: {\n      enrollAuthenticator: enrollAuthenticator.bind(null, sdk),\n    }\n  };\n}\n","import { StorageManagerConstructor } from '../../storage/types';\nimport { OktaAuthConstructor, OktaAuthOptionsConstructor } from '../../base/types';\n\nimport { createOktaAuthBase } from '../../base';\nimport { mixinStorage } from '../../storage/mixin';\nimport { mixinSession } from '../../session/mixin';\nimport { mixinHttp } from '../../http/mixin';\nimport { mixinOAuth } from '../mixin';\nimport {\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  OAuthStorageManagerInterface,\n  PKCETransactionMeta,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../types';\n\nexport function createOktaAuthOAuth\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface\n>\n(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n):  OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n{\n  const Base = createOktaAuthBase(OptionsConstructor);\n  const WithStorage = mixinStorage<S, O>(Base, StorageManagerConstructor);\n  const WithHttp = mixinHttp<S, O>(WithStorage);\n  const WithSession = mixinSession<S, O>(WithHttp);\n  const WithOAuth = mixinOAuth<M, S, O, TM>(WithSession, TransactionManagerConstructor);\n  return WithOAuth;\n}\n","\n/* global document */\n/* eslint-disable complexity, max-statements */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport {\n  getOAuthUrls,\n  loadFrame,\n  addPostMessageListener\n} from './util';\n\nimport AuthSdkError from '../errors/AuthSdkError';\n\nimport {\n  OktaAuthOAuthInterface,\n  TokenParams,\n  PopupParams,\n  OAuthResponse,\n} from './types';\n\nimport { prepareTokenParams } from './util/prepareTokenParams';\nimport { buildAuthorizeParams } from './endpoints/authorize';\nimport { handleOAuthResponse } from './handleOAuthResponse';\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nexport function getToken(sdk: OktaAuthOAuthInterface, options: TokenParams & PopupParams) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n\n  options = options || {};\n\n  // window object cannot be serialized, save for later use\n  // TODO: move popup related params into a separate options object\n  const popupWindow = options.popupWindow;\n  options.popupWindow = undefined;\n\n  return prepareTokenParams(sdk, options)\n    .then(function (tokenParams: TokenParams) {\n\n      // Start overriding any options that don't make sense\n      var sessionTokenOverrides = {\n        prompt: 'none',\n        responseMode: 'okta_post_message',\n        display: null\n      };\n\n      var idpOverrides = {\n        display: 'popup'\n      };\n\n      if (options.sessionToken) {\n        Object.assign(tokenParams, sessionTokenOverrides);\n      } else if (options.idp) {\n        Object.assign(tokenParams, idpOverrides);\n      }\n\n      // Use the query params to build the authorize url\n      var requestUrl,\n        endpoint,\n        urls;\n\n      // Get authorizeUrl and issuer\n      urls = getOAuthUrls(sdk, tokenParams);\n      endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n      requestUrl = endpoint + buildAuthorizeParams(tokenParams);\n\n      // Determine the flow type\n      var flowType;\n      if (tokenParams.sessionToken || tokenParams.display === null) {\n        flowType = 'IFRAME';\n      } else if (tokenParams.display === 'popup') {\n        flowType = 'POPUP';\n      } else {\n        flowType = 'IMPLICIT';\n      }\n\n      // Execute the flow type\n      switch (flowType) {\n        case 'IFRAME':\n          var iframePromise = addPostMessageListener(sdk, options.timeout, tokenParams.state);\n          var iframeEl = loadFrame(requestUrl);\n          return iframePromise\n            .then(function (res) {\n              return handleOAuthResponse(sdk, tokenParams, res as OAuthResponse, urls);\n            })\n            .finally(function () {\n              if (document.body.contains(iframeEl)) {\n                iframeEl.parentElement?.removeChild(iframeEl);\n              }\n            });\n\n        case 'POPUP':\n          var oauthPromise; // resolves with OAuth response\n\n          // Add listener on postMessage before window creation, so\n          // postMessage isn't triggered before we're listening\n          if (tokenParams.responseMode === 'okta_post_message') {\n            if (!sdk.features.isPopupPostMessageSupported()) {\n              throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n            }\n            oauthPromise = addPostMessageListener(sdk, options.timeout, tokenParams.state);\n          }\n\n          // Redirect for authorization\n          // popupWindown can be null when popup is blocked\n          if (popupWindow) { \n            popupWindow.location.assign(requestUrl);\n          }\n\n          // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n          var popupPromise = new Promise(function (resolve, reject) {\n            var closePoller = setInterval(function () {\n              if (!popupWindow || popupWindow.closed) {\n                clearInterval(closePoller);\n                reject(new AuthSdkError('Unable to parse OAuth flow response'));\n              }\n            }, 100);\n\n            // Proxy the OAuth promise results\n            oauthPromise\n              .then(function (res) {\n                clearInterval(closePoller);\n                resolve(res);\n              })\n              .catch(function (err) {\n                clearInterval(closePoller);\n                reject(err);\n              });\n          });\n\n          return popupPromise\n            .then(function (res) {\n              return handleOAuthResponse(sdk, tokenParams, res as OAuthResponse, urls);\n            })\n            .finally(function () {\n              if (popupWindow && !popupWindow.closed) {\n                popupWindow.close();\n              }\n            });\n\n        default:\n          throw new AuthSdkError('The full page redirect flow is not supported');\n      }\n    });\n}","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError, OAuthError, WWWAuthError, AuthApiError } from '../errors';\nimport { httpRequest } from '../http';\nimport { AccessToken, IDToken, UserClaims, isAccessToken, isIDToken, CustomUserClaims } from './types';\n\nexport async function getUserInfo<T extends CustomUserClaims = CustomUserClaims>(\n  sdk, accessTokenObject: AccessToken,\n  idTokenObject: IDToken\n): Promise<UserClaims<T>> {\n  // If token objects were not passed, attempt to read from the TokenManager\n  if (!accessTokenObject) {\n    accessTokenObject = (await sdk.tokenManager.getTokens()).accessToken as AccessToken;\n  }\n  if (!idTokenObject) {\n    idTokenObject = (await sdk.tokenManager.getTokens()).idToken as IDToken;\n  }\n\n  if (!accessTokenObject || !isAccessToken(accessTokenObject)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n\n  if (!idTokenObject || !isIDToken(idTokenObject)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an ID token object'));\n  }\n\n  const options: any = {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  };\n\n  if (sdk.options.dpop) {\n    const headers = await sdk.getDPoPAuthorizationHeaders({...options, accessToken: accessTokenObject });\n    options.headers = headers;\n    delete options.accessToken;      // unset to prevent overriding Auth header with Bearer Token\n  }\n\n  return httpRequest(sdk, options)\n    .then(userInfo => {\n      // Only return the userinfo response if subjects match to mitigate token substitution attacks\n      if (userInfo.sub === idTokenObject.claims.sub) {\n        return userInfo;\n      }\n      return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n    })\n    .catch(function (err) {\n      // throw OAuthError to avoid breaking change (when dpop is not being used)\n      if (err instanceof WWWAuthError && !sdk.options.dpop) {\n        const { error, errorDescription } = err;\n        throw new OAuthError(error, errorDescription);\n      }\n\n      // throw OAuthError to avoid breaking change (when dpop is not being used)\n      if (!sdk.options.dpop) {\n        let e = err;\n        if (err instanceof AuthApiError && err?.meta?.wwwAuthHeader) {\n          e = WWWAuthError.parseHeader(err.meta.wwwAuthHeader as string);\n        }\n\n        if (e instanceof WWWAuthError) {\n          const { error, errorDescription } = e;\n          throw new OAuthError(error, errorDescription);\n        }\n      }\n\n      throw err;\n    });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { clone } from '../util';\nimport { getToken } from './getToken';\nimport { loadPopup } from './util';\n\nexport function getWithPopup(sdk: OktaAuthOAuthInterface, options: TokenParams): Promise<TokenResponse> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n\n  // some browsers (safari, firefox) block popup if it's initialed from an async process\n  // here we create the popup window immediately after user interaction\n  // then redirect to the /authorize endpoint when the requestUrl is available\n  const popupWindow = loadPopup('/', options);\n  options = clone(options) || {};\n  Object.assign(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message',\n    popupWindow\n  });\n  return getToken(sdk, options);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams } from './types';\nimport { clone } from '../util';\nimport { prepareTokenParams, createOAuthMeta } from './util';\nimport { buildAuthorizeParams } from './endpoints/authorize';\n\nexport async function getWithRedirect(sdk: OktaAuthOAuthInterface, options?: TokenParams): Promise<void> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n\n  options = clone(options) || {};\n\n  const tokenParams = await prepareTokenParams(sdk, options);\n  const meta = createOAuthMeta(sdk, tokenParams);\n  const requestUrl = meta.urls.authorizeUrl + buildAuthorizeParams(tokenParams);\n  sdk.transactionManager.save(meta);\n  if (sdk.options.setLocation) {\n    sdk.options.setLocation(requestUrl);\n  } else {\n    window.location.assign(requestUrl);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { clone } from '../util';\nimport { getToken } from './getToken';\n\nexport function getWithoutPrompt(sdk: OktaAuthOAuthInterface, options: TokenParams): Promise<TokenResponse> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n  \n  options = clone(options) || {};\n  Object.assign(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\n/* eslint-disable complexity, max-statements */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { clone } from '../util';\nimport {\n  getOAuthUrls,\n} from './util/oauth';\nimport { AuthSdkError, OAuthError } from '../errors';\nimport {\n  OktaAuthOAuthInterface,\n  TokenVerifyParams,\n  IDToken,\n  OAuthResponse,\n  TokenParams,\n  TokenResponse,\n  CustomUrls,\n  Tokens,\n} from './types';\nimport { verifyToken } from './verifyToken';\nimport { getDefaultTokenParams } from './util';\n\nfunction validateResponse(res: OAuthResponse, oauthParams: TokenParams) {\n  if (res['error'] && res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n\n  // https://datatracker.ietf.org/doc/html/rfc9449#token-response\n  // \"A token_type of DPoP MUST be included in the access token response to signal to the client\"\n  if (oauthParams.dpop && res.token_type !== 'DPoP') {\n    throw new AuthSdkError('Unable to parse OAuth flow response: DPoP was configured but \"token_type\" was not DPoP');\n  }\n}\n\nexport async function handleOAuthResponse(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams,\n  res: OAuthResponse,\n  urls?: CustomUrls\n): Promise<TokenResponse> {\n  const pkce = sdk.options.pkce !== false;\n\n\n  // The result contains an authorization_code and PKCE is enabled \n  // `exchangeCodeForTokens` will call /token then call `handleOauthResponse` recursively with the result\n  if (pkce && (res.code || res.interaction_code)) {\n    return sdk.token.exchangeCodeForTokens(Object.assign({}, tokenParams, {\n      authorizationCode: res.code,\n      interactionCode: res.interaction_code\n    }), urls);\n  }\n\n  tokenParams = tokenParams || getDefaultTokenParams(sdk);\n  urls = urls || getOAuthUrls(sdk, tokenParams);\n\n  let responseType = tokenParams.responseType || [];\n  if (!Array.isArray(responseType) && responseType !== 'none') {\n    responseType = [responseType];\n  }\n\n  let scopes;\n  if (res.scope) {\n    scopes = res.scope.split(' ');\n  } else {\n    scopes = clone(tokenParams.scopes);\n  }\n  const clientId = tokenParams.clientId || sdk.options.clientId;\n\n  // Handling the result from implicit flow or PKCE token exchange\n  validateResponse(res, tokenParams);\n\n  const tokenDict = {} as Tokens;\n  const expiresIn = res.expires_in;\n  const tokenType = res.token_type;\n  const accessToken = res.access_token;\n  const idToken = res.id_token;\n  const refreshToken = res.refresh_token;\n  const now = Math.floor(Date.now()/1000);\n\n  if (accessToken) {\n    const accessJwt = sdk.token.decode(accessToken);\n    tokenDict.accessToken = {\n      accessToken: accessToken,\n      claims: accessJwt.payload,\n      expiresAt: Number(expiresIn) + now,\n      tokenType: tokenType!,\n      scopes: scopes,\n      authorizeUrl: urls.authorizeUrl!,\n      userinfoUrl: urls.userinfoUrl!\n    };\n\n    if (tokenParams.dpopPairId) {\n      tokenDict.accessToken.dpopPairId = tokenParams.dpopPairId;\n    }\n\n    if (tokenParams.extraParams) {\n      tokenDict.accessToken.extraParams = tokenParams.extraParams;\n    }\n  }\n\n  if (refreshToken) {\n    tokenDict.refreshToken = {\n      refreshToken: refreshToken,\n      // should not be used, this is the accessToken expire time\n      // TODO: remove \"expiresAt\" in the next major version OKTA-407224\n      expiresAt: Number(expiresIn) + now, \n      scopes: scopes,\n      tokenUrl: urls.tokenUrl!,\n      authorizeUrl: urls.authorizeUrl!,\n      issuer: urls.issuer!,\n    };\n\n    if (tokenParams.dpopPairId) {\n      tokenDict.refreshToken.dpopPairId = tokenParams.dpopPairId;\n    }\n\n    if (tokenParams.extraParams) {\n      tokenDict.refreshToken.extraParams = tokenParams.extraParams;\n    }\n  }\n\n  if (idToken) {\n    const idJwt = sdk.token.decode(idToken);\n    const idTokenObj: IDToken = {\n      idToken: idToken,\n      claims: idJwt.payload,\n      expiresAt: idJwt.payload.exp! - idJwt.payload.iat! + now, // adjusting expiresAt to be in local time\n      scopes: scopes,\n      authorizeUrl: urls.authorizeUrl!,\n      issuer: urls.issuer!,\n      clientId: clientId!\n    };\n\n    if (tokenParams.extraParams) {\n      idTokenObj.extraParams = tokenParams.extraParams;\n    }\n\n    const validationParams: TokenVerifyParams = {\n      clientId: clientId!,\n      issuer: urls.issuer!,\n      nonce: tokenParams.nonce,\n      accessToken: accessToken,\n      acrValues: tokenParams.acrValues\n    };\n\n    if (tokenParams.ignoreSignature !== undefined) {\n      validationParams.ignoreSignature = tokenParams.ignoreSignature;\n    }\n\n    await verifyToken(sdk, idTokenObj, validationParams);\n    tokenDict.idToken = idTokenObj;\n  }\n\n  // Validate received tokens against requested response types \n  if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n    // eslint-disable-next-line max-len\n    throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n  }\n  if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n    // eslint-disable-next-line max-len\n    throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n  }\n\n  return {\n    tokens: tokenDict,\n    state: res.state!,\n    code: res.code,\n    responseType\n  };\n  \n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { AuthSdkError } from '../errors';\nimport { getWellKnown } from './endpoints/well-known';\nimport { post } from '../http';\nimport { toQueryString } from '../util';\nimport { btoa } from '../crypto';\nimport { Token, TokenKind } from './types';\n\nconst hintMap = {\n  accessToken: 'access_token',\n  idToken: 'id_token',\n  refreshToken: 'refresh_token'\n};\n\n/* eslint complexity: [2, 9] */\nexport async function oidcIntrospect (sdk, kind: TokenKind, token?: Token) {\n  let issuer: string;\n  let clientId: string = sdk.options.clientId;\n  let clientSecret: string | undefined = sdk.options.clientSecret;\n\n  if (!token) {\n    token = sdk.tokenManager.getTokens()[kind];\n  }\n\n  if (!token) {\n    throw new AuthSdkError(`unable to find ${kind} in storage or fn params`);\n  }\n\n  if (kind !== TokenKind.ACCESS) {\n    issuer = (token as any)?.issuer;\n  }\n  else {\n    issuer = (token as any)?.claims?.iss;\n  }\n  issuer = issuer || sdk.options.issuer;\n\n  if (!clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to introspect a token');\n  }\n  if (!issuer) {\n    throw new AuthSdkError('Unable to find issuer');\n  }\n\n  const { introspection_endpoint: introspectUrl }  = await getWellKnown(sdk, issuer);\n  const authHeader = clientSecret ? btoa(`${clientId}:${clientSecret}`) : btoa(clientId);\n  const args = toQueryString({\n    // eslint-disable-next-line camelcase\n    token_type_hint: hintMap[kind],\n    token: token[kind]    // extract raw token string from token object\n  }).slice(1);\n  return post(sdk, introspectUrl, args, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic ' + authHeader\n    }\n  });\n}\n","import { httpRequest, RequestOptions } from '../../http';\nimport { OktaAuthConstructor } from '../../base/types';\nimport { \n  PromiseQueue,\n  isFunction\n} from '../../util';\nimport { CryptoAPI } from '../../crypto/types';\nimport * as crypto from '../../crypto';\nimport {\n  AccessToken,\n  CustomUserClaims,\n  IDToken,\n  IsAuthenticatedOptions,\n  OAuthResponseType,\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  PkceAPI,\n  PKCETransactionMeta,\n  RefreshToken,\n  SigninWithRedirectOptions,\n  SignoutOptions,\n  SignoutRedirectUrlOptions,\n  TokenAPI,\n  TransactionManagerInterface,\n  TransactionManagerConstructor,\n  UserClaims,\n  Endpoints,\n  DPoPRequest,\n  DPoPHeaders\n} from '../types';\nimport PKCE from '../util/pkce';\nimport { createEndpoints, createTokenAPI } from '../factory/api';\nimport { TokenManager } from '../TokenManager';\nimport { getOAuthUrls, isLoginRedirect, hasResponseType } from '../util';\nimport { \n  generateDPoPProof,\n  clearDPoPKeyPair,\n  clearAllDPoPKeyPairs,\n  clearDPoPKeyPairAfterRevoke,\n  findKeyPair,\n  isDPoPNonceError\n} from '../dpop';\nimport { AuthSdkError, WWWAuthError } from '../../errors';\n\nimport { OktaAuthSessionInterface } from '../../session/types';\nimport { provideOriginalUri } from './node';\nexport function mixinOAuth\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n>\n(\n  Base: TBase,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>,\n): TBase & OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n{\n  const WithOriginalUri = provideOriginalUri(Base);\n  return class OktaAuthOAuth extends WithOriginalUri\n  implements OktaAuthOAuthInterface<M, S, O, TM>\n  {\n    static crypto: CryptoAPI = crypto;\n    token: TokenAPI;\n    tokenManager: TokenManager;\n    transactionManager: TM;\n    pkce: PkceAPI;\n    endpoints: Endpoints;\n\n    _pending: { handleLogin: boolean };\n    _tokenQueue: PromiseQueue;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      this.transactionManager = new TransactionManagerConstructor(Object.assign({\n        storageManager: this.storageManager,\n      }, this.options.transactionManager));\n  \n      this.pkce = {\n        DEFAULT_CODE_CHALLENGE_METHOD: PKCE.DEFAULT_CODE_CHALLENGE_METHOD,\n        generateVerifier: PKCE.generateVerifier,\n        computeChallenge: PKCE.computeChallenge\n      };\n  \n      this._pending = { handleLogin: false };\n\n      this._tokenQueue = new PromiseQueue();\n\n      this.token = createTokenAPI(this, this._tokenQueue);\n\n      // TokenManager\n      this.tokenManager = new TokenManager(this, this.options.tokenManager);\n\n      this.endpoints = createEndpoints(this);\n    }\n\n    // inherited from subclass\n    clearStorage(): void {\n      super.clearStorage();\n      \n      // Clear all local tokens\n      this.tokenManager.clear();\n    }\n\n    // Returns true if both accessToken and idToken are not expired\n    // If `autoRenew` option is set, will attempt to renew expired tokens before returning.\n    // eslint-disable-next-line complexity\n    async isAuthenticated(options: IsAuthenticatedOptions = {}): Promise<boolean> {\n      // TODO: remove dependency on tokenManager options in next major version - OKTA-473815\n      const { autoRenew, autoRemove } = this.tokenManager.getOptions();\n\n      const shouldRenew = options.onExpiredToken ? options.onExpiredToken === 'renew' : autoRenew;\n      const shouldRemove = options.onExpiredToken ? options.onExpiredToken === 'remove' : autoRemove;\n\n      let { accessToken } = this.tokenManager.getTokensSync();\n      if (accessToken && this.tokenManager.hasExpired(accessToken)) {\n        accessToken = undefined;\n        if (shouldRenew) {\n          try {\n            accessToken = await this.tokenManager.renew('accessToken') as AccessToken;\n          } catch {\n            // Renew errors will emit an \"error\" event \n          }\n        } else if (shouldRemove) {\n          this.tokenManager.remove('accessToken');\n        }\n      }\n\n      let { idToken } = this.tokenManager.getTokensSync();\n      if (idToken && this.tokenManager.hasExpired(idToken)) {\n        idToken = undefined;\n        if (shouldRenew) {\n          try {\n            idToken = await this.tokenManager.renew('idToken') as IDToken;\n          } catch {\n            // Renew errors will emit an \"error\" event \n          }\n        } else if (shouldRemove) {\n          this.tokenManager.remove('idToken');\n        }\n      }\n\n      return !!(accessToken && idToken);\n    }\n\n\n    async signInWithRedirect(opts: SigninWithRedirectOptions = {}) {\n      const { originalUri, ...additionalParams } = opts;\n      if(this._pending.handleLogin) { \n        // Don't trigger second round\n        return;\n      }\n\n      this._pending.handleLogin = true;\n      try {\n        // Trigger default signIn redirect flow\n        if (originalUri) {\n          this.setOriginalUri(originalUri);\n        }\n        const params = Object.assign({\n          // TODO: remove this line when default scopes are changed OKTA-343294\n          scopes: this.options.scopes || ['openid', 'email', 'profile']\n        }, additionalParams);\n        await this.token.getWithRedirect(params);\n      } finally {\n        this._pending.handleLogin = false;\n      }\n    }\n\n    async getUser<T extends CustomUserClaims = CustomUserClaims>(): Promise<UserClaims<T>> {\n      const { idToken, accessToken } = this.tokenManager.getTokensSync();\n      return this.token.getUserInfo(accessToken, idToken);\n    }\n  \n    getIdToken(): string | undefined {\n      const { idToken } = this.tokenManager.getTokensSync();\n      return idToken ? idToken.idToken : undefined;\n    }\n  \n    getAccessToken(): string | undefined {\n      const { accessToken } = this.tokenManager.getTokensSync();\n      return accessToken ? accessToken.accessToken : undefined;\n    }\n  \n    getRefreshToken(): string | undefined {\n      const { refreshToken } = this.tokenManager.getTokensSync();\n      return refreshToken ? refreshToken.refreshToken : undefined;\n    }\n\n    async getOrRenewAccessToken(): Promise<string | null> {\n      const { accessToken } = this.tokenManager.getTokensSync();\n      if (accessToken && !this.tokenManager.hasExpired(accessToken)) {\n        return accessToken.accessToken;\n      }\n      try {\n        const key = this.tokenManager.getStorageKeyByType('accessToken');\n        const token = await this.tokenManager.renew(key ?? 'accessToken');\n        return (token as AccessToken)?.accessToken ?? null;\n      }\n      catch (err) {\n        this.emitter.emit('error', err);\n        return null;\n      }\n    }\n  \n    /**\n     * Store parsed tokens from redirect url\n     */\n    async storeTokensFromRedirect(): Promise<void> {\n      const { tokens, responseType } = await this.token.parseFromUrl();\n      if (responseType !== 'none') {\n        this.tokenManager.setTokens(tokens);\n      }\n    }\n  \n    isLoginRedirect(): boolean {\n      return isLoginRedirect(this);\n    }\n\n    isPKCE(): boolean {\n      return !!this.options.pkce;\n    }\n\n    hasResponseType(responseType: OAuthResponseType): boolean {\n      return hasResponseType(responseType, this.options);\n    }\n  \n    isAuthorizationCodeFlow(): boolean {\n      return this.hasResponseType('code');\n    }\n\n    // Escape hatch method to make arbitrary OKTA API call\n    async invokeApiMethod(options: RequestOptions): Promise<unknown> {\n      if (!options.accessToken) {\n        const accessToken = (await this.tokenManager.getTokens()).accessToken as AccessToken;\n        options.accessToken = accessToken?.accessToken;\n      }\n      return httpRequest(this, options);\n    }\n    \n    // Revokes the access token for the application session\n    async revokeAccessToken(accessToken?: AccessToken): Promise<unknown> {\n      if (!accessToken) {\n        const tokens = await this.tokenManager.getTokens();\n        accessToken = tokens.accessToken;\n        const accessTokenKey = this.tokenManager.getStorageKeyByType('accessToken');\n        this.tokenManager.remove(accessTokenKey);\n\n        if (this.options.dpop) {\n          await clearDPoPKeyPairAfterRevoke('access', tokens);\n        }\n      }\n      // Access token may have been removed. In this case, we will silently succeed.\n      if (!accessToken) {\n        return Promise.resolve(null);\n      }\n      return this.token.revoke(accessToken);\n    }\n\n    // Revokes the refresh token for the application session\n    async revokeRefreshToken(refreshToken?: RefreshToken): Promise<unknown> {\n      if (!refreshToken) {\n        const tokens = await this.tokenManager.getTokens();\n        refreshToken = tokens.refreshToken;\n        const refreshTokenKey = this.tokenManager.getStorageKeyByType('refreshToken');\n        this.tokenManager.remove(refreshTokenKey);\n\n        if (this.options.dpop) {\n          await clearDPoPKeyPairAfterRevoke('refresh', tokens);\n        }\n      }\n      // Refresh token may have been removed. In this case, we will silently succeed.\n      if (!refreshToken) {\n        return Promise.resolve(null);\n      }\n      return this.token.revoke(refreshToken);\n    }\n\n    getSignOutRedirectUrl(options: SignoutRedirectUrlOptions = {}) {\n      let {\n        idToken,\n        postLogoutRedirectUri,\n        state,\n      } = options;\n      if (!idToken) {\n        idToken = this.tokenManager.getTokensSync().idToken as IDToken;\n      }\n      if (!idToken) {\n        return '';\n      }\n      if (postLogoutRedirectUri === undefined) {\n        postLogoutRedirectUri = this.options.postLogoutRedirectUri;\n      }\n\n      const logoutUrl = getOAuthUrls(this).logoutUrl;\n      const idTokenHint = idToken.idToken; // a string\n      let logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint);\n      if (postLogoutRedirectUri) {\n        logoutUri += '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n      } \n      // State allows option parameters to be passed to logout redirect uri\n      if (state) {\n        logoutUri += '&state=' + encodeURIComponent(state);\n      }\n\n      return logoutUri;\n    }\n\n    // Revokes refreshToken or accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\n    // eslint-disable-next-line complexity, max-statements\n    async signOut(options?: SignoutOptions): Promise<boolean> {\n      options = Object.assign({}, options);\n    \n      // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n      const defaultUri = window.location.origin;\n      const currentUri = window.location.href;\n      // Fix for issue/1410 - allow for no postLogoutRedirectUri to be passed, resulting in /logout default behavior\n      //    \"If no Okta session exists, this endpoint has no effect and the browser is redirected immediately to the\n      //    Okta sign-in page or the post_logout_redirect_uri (if specified).\"\n      // - https://developer.okta.com/docs/reference/api/oidc/#logout\n      const postLogoutRedirectUri = options.postLogoutRedirectUri === null ? null :\n        (options.postLogoutRedirectUri\n        || this.options.postLogoutRedirectUri\n        || defaultUri);\n      const state = options?.state;\n      \n    \n      let accessToken = options.accessToken;\n      let refreshToken = options.refreshToken;\n      const revokeAccessToken = options.revokeAccessToken !== false;\n      const revokeRefreshToken = options.revokeRefreshToken !== false;\n    \n      if (revokeRefreshToken && typeof refreshToken === 'undefined') {\n        refreshToken = this.tokenManager.getTokensSync().refreshToken as RefreshToken;\n      }\n\n      if (revokeAccessToken && typeof accessToken === 'undefined') {\n        accessToken = this.tokenManager.getTokensSync().accessToken as AccessToken;\n      }\n    \n      if (!options.idToken) {\n        options.idToken = this.tokenManager.getTokensSync().idToken as IDToken;\n      }\n\n      if (revokeRefreshToken && refreshToken) {\n        await this.revokeRefreshToken(refreshToken);\n      }\n\n      if (revokeAccessToken && accessToken) {\n        await this.revokeAccessToken(accessToken);\n      }\n\n      const dpopPairId = accessToken?.dpopPairId ?? refreshToken?.dpopPairId;\n      if (this.options.dpop && dpopPairId) {\n        await clearDPoPKeyPair(dpopPairId);\n      }\n\n      const logoutUri = this.getSignOutRedirectUrl({ ...options, postLogoutRedirectUri });\n      // No logoutUri? This can happen if the storage was cleared.\n      // Fallback to XHR signOut, then simulate a redirect to the post logout uri\n      if (!logoutUri) {\n        // local tokens are cleared once session is closed\n        const sessionClosed = await this.closeSession();   // can throw if the user cannot be signed out\n        const redirectUri = new URL(postLogoutRedirectUri || defaultUri); // during fallback, redirectUri cannot be null\n        if (state) {\n          redirectUri.searchParams.append('state', state);\n        }\n        if (postLogoutRedirectUri === currentUri) {\n          // window.location.reload(); // force a hard reload if URI is not changing\n          window.location.href = redirectUri.href;\n        } else {\n          window.location.assign(redirectUri.href);\n        }\n        return sessionClosed;\n      } else {\n        if (options.clearTokensBeforeRedirect) {\n          // Clear all local tokens\n          this.tokenManager.clear();\n        } else {\n          this.tokenManager.addPendingRemoveFlags();\n        }\n        // Flow ends with logout redirect\n        window.location.assign(logoutUri);\n        return true;\n      }\n    }\n\n    async getDPoPAuthorizationHeaders (params: DPoPRequest): Promise<DPoPHeaders> {\n      if (!this.options.dpop) {\n        throw new AuthSdkError('DPoP is not configured for this client instance');\n      }\n\n      let { accessToken } = params;\n      if (!accessToken) {\n        accessToken = (this.tokenManager.getTokensSync()).accessToken;\n      }\n\n      if (!accessToken) {\n        throw new AuthSdkError('AccessToken is required to generate a DPoP Proof');\n      }\n\n      const keyPair = await findKeyPair(accessToken?.dpopPairId);\n      const proof = await generateDPoPProof({...params, keyPair, accessToken: accessToken.accessToken});\n      return {\n        Authorization: `DPoP ${accessToken.accessToken}`,\n        Dpop: proof\n      };\n    }\n\n    async clearDPoPStorage (clearAll=false): Promise<void> {\n      if (clearAll) {\n        return clearAllDPoPKeyPairs();\n      }\n\n      const tokens = await this.tokenManager.getTokens();\n      const keyPair = tokens.accessToken?.dpopPairId || tokens.refreshToken?.dpopPairId;\n\n      if (keyPair) {\n        await clearDPoPKeyPair(keyPair);\n      }\n    }\n\n    parseUseDPoPNonceError (headers: HeadersInit): string | null {\n      const wwwAuth = WWWAuthError.getWWWAuthenticateHeader(headers);\n      const wwwErr = WWWAuthError.parseHeader(wwwAuth ?? '');\n      if (isDPoPNonceError(wwwErr)) {\n        let nonce: string | null = null;\n        if (isFunction((headers as Headers)?.get)) {\n          nonce = (headers as Headers).get('DPoP-Nonce');\n        }\n        nonce = nonce ?? headers['dpop-nonce'] ?? headers['DPoP-Nonce'];\n        return nonce;\n      }\n\n      return null;\n    }\n  };\n\n}\n","import { REFERRER_PATH_STORAGE_KEY } from '../../constants';\nimport browserStorage from '../../browser/browserStorage';\nimport { OktaAuthStorageInterface } from '../../storage';\nimport { OktaAuthConstructor } from '../../base';\nimport {\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthOptions,\n  OriginalUriApi,\n  PKCETransactionMeta,\n} from '../types';\n\nexport function provideOriginalUri\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TBase extends OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthStorageInterface<S, O>> \n>\n(BaseClass: TBase) {\n  return class WithOriginalUri extends BaseClass implements OriginalUriApi {\n    setOriginalUri(originalUri: string, state?: string): void {\n      // always store in session storage\n      const sessionStorage = browserStorage.getSessionStorage();\n      sessionStorage.setItem(REFERRER_PATH_STORAGE_KEY, originalUri);\n  \n      // to support multi-tab flows, set a state in constructor or pass as param\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        sharedStorage.setItem(state, originalUri);\n      }\n    }\n  \n    getOriginalUri(state?: string): string | undefined {\n      // Prefer shared storage (if state is available)\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        const originalUri = sharedStorage.getItem(state);\n        if (originalUri) {\n          return originalUri;\n        }\n      }\n  \n      // Try to load from session storage\n      const storage = browserStorage.getSessionStorage();\n      return storage ? storage.getItem(REFERRER_PATH_STORAGE_KEY) || undefined : undefined;\n    }\n  \n    removeOriginalUri(state?: string): void {\n      // Remove from sessionStorage\n      const storage = browserStorage.getSessionStorage();\n      storage.removeItem(REFERRER_PATH_STORAGE_KEY);\n  \n      // Also remove from shared storage\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        sharedStorage.removeItem && sharedStorage.removeItem(state);\n      }\n    }\n  };\n}\n","export const enableSharedStorage = true;\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url';\nimport { isBrowser } from '../../features';\nimport { createHttpOptionsConstructor } from '../../http/options';\nimport {\n  OAuthResponseMode,\n  OAuthResponseType,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  SetLocationFunction,\n  TokenManagerOptions,\n  TransactionManagerOptions\n} from '../types';\nimport { enableSharedStorage } from './node';\nimport AuthSdkError from '../../errors/AuthSdkError';\n\nfunction assertValidConfig(args) {\n  args = args || {};\n\n  var scopes = args.scopes;\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' +\n      'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var issuer = args.issuer!;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.okta') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\n\nexport function createOAuthOptionsConstructor() {\n  const HttpOptionsConstructor = createHttpOptionsConstructor();\n  return class OAuthOptionsConstructor\n    extends HttpOptionsConstructor\n    implements Required<OktaAuthOAuthOptions>\n  {\n    // CustomUrls\n    issuer: string;\n    authorizeUrl: string;\n    userinfoUrl: string;\n    tokenUrl: string;\n    revokeUrl: string;\n    logoutUrl: string;\n    \n    // TokenParams\n    pkce: boolean;\n    clientId: string;\n    redirectUri: string;\n    responseType: OAuthResponseType | OAuthResponseType[];\n    responseMode: OAuthResponseMode;\n    state: string;\n    scopes: string[];\n    ignoreSignature: boolean;\n    codeChallenge: string;\n    codeChallengeMethod: string;\n    acrValues: string;\n    maxAge: string | number;\n    dpop: boolean;\n\n    // Additional options\n    tokenManager: TokenManagerOptions;\n    postLogoutRedirectUri: string;\n    restoreOriginalUri: (oktaAuth: OktaAuthOAuthInterface, originalUri?: string) => Promise<void>;\n    transactionManager: TransactionManagerOptions;\n\n    // For server-side web applications ONLY!\n    clientSecret: string;\n    setLocation: SetLocationFunction;\n\n    // Workaround for bad client time/clock\n    ignoreLifetime: boolean;\n    maxClockSkew: number;\n\n\n    // eslint-disable-next-line max-statements\n    constructor(options: any) {\n      super(options);\n      \n      assertValidConfig(options);\n      \n      this.issuer = removeTrailingSlash(options.issuer);\n      this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n\n      this.pkce = options.pkce === false ? false : true; // PKCE defaults to true\n      this.clientId = options.clientId;\n      this.redirectUri = options.redirectUri;\n      if (isBrowser()) {\n        this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin); // allow relative URIs\n      }\n      this.responseType = options.responseType;\n      this.responseMode = options.responseMode;\n      this.state = options.state;\n      this.scopes = options.scopes;\n      // Give the developer the ability to disable token signature validation.\n      this.ignoreSignature = !!options.ignoreSignature;\n      this.codeChallenge = options.codeChallenge;\n      this.codeChallengeMethod = options.codeChallengeMethod;\n      this.acrValues = options.acrValues;\n      this.maxAge = options.maxAge;\n      this.dpop = options.dpop === true; // dpop defaults to false\n\n      this.tokenManager = options.tokenManager;\n      this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      this.restoreOriginalUri = options.restoreOriginalUri;\n      this.transactionManager = { enableSharedStorage, ...options.transactionManager };\n      \n      this.clientSecret = options.clientSecret;\n      this.setLocation = options.setLocation;\n      \n      // As some end user's devices can have their date \n      // and time incorrectly set, allow for the disabling\n      // of the jwt liftetime validation\n      this.ignoreLifetime = !!options.ignoreLifetime;\n\n      // Digital clocks will drift over time, so the server\n      // can misalign with the time reported by the browser.\n      // The maxClockSkew allows relaxing the time-based\n      // validation of tokens (in seconds, not milliseconds).\n      // It currently defaults to 300, because 5 min is the\n      // default maximum tolerance allowed by Kerberos.\n      // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        this.maxClockSkew = options.maxClockSkew;\n      }\n\n    }\n  };\n}\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { isInteractionRequiredError, urlParamsToObject } from './util';\nimport {\n  ParseFromUrlOptions,\n  TokenResponse,\n  CustomUrls,\n  TransactionMeta,\n  OAuthResponse\n} from './types';\nimport { isString } from '../util';\nimport { handleOAuthResponse } from './handleOAuthResponse';\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nexport function getResponseMode(sdk): 'query' | 'fragment' {\n  // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n  var responseMode = sdk.options.responseMode || defaultResponseMode;\n  return responseMode;\n}\n\nexport function parseOAuthResponseFromUrl(sdk, options: string | ParseFromUrlOptions): OAuthResponse {\n  options = options || {};\n  if (isString(options)) {\n    options = { url: options } as ParseFromUrlOptions;\n  } else {\n    options = options as ParseFromUrlOptions;\n  }\n\n  var url = options.url;\n  var responseMode = options.responseMode || getResponseMode(sdk);\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    throw new AuthSdkError('Unable to parse a token from the url');\n  }\n\n  return urlParamsToObject(paramStr);\n}\n\nexport function cleanOAuthResponseFromUrl(sdk, options: ParseFromUrlOptions) {\n  // Clean hash or search from the url\n  const responseMode = options.responseMode || getResponseMode(sdk);\n  responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n}\n\nexport async function parseFromUrl(sdk, options?: string | ParseFromUrlOptions): Promise<TokenResponse> {\n  options = options || {};\n  if (isString(options)) {\n    options = { url: options } as ParseFromUrlOptions;\n  } else {\n    options = options as ParseFromUrlOptions;\n  }\n\n  const res: OAuthResponse = parseOAuthResponseFromUrl(sdk, options);\n  const state = res.state;\n  const oauthParams: TransactionMeta = sdk.transactionManager.load({\n    state\n  });\n  if (!oauthParams) {\n    if (sdk.options.pkce) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.', undefined);\n    }\n    throw new AuthSdkError('Unable to retrieve OAuth redirect params from storage');\n  }\n  const urls: CustomUrls = oauthParams.urls as CustomUrls;\n  delete oauthParams.urls;\n\n  if (!options.url) {\n    // Clean hash or search from the url\n    cleanOAuthResponseFromUrl(sdk, options);\n  }\n\n  return handleOAuthResponse(sdk, oauthParams, res, urls)\n    .catch(err => {\n      if (!isInteractionRequiredError(err)) {\n        sdk.transactionManager.clear({\n          state\n        });\n      }\n      throw err;\n    })\n    .then(res => {\n      sdk.transactionManager.clear({\n        state\n      });\n      return res;\n    });\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, Token, Tokens, isAccessToken, AccessToken, IDToken, isIDToken } from './types';\nimport { getWithoutPrompt } from './getWithoutPrompt';\nimport { renewTokensWithRefresh } from './renewTokensWithRefresh';\n\nfunction throwInvalidTokenError() {\n  throw new AuthSdkError(\n    'Renew must be passed a token with an array of scopes and an accessToken or idToken'\n  );\n}\n\n// Multiple tokens may have come back. Return only the token which was requested.\nfunction getSingleToken(originalToken: Token, tokens: Tokens) {\n  if (isIDToken(originalToken)) {\n    return tokens.idToken;\n  }\n  if (isAccessToken(originalToken)) {\n    return tokens.accessToken;\n  }\n  throwInvalidTokenError();\n}\n\n// If we have a refresh token, renew using that, otherwise getWithoutPrompt\nexport async function renewToken(sdk: OktaAuthOAuthInterface, token: Token): Promise<Token | undefined> {\n  if (!isIDToken(token) && !isAccessToken(token)) {\n    throwInvalidTokenError();\n  }\n\n  let tokens = sdk.tokenManager.getTokensSync();\n  if (tokens.refreshToken) {\n    tokens = await renewTokensWithRefresh(sdk, {\n      scopes: token.scopes,\n    }, tokens.refreshToken);\n    return getSingleToken(token, tokens);\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (isAccessToken(token)) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  const { scopes, authorizeUrl, userinfoUrl, issuer, dpopPairId, extraParams } = token as (AccessToken & IDToken);\n  return getWithoutPrompt(sdk, {\n    responseType,\n    scopes,\n    authorizeUrl,\n    userinfoUrl,\n    issuer,\n    dpopPairId,\n    extraParams\n  })\n    .then(function (res) {\n      return getSingleToken(token, res.tokens);\n    });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { RenewTokensParams, Tokens } from './types';\nimport { getWithoutPrompt } from './getWithoutPrompt';\nimport { renewTokensWithRefresh } from './renewTokensWithRefresh';\nimport { getDefaultTokenParams } from './util';\n\n// If we have a refresh token, renew using that, otherwise getWithoutPrompt\n// eslint-disable-next-line complexity\nexport async function renewTokens(sdk, options?: RenewTokensParams): Promise<Tokens> {\n  const tokens = options?.tokens ?? sdk.tokenManager.getTokensSync();\n  if (tokens.refreshToken) {\n    return renewTokensWithRefresh(sdk, options || {}, tokens.refreshToken);\n  }\n\n  if (!tokens.accessToken && !tokens.idToken) {\n    throw new AuthSdkError('renewTokens() was called but there is no existing token');\n  }\n\n  const accessToken = tokens.accessToken || {};\n  const idToken = tokens.idToken || {};\n  const scopes = accessToken.scopes || idToken.scopes;\n  if (!scopes) {\n    throw new AuthSdkError('renewTokens: invalid tokens: could not read scopes');\n  }\n  const authorizeUrl = accessToken.authorizeUrl || idToken.authorizeUrl;\n  if (!authorizeUrl) {\n    throw new AuthSdkError('renewTokens: invalid tokens: could not read authorizeUrl');\n  }\n  const userinfoUrl = accessToken.userinfoUrl || sdk.options.userinfoUrl;\n  const issuer = idToken.issuer || sdk.options.issuer;\n  const dpopPairId = accessToken?.dpopPairId;\n  const extraParams = accessToken?.extraParams || idToken?.extraParams;\n\n  // Get tokens using the SSO cookie\n  options = Object.assign({\n    scopes,\n    authorizeUrl,\n    userinfoUrl,\n    issuer,\n    dpopPairId,\n    extraParams\n  }, options);\n\n  if (sdk.options.pkce) {\n    options.responseType = 'code';\n  } else {\n    const { responseType } = getDefaultTokenParams(sdk);\n    options.responseType = responseType;\n  }\n\n  return getWithoutPrompt(sdk, options)\n    .then(res => res.tokens);\n    \n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { getOAuthUrls } from './util/oauth';\nimport { isSameRefreshToken } from './util/refreshToken';\nimport { OktaAuthOAuthInterface, TokenParams, RefreshToken, Tokens } from './types';\nimport { handleOAuthResponse } from './handleOAuthResponse';\nimport { TokenEndpointParams, postRefreshToken } from './endpoints/token';\nimport { findKeyPair } from './dpop';\nimport { isRefreshTokenInvalidError } from './util/errors';\n\n/* eslint complexity:[0,8] */\nexport async function renewTokensWithRefresh(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams,\n  refreshTokenObject: RefreshToken\n): Promise<Tokens> {\n  const { clientId, dpop } = sdk.options;\n  if (!clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to renew tokens');\n  }\n\n  try {\n    const renewTokenParams: TokenParams = Object.assign({}, tokenParams, { clientId });\n\n    if (refreshTokenObject.extraParams) {\n      renewTokenParams.extraParams = refreshTokenObject.extraParams;\n    }\n\n    const endpointParams: TokenEndpointParams = {...renewTokenParams};\n\n    if (dpop) {\n      const keyPair = await findKeyPair(refreshTokenObject?.dpopPairId);    // will throw if KP cannot be found\n      endpointParams.dpopKeyPair = keyPair;\n      renewTokenParams.dpop = dpop;\n      renewTokenParams.dpopPairId = refreshTokenObject.dpopPairId;\n    }\n\n    const tokenResponse = await postRefreshToken(sdk, endpointParams, refreshTokenObject);\n    const urls = getOAuthUrls(sdk, tokenParams);\n    const { tokens } = await handleOAuthResponse(sdk, renewTokenParams, tokenResponse, urls);\n\n    // Support rotating refresh tokens\n    const { refreshToken } = tokens;\n    if (refreshToken && !isSameRefreshToken(refreshToken, refreshTokenObject)) {\n      sdk.tokenManager.updateRefreshToken(refreshToken);\n    }\n\n    return tokens;\n  }\n  catch (err) {\n    if (isRefreshTokenInvalidError(err)) {\n      // if the refresh token is invalid, remove it from storage\n      sdk.tokenManager.removeRefreshToken();\n    }\n    throw err;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint complexity:[0,8] */\nimport { post } from '../http';\nimport { toQueryString } from '../util';\nimport {\n  getOAuthUrls,\n} from './util/oauth';\nimport { btoa } from '../crypto';\nimport AuthSdkError from '../errors/AuthSdkError';\nimport {\n  OktaAuthOAuthInterface,\n  RevocableToken,\n  AccessToken,\n  RefreshToken\n} from './types';\n\n// refresh tokens have precedence to be revoked if no token is specified\nexport async function revokeToken(sdk: OktaAuthOAuthInterface, token: RevocableToken): Promise<any> {\n  let accessToken = '';\n  let refreshToken = '';\n  if (token) { \n      accessToken = (token as AccessToken).accessToken;\n      refreshToken = (token as RefreshToken).refreshToken;  \n  }\n  if(!accessToken && !refreshToken) { \n    throw new AuthSdkError('A valid access or refresh token object is required');\n  }\n  var clientId = sdk.options.clientId;\n  var clientSecret = sdk.options.clientSecret;\n  if (!clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n  }\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var revokeUrl = getOAuthUrls(sdk).revokeUrl!;\n  var args = toQueryString({\n    // eslint-disable-next-line camelcase\n    token_type_hint: refreshToken ? 'refresh_token' : 'access_token', \n    token: refreshToken || accessToken,\n  }).slice(1);\n  var creds = clientSecret ? btoa(`${clientId}:${clientSecret}`) : btoa(clientId);\n  return post(sdk, revokeUrl, args, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic ' + creds\n    }\n  });\n}\n","import {\n  CookieOptions,\n  StorageManagerOptions,\n  StorageOptions,\n  StorageUtil\n} from '../storage/types';\nimport { BaseStorageManager, logServerSideMemoryStorageWarning } from '../storage/BaseStorageManager';\nimport { TransactionStorage, OAuthTransactionMeta, OAuthStorageManagerInterface, PKCETransactionMeta } from './types';\nimport { SavedObject } from '../storage';\nimport { ORIGINAL_URI_STORAGE_NAME, SHARED_TRANSACTION_STORAGE_NAME, TRANSACTION_STORAGE_NAME } from '../constants';\n\n\nexport function createOAuthStorageManager<M extends OAuthTransactionMeta = PKCETransactionMeta>()\n{\n  return class OAuthStorageManager\n    extends BaseStorageManager\n    implements OAuthStorageManagerInterface<M>\n  {\n    constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n      super(storageManagerOptions, cookieOptions, storageUtil);\n    }\n\n    getTransactionStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('transaction', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || TRANSACTION_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n\n    getSharedTansactionStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('shared-transaction', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || SHARED_TRANSACTION_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n\n    getOriginalUriStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('original-uri', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || ORIGINAL_URI_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n  };\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { UserClaims } from './UserClaims';\n\nexport interface AbstractToken {\n  expiresAt: number;\n  authorizeUrl: string;\n  scopes: string[];\n  pendingRemove?: boolean;\n  extraParams?: Record<string, string>;\n}\n\nexport interface AccessToken extends AbstractToken {\n  accessToken: string;\n  claims: UserClaims;\n  tokenType: string;\n  userinfoUrl: string;\n  dpopPairId?: string;\n}\n\nexport interface RefreshToken extends AbstractToken {\n  refreshToken: string;\n  tokenUrl: string;\n  issuer: string;\n  dpopPairId?: string;\n}\n\nexport interface IDToken extends AbstractToken {\n  idToken: string;\n  claims: UserClaims;\n  issuer: string;\n  clientId: string;\n}\n\nexport type Token = AccessToken | IDToken | RefreshToken;\nexport type RevocableToken = AccessToken | RefreshToken;\n\nexport type TokenType = 'accessToken' | 'idToken' | 'refreshToken';\nexport enum TokenKind {\n  ACCESS = 'accessToken',\n  ID = 'idToken',\n  REFRESH = 'refreshToken',\n}\n\nexport function isToken(obj: any): obj is Token {\n  if (obj &&\n      (obj.accessToken || obj.idToken || obj.refreshToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nexport function isAccessToken(obj: any): obj is AccessToken {\n  return obj && obj.accessToken;\n}\n\nexport function isIDToken(obj: any): obj is IDToken {\n  return obj && obj.idToken;\n}\n\nexport function isRefreshToken(obj: any): obj is RefreshToken {\n  return obj && obj.refreshToken;\n}\n\nexport interface Tokens {\n  accessToken?: AccessToken;\n  idToken?: IDToken;\n  refreshToken?: RefreshToken;\n}\n","/* eslint-disable max-len */\nimport { StorageProvider } from '../../storage/types';\nimport { TokenManagerOptions } from './options';\nimport { AccessToken, IDToken, RefreshToken, Token, Tokens, TokenType } from './Token';\n\nexport interface TokenManagerError {\n  errorSummary: string;\n  errorCode: string;\n  message: string;\n  name: string;\n  tokenKey: string;\n}\n\nexport declare type AccessTokenCallback = (key: string, token: AccessToken) => void;\nexport declare type IDTokenCallback = (key: string, token: IDToken) => void;\nexport declare type RefreshTokenCallback = (key: string, token: RefreshToken) => void;\n\nexport const EVENT_EXPIRED = 'expired';\nexport const EVENT_RENEWED = 'renewed';\nexport const EVENT_ADDED = 'added';\nexport const EVENT_REMOVED = 'removed';\nexport const EVENT_ERROR = 'error';\nexport const EVENT_SET_STORAGE = 'set_storage';\n\nexport declare type TokenManagerErrorEventHandler = (error: TokenManagerError) => void;\nexport declare type TokenManagerEventHandler = (key: string, token: Token) => void;\nexport declare type TokenManagerRenewEventHandler = (key: string, token: Token, oldtoken: Token) => void;\nexport declare type TokenManagerSetStorageEventHandler = (storage: Tokens) => void;\n\nexport declare type TokenManagerAnyEventHandler = TokenManagerErrorEventHandler | TokenManagerRenewEventHandler | TokenManagerSetStorageEventHandler | TokenManagerEventHandler;\nexport declare type TokenManagerAnyEvent = typeof EVENT_RENEWED | typeof EVENT_ERROR | typeof EVENT_SET_STORAGE | typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED;\n\n// only add methods needed internally\nexport interface TokenManagerInterface {\n  on(event: typeof EVENT_RENEWED, handler: TokenManagerRenewEventHandler, context?: object): void;\n  on(event: typeof EVENT_ERROR, handler: TokenManagerErrorEventHandler, context?: object): void;\n  on(event: typeof EVENT_SET_STORAGE, handler: TokenManagerSetStorageEventHandler, context?: object): void;\n  on(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, handler: TokenManagerEventHandler, context?: object): void;\n\n  off(event: typeof EVENT_RENEWED, handler?: TokenManagerRenewEventHandler): void;\n  off(event: typeof EVENT_ERROR, handler?: TokenManagerErrorEventHandler): void;\n  off(event: typeof EVENT_SET_STORAGE, handler?: TokenManagerSetStorageEventHandler): void;\n  off(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, handler?: TokenManagerEventHandler): void;\n\n  clear(): void;\n  setExpireEventTimeout(key: string, token: Token): void;\n  clearExpireEventTimeout(key: string): void;\n  clearExpireEventTimeoutAll(): void;\n  emitAdded(key: string, token: Token): void;\n  emitError(error: Error): void;\n  emitRemoved(key: string, token: Token): void;\n  emitRenewed(key: string, token: Token, oldToken?: Token): void;\n  renew(key: string): Promise<Token | undefined>;\n  remove(key: string): void;\n  hasExpired(token: Token): boolean;\n  getExpireTime(token: Token): number;\n\n  get(key): Promise<Token | undefined>;\n  getSync(key): Token | undefined;\n  getTokens(): Promise<Tokens>;\n  getTokensSync(): Tokens;\n  setTokens({ accessToken, idToken, refreshToken }: Tokens, accessTokenCb?: AccessTokenCallback, idTokenCb?: IDTokenCallback, refreshTokenCb?: RefreshTokenCallback): void;\n  getStorageKeyByType(type: TokenType): string;\n  add(key: any, token: Token): void;\n  updateRefreshToken(token: RefreshToken);\n  removeRefreshToken(): void;\n  clearPendingRemoveTokens(): void;\n\n  getOptions(): TokenManagerOptions;\n  getStorage(): StorageProvider;\n\n  start();\n  stop();\n  isStarted(): boolean;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { IdxTransactionMeta } from '../../idx/types/meta';\nimport { OAuthTransactionMeta, PKCETransactionMeta } from './meta';\nimport { OAuthStorageManagerInterface } from './storage';\n\nexport interface TransactionManagerOptions\n{\n  storageManager?: OAuthStorageManagerInterface;\n  enableSharedStorage?: boolean; // default true\n  saveNonceCookie?: boolean; // default true\n  saveStateCookie?: boolean; // default true\n  saveParamsCookie?: boolean; // default true\n  saveLastResponse?: boolean; // default true\n}\n\n\nexport type CustomAuthTransactionMeta = Record<string, string | undefined>;\n\nexport type TransactionMeta =\n  IdxTransactionMeta |\n  PKCETransactionMeta |\n  OAuthTransactionMeta |\n  CustomAuthTransactionMeta;\n\n\nfunction isObjectWithProperties(obj) {\n  if (!obj || typeof obj !== 'object' || Object.values(obj).length === 0) {\n    return false;\n  }\n  return true;\n}\n\nexport function isOAuthTransactionMeta(obj: any): obj is OAuthTransactionMeta {\n  if (!isObjectWithProperties(obj)) {\n    return false;\n  }\n  return !!obj.redirectUri || !!obj.responseType;\n}\n\nexport function isPKCETransactionMeta(obj: any): obj is PKCETransactionMeta {\n  if (!isOAuthTransactionMeta(obj)) {\n    return false;\n  }\n  return !!(obj as any).codeVerifier;\n}\n\nexport function isIdxTransactionMeta(obj: any): obj is IdxTransactionMeta {\n  if (!isPKCETransactionMeta(obj)) {\n    return false;\n  }\n  return !!(obj as any).interactionHandle;\n}\n\nexport function isCustomAuthTransactionMeta(obj: any): obj is CustomAuthTransactionMeta {\n  if (!isObjectWithProperties(obj)) {\n    return false;\n  }\n  const isAllStringValues = Object.values(obj).find((value) => (typeof value !== 'string')) === undefined;\n  return isAllStringValues;\n}\n\nexport function isTransactionMeta(obj: any): obj is TransactionMeta {\n  if (isOAuthTransactionMeta(obj) || isCustomAuthTransactionMeta(obj)) {\n    return true;\n  }\n  return false;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document */\n/* eslint-disable complexity, max-statements */\nimport { AuthSdkError } from '../../errors';\nimport { OktaAuthOAuthInterface } from '../types';\n\nexport function addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nexport function removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nexport function loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nexport function loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n  return window.open(src, title, appearance);\n}\n\nexport function addPostMessageListener(sdk: OktaAuthOAuthInterface, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      }\n\n      // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n      resolve(e.data);\n    };\n\n    addListener(window, 'message', responseHandler);\n\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return msgReceivedOrTimeout\n    .finally(function () {\n      clearTimeout(timeoutId);\n      removeListener(window, 'message', responseHandler);\n    });\n}\n","\n/* global window */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { generateState } from './oauth';\nimport { OktaAuthOAuthInterface, TokenParams } from '../types';\nimport { isBrowser } from '../../features';\nimport { removeNils } from '../../util';\n\nexport function getDefaultEnrollAuthenticatorParams(sdk: OktaAuthOAuthInterface): TokenParams {\n  const {\n    clientId,\n    redirectUri,\n    responseMode,\n    state,\n  } = sdk.options;\n  const defaultRedirectUri = isBrowser() ? window.location.href : undefined;\n  return removeNils({\n    clientId,\n    redirectUri: redirectUri || defaultRedirectUri,\n    responseMode,\n    state: state || generateState(),\n    responseType: 'none',\n    prompt: 'enroll_authenticator',\n  });\n}","\n/* global window */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { generateNonce, generateState } from './oauth';\nimport { OktaAuthOAuthInterface, TokenParams } from '../types';\nimport { isBrowser } from '../../features';\nimport { removeNils } from '../../util';\n\nexport function getDefaultTokenParams(sdk: OktaAuthOAuthInterface): TokenParams {\n  const {\n    pkce,\n    clientId,\n    redirectUri,\n    responseType,\n    responseMode,\n    scopes,\n    acrValues,\n    maxAge,\n    state,\n    ignoreSignature,\n    dpop\n  } = sdk.options;\n  const defaultRedirectUri = isBrowser() ? window.location.href : undefined;\n  return removeNils({\n    pkce,\n    clientId,\n    redirectUri: redirectUri || defaultRedirectUri,\n    responseType: responseType || ['token', 'id_token'],\n    responseMode,\n    state: state || generateState(),\n    nonce: generateNonce(),\n    scopes: scopes || ['openid', 'email'],\n    acrValues,\n    maxAge,\n    ignoreSignature,\n    dpop,\n  });\n}","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { OAuthTransactionMeta, OktaAuthOAuthInterface, EnrollAuthenticatorOptions } from '../types';\nimport { getOAuthUrls } from './oauth';\n\nexport function createEnrollAuthenticatorMeta(\n  sdk: OktaAuthOAuthInterface, \n  params: EnrollAuthenticatorOptions\n): OAuthTransactionMeta {\n  const issuer = sdk.options.issuer!;\n  const urls = getOAuthUrls(sdk, params);\n  const oauthMeta: OAuthTransactionMeta = {\n    issuer,\n    urls,\n    clientId: params.clientId!,\n    redirectUri: params.redirectUri!,\n    responseType: params.responseType!,\n    responseMode: params.responseMode!,\n    state: params.state!,\n    acrValues: params.acrValues,\n    enrollAmrValues: params.enrollAmrValues,\n  };\n\n  return oauthMeta;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { OktaAuthOAuthInterface } from '../types';\nimport { OAuthError, AuthApiError, isOAuthError } from '../../errors';\n\nexport function isInteractionRequiredError(error: Error) {\n  if (error.name !== 'OAuthError') {\n    return false;\n  }\n  const oauthError = error as OAuthError;\n  return (oauthError.errorCode === 'interaction_required');\n}\n\nexport function isAuthorizationCodeError(sdk: OktaAuthOAuthInterface, error: Error) {\n  if (error.name !== 'AuthApiError') {\n    return false;\n  }\n  const authApiError = error as AuthApiError;\n  // xhr property doesn't seem to match XMLHttpRequest type\n  const errorResponse = authApiError.xhr as unknown as Record<string, unknown>;\n  const responseJSON = errorResponse?.responseJSON as Record<string, unknown>;\n  return sdk.options.pkce && (responseJSON?.error as string === 'invalid_grant');\n}\n\nexport function isRefreshTokenInvalidError(error: unknown): boolean {\n  // error: {\"error\":\"invalid_grant\",\"error_description\":\"The refresh token is invalid or expired.\"}\n  return isOAuthError(error) &&\n    error.errorCode === 'invalid_grant' &&\n    error.errorSummary === 'The refresh token is invalid or expired.';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\n/* eslint-disable complexity, max-statements */\nimport { OktaAuthOAuthOptions, OktaAuthOAuthInterface, OAuthResponseType } from '../types';\n\nexport function hasTokensInHash(hash: string): boolean {\n  return /((id|access)_token=)/i.test(hash);\n}\n\n// authorization_code\nexport function hasAuthorizationCode(hashOrSearch: string): boolean {\n  return /(code=)/i.test(hashOrSearch);\n}\n\n// interaction_code\nexport function hasInteractionCode(hashOrSearch: string): boolean {\n  return /(interaction_code=)/i.test(hashOrSearch);\n}\n\nexport function hasErrorInUrl(hashOrSearch: string): boolean {\n  return /(error=)/i.test(hashOrSearch) || /(error_description)/i.test(hashOrSearch);\n}\n\nexport function isRedirectUri(uri: string, sdk: OktaAuthOAuthInterface): boolean {\n  var authParams = sdk.options;\n  if (!uri || !authParams.redirectUri) {\n    return false;\n  }\n  return uri.indexOf(authParams.redirectUri) === 0;\n}\n\nexport function isCodeFlow(options: OktaAuthOAuthOptions) {\n  return options.pkce || options.responseType === 'code' || options.responseMode === 'query';\n}\n\nexport function hasResponseType(responseType: OAuthResponseType, options: OktaAuthOAuthOptions): boolean {\n  let hasResponseType = false;\n  if (Array.isArray(options.responseType) && options.responseType.length) {\n    hasResponseType = options.responseType.indexOf(responseType) >= 0;\n  } else {\n    hasResponseType = options.responseType === responseType;\n  }\n  return hasResponseType;\n}\n\nexport function getHashOrSearch(options: OktaAuthOAuthOptions) {\n  var codeFlow = isCodeFlow(options);\n  var useQuery = codeFlow && options.responseMode !== 'fragment';\n  return useQuery ? window.location.search : window.location.hash;\n}\n\n/**\n * Check if tokens or a code have been passed back into the url, which happens in\n * the OIDC (including social auth IDP) redirect flow.\n */\nexport function isLoginRedirect (sdk: OktaAuthOAuthInterface) {\n  // First check, is this a redirect URI?\n  if (!isRedirectUri(window.location.href, sdk)){\n    return false;\n  }\n\n  // The location contains either a code, token, or an error + error_description\n  var codeFlow = isCodeFlow(sdk.options);\n  var hashOrSearch = getHashOrSearch(sdk.options);\n\n  if (hasErrorInUrl(hashOrSearch)) {\n    return true;\n  }\n\n  if (codeFlow) {\n    var hasCode =  hasAuthorizationCode(hashOrSearch) || hasInteractionCode(hashOrSearch);\n    return hasCode;\n  }\n\n  // implicit flow, will always be hash fragment\n  return hasTokensInHash(window.location.hash);\n}\n\n/**\n * Check if error=interaction_required has been passed back in the url, which happens in\n * the social auth IDP redirect flow.\n */\nexport function isInteractionRequired (sdk: OktaAuthOAuthInterface, hashOrSearch?: string) {\n  if (!hashOrSearch) { // web only\n    // First check, is this a redirect URI?\n    if (!isLoginRedirect(sdk)){\n      return false;\n    }\n  \n    hashOrSearch = getHashOrSearch(sdk.options);\n  }\n  return /(error=interaction_required)/i.test(hashOrSearch);\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\nimport { genRandomString, removeTrailingSlash } from '../../util';\nimport AuthSdkError from '../../errors/AuthSdkError';\nimport { OktaAuthOAuthInterface, CustomUrls } from '../types';\n\nexport function generateState() {\n  return genRandomString(64);\n}\n\nexport function generateNonce() {\n  return genRandomString(64);\n}\n\nfunction getIssuer(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  return issuer;\n}\n\nexport function getOAuthBaseUrl(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = getIssuer(sdk, options);\n  const baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n  return baseUrl;\n}\n\nexport function getOAuthDomain(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = getIssuer(sdk, options);\n  const domain = issuer.split('/oauth2')[0];\n  return domain;\n}\n\nexport function getOAuthUrls(sdk: OktaAuthOAuthInterface, options?: CustomUrls): CustomUrls {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = getIssuer(sdk, options);\n  var userinfoUrl = removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  var baseUrl = getOAuthBaseUrl(sdk, options);\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { OAuthTransactionMeta, OktaAuthOAuthInterface, PKCETransactionMeta, TokenParams } from '../types';\nimport { getOAuthUrls } from './oauth';\n\nexport function createOAuthMeta(\n  sdk: OktaAuthOAuthInterface, \n  tokenParams: TokenParams\n): OAuthTransactionMeta | PKCETransactionMeta {\n  const issuer = sdk.options.issuer!;\n  const urls = getOAuthUrls(sdk, tokenParams);\n  const oauthMeta: OAuthTransactionMeta = {\n    issuer,\n    urls,\n    clientId: tokenParams.clientId!,\n    redirectUri: tokenParams.redirectUri!,\n    responseType: tokenParams.responseType!,\n    responseMode: tokenParams.responseMode!,\n    scopes: tokenParams.scopes!,\n    state: tokenParams.state!,\n    nonce: tokenParams.nonce!,\n    ignoreSignature: tokenParams.ignoreSignature!,\n    acrValues: tokenParams.acrValues,\n    extraParams: tokenParams.extraParams\n  };\n\n  if (tokenParams.pkce === false) {\n    // Implicit flow or authorization_code without PKCE\n    return oauthMeta;\n  }\n\n  const pkceMeta: PKCETransactionMeta = {\n    ...oauthMeta,\n    codeVerifier: tokenParams.codeVerifier!,\n    codeChallengeMethod: tokenParams.codeChallengeMethod!,\n    codeChallenge: tokenParams.codeChallenge!,\n  };\n\n  return pkceMeta;\n}\n","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n /* eslint-disable complexity, max-statements */\nimport { stringToBase64Url, webcrypto } from '../../crypto';\nimport { MIN_VERIFIER_LENGTH, MAX_VERIFIER_LENGTH, DEFAULT_CODE_CHALLENGE_METHOD } from '../../constants';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  webcrypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix?: string): string {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction computeChallenge(str: string): PromiseLike<any> {  \n  var buffer = new TextEncoder().encode(str);\n  return webcrypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer) as unknown as number[]);\n    var b64u = stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\nexport default {\n  DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier,\n  computeChallenge\n};\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../../errors';\nimport { OktaAuthOAuthInterface, EnrollAuthenticatorOptions } from '../types';\nimport { getDefaultEnrollAuthenticatorParams } from './defaultEnrollAuthenticatorParams';\n\nfunction prepareParams(\n  params: EnrollAuthenticatorOptions\n): EnrollAuthenticatorOptions {\n  params = {\n    ...params,\n    // forced params:\n    responseType: 'none',\n    prompt: 'enroll_authenticator',\n    maxAge: 0,\n  };\n\n  if (!params.enrollAmrValues) {\n    throw new AuthSdkError('enroll_amr_values must be specified');\n  }\n  if (!params.acrValues) {\n    // `acr_values` is required and should equal 'urn:okta:2fa:any:ifpossible'\n    // But this can be changed in future\n    throw new AuthSdkError('acr_values must be specified');\n  }\n\n  // `scope`, `nonce` must be omitted\n  delete params.scopes;\n  delete params.nonce;\n\n  return params;\n}\n\n// Prepares params for a call to /authorize\nexport function prepareEnrollAuthenticatorParams(\n  sdk: OktaAuthOAuthInterface,\n  options: EnrollAuthenticatorOptions\n): EnrollAuthenticatorOptions {\n  return prepareParams({\n    ...getDefaultEnrollAuthenticatorParams(sdk),\n    ...options\n  });\n}\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { getWellKnown } from '../endpoints/well-known';\nimport { AuthSdkError } from '../../errors';\nimport { OktaAuthOAuthInterface, TokenParams } from '../types';\nimport { getDefaultTokenParams } from './defaultTokenParams';\nimport { DEFAULT_CODE_CHALLENGE_METHOD } from '../../constants';\nimport PKCE from './pkce';\nimport { OktaAuthBaseInterface } from '../../base/types';\n\nexport function assertPKCESupport(sdk: OktaAuthBaseInterface) {\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n    throw new AuthSdkError(errorMessage);\n  }\n}\n\nexport async function validateCodeChallengeMethod(sdk: OktaAuthOAuthInterface, codeChallengeMethod?: string) {\n  // set default code challenge method, if none provided\n  codeChallengeMethod = codeChallengeMethod || sdk.options.codeChallengeMethod || DEFAULT_CODE_CHALLENGE_METHOD;\n\n  // validate against .well-known/openid-configuration\n  const wellKnownResponse = await getWellKnown(sdk);\n  var methods = wellKnownResponse['code_challenge_methods_supported'] || [];\n  if (methods.indexOf(codeChallengeMethod) === -1) {\n    throw new AuthSdkError('Invalid code_challenge_method');\n  }\n  return codeChallengeMethod;\n}\n\nexport async function preparePKCE(\n  sdk: OktaAuthOAuthInterface, \n  tokenParams: TokenParams\n): Promise<TokenParams> {\n  let {\n    codeVerifier,\n    codeChallenge,\n    codeChallengeMethod\n  } = tokenParams;\n\n  // PKCE calculations can be avoided by passing a codeChallenge\n  codeChallenge = codeChallenge || sdk.options.codeChallenge;\n  if (!codeChallenge) {\n    assertPKCESupport(sdk);\n    codeVerifier = codeVerifier || PKCE.generateVerifier();\n    codeChallenge = await PKCE.computeChallenge(codeVerifier);\n  }\n  codeChallengeMethod = await validateCodeChallengeMethod(sdk, codeChallengeMethod);\n\n  // Clone/copy the params. Set PKCE values\n  tokenParams = {\n    ...tokenParams,\n    responseType: 'code', // responseType is forced\n    codeVerifier,\n    codeChallenge,\n    codeChallengeMethod\n  };\n\n  return tokenParams;\n}\n\n// Prepares params for a call to /authorize or /token\nexport async function prepareTokenParams(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams = {}\n): Promise<TokenParams> {\n  // build params using defaults + options\n  const defaults = getDefaultTokenParams(sdk);\n  tokenParams = { ...defaults, ...tokenParams };\n\n  if (tokenParams.dpop && !sdk.features.isDPoPSupported()) {\n    throw new AuthSdkError('DPoP has been configured, but is not supported by browser');\n  }\n\n  if (tokenParams.pkce === false) {\n    // Implicit flow or authorization_code without PKCE\n    return tokenParams;\n  }\n\n  return preparePKCE(sdk, tokenParams);\n}","import { RefreshToken } from '../types';\nimport { isAuthApiError } from '../../errors';\n\nexport function isSameRefreshToken(a: RefreshToken, b: RefreshToken) {\n  return (a.refreshToken === b.refreshToken);\n}\n\nexport function isRefreshTokenError(err: Error) {\n  if (!isAuthApiError(err)) {\n    return false;\n  }\n\n  if (!err.xhr || !err.xhr.responseJSON) {\n    return false;\n  }\n\n  const { responseJSON } = err.xhr;\n  if (responseJSON.error === 'invalid_grant') {\n    return true;\n  }\n\n  return false;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\n\nexport function urlParamsToObject(hashOrSearch: string) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch || '';\n\n  // Some hash based routers will automatically add a / character after the hash\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  }\n\n  // Remove the leading # or ?\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\n\nimport AuthSdkError from '../../errors/AuthSdkError';\nimport { OktaAuthOAuthInterface, TokenVerifyParams, UserClaims } from '../../oidc/types';\n\nexport function validateClaims(sdk: OktaAuthOAuthInterface, claims: UserClaims, validationParams: TokenVerifyParams) {\n  const aud = validationParams.clientId;\n  const iss = validationParams.issuer;\n  const nonce = validationParams.nonce;\n  const acr = validationParams.acrValues;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  const now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if ((Array.isArray(claims.aud) && claims.aud.indexOf(aud) < 0) ||\n    (!Array.isArray(claims.aud) && claims.aud !== aud))\n  {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (acr && claims.acr !== acr) {\n    throw new AuthSdkError('The acr [' + claims.acr + '] ' +\n      'does not match acr_values [' + acr + ']');\n  }\n\n  if (claims.iat! > claims.exp!) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if (!sdk.options.ignoreLifetime) {\n    if ((now - sdk.options.maxClockSkew!) > claims.exp!) {\n      throw new AuthSdkError('The JWT expired and is no longer valid');\n    }\n\n    if (claims.iat! > (now + sdk.options.maxClockSkew!)) {\n      throw new AuthSdkError('The JWT was issued in the future');\n    }\n  }\n}\n","/* eslint-disable complexity */\n\nimport { AuthSdkError } from '../../errors';\nimport { isAccessToken, isIDToken, isRefreshToken, Token, TokenType } from '../../oidc/types';\n\nexport function validateToken(token: Token, type?: TokenType) {\n  if (!isIDToken(token) && !isAccessToken(token) && !isRefreshToken(token)) {\n    throw new AuthSdkError(\n      'Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property'\n    );\n  }\n  \n  if (type === 'accessToken' && !isAccessToken(token)) {\n    throw new AuthSdkError('invalid accessToken');\n  } \n  if (type === 'idToken' && !isIDToken(token)) {\n    throw new AuthSdkError('invalid idToken');\n  }\n\n  if (type === 'refreshToken' && !isRefreshToken(token)) {\n    throw new AuthSdkError('invalid refreshToken');\n  }\n}","/* eslint-disable max-len */\n/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { getWellKnown, getKey } from './endpoints/well-known';\nimport { validateClaims } from './util';\nimport { AuthSdkError } from '../errors';\nimport { IDToken, OktaAuthOAuthInterface, TokenVerifyParams } from '../oidc/types';\nimport { decodeToken } from './decodeToken';\nimport * as sdkCrypto from '../crypto';\n\n// Verify the id token\nexport async function verifyToken(sdk: OktaAuthOAuthInterface, token: IDToken, validationParams: TokenVerifyParams): Promise<IDToken> {\n  if (!token || !token.idToken) {\n    throw new AuthSdkError('Only idTokens may be verified');\n  }\n\n  // Decode the Jwt object (may throw)\n  const jwt = decodeToken(token.idToken);\n\n  // The configured issuer may point to a frontend proxy.\n  // Get the \"real\" issuer from .well-known/openid-configuration\n  const configuredIssuer = validationParams?.issuer || sdk.options.issuer;\n  const { issuer } = await getWellKnown(sdk, configuredIssuer);\n\n  const validationOptions: TokenVerifyParams = Object.assign({\n    // base options, can be overridden by params\n    clientId: sdk.options.clientId,\n    ignoreSignature: sdk.options.ignoreSignature\n  }, validationParams, {\n    // final options, cannot be overridden\n    issuer\n  });\n\n  // Standard claim validation (may throw)\n  validateClaims(sdk, jwt.payload, validationOptions);\n\n  // If the browser doesn't support native crypto or we choose not\n  // to verify the signature, bail early\n  if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n    return token;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const key = await getKey(sdk, token.issuer, jwt.header.kid!);\n  const valid = await sdkCrypto.verifyToken(token.idToken, key);\n  if (!valid) {\n    throw new AuthSdkError('The token signature is not valid');\n  }\n  if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n    const hash = await sdkCrypto.getOidcHash(validationParams.accessToken);\n    if (hash !== token.claims.at_hash) {\n      throw new AuthSdkError('Token hash verification failed');\n    }\n  }\n  return token;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\nimport { omit, getLink, toQueryString } from '../util';\nimport { get, post, httpRequest } from '../http';\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .catch(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return get(sdk, '/api/v1/sessions/me', { withCredentials: true })\n  .then(function(session) {\n    var res = omit(session, '_links');\n\n    res.refresh = function() {\n      return post(sdk, getLink(session, 'refresh').href, {}, { withCredentials: true });\n    };\n\n    res.user = function() {\n      return get(sdk, getLink(session, 'user').href, { withCredentials: true });\n    };\n\n    return res;\n  })\n  .catch(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE',\n    withCredentials: true\n  });\n}\n\nfunction refreshSession(sdk) {\n  return post(sdk, '/api/v1/sessions/me/lifecycle/refresh', {}, { withCredentials: true });\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location.assign(sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' +\n    toQueryString({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    }));\n}\n\nexport {\n  sessionExists,\n  getSession,\n  closeSession,\n  refreshSession,\n  setCookieAndRedirect\n};\n","import { SessionAPI } from './types';\nimport { closeSession, getSession, refreshSession, sessionExists, setCookieAndRedirect } from './api';\nimport { OktaAuthBaseInterface } from '../base/types';\n\nexport function createSessionApi(sdk: OktaAuthBaseInterface): SessionAPI {\n  const session = {\n    close: closeSession.bind(null, sdk),\n    exists: sessionExists.bind(null, sdk),\n    get: getSession.bind(null, sdk),\n    refresh: refreshSession.bind(null, sdk),\n    setCookieAndRedirect: setCookieAndRedirect.bind(null, sdk)\n  };\n  return session;\n}\n","import { OktaAuthHttpInterface, OktaAuthHttpOptions } from '../http/types';\nimport { OktaAuthConstructor } from '../base/types';\nimport { createSessionApi } from './factory';\nimport {\n  OktaAuthSessionInterface, SessionAPI,\n} from './types';\nimport { StorageManagerInterface } from '../storage/types';\n\nexport function mixinSession\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthHttpOptions = OktaAuthHttpOptions,\n  TBase extends OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n{\n  return class OktaAuthSession extends Base implements OktaAuthSessionInterface<S, O>\n  {\n    session: SessionAPI;\n\n    constructor(...args: any[]) {\n      super(...args);\n\n      this.session = createSessionApi(this);\n    }\n\n    // Ends the current Okta SSO session without redirecting to Okta.\n    closeSession(): Promise<boolean> {\n      return this.session.close() // DELETE /api/v1/sessions/me\n      .then(async () => {\n        // Clear all local tokens\n        this.clearStorage();\n        return true;\n      })\n      .catch(function(e) {\n        if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n          // Session does not exist or has already been closed\n          return false;\n        }\n        throw e;\n      });\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n\nimport {\n  TOKEN_STORAGE_NAME,\n  CACHE_STORAGE_NAME,\n} from '../constants';\nimport {\n  StorageUtil,\n  StorageProvider,\n  StorageOptions,\n  CookieOptions,\n  StorageManagerOptions,\n  SimpleStorage,\n  StorageManagerInterface\n} from './types';\nimport { SavedObject } from './SavedObject';\nimport { isBrowser } from '../features';\nimport { warn } from '../util';\n\nexport function logServerSideMemoryStorageWarning(options: StorageOptions) {\n  if (!isBrowser() && !options.storageProvider && !options.storageKey) {\n    // eslint-disable-next-line max-len\n    warn('Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.');\n  }\n}\n\n\nexport class BaseStorageManager implements StorageManagerInterface {\n  storageManagerOptions: StorageManagerOptions;\n  cookieOptions: CookieOptions;\n  storageUtil: StorageUtil;\n\n  constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n    this.storageManagerOptions = storageManagerOptions;\n    this.cookieOptions = cookieOptions;\n    this.storageUtil = storageUtil;\n  }\n\n  // combines defaults in order\n  getOptionsForSection(sectionName: string, overrideOptions?: StorageOptions) {\n    return Object.assign({}, this.storageManagerOptions[sectionName], overrideOptions);\n  }\n \n  // generic method to get any available storage provider\n  // eslint-disable-next-line complexity\n  getStorage(options: StorageOptions): SimpleStorage {\n    options = Object.assign({}, this.cookieOptions, options); // set defaults\n\n    if (options.storageProvider) {\n      return options.storageProvider;\n    }\n\n    let { storageType, storageTypes } = options;\n\n    if(storageType === 'sessionStorage') {\n      options.sessionCookie = true;\n    }\n\n    // If both storageType and storageTypes are specified, then storageType will be used first\n    // If storageType cannot be used but it matches an entry in storageTypes, subsequent entries may be used as fallback\n    // if storageType does not match an entry in storageTypes then storageType is used with no fallback.\n    if (storageType && storageTypes) {\n      const idx = storageTypes.indexOf(storageType);\n      if (idx >= 0) {\n        storageTypes = storageTypes.slice(idx);\n        storageType = undefined;\n      }\n    }\n\n    if (!storageType) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      storageType = this.storageUtil.findStorageType(storageTypes!);\n    }\n    return this.storageUtil.getStorageByType(storageType, options);\n  }\n\n  // access_token, id_token, refresh_token\n  getTokenStorage(options?: StorageOptions): StorageProvider {\n    options = this.getOptionsForSection('token', options);\n    logServerSideMemoryStorageWarning(options);\n    const storage = this.getStorage(options);\n    const storageKey = options.storageKey || TOKEN_STORAGE_NAME;\n    return new SavedObject(storage, storageKey);\n  }\n\n  // caches well-known response, among others\n  getHttpCache(options?: StorageOptions): StorageProvider {\n    options = this.getOptionsForSection('cache', options);\n    const storage = this.getStorage(options);\n    const storageKey = options.storageKey || CACHE_STORAGE_NAME;\n    return new SavedObject(storage, storageKey);\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport AuthSdkError from '../errors/AuthSdkError';\nimport { StorageProvider, SimpleStorage } from './types';\n\n// formerly known as \"storageBuilder\". Represents an object saved under a key/name.\nexport class SavedObject implements StorageProvider {\n  storageProvider: SimpleStorage;\n  storageName: string;\n\n  constructor(storage: SimpleStorage, storageName: string) {\n    if (!storage) {\n      throw new AuthSdkError('\"storage\" is required');\n    }\n\n    if (typeof storageName !== 'string' || !storageName.length) {\n      throw new AuthSdkError('\"storageName\" is required');\n    }\n\n    this.storageName = storageName;\n    this.storageProvider = storage;\n  }\n\n  //\n  // SimpleStorage interface\n  //\n\n  getItem(key: string) {\n    return this.getStorage()[key];\n  }\n\n  setItem(key: string, value: any) {\n    return this.updateStorage(key, value);\n  }\n\n  removeItem(key: string) {\n    return this.clearStorage(key);\n  }\n\n  //\n  // StorageProvider interface\n  //\n\n  getStorage() {\n    var storageString = this.storageProvider.getItem(this.storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n    }\n  }\n\n  setStorage(obj?: any) {\n    try {\n      var storageString = obj ? JSON.stringify(obj) : '{}';\n      this.storageProvider.setItem(this.storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n    }\n  }\n\n  clearStorage(key?: string) {\n    if (!key) {\n      // clear all\n      if (this.storageProvider.removeItem) {\n        this.storageProvider.removeItem(this.storageName);\n      } else {\n        this.setStorage();\n      }\n      return;\n    }\n\n    var obj = this.getStorage();\n    delete obj[key];\n    this.setStorage(obj);\n  }\n\n  updateStorage(key, value) {\n    var obj = this.getStorage();\n    obj[key] = value;\n    this.setStorage(obj);\n  }\n}\n","import { OktaAuthBaseInterface, OktaAuthConstructor } from '../base/types';\nimport {\n  OktaAuthStorageInterface,\n  OktaAuthStorageOptions,\n  StorageManagerConstructor,\n  StorageManagerInterface,\n} from './types';\n\nexport function mixinStorage\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthStorageOptions = OktaAuthStorageOptions,\n  TBase extends OktaAuthConstructor<OktaAuthBaseInterface<O>> = OktaAuthConstructor<OktaAuthBaseInterface<O>>\n>\n(\n  Base: TBase, StorageManager: StorageManagerConstructor<S>\n): TBase & OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n{\n  return class OktaAuthStorage extends Base implements OktaAuthStorageInterface<S, O>\n  {\n    storageManager: S;\n    constructor(...args: any[]) {\n      super(...args);\n      const { storageManager, cookies, storageUtil } = this.options;\n      this.storageManager = new StorageManager(storageManager!, cookies!, storageUtil!);\n    }\n    clearStorage(): void {\n      // override in subclass\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\nimport { StorageManagerOptions, StorageUtil, OktaAuthStorageOptions } from '../types';\nimport { warn } from '../../util';\n\nimport { default as browserStorage } from '../../browser/browserStorage';\n\nexport function getStorage(): StorageUtil {\n  const storageUtil = Object.assign({}, browserStorage, {\n    inMemoryStore: {} // create unique storage for this instance\n  });\n  return storageUtil;\n}\n\nexport const STORAGE_MANAGER_OPTIONS: StorageManagerOptions = {\n  token: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  cache: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  transaction: {\n    storageTypes: [\n      'sessionStorage',\n      'localStorage',\n      'cookie'\n    ]\n  },\n  'shared-transaction': {\n    storageTypes: [\n      'localStorage'\n    ]\n  },\n  'original-uri': {\n    storageTypes: [\n      'localStorage'\n    ]\n  }\n};\n\nexport function getCookieSettings(args: OktaAuthStorageOptions = {}, isHTTPS: boolean) {\n  // Secure cookies will be automatically used on a HTTPS connection\n  // Non-secure cookies will be automatically used on a HTTP connection\n  // secure option can override the automatic behavior\n  var cookieSettings = args.cookies || {};\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = isHTTPS;\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  // If secure=true, but the connection is not HTTPS, set secure=false.\n  if (cookieSettings.secure && !isHTTPS) {\n    // eslint-disable-next-line no-console\n    warn(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n    cookieSettings.secure = false;\n  }\n\n  // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n  // If sameSite=none, but the connection is not HTTPS, set sameSite=lax.\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n\n  return cookieSettings;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createBaseOptionsConstructor } from '../../base';\nimport { CookieOptions, OktaAuthStorageOptions, StorageManagerOptions, StorageUtil } from '../types';\nimport { getStorage, STORAGE_MANAGER_OPTIONS, getCookieSettings } from './node';\nimport { isHTTPS } from '../../features';\n\nexport function createStorageOptionsConstructor() {\n\n  const BaseOptionsConstructor = createBaseOptionsConstructor();\n  return class StorageOptionsConstructor extends BaseOptionsConstructor implements Required<OktaAuthStorageOptions> {\n    cookies: CookieOptions;\n    storageUtil: StorageUtil;\n    storageManager: StorageManagerOptions;\n    \n    constructor(args: any) {\n      super(args);\n      this.cookies = getCookieSettings(args, isHTTPS())!;\n      this.storageUtil = args.storageUtil || getStorage();\n      this.storageManager = { ...STORAGE_MANAGER_OPTIONS, ...args.storageManager };\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\n\nimport { isPromise } from './types';\nimport { warn } from './console';\n\ninterface QueueItem {\n  method: () => void;\n  thisObject: object;\n  args: any[];\n  resolve: (value?: unknown) => void;\n  reject: (reason?: unknown) => void;\n}\n\ninterface PromiseQueueOptions {\n  quiet?: boolean; // if false, concurrrency warnings will not be logged\n}\nexport class PromiseQueue {\n  queue: QueueItem[];\n  running: boolean;\n  options: PromiseQueueOptions;\n\n  constructor(options: PromiseQueueOptions = { quiet: false }) {\n    this.queue = [];\n    this.running = false;\n    this.options = options;\n  }\n\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push(method: (...args: any) => any, thisObject: any, ...args: any[]) {\n    return new Promise((resolve, reject) => {\n      if (this.queue.length > 0) {\n        // There is at least one other pending call.\n        // The PromiseQueue will prevent these methods from running concurrently.\n        if (this.options.quiet !== false) {\n          warn(\n            'Async method is being called but another async method is already running. ' +\n            'The new method will be delayed until the previous method completes.'\n          );\n        }\n      }\n      this.queue.push({\n        method,\n        thisObject,\n        args,\n        resolve,\n        reject\n      });\n      this.run();\n    });\n  }\n\n  run() {\n    if (this.running) {\n      return;\n    }\n    if (this.queue.length === 0) {\n      return;\n    }\n    this.running = true;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    var queueItem = this.queue.shift()!;\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args as never) as unknown;\n    if (isPromise(res)) {\n      (res as Promise<unknown>).then(queueItem.resolve, queueItem.reject).finally(() => {\n        this.running = false;\n        this.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global window */\n\nexport function getNativeConsole() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n}\n\nexport function getConsole() {\n  var nativeConsole = getNativeConsole();\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {},\n    warn: function() {},\n    group: function() {},\n    groupEnd: function() {}\n  };\n}\n\nexport function warn(text) {\n  /* eslint-disable no-console */\n  getConsole().warn('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n}\n\nexport function deprecate(text) {\n  /* eslint-disable no-console */\n  getConsole().warn('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n}\n\nexport function deprecateWrap(text, fn) {\n  return function() {\n    deprecate(text);\n    return fn.apply(null, arguments);\n  };\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isoToUTCString(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n}\n\nexport function genRandomString(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n}\n\nexport function delay(ms) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport function split2(str, delim) {\n  const parts = str.split(delim);\n  return [\n    parts[0], \n    parts.splice(1, parts.length).join(delim),\n  ];\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function bind(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n}\n\n// TODO: replace all references with `Object.assign` then remove this function\nexport function extend() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (Object.prototype.hasOwnProperty.call(obj, prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n}\n\nexport function removeNils(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n}\n\nexport function clone(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n}\n\n// Analogous to _.omit\nexport function omit(obj, ...props: any[]) {\n  // var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return clone(newobj);\n}\n\nexport function find(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!Object.prototype.hasOwnProperty.call(searchParams, prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n}\n\nexport function getLink(obj, linkName, altName?) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isString(obj: any): obj is string {\n  return Object.prototype.toString.call(obj) === '[object String]';\n}\n\nexport function isObject(obj: any): obj is object {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n\nexport function isNumber(obj: any): obj is number {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n}\n\nexport function isFunction(fn: any): fn is (...any: any[]) => any {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n}\n\nexport function isPromise(obj) {\n  return obj && obj.finally && (typeof obj.finally === 'function');\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isAbsoluteUrl(url) {\n  return /^[a-z][a-z0-9+.-]*:/i.test(url);\n}\n\nexport function toAbsoluteUrl(url = '', baseUrl) {\n  if (isAbsoluteUrl(url)) {\n    return url;\n  }\n  baseUrl = removeTrailingSlash(baseUrl);\n  return url[0] === '/' ? `${baseUrl}${url}` : `${baseUrl}/${url}`;\n}\n\nexport function toRelativeUrl(url = '', baseUrl) {\n  if (isAbsoluteUrl(url)) {\n    url = url.substring(baseUrl.length);\n  }\n\n  return url[0] === '/' ? url : `/${url}`;\n}\n\nexport function toQueryString(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]) as never);\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n}\n\nexport function removeTrailingSlash(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n}\n","'use strict';\n\nclass CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(userFn) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFn(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn executor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _construct.apply(null, arguments);\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  OktaAuthOptionsConstructor,\n} from '../base';\n\nimport {\n  IdxStorageManagerConstructor,\n  IdxTransactionManagerConstructor,\n  OktaAuthIdxOptions,\n  createIdxTransactionManager,\n  createOktaAuthIdx,\n  createIdxStorageManager,\n  createIdxOptionsConstructor\n} from '../idx';\n\nconst OptionsConstructor: OktaAuthOptionsConstructor<OktaAuthIdxOptions> = createIdxOptionsConstructor();\nconst StorageManager: IdxStorageManagerConstructor = createIdxStorageManager();\nconst TransactionManager: IdxTransactionManagerConstructor = createIdxTransactionManager();\n\n\nconst OktaAuthIdx = createOktaAuthIdx(StorageManager, OptionsConstructor, TransactionManager);\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface OktaAuthOptions extends OktaAuthIdxOptions {}\n\nclass OktaAuth extends OktaAuthIdx {\n  constructor(options: OktaAuthOptions) {\n    super(options);\n  }\n}\n\nexport default OktaAuth;\nexport { OktaAuth };\nexport * from './common';\nexport * from '../idx';\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n","var is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n","/*!\n * jQuery JavaScript Library v3.6.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2022-08-26T17:52Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.6.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.6\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2021-02-16\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem && elem.namespaceURI,\n\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: Chrome 86+\n\t\t\t\t\t\t// In Chrome, if an element having a focusout handler is blurred by\n\t\t\t\t\t\t// clicking outside of it, it invokes the handler synchronously. If\n\t\t\t\t\t\t// that handler calls `.remove()` on the element, the data is cleared,\n\t\t\t\t\t\t// leaving `result` undefined. We need to guard against this.\n\t\t\t\t\t\treturn result && result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is display: block\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\t// trim whitespace for custom property (issue gh-4926)\n\t\tif ( isCustomProp ) {\n\n\t\t\t// rtrim treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" );\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.nextTick()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n","function select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","/*\n * qTip2 - Pretty powerful tooltips - v3.0.3-5-g\n * http://qtip2.com\n *\n * Copyright (c) 2017 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 24 2017 01:22 UTC+0000\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n/*global window: false, jQuery: false, console: false, define: false */\n\n// Modified to support ESM - OKTA-369648\nimport jQuery from 'jquery';\n\n/* Cache window, document, undefined */\n(function( window, document, undefined ) {\n\n(function( factory ) {\n\t\"use strict\";\n \tif(!jQuery.fn.qtip) {\n\t\tfactory(jQuery);\n\t}\n}\n(function($) {\n\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\n;// Munge the primitives - Paul Irish tip\nvar TRUE = true,\nFALSE = false,\nNULL = null,\n\n// Common variables\nX = 'x', Y = 'y',\nWIDTH = 'width',\nHEIGHT = 'height',\n\n// Positioning sides\nTOP = 'top',\nLEFT = 'left',\nBOTTOM = 'bottom',\nRIGHT = 'right',\nCENTER = 'center',\n\n// Position adjustment types\nFLIP = 'flip',\nFLIPINVERT = 'flipinvert',\nSHIFT = 'shift',\n\n// Shortcut vars\nQTIP, PROTOTYPE, CORNER, CHECKS,\nPLUGINS = {},\nNAMESPACE = 'qtip',\nATTR_HAS = 'data-hasqtip',\nATTR_ID = 'data-qtip-id',\nWIDGET = ['ui-widget', 'ui-tooltip'],\nSELECTOR = '.'+NAMESPACE,\nINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n\nCLASS_FIXED = NAMESPACE+'-fixed',\nCLASS_DEFAULT = NAMESPACE + '-default',\nCLASS_FOCUS = NAMESPACE + '-focus',\nCLASS_HOVER = NAMESPACE + '-hover',\nCLASS_DISABLED = NAMESPACE+'-disabled',\n\nreplaceSuffix = '_replacedByqTip',\noldtitle = 'oldtitle',\ntrackingBound,\n\n// Browser detection\nBROWSER = {\n\t/*\n\t * IE version detection\n\t *\n\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n\t * Credit to James Padolsey for the original implemntation!\n\t */\n\tie: (function() {\n\t\t/* eslint-disable no-empty */\n\t\tvar v, i;\n\t\tfor (\n\t\t\tv = 4, i = document.createElement('div');\n\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\n\t\t\tv+=1\n\t\t) {}\n\t\treturn v > 4 ? v : NaN;\n\t\t/* eslint-enable no-empty */\n\t})(),\n\n\t/*\n\t * iOS version detection\n\t */\n\tiOS: parseFloat(\n\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\n\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\n\t) || FALSE\n};\n;function QTip(target, options, id, attr) {\n\t// Elements and ID\n\tthis.id = id;\n\tthis.target = target;\n\tthis.tooltip = NULL;\n\tthis.elements = { target: target };\n\n\t// Internal constructs\n\tthis._id = NAMESPACE + '-' + id;\n\tthis.timers = { img: {} };\n\tthis.options = options;\n\tthis.plugins = {};\n\n\t// Cache object\n\tthis.cache = {\n\t\tevent: {},\n\t\ttarget: $(),\n\t\tdisabled: FALSE,\n\t\tattr: attr,\n\t\tonTooltip: FALSE,\n\t\tlastClass: ''\n\t};\n\n\t// Set the initial flags\n\tthis.rendered = this.destroyed = this.disabled = this.waiting =\n\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n}\nPROTOTYPE = QTip.prototype;\n\nPROTOTYPE._when = function(deferreds) {\n\treturn $.when.apply($, deferreds);\n};\n\nPROTOTYPE.render = function(show) {\n\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\n\n\tvar self = this,\n\t\toptions = this.options,\n\t\tcache = this.cache,\n\t\telements = this.elements,\n\t\ttext = options.content.text,\n\t\ttitle = options.content.title,\n\t\tbutton = options.content.button,\n\t\tposOptions = options.position,\n\t\tdeferreds = [];\n\n\t// Add ARIA attributes to target\n\t$.attr(this.target[0], 'aria-describedby', this._id);\n\n\t// Create public position object that tracks current position corners\n\tcache.posClass = this._createPosClass(\n\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\n\t);\n\n\t// Create tooltip element\n\tthis.tooltip = elements.tooltip = $('<div/>', {\n\t\t'id': this._id,\n\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\n\t\t'width': options.style.width || '',\n\t\t'height': options.style.height || '',\n\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n\t\t/* ARIA specific attributes */\n\t\t'role': 'alert',\n\t\t'aria-live': 'polite',\n\t\t'aria-atomic': FALSE,\n\t\t'aria-describedby': this._id + '-content',\n\t\t'aria-hidden': TRUE\n\t})\n\t.toggleClass(CLASS_DISABLED, this.disabled)\n\t.attr(ATTR_ID, this.id)\n\t.data(NAMESPACE, this)\n\t.appendTo(posOptions.container)\n\t.append(\n\t\t// Create content element\n\t\telements.content = $('<div />', {\n\t\t\t'class': NAMESPACE + '-content',\n\t\t\t'id': this._id + '-content',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t);\n\n\t// Set rendered flag and prevent redundant reposition calls for now\n\tthis.rendered = -1;\n\tthis.positioning = TRUE;\n\n\t// Create title...\n\tif(title) {\n\t\tthis._createTitle();\n\n\t\t// Update title only if its not a callback (called in toggle if so)\n\t\tif(!$.isFunction(title)) {\n\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\n\t\t}\n\t}\n\n\t// Create button\n\tif(button) { this._createButton(); }\n\n\t// Set proper rendered flag and update content if not a callback function (called in toggle)\n\tif(!$.isFunction(text)) {\n\t\tdeferreds.push( this._updateContent(text, FALSE) );\n\t}\n\tthis.rendered = TRUE;\n\n\t// Setup widget classes\n\tthis._setWidget();\n\n\t// Initialize 'render' plugins\n\t$.each(PLUGINS, function(name) {\n\t\tvar instance;\n\t\tif(this.initialize === 'render' && (instance = this(self))) {\n\t\t\tself.plugins[name] = instance;\n\t\t}\n\t});\n\n\t// Unassign initial events and assign proper events\n\tthis._unassignEvents();\n\tthis._assignEvents();\n\n\t// When deferreds have completed\n\tthis._when(deferreds).then(function() {\n\t\t// tooltiprender event\n\t\tself._trigger('render');\n\n\t\t// Reset flags\n\t\tself.positioning = FALSE;\n\n\t\t// Show tooltip if not hidden during wait period\n\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\n\t\t\tself.toggle(TRUE, cache.event, FALSE);\n\t\t}\n\t\tself.hiddenDuringWait = FALSE;\n\t});\n\n\t// Expose API\n\tQTIP.api[this.id] = this;\n\n\treturn this;\n};\n\nPROTOTYPE.destroy = function(immediate) {\n\t// Set flag the signify destroy is taking place to plugins\n\t// and ensure it only gets destroyed once!\n\tif(this.destroyed) { return this.target; }\n\n\tfunction process() {\n\t\tif(this.destroyed) { return; }\n\t\tthis.destroyed = TRUE;\n\n\t\tvar target = this.target,\n\t\t\ttitle = target.attr(oldtitle),\n\t\t\ttimer;\n\n\t\t// Destroy tooltip if rendered\n\t\tif(this.rendered) {\n\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\n\t\t}\n\n\t\t// Destroy all plugins\n\t\t$.each(this.plugins, function() {\n\t\t\tthis.destroy && this.destroy();\n\t\t});\n\n\t\t// Clear timers\n\t\tfor (timer in this.timers) {\n\t\t\tif (this.timers.hasOwnProperty(timer)) {\n\t\t\t\tclearTimeout(this.timers[timer]);\n\t\t\t}\n\t\t}\n\n\t\t// Remove api object and ARIA attributes\n\t\ttarget.removeData(NAMESPACE)\n\t\t\t.removeAttr(ATTR_ID)\n\t\t\t.removeAttr(ATTR_HAS)\n\t\t\t.removeAttr('aria-describedby');\n\n\t\t// Reset old title attribute if removed\n\t\tif(this.options.suppress && title) {\n\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\n\t\t}\n\n\t\t// Remove qTip events associated with this API\n\t\tthis._unassignEvents();\n\n\t\t// Remove ID from used id objects, and delete object references\n\t\t// for better garbage collection and leak protection\n\t\tthis.options = this.elements = this.cache = this.timers =\n\t\t\tthis.plugins = this.mouse = NULL;\n\n\t\t// Delete epoxsed API object\n\t\tdelete QTIP.api[this.id];\n\t}\n\n\t// If an immediate destroy is needed\n\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\n\t\t!this.triggering && this.hide();\n\t}\n\n\t// If we're not in the process of hiding... process\n\telse { process.call(this); }\n\n\treturn this.target;\n};\n;function invalidOpt(a) {\n\treturn a === NULL || $.type(a) !== 'object';\n}\n\nfunction invalidContent(c) {\n\treturn !($.isFunction(c) || \n            c && c.attr || \n            c.length || \n            $.type(c) === 'object' && (c.jquery || c.then));\n}\n\n// Option object sanitizer\nfunction sanitizeOptions(opts) {\n\tvar content, text, ajax, once;\n\n\tif(invalidOpt(opts)) { return FALSE; }\n\n\tif(invalidOpt(opts.metadata)) {\n\t\topts.metadata = { type: opts.metadata };\n\t}\n\n\tif('content' in opts) {\n\t\tcontent = opts.content;\n\n\t\tif(invalidOpt(content) || content.jquery || content.done) {\n\t\t\ttext = invalidContent(content) ? FALSE : content;\n\t\t\tcontent = opts.content = {\n\t\t\t\ttext: text\n\t\t\t};\n\t\t}\n\t\telse { text = content.text; }\n\n\t\t// DEPRECATED - Old content.ajax plugin functionality\n\t\t// Converts it into the proper Deferred syntax\n\t\tif('ajax' in content) {\n\t\t\tajax = content.ajax;\n\t\t\tonce = ajax && ajax.once !== FALSE;\n\t\t\tdelete content.ajax;\n\n\t\t\tcontent.text = function(event, api) {\n\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n\n\t\t\t\tdeferred = $.ajax(\n\t\t\t\t\t$.extend({}, ajax, { context: api })\n\t\t\t\t)\n\t\t\t\t.then(ajax.success, NULL, ajax.error)\n\t\t\t\t.then(function(newContent) {\n\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\n\t\t\t\t\treturn newContent;\n\t\t\t\t},\n\t\t\t\tfunction(xhr, status, error) {\n\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\n\t\t\t\t\tapi.set('content.text', status + ': ' + error);\n\t\t\t\t});\n\n\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\n\t\t\t};\n\t\t}\n\n\t\tif('title' in content) {\n\t\t\tif($.isPlainObject(content.title)) {\n\t\t\t\tcontent.button = content.title.button;\n\t\t\t\tcontent.title = content.title.text;\n\t\t\t}\n\n\t\t\tif(invalidContent(content.title || FALSE)) {\n\t\t\t\tcontent.title = FALSE;\n\t\t\t}\n\t\t}\n\t}\n\n\tif('position' in opts && invalidOpt(opts.position)) {\n\t\topts.position = { my: opts.position, at: opts.position };\n\t}\n\n\tif('show' in opts && invalidOpt(opts.show)) {\n\t\topts.show = opts.show.jquery ? { target: opts.show } :\n\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\n\t}\n\n\tif('hide' in opts && invalidOpt(opts.hide)) {\n\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\n\t}\n\n\tif('style' in opts && invalidOpt(opts.style)) {\n\t\topts.style = { classes: opts.style };\n\t}\n\n\t// Sanitize plugin options\n\t$.each(PLUGINS, function() {\n\t\tthis.sanitize && this.sanitize(opts);\n\t});\n\n\treturn opts;\n}\n\n// Setup builtin .set() option checks\nCHECKS = PROTOTYPE.checks = {\n\tbuiltin: {\n\t\t// Core checks\n\t\t'^id$': function(obj, o, v, prev) {\n\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\n\t\t\t\tnewId = NAMESPACE + '-' + id;\n\n\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\n\t\t\t\tthis._id = newId;\n\n\t\t\t\tif(this.rendered) {\n\t\t\t\t\tthis.tooltip[0].id = this._id;\n\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\n\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse { obj[o] = prev; }\n\t\t},\n\t\t'^prerender': function(obj, o, v) {\n\t\t\tv && !this.rendered && this.render(this.options.show.ready);\n\t\t},\n\n\t\t// Content checks\n\t\t'^content.text$': function(obj, o, v) {\n\t\t\tthis._updateContent(v);\n\t\t},\n\t\t'^content.attr$': function(obj, o, v, prev) {\n\t\t\tif(this.options.content.text === this.target.attr(prev)) {\n\t\t\t\tthis._updateContent( this.target.attr(v) );\n\t\t\t}\n\t\t},\n\t\t'^content.title$': function(obj, o, v) {\n\t\t\t// Remove title if content is null\n\t\t\tif(!v) { return this._removeTitle(); }\n\n\t\t\t// If title isn't already created, create it now and update\n\t\t\tv && !this.elements.title && this._createTitle();\n\t\t\tthis._updateTitle(v);\n\t\t},\n\t\t'^content.button$': function(obj, o, v) {\n\t\t\tthis._updateButton(v);\n\t\t},\n\t\t'^content.title.(text|button)$': function(obj, o, v) {\n\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\n\t\t},\n\n\t\t// Position checks\n\t\t'^position.(my|at)$': function(obj, o, v){\n\t\t\tif('string' === typeof v) {\n\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\n\t\t\t}\n\t\t},\n\t\t'^position.container$': function(obj, o, v){\n\t\t\tthis.rendered && this.tooltip.appendTo(v);\n\t\t},\n\n\t\t// Show checks\n\t\t'^show.ready$': function(obj, o, v) {\n\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n\t\t},\n\n\t\t// Style checks\n\t\t'^style.classes$': function(obj, o, v, p) {\n\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\n\t\t},\n\t\t'^style.(width|height)': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.css(o, v);\n\t\t},\n\t\t'^style.widget|content.title': function() {\n\t\t\tthis.rendered && this._setWidget();\n\t\t},\n\t\t'^style.def': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n\t\t},\n\n\t\t// Events check\n\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\n\t\t},\n\n\t\t// Properties which require event reassignment\n\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\n\t\t\tif(!this.rendered) { return; }\n\n\t\t\t// Set tracking flag\n\t\t\tvar posOptions = this.options.position;\n\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\n\n\t\t\t// Reassign events\n\t\t\tthis._unassignEvents();\n\t\t\tthis._assignEvents();\n\t\t}\n\t}\n};\n\n// Dot notation converter\nfunction convertNotation(options, notation) {\n\tvar i = 0, obj, option = options,\n\n\t// Split notation into array\n\tlevels = notation.split('.');\n\n\t// Loop through\n\twhile(option = option[ levels[i++] ]) {\n\t\tif(i < levels.length) { obj = option; }\n\t}\n\n\treturn [obj || options, levels.pop()];\n}\n\nPROTOTYPE.get = function(notation) {\n\tif(this.destroyed) { return this; }\n\n\tvar o = convertNotation(this.options, notation.toLowerCase()),\n\t\tresult = o[0][ o[1] ];\n\n\treturn result.precedance ? result.string() : result;\n};\n\nfunction setCallback(notation, args) {\n\tvar category, rule, match;\n\n\tfor(category in this.checks) {\n\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\n\n\t\tfor(rule in this.checks[category]) {\n\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\n\n\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\n\t\t\t\targs.push(match);\n\n\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\n\t\t\t\t\tthis.checks[category][rule].apply(\n\t\t\t\t\t\tthis.plugins[category] || this, args\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n\trrender = /^prerender|show\\.ready/i;\n\nPROTOTYPE.set = function(option, value) {\n\tif(this.destroyed) { return this; }\n\n\tvar rendered = this.rendered,\n\t\treposition = FALSE,\n\t\toptions = this.options,\n\t\tname;\n\n\t// Convert singular option/value pair into object form\n\tif('string' === typeof option) {\n\t\tname = option; option = {}; option[name] = value;\n\t}\n\telse { option = $.extend({}, option); }\n\n\t// Set all of the defined options to their new values\n\t$.each(option, function(notation, val) {\n\t\tif(rendered && rrender.test(notation)) {\n\t\t\tdelete option[notation]; return;\n\t\t}\n\n\t\t// Set new obj value\n\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\n\t\tprevious = obj[0][ obj[1] ];\n\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\n\n\t\t// Also check if we need to reposition\n\t\treposition = rmove.test(notation) || reposition;\n\n\t\t// Set the new params for the callback\n\t\toption[notation] = [obj[0], obj[1], val, previous];\n\t});\n\n\t// Re-sanitize options\n\tsanitizeOptions(options);\n\n\t/*\n\t * Execute any valid callbacks for the set options\n\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\n\t */\n\tthis.positioning = TRUE;\n\t$.each(option, $.proxy(setCallback, this));\n\tthis.positioning = FALSE;\n\n\t// Update position if needed\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\n\t}\n\n\treturn this;\n};\n;PROTOTYPE._update = function(content, element) {\n\tvar self = this,\n\t\tcache = this.cache;\n\n\t// Make sure tooltip is rendered and content is defined. If not return\n\tif(!this.rendered || !content) { return FALSE; }\n\n\t// Use function to parse content\n\tif($.isFunction(content)) {\n\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\n\t}\n\n\t// Handle deferred content\n\tif($.isFunction(content.then)) {\n\t\tcache.waiting = TRUE;\n\t\treturn content.then(function(c) {\n\t\t\tcache.waiting = FALSE;\n\t\t\treturn self._update(c, element);\n\t\t}, NULL, function(e) {\n\t\t\treturn self._update(e, element);\n\t\t});\n\t}\n\n\t// If content is null... return false\n\tif(content === FALSE || !content && content !== '') { return FALSE; }\n\n\t// Append new content if its a DOM array and show it if hidden\n\tif(content.jquery && content.length > 0) {\n\t\telement.empty().append(\n\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\n\t\t);\n\t}\n\n\t// Content is a regular string, insert the new content\n\telse { element.html(content); }\n\n\t// Wait for content to be loaded, and reposition\n\treturn this._waitForContent(element).then(function(images) {\n\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\n\t\t\tself.reposition(cache.event, !images.length);\n\t\t}\n\t});\n};\n\nPROTOTYPE._waitForContent = function(element) {\n\tvar cache = this.cache;\n\n\t// Set flag\n\tcache.waiting = TRUE;\n\n\t// If imagesLoaded is included, ensure images have loaded and return promise\n\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\n\t\t.done(function() { cache.waiting = FALSE; })\n\t\t.promise();\n};\n\nPROTOTYPE._updateContent = function(content, reposition) {\n\tthis._update(content, this.elements.content, reposition);\n};\n\nPROTOTYPE._updateTitle = function(content, reposition) {\n\tif(this._update(content, this.elements.title, reposition) === FALSE) {\n\t\tthis._removeTitle(FALSE);\n\t}\n};\n\nPROTOTYPE._createTitle = function()\n{\n\tvar elements = this.elements,\n\t\tid = this._id+'-title';\n\n\t// Destroy previous title element, if present\n\tif(elements.titlebar) { this._removeTitle(); }\n\n\t// Create title bar and title elements\n\telements.titlebar = $('<div />', {\n\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n\t})\n\t.append(\n\t\telements.title = $('<div />', {\n\t\t\t'id': id,\n\t\t\t'class': NAMESPACE + '-title',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t)\n\t.insertBefore(elements.content)\n\n\t// Button-specific events\n\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\n\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n\t})\n\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\n\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n\t});\n\n\t// Create button if enabled\n\tif(this.options.content.button) { this._createButton(); }\n};\n\nPROTOTYPE._removeTitle = function(reposition)\n{\n\tvar elements = this.elements;\n\n\tif(elements.title) {\n\t\telements.titlebar.remove();\n\t\telements.titlebar = elements.title = elements.button = NULL;\n\n\t\t// Reposition if enabled\n\t\tif(reposition !== FALSE) { this.reposition(); }\n\t}\n};\n;PROTOTYPE._createPosClass = function(my) {\n\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n};\n\nPROTOTYPE.reposition = function(event, effect) {\n\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\n\n\t// Set positioning flag\n\tthis.positioning = TRUE;\n\n\tvar cache = this.cache,\n\t\ttooltip = this.tooltip,\n\t\tposOptions = this.options.position,\n\t\ttarget = posOptions.target,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\ttooltipWidth = tooltip.outerWidth(FALSE),\n\t\ttooltipHeight = tooltip.outerHeight(FALSE),\n\t\ttargetWidth = 0,\n\t\ttargetHeight = 0,\n\t\ttype = tooltip.css('position'),\n\t\tposition = { left: 0, top: 0 },\n\t\tvisible = tooltip[0].offsetWidth > 0,\n\t\tisScroll = event && event.type === 'scroll',\n\t\twin = $(window),\n\t\tdoc = container[0].ownerDocument,\n\t\tmouse = this.mouse,\n\t\tpluginCalculations, offset, adjusted, newClass;\n\n\t// Check if absolute position was passed\n\tif($.isArray(target) && target.length === 2) {\n\t\t// Force left top and set position\n\t\tat = { x: LEFT, y: TOP };\n\t\tposition = { left: target[0], top: target[1] };\n\t}\n\n\t// Check if mouse was the target\n\telse if(target === 'mouse') {\n\t\t// Force left top to allow flipping\n\t\tat = { x: LEFT, y: TOP };\n\n\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\n\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n\t\t\tevent =  cache.origin;\n\t\t}\n\n\t\t// Use cached event for resize/scroll events\n\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n\t\t\tevent = cache.event;\n\t\t}\n\n\t\t// Otherwise, use the cached mouse coordinates if available\n\t\telse if(mouse && mouse.pageX) {\n\t\t\tevent = mouse;\n\t\t}\n\n\t\t// Calculate body and container offset and take them into account below\n\t\tif(type !== 'static') { position = container.offset(); }\n\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n\t\t\toffset = $(document.body).offset();\n\t\t}\n\n\t\t// Use event coordinates for position\n\t\tposition = {\n\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\n\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\n\t\t};\n\n\t\t// Scroll events are a pain, some browsers\n\t\tif(adjust.mouse && isScroll && mouse) {\n\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\n\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\n\t\t}\n\t}\n\n\t// Target wasn't mouse or absolute...\n\telse {\n\t\t// Check if event targetting is being used\n\t\tif(target === 'event') {\n\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n\t\t\t\tcache.target = $(event.target);\n\t\t\t}\n\t\t\telse if(!event.target) {\n\t\t\t\tcache.target = this.elements.target;\n\t\t\t}\n\t\t}\n\t\telse if(target !== 'event'){\n\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\n\t\t}\n\t\ttarget = cache.target;\n\n\t\t// Parse the target into a jQuery object and make sure there's an element present\n\t\ttarget = $(target).eq(0);\n\t\tif(target.length === 0) { return this; }\n\n\t\t// Check if window or document is the target\n\t\telse if(target[0] === document || target[0] === window) {\n\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n\t\t\tif(target[0] === window) {\n\t\t\t\tposition = {\n\t\t\t\t\ttop: (viewport || target).scrollTop(),\n\t\t\t\t\tleft: (viewport || target).scrollLeft()\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Check if the target is an <AREA> element\n\t\telse if(PLUGINS.imagemap && target.is('area')) {\n\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Check if the target is an SVG element\n\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\n\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Otherwise use regular jQuery methods\n\t\telse {\n\t\t\ttargetWidth = target.outerWidth(FALSE);\n\t\t\ttargetHeight = target.outerHeight(FALSE);\n\t\t\tposition = target.offset();\n\t\t}\n\n\t\t// Parse returned plugin values into proper variables\n\t\tif(pluginCalculations) {\n\t\t\ttargetWidth = pluginCalculations.width;\n\t\t\ttargetHeight = pluginCalculations.height;\n\t\t\toffset = pluginCalculations.offset;\n\t\t\tposition = pluginCalculations.position;\n\t\t}\n\n\t\t// Adjust position to take into account offset parents\n\t\tposition = this.reposition.offset(target, position, container);\n\n\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\n\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\n\t\t\t!BROWSER.iOS && type === 'fixed'\n\t\t){\n\t\t\tposition.left -= win.scrollLeft();\n\t\t\tposition.top -= win.scrollTop();\n\t\t}\n\n\t\t// Adjust position relative to target\n\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n\t\t}\n\t}\n\n\t// Adjust position relative to tooltip\n\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\n\n\t// Use viewport adjustment plugin if enabled\n\tif(PLUGINS.viewport) {\n\t\tadjusted = position.adjusted = PLUGINS.viewport(\n\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\n\t\t);\n\n\t\t// Apply offsets supplied by positioning plugin (if used)\n\t\tif(offset && adjusted.left) { position.left += offset.left; }\n\t\tif(offset && adjusted.top) {  position.top += offset.top; }\n\n\t\t// Apply any new 'my' position\n\t\tif(adjusted.my) { this.position.my = adjusted.my; }\n\t}\n\n\t// Viewport adjustment is disabled, set values to zero\n\telse { position.adjusted = { left: 0, top: 0 }; }\n\n\t// Set tooltip position class if it's changed\n\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n\t\tcache.posClass = newClass;\n\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\n\t}\n\n\t// tooltipmove event\n\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\n\tdelete position.adjusted;\n\n\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n\t\ttooltip.css(position);\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(posOptions.effect)) {\n\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\n\t\ttooltip.queue(function(next) {\n\t\t\t// Reset attributes to avoid cross-browser rendering bugs\n\t\t\t$(this).css({ opacity: '', height: '' });\n\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\n\n\t\t\tnext();\n\t\t});\n\t}\n\n\t// Set positioning flag\n\tthis.positioning = FALSE;\n\n\treturn this;\n};\n\n// Custom (more correct for qTip!) offset calculator\nPROTOTYPE.reposition.offset = function(elem, pos, container) {\n\tif(!container[0]) { return pos; }\n\n\tvar ownerDocument = $(elem[0].ownerDocument),\n\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n\t\tparent = container[0],\n\t\tscrolled, position, parentOffset, overflow;\n\n\tfunction scroll(e, i) {\n\t\tpos.left += i * e.scrollLeft();\n\t\tpos.top += i * e.scrollTop();\n\t}\n\n\t// Compensate for non-static containers offset\n\tdo {\n\t\tif((position = $.css(parent, 'position')) !== 'static') {\n\t\t\tif(position === 'fixed') {\n\t\t\t\tparentOffset = parent.getBoundingClientRect();\n\t\t\t\tscroll(ownerDocument, -1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparentOffset = $(parent).position();\n\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n\t\t\t}\n\n\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\n\n\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible' && $.prop(parent, 'tagName') !== 'BODY') { scrolled = $(parent); }\n\t\t}\n\t}\n\twhile(parent = parent.offsetParent);\n\n\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n\t\tscroll(scrolled, 1);\n\t}\n\n\treturn pos;\n};\n\n// Corner class\nvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\n\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n\tthis.forceY = !!forceY;\n\n\tvar f = corner.charAt(0);\n\tthis.precedance = f === 't' || f === 'b' ? Y : X;\n}).prototype;\n\nC.invert = function(z, center) {\n\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n};\n\nC.string = function(join) {\n\tvar x = this.x, y = this.y;\n\n\tvar result = x !== y ?\n\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? \n\t\t\t[y,x] : \n\t\t\t[x,y] :\n\t\t[x];\n\n\treturn join !== false ? result.join(' ') : result;\n};\n\nC.abbrev = function() {\n\tvar result = this.string(false);\n\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n};\n\nC.clone = function() {\n\treturn new CORNER( this.string(), this.forceY );\n};\n\n;\nPROTOTYPE.toggle = function(state, event) {\n\tvar cache = this.cache,\n\t\toptions = this.options,\n\t\ttooltip = this.tooltip;\n\n\t// Try to prevent flickering when tooltip overlaps show element\n\tif(event) {\n\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\n\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\n\t\t\ttooltip.has(event.relatedTarget).length) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Cache event\n\t\tcache.event = $.event.fix(event);\n\t}\n\n\t// If we're currently waiting and we've just hidden... stop it\n\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\n\n\t// Render the tooltip if showing and it isn't already\n\tif(!this.rendered) { return state ? this.render(1) : this; }\n\telse if(this.destroyed || this.disabled) { return this; }\n\n\tvar type = state ? 'show' : 'hide',\n\t\topts = this.options[type],\n\t\tposOptions = this.options.position,\n\t\tcontentOptions = this.options.content,\n\t\twidth = this.tooltip.css('width'),\n\t\tvisible = this.tooltip.is(':visible'),\n\t\tanimate = state || opts.target.length === 1,\n\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n\t\tidenticalState, allow, after;\n\n\t// Detect state if valid one isn't provided\n\tif((typeof state).search('boolean|number')) { state = !visible; }\n\n\t// Check if the tooltip is in an identical state to the new would-be state\n\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\n\n\t// Fire tooltip(show/hide) event and check if destroyed\n\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\n\n\t// Check to make sure the tooltip wasn't destroyed in the callback\n\tif(this.destroyed) { return this; }\n\n\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\tif(allow !== FALSE && state) { this.focus(event); }\n\n\t// If the state hasn't changed or the user stopped it, return early\n\tif(!allow || identicalState) { return this; }\n\n\t// Set ARIA hidden attribute\n\t$.attr(tooltip[0], 'aria-hidden', !!!state);\n\n\t// Execute state specific properties\n\tif(state) {\n\t\t// Store show origin coordinates\n\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\n\n\t\t// Update tooltip content & title if it's a dynamic function\n\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\n\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\n\n\t\t// Cache mousemove events for positioning purposes (if not already tracking)\n\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\n\t\t\ttrackingBound = TRUE;\n\t\t}\n\n\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\n\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\n\t\tthis.reposition(event, arguments[2]);\n\t\tif(!width) { tooltip.css('width', ''); }\n\n\t\t// Hide other tooltips if tooltip is solo\n\t\tif(!!opts.solo) {\n\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\n\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n\t\t}\n\t}\n\telse {\n\t\t// Clear show timer if we're hiding\n\t\tclearTimeout(this.timers.show);\n\n\t\t// Remove cached origin on hide\n\t\tdelete cache.origin;\n\n\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\n\t\t\ttrackingBound = FALSE;\n\t\t}\n\n\t\t// Blur the tooltip\n\t\tthis.blur(event);\n\t}\n\n\t// Define post-animation, state specific properties\n\tafter = $.proxy(function() {\n\t\tif(state) {\n\t\t\t// Prevent antialias from disappearing in IE by removing filter\n\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\n\n\t\t\t// Remove overflow setting to prevent tip bugs\n\t\t\ttooltip.css('overflow', '');\n\n\t\t\t// Autofocus elements if enabled\n\t\t\tif('string' === typeof opts.autofocus) {\n\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\n\t\t\t}\n\n\t\t\t// If set, hide tooltip when inactive for delay period\n\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\n\t\t}\n\t\telse {\n\t\t\t// Reset CSS states\n\t\t\ttooltip.css({\n\t\t\t\tdisplay: '',\n\t\t\t\tvisibility: '',\n\t\t\t\topacity: '',\n\t\t\t\tleft: '',\n\t\t\t\ttop: ''\n\t\t\t});\n\t\t}\n\n\t\t// tooltipvisible/tooltiphidden events\n\t\tthis._trigger(state ? 'visible' : 'hidden');\n\t}, this);\n\n\t// If no effect type is supplied, use a simple toggle\n\tif(opts.effect === FALSE || animate === FALSE) {\n\t\ttooltip[ type ]();\n\t\tafter();\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(opts.effect)) {\n\t\ttooltip.stop(1, 1);\n\t\topts.effect.call(tooltip, this);\n\t\ttooltip.queue('fx', function(n) {\n\t\t\tafter(); n();\n\t\t});\n\t}\n\n\t// Use basic fade function by default\n\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\n\n\t// If inactive hide method is set, active it\n\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\n\n\treturn this;\n};\n\nPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\n\nPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\n;PROTOTYPE.focus = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\tvar qtips = $(SELECTOR),\n\t\ttooltip = this.tooltip,\n\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\n\t\tnewIndex = QTIP.zindex + qtips.length;\n\n\t// Only update the z-index if it has changed and tooltip is not already focused\n\tif(!tooltip.hasClass(CLASS_FOCUS)) {\n\t\t// tooltipfocus event\n\t\tif(this._trigger('focus', [newIndex], event)) {\n\t\t\t// Only update z-index's if they've changed\n\t\t\tif(curIndex !== newIndex) {\n\t\t\t\t// Reduce our z-index's and keep them properly ordered\n\t\t\t\tqtips.each(function() {\n\t\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Fire blur event for focused tooltip\n\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n\t\t\t}\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\t\t}\n\t}\n\n\treturn this;\n};\n\nPROTOTYPE.blur = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\t// Set focused status to FALSE\n\tthis.tooltip.removeClass(CLASS_FOCUS);\n\n\t// tooltipblur event\n\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\n\n\treturn this;\n};\n;PROTOTYPE.disable = function(state) {\n\tif(this.destroyed) { return this; }\n\n\t// If 'toggle' is passed, toggle the current state\n\tif(state === 'toggle') {\n\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n\t}\n\n\t// Disable if no state passed\n\telse if('boolean' !== typeof state) {\n\t\tstate = TRUE;\n\t}\n\n\tif(this.rendered) {\n\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\n\t\t\t.attr('aria-disabled', state);\n\t}\n\n\tthis.disabled = !!state;\n\n\treturn this;\n};\n\nPROTOTYPE.enable = function() { return this.disable(FALSE); };\n;PROTOTYPE._createButton = function()\n{\n\tvar self = this,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tbutton = this.options.content.button,\n\t\tisString = typeof button === 'string',\n\t\tclose = isString ? button : 'Close tooltip';\n\n\tif(elements.button) { elements.button.remove(); }\n\n\t// Use custom button if one was supplied by user, else use default\n\tif(button.jquery) {\n\t\telements.button = button;\n\t}\n\telse {\n\t\telements.button = $('<a />', {\n\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\n\t\t\t'title': close,\n\t\t\t'aria-label': close\n\t\t})\n\t\t.prepend(\n\t\t\t$('<span />', {\n\t\t\t\t'class': 'ui-icon ui-icon-close',\n\t\t\t\t'html': '&times;'\n\t\t\t})\n\t\t);\n\t}\n\n\t// Create button and setup attributes\n\telements.button.appendTo(elements.titlebar || tooltip)\n\t\t.attr('role', 'button')\n\t\t.click(function(event) {\n\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\n\t\t\treturn FALSE;\n\t\t});\n};\n\nPROTOTYPE._updateButton = function(button)\n{\n\t// Make sure tooltip is rendered and if not, return\n\tif(!this.rendered) { return FALSE; }\n\n\tvar elem = this.elements.button;\n\tif(button) { this._createButton(); }\n\telse { elem.remove(); }\n};\n;// Widget class creator\nfunction createWidgetClass(cls) {\n\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\n}\n\n// Widget class setter method\nPROTOTYPE._setWidget = function()\n{\n\tvar on = this.options.style.widget,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\n\n\ttooltip.removeClass(CLASS_DISABLED);\n\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n\ttooltip.toggleClass(CLASS_DISABLED, disabled);\n\n\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n\tif(elements.content) {\n\t\telements.content.toggleClass( createWidgetClass('content'), on);\n\t}\n\tif(elements.titlebar) {\n\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\n\t}\n\tif(elements.button) {\n\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\n\t}\n};\n;function delay(callback, duration) {\n\t// If tooltip has displayed, start hide timer\n\tif(duration > 0) {\n\t\treturn setTimeout(\n\t\t\t$.proxy(callback, this), duration\n\t\t);\n\t}\n\telse{ callback.call(this); }\n}\n\nfunction showMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\n\n\t// Clear hide timers\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Start show timer\n\tthis.timers.show = delay.call(this,\n\t\tfunction() { this.toggle(TRUE, event); },\n\t\tthis.options.show.delay\n\t);\n}\n\nfunction hideMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\n\n\t// Check if new target was actually the tooltip element\n\tvar relatedTarget = $(event.relatedTarget),\n\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\n\n\t// Clear timers and stop animation queue\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\n\t// Or if mouse positioning is enabled and cursor momentarily overlaps\n\tif(this !== relatedTarget[0] &&\n\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\n\t\tthis.options.hide.fixed && (\n\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\n\t\t)\n\t{\n\t\t/* eslint-disable no-empty */\n\t\ttry {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopImmediatePropagation();\n\t\t} catch(e) {}\n\t\t/* eslint-enable no-empty */\n\n\t\treturn;\n\t}\n\n\t// If tooltip has displayed, start hide timer\n\tthis.timers.hide = delay.call(this,\n\t\tfunction() { this.toggle(FALSE, event); },\n\t\tthis.options.hide.delay,\n\t\tthis\n\t);\n}\n\nfunction inactiveMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\n\n\t// Clear timer\n\tclearTimeout(this.timers.inactive);\n\n\tthis.timers.inactive = delay.call(this,\n\t\tfunction(){ this.hide(event); },\n\t\tthis.options.hide.inactive\n\t);\n}\n\nfunction repositionMethod(event) {\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\n}\n\n// Store mouse coordinates\nPROTOTYPE._storeMouse = function(event) {\n\t(this.mouse = $.event.fix(event)).type = 'mousemove';\n\treturn this;\n};\n\n// Bind events\nPROTOTYPE._bind = function(targets, events, method, suffix, context) {\n\tif(!targets || !method || !events.length) { return; }\n\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\n\t$(targets).bind(\n\t\t(events.split ? events : events.join(ns + ' ')) + ns,\n\t\t$.proxy(method, context || this)\n\t);\n\treturn this;\n};\nPROTOTYPE._unbind = function(targets, suffix) {\n\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\n\treturn this;\n};\n\n// Global delegation helper\nfunction delegate(selector, events, method) {\n\t$(document.body).delegate(selector,\n\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\n\t\tfunction() {\n\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\n\t\t\tapi && !api.disabled && method.apply(api, arguments);\n\t\t}\n\t);\n}\n// Event trigger\nPROTOTYPE._trigger = function(type, args, event) {\n\tvar callback = new $.Event('tooltip'+type);\n\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n\n\tthis.triggering = type;\n\tthis.tooltip.trigger(callback, [this].concat(args || []));\n\tthis.triggering = FALSE;\n\n\treturn !callback.isDefaultPrevented();\n};\n\nPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n\t// Get tasrgets that lye within both\n\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\n\t\ttoggleEvents = [];\n\n\t// If hide and show targets are the same...\n\tif(similarTargets.length) {\n\n\t\t// Filter identical show/hide events\n\t\t$.each(hideEvents, function(i, type) {\n\t\t\tvar showIndex = $.inArray(type, showEvents);\n\n\t\t\t// Both events are identical, remove from both hide and show events\n\t\t\t// and append to toggleEvents\n\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\n\t\t});\n\n\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\n\t\tif(toggleEvents.length) {\n\t\t\t// Bind toggle events to the similar targets\n\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\n\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\n\t\t\t});\n\n\t\t\t// Remove the similar targets from the regular show/hide bindings\n\t\t\tshowTargets = showTargets.not(similarTargets);\n\t\t\thideTargets = hideTargets.not(similarTargets);\n\t\t}\n\t}\n\n\t// Apply show/hide/toggle events\n\tthis._bind(showTargets, showEvents, showCallback);\n\tthis._bind(hideTargets, hideEvents, hideCallback);\n};\n\nPROTOTYPE._assignInitialEvents = function(event) {\n\tvar options = this.options,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\n\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\n\t\tthis.destroy(true);\n\t}, 'destroy');\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n\t\thideEvents.push('mouseleave');\n\t}\n\n\t/*\n\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\n\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n\t * keep mouse tracking working.\n\t */\n\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\n\t\tthis._storeMouse(moveEvent);\n\t\tthis.cache.onTarget = TRUE;\n\t});\n\n\t// Define hoverIntent function\n\tfunction hoverIntent(hoverEvent) {\n\t\t// Only continue if tooltip isn't disabled\n\t\tif(this.disabled || this.destroyed) { return FALSE; }\n\n\t\t// Cache the event data\n\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\n\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\n\n\t\t// Start the event sequence\n\t\tclearTimeout(this.timers.show);\n\t\tthis.timers.show = delay.call(this,\n\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\n\t\t\toptions.prerender ? 0 : options.show.delay\n\t\t);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\n\t\tif(!this.timers) { return FALSE; }\n\t\tclearTimeout(this.timers.show);\n\t});\n\n\t// Prerendering is enabled, create tooltip now\n\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\n};\n\n// Event assignment method\nPROTOTYPE._assignEvents = function() {\n\tvar self = this,\n\t\toptions = this.options,\n\t\tposOptions = options.position,\n\n\t\ttooltip = this.tooltip,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tcontainerTarget = posOptions.container,\n\t\tviewportTarget = posOptions.viewport,\n\t\tdocumentTarget = $(document),\n\t\twindowTarget = $(window),\n\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\n\t// Assign passed event callbacks\n\t$.each(options.events, function(name, callback) {\n\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\n\t});\n\n\t// Hide tooltips when leaving current window/frame (but not select/option elements)\n\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\n\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Enable hide.fixed by adding appropriate class\n\tif(options.hide.fixed) {\n\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\n\t}\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\telse if(/mouse(over|enter)/i.test(options.show.event)) {\n\t\tthis._bind(hideTarget, 'mouseleave', function() {\n\t\t\tclearTimeout(this.timers.show);\n\t\t});\n\t}\n\n\t// Hide tooltip on document mousedown if unfocus events are enabled\n\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\n\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\n\t\t\tvar elem = $(event.target),\n\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\n\t\t\t\t!this.target.has(elem[0]).length && enabled\n\t\t\t) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Check if the tooltip hides when inactive\n\tif('number' === typeof options.hide.inactive) {\n\t\t// Bind inactive method to show target(s) as a custom event\n\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\n\n\t\t// Define events which reset the 'inactive' event handler\n\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\n\n\t// Mouse movement bindings\n\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\n\t\t// Check if the tooltip hides when mouse is moved a certain distance\n\t\tif('number' === typeof options.hide.distance) {\n\t\t\tvar origin = this.cache.origin || {},\n\t\t\t\tlimit = this.options.hide.distance,\n\t\t\t\tabs = Math.abs;\n\n\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\n\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Cache mousemove coords on show targets\n\t\tthis._storeMouse(event);\n\t});\n\n\t// Mouse positioning events\n\tif(posOptions.target === 'mouse') {\n\t\t// If mouse adjustment is on...\n\t\tif(posOptions.adjust.mouse) {\n\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\n\t\t\tif(options.hide.event) {\n\t\t\t\t// Track if we're on the target or not\n\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\n\t\t\t\t\tif(!this.cache) {return FALSE; }\n\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update tooltip position on mousemove\n\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\n\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\n\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n\t\t\t\t\tthis.reposition(event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Adjust positions of the tooltip on window resize if enabled\n\tif(posOptions.adjust.resize || viewportTarget.length) {\n\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\n\t}\n\n\t// Adjust tooltip position on scroll of the window or viewport element if present\n\tif(posOptions.adjust.scroll) {\n\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\n\t}\n};\n\n// Un-assignment method\nPROTOTYPE._unassignEvents = function() {\n\tvar options = this.options,\n\t\tshowTargets = options.show.target,\n\t\thideTargets = options.hide.target,\n\t\ttargets = $.grep([\n\t\t\tthis.elements.target[0],\n\t\t\tthis.rendered && this.tooltip[0],\n\t\t\toptions.position.container[0],\n\t\t\toptions.position.viewport[0],\n\t\t\toptions.position.container.closest('html')[0], // unfocus\n\t\t\twindow,\n\t\t\tdocument\n\t\t], function(i) {\n\t\t\treturn typeof i === 'object';\n\t\t});\n\n\t// Add show and hide targets if they're valid\n\tif(showTargets && showTargets.toArray) {\n\t\ttargets = targets.concat(showTargets.toArray());\n\t}\n\tif(hideTargets && hideTargets.toArray) {\n\t\ttargets = targets.concat(hideTargets.toArray());\n\t}\n\n\t// Unbind the events\n\tthis._unbind(targets)\n\t\t._unbind(targets, 'destroy')\n\t\t._unbind(targets, 'inactive');\n};\n\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\n$(function() {\n\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\n\t\tvar state = event.type === 'mouseenter',\n\t\t\ttooltip = $(event.currentTarget),\n\t\t\ttarget = $(event.relatedTarget || event.target),\n\t\t\toptions = this.options;\n\n\t\t// On mouseenter...\n\t\tif(state) {\n\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\n\t\t\tthis.focus(event);\n\n\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\n\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n\t\t}\n\n\t\t// On mouseleave...\n\t\telse {\n\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\n\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Add hover class\n\t\ttooltip.toggleClass(CLASS_HOVER, state);\n\t});\n\n\t// Define events which reset the 'inactive' event handler\n\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\n});\n;// Initialization method\nfunction init(elem, id, opts) {\n\tvar obj, posOptions, attr, config, title,\n\n\t// Setup element references\n\tdocBody = $(document.body),\n\n\t// Use document body instead of document element if needed\n\tnewTarget = elem[0] === document ? docBody : elem,\n\n\t// Grab metadata from element if plugin is present\n\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n\n\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n\n\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\n\n\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\n\t/* eslint-disable no-empty */\n\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\n\tcatch(e) {}\n\t/* eslint-enable no-empty */\n\n\t// Merge in and sanitize metadata\n\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\n\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\n\t\tsanitizeOptions(metadata5 || metadata));\n\n\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\n\tposOptions = config.position;\n\tconfig.id = id;\n\n\t// Setup missing content if none is detected\n\tif('boolean' === typeof config.content.text) {\n\t\tattr = elem.attr(config.content.attr);\n\n\t\t// Grab from supplied attribute if available\n\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\n\n\t\t// No valid content was found, abort render\n\t\telse { return FALSE; }\n\t}\n\n\t// Setup target options\n\tif(!posOptions.container.length) { posOptions.container = docBody; }\n\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\n\tif(config.show.target === FALSE) { config.show.target = newTarget; }\n\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\n\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\n\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\n\n\t// Ensure we only use a single container\n\tposOptions.container = posOptions.container.eq(0);\n\n\t// Convert position corner values into x and y strings\n\tposOptions.at = new CORNER(posOptions.at, TRUE);\n\tposOptions.my = new CORNER(posOptions.my);\n\n\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\n\tif(elem.data(NAMESPACE)) {\n\t\tif(config.overwrite) {\n\t\t\telem.qtip('destroy', true);\n\t\t}\n\t\telse if(config.overwrite === FALSE) {\n\t\t\treturn FALSE;\n\t\t}\n\t}\n\n\t// Add has-qtip attribute\n\telem.attr(ATTR_HAS, id);\n\n\t// Remove title attribute and store it if present\n\tif(config.suppress && (title = elem.attr('title'))) {\n\t\t// Final attr call fixes event delegation and IE default tooltip showing problem\n\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n\t}\n\n\t// Initialize the tooltip and add API reference\n\tobj = new QTip(elem, config, id, !!attr);\n\telem.data(NAMESPACE, obj);\n\n\treturn obj;\n}\n\n// jQuery $.fn extension method\nQTIP = $.fn.qtip = function(options, notation, newValue)\n{\n\tvar command = ('' + options).toLowerCase(), // Parse command\n\t\treturned = NULL,\n\t\targs = $.makeArray(arguments).slice(1),\n\t\tevent = args[args.length - 1],\n\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\n\n\t// Check for API request\n\tif(!arguments.length && opts || command === 'api') {\n\t\treturn opts;\n\t}\n\n\t// Execute API command if present\n\telse if('string' === typeof options) {\n\t\tthis.each(function() {\n\t\t\tvar api = $.data(this, NAMESPACE);\n\t\t\tif(!api) { return TRUE; }\n\n\t\t\t// Cache the event if possible\n\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\n\n\t\t\t// Check for specific API commands\n\t\t\tif(notation && (command === 'option' || command === 'options')) {\n\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\n\t\t\t\t\tapi.set(notation, newValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturned = api.get(notation);\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Execute API command\n\t\t\telse if(api[command]) {\n\t\t\t\tapi[command].apply(api, args);\n\t\t\t}\n\t\t});\n\n\t\treturn returned !== NULL ? returned : this;\n\t}\n\n\t// No API commands. validate provided options and setup qTips\n\telse if('object' === typeof options || !arguments.length) {\n\t\t// Sanitize options first\n\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\n\n\t\treturn this.each(function(i) {\n\t\t\tvar api, id;\n\n\t\t\t// Find next available ID, or use custom ID if provided\n\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\n\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\n\n\t\t\t// Initialize the qTip and re-grab newly sanitized options\n\t\t\tapi = init($(this), id, opts);\n\t\t\tif(api === FALSE) { return TRUE; }\n\t\t\telse { QTIP.api[id] = api; }\n\n\t\t\t// Initialize plugins\n\t\t\t$.each(PLUGINS, function() {\n\t\t\t\tif(this.initialize === 'initialize') { this(api); }\n\t\t\t});\n\n\t\t\t// Assign initial pre-render events\n\t\t\tapi._assignInitialEvents(event);\n\t\t});\n\t}\n};\n\n// Expose class\n$.qtip = QTip;\n\n// Populated in render method\nQTIP.api = {};\n;$.each({\n\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n\tattr: function(attr, val) {\n\t\tif(this.length) {\n\t\t\tvar self = this[0],\n\t\t\t\ttitle = 'title',\n\t\t\t\tapi = $.data(self, 'qtip');\n\n\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n\t\t\t\tif(arguments.length < 2) {\n\t\t\t\t\treturn $.attr(self, oldtitle);\n\t\t\t\t}\n\n\t\t\t\t// If qTip is rendered and title was originally used as content, update it\n\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\n\t\t\t\t\tapi.set('content.text', val);\n\t\t\t\t}\n\n\t\t\t\t// Use the regular attr method to set, then cache the result\n\t\t\t\treturn this.attr(oldtitle, val);\n\t\t\t}\n\t\t}\n\n\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\n\t},\n\n\t/* Allow clone to correctly retrieve cached title attributes */\n\tclone: function(keepData) {\n\t\t// Clone our element using the real clone method\n\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\n\n\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\t\tif(!keepData) {\n\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\n\t\t\t\treturn $.attr(this, oldtitle);\n\t\t\t})\n\t\t\t.removeAttr(oldtitle);\n\t\t}\n\n\t\treturn elems;\n\t}\n}, function(name, func) {\n\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\n\n\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\n\t$.fn[name] = function() {\n\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\n\t};\n});\n\n/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n * This snippet is taken directly from jQuery UI source code found here:\n *     http://code.jquery.com/ui/jquery-ui-git.js\n */\nif(!$.ui) {\n\t$['cleanData'+replaceSuffix] = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\n\t\t\tif(elem.attr(ATTR_HAS)) {\n\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\n\t\t\t\tcatch( e ) {}\n\t\t\t\t/* eslint-enable no-empty */\n\t\t\t}\n\t\t}\n\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\n\t};\n}\n;// qTip version\nQTIP.version = '3.0.3-5-g';\n\n// Base ID for all qTips\nQTIP.nextid = 0;\n\n// Inactive events array\nQTIP.inactiveEvents = INACTIVE_EVENTS;\n\n// Base z-index for all qTips\nQTIP.zindex = 15000;\n\n// Define configuration defaults\nQTIP.defaults = {\n\tprerender: FALSE,\n\tid: FALSE,\n\toverwrite: TRUE,\n\tsuppress: TRUE,\n\tcontent: {\n\t\ttext: TRUE,\n\t\tattr: 'title',\n\t\ttitle: FALSE,\n\t\tbutton: FALSE\n\t},\n\tposition: {\n\t\tmy: 'top left',\n\t\tat: 'bottom right',\n\t\ttarget: FALSE,\n\t\tcontainer: FALSE,\n\t\tviewport: FALSE,\n\t\tadjust: {\n\t\t\tx: 0, y: 0,\n\t\t\tmouse: TRUE,\n\t\t\tscroll: TRUE,\n\t\t\tresize: TRUE,\n\t\t\tmethod: 'flipinvert flipinvert'\n\t\t},\n\t\teffect: function(api, pos) {\n\t\t\t$(this).animate(pos, {\n\t\t\t\tduration: 200,\n\t\t\t\tqueue: FALSE\n\t\t\t});\n\t\t}\n\t},\n\tshow: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseenter',\n\t\teffect: TRUE,\n\t\tdelay: 90,\n\t\tsolo: FALSE,\n\t\tready: FALSE,\n\t\tautofocus: FALSE\n\t},\n\thide: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseleave',\n\t\teffect: TRUE,\n\t\tdelay: 0,\n\t\tfixed: FALSE,\n\t\tinactive: FALSE,\n\t\tleave: 'window',\n\t\tdistance: FALSE\n\t},\n\tstyle: {\n\t\tclasses: '',\n\t\twidget: FALSE,\n\t\twidth: FALSE,\n\t\theight: FALSE,\n\t\tdef: TRUE\n\t},\n\tevents: {\n\t\trender: NULL,\n\t\tmove: NULL,\n\t\tshow: NULL,\n\t\thide: NULL,\n\t\ttoggle: NULL,\n\t\tvisible: NULL,\n\t\thidden: NULL,\n\t\tfocus: NULL,\n\t\tblur: NULL\n\t}\n};\n;var TIP,\ncreateVML,\nSCALE,\nPIXEL_RATIO,\nBACKING_STORE_RATIO,\n\n// Common CSS strings\nMARGIN = 'margin',\nBORDER = 'border',\nCOLOR = 'color',\nBG_COLOR = 'background-color',\nTRANSPARENT = 'transparent',\nIMPORTANT = ' !important',\n\n// Check if the browser supports <canvas/> elements\nHASCANVAS = !!document.createElement('canvas').getContext,\n\n// Invalid colour values used in parseColours()\nINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\n\n// Camel-case method, taken from jQuery source\n// http://code.jquery.com/jquery-1.8.0.js\nfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\n\n/*\n * Modified from Modernizr's testPropsAll()\n * http://modernizr.com/downloads/modernizr-latest.js\n */\nvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\nfunction vendorCss(elem, prop) {\n\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n\t\tcur, val, i = 0;\n\n\t// If the property has already been mapped...\n\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\n\n\twhile(cur = props[i++]) {\n\t\tif((val = elem.css(cur)) !== undefined) {\n\t\t\tcssProps[prop] = cur;\n\t\t\treturn val;\n\t\t}\n\t}\n}\n\n// Parse a given elements CSS property into an int\nfunction intCss(elem, prop) {\n\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\n}\n\n\n// VML creation (for IE only)\nif(!HASCANVAS) {\n\tcreateVML = function(tag, props, style) {\n\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\n\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\n\t};\n}\n\n// Canvas only definitions\nelse {\n\tPIXEL_RATIO = window.devicePixelRatio || 1;\n\tBACKING_STORE_RATIO = (function() {\n\t\tvar context = document.createElement('canvas').getContext('2d');\n\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n\t})();\n\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n}\n\n\nfunction Tip(qtip, options) {\n\tthis._ns = 'tip';\n\tthis.options = options;\n\tthis.offset = options.offset;\n\tthis.size = [ options.width, options.height ];\n\n\t// Initialize\n\tthis.qtip = qtip;\n\tthis.init(qtip);\n}\n\n$.extend(Tip.prototype, {\n\tinit: function(qtip) {\n\t\tvar context, tip;\n\n\t\t// Create tip element and prepend to the tooltip\n\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\n\n\t\t// Create tip drawing element(s)\n\t\tif(HASCANVAS) {\n\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\n\n\t\t\t// Setup constant parameters\n\t\t\tcontext.lineJoin = 'miter';\n\t\t\tcontext.miterLimit = 100000;\n\t\t\tcontext.save();\n\t\t}\n\t\telse {\n\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n\t\t\tthis.element.html(context + context);\n\n\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\n\t\t}\n\n\t\t// Bind update events\n\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\n\n\t\t// Create it\n\t\tthis.create();\n\t},\n\n\t_swapDimensions: function() {\n\t\tthis.size[0] = this.options.height;\n\t\tthis.size[1] = this.options.width;\n\t},\n\t_resetDimensions: function() {\n\t\tthis.size[0] = this.options.width;\n\t\tthis.size[1] = this.options.height;\n\t},\n\n\t_useTitle: function(corner) {\n\t\tvar titlebar = this.qtip.elements.titlebar;\n\t\treturn titlebar && (\n\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\n\t\t);\n\t},\n\n\t_parseCorner: function(corner) {\n\t\tvar my = this.qtip.options.position.my;\n\n\t\t// Detect corner and mimic properties\n\t\tif(corner === FALSE || my === FALSE) {\n\t\t\tcorner = FALSE;\n\t\t}\n\t\telse if(corner === TRUE) {\n\t\t\tcorner = new CORNER( my.string() );\n\t\t}\n\t\telse if(!corner.string) {\n\t\t\tcorner = new CORNER(corner);\n\t\t\tcorner.fixed = TRUE;\n\t\t}\n\n\t\treturn corner;\n\t},\n\n\t_parseWidth: function(corner, side, use) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(side) + 'Width';\n\n\t\treturn (use ? intCss(use, prop) : \n\t\t\tintCss(elements.content, prop) ||\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop)\n\t\t) || 0;\n\t},\n\n\t_parseRadius: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n\n\t\treturn BROWSER.ie < 9 ? 0 :\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop) || 0;\n\t},\n\n\t_invalidColour: function(elem, prop, compare) {\n\t\tvar val = elem.css(prop);\n\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n\t},\n\n\t_parseColours: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element.css('cssText', ''),\n\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\n\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n\t\t\tcss = this._invalidColour, color = [];\n\n\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\n\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\n\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\n\n\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\n\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\n\n\t\t// Reset background and border colours\n\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\n\n\t\treturn color;\n\t},\n\n\t_calculateSize: function(corner) {\n\t\tvar y = corner.precedance === Y,\n\t\t\twidth = this.options.width,\n\t\t\theight = this.options.height,\n\t\t\tisCenter = corner.abbrev() === 'c',\n\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\n\t\t\tpow = Math.pow,\n\t\t\tround = Math.round,\n\t\t\tbigHyp, ratio, result,\n\n\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\n\t\thyp = [\n\t\t\tthis.border / base * smallHyp,\n\t\t\tthis.border / height * smallHyp\n\t\t];\n\n\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\n\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\n\n\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n\t\tratio = bigHyp / smallHyp;\n\n\t\tresult = [ round(ratio * width), round(ratio * height) ];\n\t\treturn y ? result : result.reverse();\n\t},\n\n\t// Tip coordinates calculator\n\t_calculateTip: function(corner, size, scale) {\n\t\tscale = scale || 1;\n\t\tsize = size || this.size;\n\n\t\tvar width = size[0] * scale,\n\t\t\theight = size[1] * scale,\n\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\n\n\t\t// Define tip coordinates in terms of height and width values\n\t\ttips = {\n\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\n\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\n\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\n\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\n\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\n\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\n\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\n\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\n\t\t};\n\n\t\t// Set common side shapes\n\t\ttips.lt = tips.br; tips.rt = tips.bl;\n\t\ttips.lb = tips.tr; tips.rb = tips.tl;\n\n\t\treturn tips[ corner.abbrev() ];\n\t},\n\n\t// Tip coordinates drawer (canvas)\n\t_drawCoords: function(context, coords) {\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(coords[0], coords[1]);\n\t\tcontext.lineTo(coords[2], coords[3]);\n\t\tcontext.lineTo(coords[4], coords[5]);\n\t\tcontext.closePath();\n\t},\n\n\tcreate: function() {\n\t\t// Determine tip corner\n\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\n\n\t\t// If we have a tip corner...\n\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\t\tif(this.enabled) {\n\t\t\t// Cache it\n\t\t\tthis.qtip.cache.corner = c.clone();\n\n\t\t\t// Create it\n\t\t\tthis.update();\n\t\t}\n\n\t\t// Toggle tip element\n\t\tthis.element.toggle(this.enabled);\n\n\t\treturn this.corner;\n\t},\n\n\tupdate: function(corner, position) {\n\t\tif(!this.enabled) { return this; }\n\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tinner = tip.children(),\n\t\t\toptions = this.options,\n\t\t\tcurSize = this.size,\n\t\t\tmimic = options.mimic,\n\t\t\tround = Math.round,\n\t\t\tcolor, precedance, context,\n\t\t\tcoords, bigCoords, translate, newSize, border;\n\n\t\t// Re-determine tip if not already set\n\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\n\n\t\t// Use corner property if we detect an invalid mimic value\n\t\tif(mimic === FALSE) { mimic = corner; }\n\n\t\t// Otherwise inherit mimic properties from the corner object as necessary\n\t\telse {\n\t\t\tmimic = new CORNER(mimic);\n\t\t\tmimic.precedance = corner.precedance;\n\n\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\n\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\n\t\t\telse if(mimic.x === mimic.y) {\n\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\n\t\t\t}\n\t\t}\n\t\tprecedance = mimic.precedance;\n\n\t\t// Ensure the tip width.height are relative to the tip position\n\t\tif(corner.precedance === X) { this._swapDimensions(); }\n\t\telse { this._resetDimensions(); }\n\n\t\t// Update our colours\n\t\tcolor = this.color = this._parseColours(corner);\n\n\t\t// Detect border width, taking into account colours\n\t\tif(color[1] !== TRANSPARENT) {\n\t\t\t// Grab border width\n\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\n\n\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\n\n\t\t\t// Set border width (use detected border width if options.border is true)\n\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\n\t\t}\n\n\t\t// Border colour was invalid, set border to zero\n\t\telse { this.border = border = 0; }\n\n\t\t// Determine tip size\n\t\tnewSize = this.size = this._calculateSize(corner);\n\t\ttip.css({\n\t\t\twidth: newSize[0],\n\t\t\theight: newSize[1],\n\t\t\tlineHeight: newSize[1]+'px'\n\t\t});\n\n\t\t// Calculate tip translation\n\t\tif(corner.precedance === Y) {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\n\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\n\t\t\t];\n\t\t}\n\t\telse {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\n\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\n\t\t\t];\n\t\t}\n\n\t\t// Canvas drawing implementation\n\t\tif(HASCANVAS) {\n\t\t\t// Grab canvas context and clear/save it\n\t\t\tcontext = inner[0].getContext('2d');\n\t\t\tcontext.restore(); context.save();\n\t\t\tcontext.clearRect(0,0,6000,6000);\n\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\n\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\n\n\t\t\t// Set the canvas size using calculated size\n\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\n\n\t\t\t// Draw the outer-stroke tip\n\t\t\tthis._drawCoords(context, bigCoords);\n\t\t\tcontext.fillStyle = color[1];\n\t\t\tcontext.fill();\n\n\t\t\t// Draw the actual tip\n\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\n\t\t\tthis._drawCoords(context, coords);\n\t\t\tcontext.fillStyle = color[0];\n\t\t\tcontext.fill();\n\t\t}\n\n\t\t// VML (IE Proprietary implementation)\n\t\telse {\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic);\n\n\t\t\t// Setup coordinates string\n\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\n\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\n\n\t\t\t// Setup VML-specific offset for pixel-perfection\n\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\n\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\n\n\t\t\t// Set initial CSS\n\t\t\tinner.css({\n\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\n\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\n\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\n\t\t\t\twidth: newSize[0] + border,\n\t\t\t\theight: newSize[1] + border\n\t\t\t})\n\t\t\t.each(function(i) {\n\t\t\t\tvar $this = $(this);\n\n\t\t\t\t// Set shape specific attributes\n\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\n\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\t\tpath: coords,\n\t\t\t\t\tfillcolor: color[0],\n\t\t\t\t\tfilled: !!i,\n\t\t\t\t\tstroked: !i\n\t\t\t\t})\n\t\t\t\t.toggle(!!(border || i));\n\n\t\t\t\t// Check if border is enabled and add stroke element\n\t\t\t\t!i && $this.html( createVML(\n\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\n\t\t\t\t) );\n\t\t\t});\n\t\t}\n\n\t\t// Opera bug #357 - Incorrect tip position\n\t\t// https://github.com/Craga89/qTip2/issues/367\n\t\twindow.opera && setTimeout(function() {\n\t\t\telements.tip.css({\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\tvisibility: 'visible'\n\t\t\t});\n\t\t}, 1);\n\n\t\t// Position if needed\n\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\n\t},\n\n\tcalculate: function(corner, size) {\n\t\tif(!this.enabled) { return FALSE; }\n\n\t\tvar self = this,\n\t\t\telements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tuserOffset = this.options.offset,\n\t\t\tposition = {},\n\t\t\tprecedance, corners;\n\n\t\t// Inherit corner if not provided\n\t\tcorner = corner || this.corner;\n\t\tprecedance = corner.precedance;\n\n\t\t// Determine which tip dimension to use for adjustment\n\t\tsize = size || this._calculateSize(corner);\n\n\t\t// Setup corners and offset array\n\t\tcorners = [ corner.x, corner.y ];\n\t\tif(precedance === X) { corners.reverse(); }\n\n\t\t// Calculate tip position\n\t\t$.each(corners, function(i, side) {\n\t\t\tvar b, bc, br;\n\n\t\t\tif(side === CENTER) {\n\t\t\t\tb = precedance === Y ? LEFT : TOP;\n\t\t\t\tposition[ b ] = '50%';\n\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\n\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\n\t\t\t\tbr = self._parseRadius(corner);\n\n\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n\t\t\t}\n\t\t});\n\n\t\t// Adjust for tip size\n\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\n\n\t\t// Set and return new position\n\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\n\t\treturn position;\n\t},\n\n\treposition: function(event, api, pos) {\n\t\tif(!this.enabled) { return; }\n\n\t\tvar cache = api.cache,\n\t\t\tnewCorner = this.corner.clone(),\n\t\t\tadjust = pos.adjusted,\n\t\t\tmethod = api.options.position.adjust.method.split(' '),\n\t\t\thorizontal = method[0],\n\t\t\tvertical = method[1] || method[0],\n\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\n\t\t\toffset, css = {}, props;\n\n\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\n\t\t\t// Horizontal - Shift or flip method\n\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\n\t\t\t}\n\t\t\telse if(direction !== SHIFT && adjust[side]){\n\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\n\t\t\t\t\tadjust[side] > 0 ? side : opposite :\n\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\n\t\t\t}\n\t\t}\n\n\t\tfunction shiftonly(xy, side, opposite) {\n\t\t\tif(newCorner[xy] === CENTER) {\n\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops = offset[opposite] !== undefined ?\n\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\n\n\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\n\t\t\t\t\tpos[side] -= adjust[side];\n\t\t\t\t\tshift[side] = FALSE;\n\t\t\t\t}\n\n\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\n\t\t\t}\n\t\t}\n\n\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\t\tif(this.corner.fixed !== TRUE) {\n\t\t\t// Perform shift/flip adjustments\n\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\n\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\n\n\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\n\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n\t\t\t\tthis.update(newCorner, FALSE);\n\t\t\t}\n\t\t}\n\n\t\t// Setup tip offset properties\n\t\toffset = this.calculate(newCorner);\n\n\t\t// Readjust offset object to make it left/top\n\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\n\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\n\t\toffset.user = this.offset;\n\n\t\t// Perform shift adjustments\n\t\tshift.left = horizontal === SHIFT && !!adjust.left;\n\t\tif(shift.left) {\n\t\t\tshiftonly(X, LEFT, RIGHT);\n\t\t}\n\t\tshift.top = vertical === SHIFT && !!adjust.top;\n\t\tif(shift.top) {\n\t\t\tshiftonly(Y, TOP, BOTTOM);\n\t\t}\n\n\t\t/*\n\t\t* If the tip is adjusted in both dimensions, or in a\n\t\t* direction that would cause it to be anywhere but the\n\t\t* outer border, hide it!\n\t\t*/\n\t\tthis.element.css(css).toggle(\n\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\n\t\t);\n\n\t\t// Adjust position to accomodate tip dimensions\n\t\tpos.left -= offset.left.charAt ? offset.user :\n\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n\t\tpos.top -= offset.top.charAt ? offset.user :\n\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\n\n\t\t// Cache details\n\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\n\t\tcache.corner = newCorner.clone();\n\t},\n\n\tdestroy: function() {\n\t\t// Unbind events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Remove the tip element(s)\n\t\tif(this.qtip.elements.tip) {\n\t\t\tthis.qtip.elements.tip.find('*')\n\t\t\t\t.remove().end().remove();\n\t\t}\n\t}\n});\n\nTIP = PLUGINS.tip = function(api) {\n\treturn new Tip(api, api.options.style.tip);\n};\n\n// Initialize tip on render\nTIP.initialize = 'render';\n\n// Setup plugin sanitization options\nTIP.sanitize = function(options) {\n\tif(options.style && 'tip' in options.style) {\n\t\tvar opts = options.style.tip;\n\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\n\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\n\t}\n};\n\n// Add new option checks for the plugin\nCHECKS.tip = {\n\t'^position.my|style.tip.(corner|mimic|border)$': function() {\n\t\t// Make sure a tip can be drawn\n\t\tthis.create();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^style.tip.(height|width)$': function(obj) {\n\t\t// Re-set dimensions and redraw the tip\n\t\tthis.size = [ obj.width, obj.height ];\n\t\tthis.update();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^content.title|style.(classes|widget)$': function() {\n\t\tthis.update();\n\t}\n};\n\n// Extend original qTip defaults\n$.extend(TRUE, QTIP.defaults, {\n\tstyle: {\n\t\ttip: {\n\t\t\tcorner: TRUE,\n\t\t\tmimic: FALSE,\n\t\t\twidth: 6,\n\t\t\theight: 6,\n\t\t\tborder: TRUE,\n\t\t\toffset: 0\n\t\t}\n\t}\n});\n;var MODAL, OVERLAY,\n\tMODALCLASS = 'qtip-modal',\n\tMODALSELECTOR = '.'+MODALCLASS;\n\nOVERLAY = function()\n{\n\tvar self = this,\n\t\tfocusableElems = {},\n\t\tcurrent,\n\t\tprevState,\n\t\telem;\n\n\t// Modified code from jQuery UI 1.10.0 source\n\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\tfunction focusable(element) {\n\t\t// Use the defined focusable checker when possible\n\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\n\n\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\n\t\t\tmap, mapName, img;\n\n\t\tif('area' === nodeName) {\n\t\t\tmap = element.parentNode;\n\t\t\tmapName = map.name;\n\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\n\t\t\treturn !!img && img.is(':visible');\n\t\t}\n\n\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t\t!element.disabled :\n\t\t\t'a' === nodeName ?\n\t\t\t\telement.href || isTabIndexNotNaN :\n\t\t\t\tisTabIndexNotNaN\n\t\t;\n\t}\n\n\t// Focus inputs using cached focusable elements (see update())\n\tfunction focusInputs(blurElems) {\n\t\t// Blurring body element in IE causes window.open windows to unfocus!\n\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\n\n\t\t// Focus the inputs\n\t\telse { focusableElems.first().focus(); }\n\t}\n\n\t// Steal focus from elements outside tooltip\n\tfunction stealFocus(event) {\n\t\tif(!elem.is(':visible')) { return; }\n\n\t\tvar target = $(event.target),\n\t\t\ttooltip = current.tooltip,\n\t\t\tcontainer = target.closest(SELECTOR),\n\t\t\ttargetOnTop;\n\n\t\t// Determine if input container target is above this\n\t\ttargetOnTop = container.length < 1 ? FALSE :\n\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t// If we're showing a modal, but focus has landed on an input below\n\t\t// this modal, divert focus to the first visible input in this modal\n\t\t// or if we can't find one... the tooltip itself\n\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n\t\t\tfocusInputs(target);\n\t\t}\n\t}\n\n\t$.extend(self, {\n\t\tinit: function() {\n\t\t\t// Create document overlay\n\t\t\telem = self.elem = $('<div />', {\n\t\t\t\tid: 'qtip-overlay',\n\t\t\t\thtml: '<div></div>',\n\t\t\t\tmousedown: function() { return FALSE; }\n\t\t\t})\n\t\t\t.hide();\n\n\t\t\t// Make sure we can't focus anything outside the tooltip\n\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\n\n\t\t\t// Apply keyboard \"Escape key\" close handler\n\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply click handler for blur option\n\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.blur) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn self;\n\t\t},\n\n\t\tupdate: function(api) {\n\t\t\t// Update current API reference\n\t\t\tcurrent = api;\n\n\t\t\t// Update focusable elements if enabled\n\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\n\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\n\t\t\t\t\treturn focusable(this);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse { focusableElems = []; }\n\t\t},\n\n\t\ttoggle: function(api, state, duration) {\n\t\t\tvar tooltip = api.tooltip,\n\t\t\t\toptions = api.options.show.modal,\n\t\t\t\teffect = options.effect,\n\t\t\t\ttype = state ? 'show': 'hide',\n\t\t\t\tvisible = elem.is(':visible'),\n\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\n\n\t\t\t// Set active tooltip API reference\n\t\t\tself.update(api);\n\n\t\t\t// If the modal can steal the focus...\n\t\t\t// Blur the current item and focus anything in the modal we an\n\t\t\tif(state && options.stealfocus !== FALSE) {\n\t\t\t\tfocusInputs( $(':focus') );\n\t\t\t}\n\n\t\t\t// Toggle backdrop cursor style on show\n\t\t\telem.toggleClass('blurs', options.blur);\n\n\t\t\t// Append to body on show\n\t\t\tif(state) {\n\t\t\t\telem.appendTo(document.body);\n\t\t\t}\n\n\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n\t\t\t\treturn self;\n\t\t\t}\n\n\t\t\t// Stop all animations\n\t\t\telem.stop(TRUE, FALSE);\n\n\t\t\t// Use custom function if provided\n\t\t\tif($.isFunction(effect)) {\n\t\t\t\teffect.call(elem, state);\n\t\t\t}\n\n\t\t\t// If no effect type is supplied, use a simple toggle\n\t\t\telse if(effect === FALSE) {\n\t\t\t\telem[ type ]();\n\t\t\t}\n\n\t\t\t// Use basic fade function\n\t\t\telse {\n\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\n\t\t\t\t\tif(!state) { elem.hide(); }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Reset position and detach from body on hide\n\t\t\tif(!state) {\n\t\t\t\telem.queue(function(next) {\n\t\t\t\t\telem.css({ left: '', top: '' });\n\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\n\t\t\t\t\tnext();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Cache the state\n\t\t\tprevState = state;\n\n\t\t\t// If the tooltip is destroyed, set reference to null\n\t\t\tif(current.destroyed) { current = NULL; }\n\n\t\t\treturn self;\n\t\t}\n\t});\n\n\tself.init();\n};\nOVERLAY = new OVERLAY();\n\nfunction Modal(api, options) {\n\tthis.options = options;\n\tthis._ns = '-modal';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Modal.prototype, {\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// If modal is disabled... return\n\t\tif(!this.options.on) { return this; }\n\n\t\t// Set overlay reference\n\t\tqtip.elements.overlay = OVERLAY.elem;\n\n\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\n\n\t\t// Apply our show/hide/focus modal events\n\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\n\t\t\tvar oEvent = event.originalEvent;\n\n\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\ttry { event.preventDefault(); }\n\t\t\t\t\tcatch(e) {}\n\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t}\n\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\n\t\t\t\t}\n\t\t\t}\n\t\t}, this._ns, this);\n\n\t\t// Adjust modal z-index on tooltip focus\n\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\n\t\t\t// If focus was cancelled before it reached us, don't do anything\n\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\n\n\t\t\tvar qtips = $(MODALSELECTOR),\n\n\t\t\t// Keep the modal's lower than other, regular qtips\n\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\n\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t\t// Set overlay z-index\n\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\n\n\t\t\t// Reduce modal z-index's and keep them properly ordered\n\t\t\tqtips.each(function() {\n\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\tthis.style.zIndex -= 1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Fire blur event for focused tooltip\n\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\n\t\t\t// Set current\n\t\t\tOVERLAY.update(api);\n\n\t\t\t// Prevent default handling\n\t\t\t/* eslint-disable no-empty */\n\t\t\ttry { event.preventDefault(); }\n\t\t\tcatch(e) {}\n\t\t\t/* eslint-enable no-empty */\n\t\t}, this._ns, this);\n\n\t\t// Focus any other visible modals when this one hides\n\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n\t\t\t}\n\t\t}, this._ns, this);\n\t},\n\n\ttoggle: function(event, state, duration) {\n\t\t// Make sure default event hasn't been prevented\n\t\tif(event && event.isDefaultPrevented()) { return this; }\n\n\t\t// Toggle it\n\t\tOVERLAY.toggle(this.qtip, !!state, duration);\n\t},\n\n\tdestroy: function() {\n\t\t// Remove modal class\n\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Delete element reference\n\t\tOVERLAY.toggle(this.qtip, FALSE);\n\t\tdelete this.qtip.elements.overlay;\n\t}\n});\n\n\nMODAL = PLUGINS.modal = function(api) {\n\treturn new Modal(api, api.options.show.modal);\n};\n\n// Setup sanitiztion rules\nMODAL.sanitize = function(opts) {\n\tif(opts.show) {\n\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\n\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\n\t}\n};\n\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\n/* eslint-disable camelcase */\nQTIP.modal_zindex = QTIP.zindex - 200;\n/* eslint-enable camelcase */\n\n// Plugin needs to be initialized on render\nMODAL.initialize = 'render';\n\n// Setup option set checks\nCHECKS.modal = {\n\t'^show.modal.(on|blur)$': function() {\n\t\t// Initialise\n\t\tthis.destroy();\n\t\tthis.init();\n\n\t\t// Show the modal if not visible already and tooltip is visible\n\t\tthis.qtip.elems.overlay.toggle(\n\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\n\t\t);\n\t}\n};\n\n// Extend original api defaults\n$.extend(TRUE, QTIP.defaults, {\n\tshow: {\n\t\tmodal: {\n\t\t\ton: FALSE,\n\t\t\teffect: TRUE,\n\t\t\tblur: TRUE,\n\t\t\tstealfocus: TRUE,\n\t\t\tescape: TRUE\n\t\t}\n\t}\n});\n;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\n{\n\tvar target = posOptions.target,\n\t\ttooltip = api.elements.tooltip,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\tmethodX = method[0],\n\t\tmethodY = method[1] || method[0],\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjusted = { left: 0, top: 0 },\n\t\tfixed, newMy, containerOffset, containerStatic,\n\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\n\n\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n\t\treturn adjusted;\n\t}\n\n\t// Cach container details\n\tcontainerOffset = container.offset() || adjusted;\n\tcontainerStatic = container.css('position') === 'static';\n\n\t// Cache our viewport details\n\tfixed = tooltip.css('position') === 'fixed';\n\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\n\tviewportOffset = viewport.offset() || adjusted;\n\n\t// Generic calculation method\n\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n\t\tvar initialPos = position[side1],\n\t\t\tmySide = my[side],\n\t\t\tatSide = at[side],\n\t\t\tisShift = type === SHIFT,\n\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n\t\t\toverflow1 = sideOffset - initialPos,\n\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\n\n\t\t// shift\n\t\tif(isShift) {\n\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\n\n\t\t\t// Adjust position but keep it within viewport dimensions\n\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n\t\t\tposition[side1] = Math.max(\n\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\n\t\t\t\tinitialPos - offset,\n\t\t\t\tMath.min(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\n\t\t\t\t\t\tinitialPos + offset\n\t\t\t\t\t),\n\t\t\t\t\tposition[side1],\n\n\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\n\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\n\t\t\t\t)\n\t\t\t);\n\n\t\t}\n\n\t\t// flip/flipinvert\n\t\telse {\n\t\t\t// Update adjustment amount depending on if using flipinvert or flip\n\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\n\n\t\t\t// Check for overflow on the left/top\n\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n\t\t\t\tposition[side1] -= offset + adjustment;\n\t\t\t\tnewMy.invert(side, side1);\n\t\t\t}\n\n\t\t\t// Check for overflow on the bottom/right\n\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\n\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n\t\t\t\tnewMy.invert(side, side2);\n\t\t\t}\n\n\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\n\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\n\t\t\t}\n\t\t}\n\n\t\treturn position[side1] - initialPos;\n\t}\n\n\t// Set newMy if using flip or flipinvert methods\n\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\n\n\t// Adjust position based onviewport and adjustment options\n\tadjusted = {\n\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\n\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\n\t\tmy: newMy\n\t};\n\n\treturn adjusted;\n};\n;PLUGINS.polys = {\n\t// POLY area coordinate calculator\n\t//\tSpecial thanks to Ed Cradock for helping out with this.\n\t//\tUses a binary search algorithm to find suitable coordinates.\n\tpolygon: function(baseCoords, corner) {\n\t\tvar result = {\n\t\t\twidth: 0, height: 0,\n\t\t\tposition: {\n\t\t\t\ttop: 1e10, right: 0,\n\t\t\t\tbottom: 0, left: 1e10\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t},\n\t\ti = 0, next,\n\t\tcoords = [],\n\t\tcompareX = 1, compareY = 1,\n\t\trealX = 0, realY = 0,\n\t\tnewWidth, newHeight;\n\n\t\t// First pass, sanitize coords and determine outer edges\n\t\ti = baseCoords.length; \n\t\twhile(i--) {\n\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\n\n\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\n\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\n\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\n\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\n\n\t\t\tcoords.push(next);\n\t\t}\n\n\t\t// Calculate height and width from outer edges\n\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\n\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\n\n\t\t// If it's the center corner...\n\t\tif(corner.abbrev() === 'c') {\n\t\t\tresult.position = {\n\t\t\t\tleft: result.position.left + result.width / 2,\n\t\t\t\ttop: result.position.top + result.height / 2\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\n\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\n\t\t\t{\n\t\t\t\tnewWidth = Math.floor(newWidth / 2);\n\t\t\t\tnewHeight = Math.floor(newHeight / 2);\n\n\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\n\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\n\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\n\n\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\n\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\n\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\n\n\t\t\t\ti = coords.length;\n\t\t\t\twhile(i--)\n\t\t\t\t{\n\t\t\t\t\tif(coords.length < 2){ break; }\n\n\t\t\t\t\trealX = coords[i][0] - result.position.left;\n\t\t\t\t\trealY = coords[i][1] - result.position.top;\n\n\t\t\t\t\tif(\n\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\n\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\n\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\n\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\n\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\n\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n\t\t\t\t\t\tcoords.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\n\t\t}\n\n\t\treturn result;\n\t},\n\n\trect: function(ax, ay, bx, by) {\n\t\treturn {\n\t\t\twidth: Math.abs(bx - ax),\n\t\t\theight: Math.abs(by - ay),\n\t\t\tposition: {\n\t\t\t\tleft: Math.min(ax, bx),\n\t\t\t\ttop: Math.min(ay, by)\n\t\t\t}\n\t\t};\n\t},\n\n\t_angles: {\n\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\n\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\n\t\trc: 2, lc: 1, c: 0\n\t},\n\tellipse: function(cx, cy, rx, ry, corner) {\n\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\n\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\n\t\t\trys = ry * Math.sin( c * Math.PI );\n\n\t\treturn {\n\t\t\twidth: rx * 2 - Math.abs(rxc),\n\t\t\theight: ry * 2 - Math.abs(rys),\n\t\t\tposition: {\n\t\t\t\tleft: cx + rxc,\n\t\t\t\ttop: cy + rys\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t};\n\t},\n\tcircle: function(cx, cy, r, corner) {\n\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n\t}\n};\n;PLUGINS.svg = function(api, svg, corner)\n{\n\tvar elem = svg[0],\n\t\troot = $(elem.ownerSVGElement),\n\t\townerDocument = elem.ownerDocument,\n\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n\t\tframeOffset, mtx, transformed,\n\t\tlen, next, i, points,\n\t\tresult, position;\n\n\t// Ascend the parentNode chain until we find an element with getBBox()\n\twhile(!elem.getBBox) { elem = elem.parentNode; }\n\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\n\n\t// Determine which shape calculation to use\n\tswitch(elem.nodeName) {\n\t\tcase 'ellipse':\n\t\tcase 'circle':\n\t\t\tresult = PLUGINS.polys.ellipse(\n\t\t\t\telem.cx.baseVal.value,\n\t\t\t\telem.cy.baseVal.value,\n\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\tcorner\n\t\t\t);\n\t\tbreak;\n\n\t\tcase 'line':\n\t\tcase 'polygon':\n\t\tcase 'polyline':\n\t\t\t// Determine points object (line has none, so mimic using array)\n\t\t\tpoints = elem.points || [\n\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\n\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\n\t\t\t];\n\n\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\n\t\t\t\tresult.push.apply(result, [next.x, next.y]);\n\t\t\t}\n\n\t\t\tresult = PLUGINS.polys.polygon(result, corner);\n\t\tbreak;\n\n\t\t// Unknown shape or rectangle? Use bounding box\n\t\tdefault:\n\t\t\tresult = elem.getBBox();\n\t\t\tresult = {\n\t\t\t\twidth: result.width,\n\t\t\t\theight: result.height,\n\t\t\t\tposition: {\n\t\t\t\t\tleft: result.x,\n\t\t\t\t\ttop: result.y\n\t\t\t\t}\n\t\t\t};\n\t\tbreak;\n\t}\n\n\t// Shortcut assignments\n\tposition = result.position;\n\troot = root[0];\n\n\t// Convert position into a pixel value\n\tif(root.createSVGPoint) {\n\t\tmtx = elem.getScreenCTM();\n\t\tpoints = root.createSVGPoint();\n\n\t\tpoints.x = position.left;\n\t\tpoints.y = position.top;\n\t\ttransformed = points.matrixTransform( mtx );\n\t\tposition.left = transformed.x;\n\t\tposition.top = transformed.y;\n\t}\n\n\t// Check the element is not in a child document, and if so, adjust for frame elements offset\n\tif(ownerDocument !== document && api.position.target !== 'mouse') {\n\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\t\tif(frameOffset) {\n\t\t\tposition.left += frameOffset.left;\n\t\t\tposition.top += frameOffset.top;\n\t\t}\n\t}\n\n\t// Adjust by scroll offset of owner document\n\townerDocument = $(ownerDocument);\n\tposition.left += ownerDocument.scrollLeft();\n\tposition.top += ownerDocument.scrollTop();\n\n\treturn result;\n};\n;PLUGINS.imagemap = function(api, area, corner)\n{\n\tif(!area.jquery) { area = $(area); }\n\n\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\n\t\tcoordsString = $.trim(area.attr('coords')),\n\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\n\t\timageOffset, coords, i, result, len;\n\n\t// If we can't find the image using the map...\n\tif(!image.length) { return FALSE; }\n\n\t// Pass coordinates string if polygon\n\tif(shape === 'polygon') {\n\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\n\t}\n\n\t// Otherwise parse the coordinates and pass them as arguments\n\telse if(PLUGINS.polys[shape]) {\n\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\n\t\t}\n\n\t\tresult = PLUGINS.polys[shape].apply(\n\t\t\tthis, coords.concat(corner)\n\t\t);\n\t}\n\n\t// If no shapre calculation method was found, return false\n\telse { return FALSE; }\n\n\t// Make sure we account for padding and borders on the image\n\timageOffset = image.offset();\n\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\n\n\t// Add image position to offset coordinates\n\tresult.position.left += imageOffset.left;\n\tresult.position.top += imageOffset.top;\n\n\treturn result;\n};\n;var IE6,\n\n/*\n * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n * Special thanks to Brandon Aaron\n */\nBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\n\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\n\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\nfunction Ie6(api) {\n\tthis._ns = 'ie6';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Ie6.prototype, {\n\t_scroll : function() {\n\t\tvar overlay = this.qtip.elements.overlay;\n\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n\t},\n\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// Create the BGIFrame element if needed\n\t\tif($('select, object').length < 1) {\n\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\n\n\t\t\t// Update BGIFrame on tooltip move\n\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n\t\t}\n\n\t\t// redraw() container for width/height calculations\n\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\n\t\t\t.appendTo(document.body);\n\n\t\t// Fixup modal plugin if present too\n\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\n\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n\t\t}\n\n\t\t// Set dimensions\n\t\tthis.redraw();\n\t},\n\n\tadjustBGIFrame: function() {\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tdimensions = {\n\t\t\t\theight: tooltip.outerHeight(FALSE),\n\t\t\t\twidth: tooltip.outerWidth(FALSE)\n\t\t\t},\n\t\t\tplugin = this.qtip.plugins.tip,\n\t\t\ttip = this.qtip.elements.tip,\n\t\t\ttipAdjust, offset;\n\n\t\t// Adjust border offset\n\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n\t\toffset = { left: -offset, top: -offset };\n\n\t\t// Adjust for tips plugin\n\t\tif(plugin && tip) {\n\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\n\t\t}\n\n\t\t// Update bgiframe\n\t\tthis.bgiframe.css(offset).css(dimensions);\n\t},\n\n\t// Max/min width simulator function\n\tredraw: function() {\n\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\n\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tstyle = this.qtip.options.style,\n\t\t\tcontainer = this.qtip.options.position.container,\n\t\t\tperc, width, max, min;\n\n\t\t// Set drawing flag\n\t\tthis.qtip.drawing = 1;\n\n\t\t// If tooltip has a set height/width, just set it... like a boss!\n\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\n\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\n\n\t\t// Simulate max/min width if not set width present...\n\t\telse {\n\t\t\t// Reset width and add fluid class\n\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\n\n\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\t\t\twidth = tooltip.width();\n\t\t\tif(width % 2 < 1) { width += 1; }\n\n\t\t\t// Grab our max/min properties\n\t\t\tmax = tooltip.css('maxWidth') || '';\n\t\t\tmin = tooltip.css('minWidth') || '';\n\n\t\t\t// Parse into proper pixel values\n\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\n\n\t\t\t// Determine new dimension size based on max/min/current values\n\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\n\n\t\t\t// Set the newly calculated width and remvoe fluid class\n\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\n\t\t}\n\n\t\t// Set drawing flag\n\t\tthis.drawing = 0;\n\n\t\treturn this;\n\t},\n\n\tdestroy: function() {\n\t\t// Remove iframe\n\t\tthis.bgiframe && this.bgiframe.remove();\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\n\t}\n});\n\nIE6 = PLUGINS.ie6 = function(api) {\n\t// Proceed only if the browser is IE6\n\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n};\n\nIE6.initialize = 'render';\n\nCHECKS.ie6 = {\n\t'^content|style$': function() {\n\t\tthis.redraw();\n\t}\n};\n;}));\n}( window, document ));\n","!function(n,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(\"underscore\",r):(n=\"undefined\"!=typeof globalThis?globalThis:n||self,function(){var t=n._,e=n._=r();e.noConflict=function(){return n._=t,e}}())}(this,(function(){\n//     Underscore.js 1.13.1\n//     https://underscorejs.org\n//     (c) 2009-2021 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\nvar n=\"1.13.1\",r=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global||Function(\"return this\")()||{},t=Array.prototype,e=Object.prototype,u=\"undefined\"!=typeof Symbol?Symbol.prototype:null,o=t.push,i=t.slice,a=e.toString,f=e.hasOwnProperty,c=\"undefined\"!=typeof ArrayBuffer,l=\"undefined\"!=typeof DataView,s=Array.isArray,p=Object.keys,v=Object.create,h=c&&ArrayBuffer.isView,y=isNaN,d=isFinite,g=!{toString:null}.propertyIsEnumerable(\"toString\"),b=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],m=Math.pow(2,53)-1;function j(n,r){return r=null==r?n.length-1:+r,function(){for(var t=Math.max(arguments.length-r,0),e=Array(t),u=0;u<t;u++)e[u]=arguments[u+r];switch(r){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var o=Array(r+1);for(u=0;u<r;u++)o[u]=arguments[u];return o[r]=e,n.apply(this,o)}}function _(n){var r=typeof n;return\"function\"===r||\"object\"===r&&!!n}function w(n){return void 0===n}function A(n){return!0===n||!1===n||\"[object Boolean]\"===a.call(n)}function x(n){var r=\"[object \"+n+\"]\";return function(n){return a.call(n)===r}}var S=x(\"String\"),O=x(\"Number\"),M=x(\"Date\"),E=x(\"RegExp\"),B=x(\"Error\"),N=x(\"Symbol\"),I=x(\"ArrayBuffer\"),T=x(\"Function\"),k=r.document&&r.document.childNodes;\"function\"!=typeof/./&&\"object\"!=typeof Int8Array&&\"function\"!=typeof k&&(T=function(n){return\"function\"==typeof n||!1});var D=T,R=x(\"Object\"),F=l&&R(new DataView(new ArrayBuffer(8))),V=\"undefined\"!=typeof Map&&R(new Map),P=x(\"DataView\");var q=F?function(n){return null!=n&&D(n.getInt8)&&I(n.buffer)}:P,U=s||x(\"Array\");function W(n,r){return null!=n&&f.call(n,r)}var z=x(\"Arguments\");!function(){z(arguments)||(z=function(n){return W(n,\"callee\")})}();var L=z;function $(n){return O(n)&&y(n)}function C(n){return function(){return n}}function K(n){return function(r){var t=n(r);return\"number\"==typeof t&&t>=0&&t<=m}}function J(n){return function(r){return null==r?void 0:r[n]}}var G=J(\"byteLength\"),H=K(G),Q=/\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;var X=c?function(n){return h?h(n)&&!q(n):H(n)&&Q.test(a.call(n))}:C(!1),Y=J(\"length\");function Z(n,r){r=function(n){for(var r={},t=n.length,e=0;e<t;++e)r[n[e]]=!0;return{contains:function(n){return r[n]},push:function(t){return r[t]=!0,n.push(t)}}}(r);var t=b.length,u=n.constructor,o=D(u)&&u.prototype||e,i=\"constructor\";for(W(n,i)&&!r.contains(i)&&r.push(i);t--;)(i=b[t])in n&&n[i]!==o[i]&&!r.contains(i)&&r.push(i)}function nn(n){if(!_(n))return[];if(p)return p(n);var r=[];for(var t in n)W(n,t)&&r.push(t);return g&&Z(n,r),r}function rn(n,r){var t=nn(r),e=t.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=t[o];if(r[i]!==u[i]||!(i in u))return!1}return!0}function tn(n){return n instanceof tn?n:this instanceof tn?void(this._wrapped=n):new tn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}tn.VERSION=n,tn.prototype.value=function(){return this._wrapped},tn.prototype.valueOf=tn.prototype.toJSON=tn.prototype.value,tn.prototype.toString=function(){return String(this._wrapped)};var un=\"[object DataView]\";function on(n,r,t,e){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r)return!1;if(n!=n)return r!=r;var o=typeof n;return(\"function\"===o||\"object\"===o||\"object\"==typeof r)&&function n(r,t,e,o){r instanceof tn&&(r=r._wrapped);t instanceof tn&&(t=t._wrapped);var i=a.call(r);if(i!==a.call(t))return!1;if(F&&\"[object Object]\"==i&&q(r)){if(!q(t))return!1;i=un}switch(i){case\"[object RegExp]\":case\"[object String]\":return\"\"+r==\"\"+t;case\"[object Number]\":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case\"[object Date]\":case\"[object Boolean]\":return+r==+t;case\"[object Symbol]\":return u.valueOf.call(r)===u.valueOf.call(t);case\"[object ArrayBuffer]\":case un:return n(en(r),en(t),e,o)}var f=\"[object Array]\"===i;if(!f&&X(r)){if(G(r)!==G(t))return!1;if(r.buffer===t.buffer&&r.byteOffset===t.byteOffset)return!0;f=!0}if(!f){if(\"object\"!=typeof r||\"object\"!=typeof t)return!1;var c=r.constructor,l=t.constructor;if(c!==l&&!(D(c)&&c instanceof c&&D(l)&&l instanceof l)&&\"constructor\"in r&&\"constructor\"in t)return!1}o=o||[];var s=(e=e||[]).length;for(;s--;)if(e[s]===r)return o[s]===t;if(e.push(r),o.push(t),f){if((s=r.length)!==t.length)return!1;for(;s--;)if(!on(r[s],t[s],e,o))return!1}else{var p,v=nn(r);if(s=v.length,nn(t).length!==s)return!1;for(;s--;)if(p=v[s],!W(t,p)||!on(r[p],t[p],e,o))return!1}return e.pop(),o.pop(),!0}(n,r,t,e)}function an(n){if(!_(n))return[];var r=[];for(var t in n)r.push(t);return g&&Z(n,r),r}function fn(n){var r=Y(n);return function(t){if(null==t)return!1;var e=an(t);if(Y(e))return!1;for(var u=0;u<r;u++)if(!D(t[n[u]]))return!1;return n!==hn||!D(t[cn])}}var cn=\"forEach\",ln=\"has\",sn=[\"clear\",\"delete\"],pn=[\"get\",ln,\"set\"],vn=sn.concat(cn,pn),hn=sn.concat(pn),yn=[\"add\"].concat(sn,cn,ln),dn=V?fn(vn):x(\"Map\"),gn=V?fn(hn):x(\"WeakMap\"),bn=V?fn(yn):x(\"Set\"),mn=x(\"WeakSet\");function jn(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=n[r[u]];return e}function _n(n){for(var r={},t=nn(n),e=0,u=t.length;e<u;e++)r[n[t[e]]]=t[e];return r}function wn(n){var r=[];for(var t in n)D(n[t])&&r.push(t);return r.sort()}function An(n,r){return function(t){var e=arguments.length;if(r&&(t=Object(t)),e<2||null==t)return t;for(var u=1;u<e;u++)for(var o=arguments[u],i=n(o),a=i.length,f=0;f<a;f++){var c=i[f];r&&void 0!==t[c]||(t[c]=o[c])}return t}}var xn=An(an),Sn=An(nn),On=An(an,!0);function Mn(n){if(!_(n))return{};if(v)return v(n);var r=function(){};r.prototype=n;var t=new r;return r.prototype=null,t}function En(n){return _(n)?U(n)?n.slice():xn({},n):n}function Bn(n){return U(n)?n:[n]}function Nn(n){return tn.toPath(n)}function In(n,r){for(var t=r.length,e=0;e<t;e++){if(null==n)return;n=n[r[e]]}return t?n:void 0}function Tn(n,r,t){var e=In(n,Nn(r));return w(e)?t:e}function kn(n){return n}function Dn(n){return n=Sn({},n),function(r){return rn(r,n)}}function Rn(n){return n=Nn(n),function(r){return In(r,n)}}function Fn(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return function(){return n.apply(r,arguments)}}function Vn(n,r,t){return null==n?kn:D(n)?Fn(n,r,t):_(n)&&!U(n)?Dn(n):Rn(n)}function Pn(n,r){return Vn(n,r,1/0)}function qn(n,r,t){return tn.iteratee!==Pn?tn.iteratee(n,r):Vn(n,r,t)}function Un(){}function Wn(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))}tn.toPath=Bn,tn.iteratee=Pn;var zn=Date.now||function(){return(new Date).getTime()};function Ln(n){var r=function(r){return n[r]},t=\"(?:\"+nn(n).join(\"|\")+\")\",e=RegExp(t),u=RegExp(t,\"g\");return function(n){return n=null==n?\"\":\"\"+n,e.test(n)?n.replace(u,r):n}}var $n={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},Cn=Ln($n),Kn=Ln(_n($n)),Jn=tn.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},Gn=/(.)^/,Hn={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Qn=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g;function Xn(n){return\"\\\\\"+Hn[n]}var Yn=/^\\s*(\\w|\\$)+\\s*$/;var Zn=0;function nr(n,r,t,e,u){if(!(e instanceof r))return n.apply(t,u);var o=Mn(n.prototype),i=n.apply(o,u);return _(i)?i:o}var rr=j((function(n,r){var t=rr.placeholder,e=function(){for(var u=0,o=r.length,i=Array(o),a=0;a<o;a++)i[a]=r[a]===t?arguments[u++]:r[a];for(;u<arguments.length;)i.push(arguments[u++]);return nr(n,e,this,this,i)};return e}));rr.placeholder=tn;var tr=j((function(n,r,t){if(!D(n))throw new TypeError(\"Bind must be called on a function\");var e=j((function(u){return nr(n,e,r,this,t.concat(u))}));return e})),er=K(Y);function ur(n,r,t,e){if(e=e||[],r||0===r){if(r<=0)return e.concat(n)}else r=1/0;for(var u=e.length,o=0,i=Y(n);o<i;o++){var a=n[o];if(er(a)&&(U(a)||L(a)))if(r>1)ur(a,r-1,t,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else t||(e[u++]=a)}return e}var or=j((function(n,r){var t=(r=ur(r,!1,!1)).length;if(t<1)throw new Error(\"bindAll must be passed function names\");for(;t--;){var e=r[t];n[e]=tr(n[e],n)}return n}));var ir=j((function(n,r,t){return setTimeout((function(){return n.apply(null,t)}),r)})),ar=rr(ir,tn,1);function fr(n){return function(){return!n.apply(this,arguments)}}function cr(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),n<=1&&(r=null),t}}var lr=rr(cr,2);function sr(n,r,t){r=qn(r,t);for(var e,u=nn(n),o=0,i=u.length;o<i;o++)if(r(n[e=u[o]],e,n))return e}function pr(n){return function(r,t,e){t=qn(t,e);for(var u=Y(r),o=n>0?0:u-1;o>=0&&o<u;o+=n)if(t(r[o],o,r))return o;return-1}}var vr=pr(1),hr=pr(-1);function yr(n,r,t,e){for(var u=(t=qn(t,e,1))(r),o=0,i=Y(n);o<i;){var a=Math.floor((o+i)/2);t(n[a])<u?o=a+1:i=a}return o}function dr(n,r,t){return function(e,u,o){var a=0,f=Y(e);if(\"number\"==typeof o)n>0?a=o>=0?o:Math.max(o+f,a):f=o>=0?Math.min(o+1,f):o+f+1;else if(t&&o&&f)return e[o=t(e,u)]===u?o:-1;if(u!=u)return(o=r(i.call(e,a,f),$))>=0?o+a:-1;for(o=n>0?a:f-1;o>=0&&o<f;o+=n)if(e[o]===u)return o;return-1}}var gr=dr(1,vr,yr),br=dr(-1,hr);function mr(n,r,t){var e=(er(n)?vr:sr)(n,r,t);if(void 0!==e&&-1!==e)return n[e]}function jr(n,r,t){var e,u;if(r=Fn(r,t),er(n))for(e=0,u=n.length;e<u;e++)r(n[e],e,n);else{var o=nn(n);for(e=0,u=o.length;e<u;e++)r(n[o[e]],o[e],n)}return n}function _r(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=r(n[a],a,n)}return o}function wr(n){var r=function(r,t,e,u){var o=!er(r)&&nn(r),i=(o||r).length,a=n>0?0:i-1;for(u||(e=r[o?o[a]:a],a+=n);a>=0&&a<i;a+=n){var f=o?o[a]:a;e=t(e,r[f],f,r)}return e};return function(n,t,e,u){var o=arguments.length>=3;return r(n,Fn(t,u,4),e,o)}}var Ar=wr(1),xr=wr(-1);function Sr(n,r,t){var e=[];return r=qn(r,t),jr(n,(function(n,t,u){r(n,t,u)&&e.push(n)})),e}function Or(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!r(n[i],i,n))return!1}return!0}function Mr(n,r,t){r=qn(r,t);for(var e=!er(n)&&nn(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(r(n[i],i,n))return!0}return!1}function Er(n,r,t,e){return er(n)||(n=jn(n)),(\"number\"!=typeof t||e)&&(t=0),gr(n,r,t)>=0}var Br=j((function(n,r,t){var e,u;return D(r)?u=r:(r=Nn(r),e=r.slice(0,-1),r=r[r.length-1]),_r(n,(function(n){var o=u;if(!o){if(e&&e.length&&(n=In(n,e)),null==n)return;o=n[r]}return null==o?o:o.apply(n,t)}))}));function Nr(n,r){return _r(n,Rn(r))}function Ir(n,r,t){var e,u,o=-1/0,i=-1/0;if(null==r||\"number\"==typeof r&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=er(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e>o&&(o=e);else r=qn(r,t),jr(n,(function(n,t,e){((u=r(n,t,e))>i||u===-1/0&&o===-1/0)&&(o=n,i=u)}));return o}function Tr(n,r,t){if(null==r||t)return er(n)||(n=jn(n)),n[Wn(n.length-1)];var e=er(n)?En(n):jn(n),u=Y(e);r=Math.max(Math.min(r,u),0);for(var o=u-1,i=0;i<r;i++){var a=Wn(i,o),f=e[i];e[i]=e[a],e[a]=f}return e.slice(0,r)}function kr(n,r){return function(t,e,u){var o=r?[[],[]]:{};return e=qn(e,u),jr(t,(function(r,u){var i=e(r,u,t);n(o,r,i)})),o}}var Dr=kr((function(n,r,t){W(n,t)?n[t].push(r):n[t]=[r]})),Rr=kr((function(n,r,t){n[t]=r})),Fr=kr((function(n,r,t){W(n,t)?n[t]++:n[t]=1})),Vr=kr((function(n,r,t){n[t?0:1].push(r)}),!0),Pr=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;function qr(n,r,t){return r in t}var Ur=j((function(n,r){var t={},e=r[0];if(null==n)return t;D(e)?(r.length>1&&(e=Fn(e,r[1])),r=an(n)):(e=qr,r=ur(r,!1,!1),n=Object(n));for(var u=0,o=r.length;u<o;u++){var i=r[u],a=n[i];e(a,i,n)&&(t[i]=a)}return t})),Wr=j((function(n,r){var t,e=r[0];return D(e)?(e=fr(e),r.length>1&&(t=r[1])):(r=_r(ur(r,!1,!1),String),e=function(n,t){return!Er(r,t)}),Ur(n,e,t)}));function zr(n,r,t){return i.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))}function Lr(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[0]:zr(n,n.length-r)}function $r(n,r,t){return i.call(n,null==r||t?1:r)}var Cr=j((function(n,r){return r=ur(r,!0,!0),Sr(n,(function(n){return!Er(r,n)}))})),Kr=j((function(n,r){return Cr(n,r)}));function Jr(n,r,t,e){A(r)||(e=t,t=r,r=!1),null!=t&&(t=qn(t,e));for(var u=[],o=[],i=0,a=Y(n);i<a;i++){var f=n[i],c=t?t(f,i,n):f;r&&!t?(i&&o===c||u.push(f),o=c):t?Er(o,c)||(o.push(c),u.push(f)):Er(u,f)||u.push(f)}return u}var Gr=j((function(n){return Jr(ur(n,!0,!0))}));function Hr(n){for(var r=n&&Ir(n,Y).length||0,t=Array(r),e=0;e<r;e++)t[e]=Nr(n,e);return t}var Qr=j(Hr);function Xr(n,r){return n._chain?tn(r).chain():r}function Yr(n){return jr(wn(n),(function(r){var t=tn[r]=n[r];tn.prototype[r]=function(){var n=[this._wrapped];return o.apply(n,arguments),Xr(this,t.apply(tn,n))}})),tn}jr([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(n){var r=t[n];tn.prototype[n]=function(){var t=this._wrapped;return null!=t&&(r.apply(t,arguments),\"shift\"!==n&&\"splice\"!==n||0!==t.length||delete t[0]),Xr(this,t)}})),jr([\"concat\",\"join\",\"slice\"],(function(n){var r=t[n];tn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=r.apply(n,arguments)),Xr(this,n)}}));var Zr=Yr({__proto__:null,VERSION:n,restArguments:j,isObject:_,isNull:function(n){return null===n},isUndefined:w,isBoolean:A,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:M,isRegExp:E,isError:B,isSymbol:N,isArrayBuffer:I,isDataView:q,isArray:U,isFunction:D,isArguments:L,isFinite:function(n){return!N(n)&&d(n)&&!isNaN(parseFloat(n))},isNaN:$,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var r=Y(n);return\"number\"==typeof r&&(U(n)||S(n)||L(n))?0===r:0===Y(nn(n))},isMatch:rn,isEqual:function(n,r){return on(n,r)},isMap:dn,isWeakMap:gn,isSet:bn,isWeakSet:mn,keys:nn,allKeys:an,values:jn,pairs:function(n){for(var r=nn(n),t=r.length,e=Array(t),u=0;u<t;u++)e[u]=[r[u],n[r[u]]];return e},invert:_n,functions:wn,methods:wn,extend:xn,extendOwn:Sn,assign:Sn,defaults:On,create:function(n,r){var t=Mn(n);return r&&Sn(t,r),t},clone:En,tap:function(n,r){return r(n),n},get:Tn,has:function(n,r){for(var t=(r=Nn(r)).length,e=0;e<t;e++){var u=r[e];if(!W(n,u))return!1;n=n[u]}return!!t},mapObject:function(n,r,t){r=qn(r,t);for(var e=nn(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=r(n[a],a,n)}return o},identity:kn,constant:C,noop:Un,toPath:Bn,property:Rn,propertyOf:function(n){return null==n?Un:function(r){return Tn(n,r)}},matcher:Dn,matches:Dn,times:function(n,r,t){var e=Array(Math.max(0,n));r=Fn(r,t,1);for(var u=0;u<n;u++)e[u]=r(u);return e},random:Wn,now:zn,escape:Cn,unescape:Kn,templateSettings:Jn,template:function(n,r,t){!r&&t&&(r=t),r=On({},r,tn.templateSettings);var e=RegExp([(r.escape||Gn).source,(r.interpolate||Gn).source,(r.evaluate||Gn).source].join(\"|\")+\"|$\",\"g\"),u=0,o=\"__p+='\";n.replace(e,(function(r,t,e,i,a){return o+=n.slice(u,a).replace(Qn,Xn),u=a+r.length,t?o+=\"'+\\n((__t=(\"+t+\"))==null?'':_.escape(__t))+\\n'\":e?o+=\"'+\\n((__t=(\"+e+\"))==null?'':__t)+\\n'\":i&&(o+=\"';\\n\"+i+\"\\n__p+='\"),r})),o+=\"';\\n\";var i,a=r.variable;if(a){if(!Yn.test(a))throw new Error(\"variable is not a bare identifier: \"+a)}else o=\"with(obj||{}){\\n\"+o+\"}\\n\",a=\"obj\";o=\"var __t,__p='',__j=Array.prototype.join,\"+\"print=function(){__p+=__j.call(arguments,'');};\\n\"+o+\"return __p;\\n\";try{i=new Function(a,\"_\",o)}catch(n){throw n.source=o,n}var f=function(n){return i.call(this,n,tn)};return f.source=\"function(\"+a+\"){\\n\"+o+\"}\",f},result:function(n,r,t){var e=(r=Nn(r)).length;if(!e)return D(t)?t.call(n):t;for(var u=0;u<e;u++){var o=null==n?void 0:n[r[u]];void 0===o&&(o=t,u=e),n=D(o)?o.call(n):o}return n},uniqueId:function(n){var r=++Zn+\"\";return n?n+r:r},chain:function(n){var r=tn(n);return r._chain=!0,r},iteratee:Pn,partial:rr,bind:tr,bindAll:or,memoize:function(n,r){var t=function(e){var u=t.cache,o=\"\"+(r?r.apply(this,arguments):e);return W(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return t.cache={},t},delay:ir,defer:ar,throttle:function(n,r,t){var e,u,o,i,a=0;t||(t={});var f=function(){a=!1===t.leading?0:zn(),e=null,i=n.apply(u,o),e||(u=o=null)},c=function(){var c=zn();a||!1!==t.leading||(a=c);var l=r-(c-a);return u=this,o=arguments,l<=0||l>r?(e&&(clearTimeout(e),e=null),a=c,i=n.apply(u,o),e||(u=o=null)):e||!1===t.trailing||(e=setTimeout(f,l)),i};return c.cancel=function(){clearTimeout(e),a=0,e=u=o=null},c},debounce:function(n,r,t){var e,u,o,i,a,f=function(){var c=zn()-u;r>c?e=setTimeout(f,r-c):(e=null,t||(i=n.apply(a,o)),e||(o=a=null))},c=j((function(c){return a=this,o=c,u=zn(),e||(e=setTimeout(f,r),t&&(i=n.apply(a,o))),i}));return c.cancel=function(){clearTimeout(e),e=o=a=null},c},wrap:function(n,r){return rr(r,n)},negate:fr,compose:function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},after:function(n,r){return function(){if(--n<1)return r.apply(this,arguments)}},before:cr,once:lr,findKey:sr,findIndex:vr,findLastIndex:hr,sortedIndex:yr,indexOf:gr,lastIndexOf:br,find:mr,detect:mr,findWhere:function(n,r){return mr(n,Dn(r))},each:jr,forEach:jr,map:_r,collect:_r,reduce:Ar,foldl:Ar,inject:Ar,reduceRight:xr,foldr:xr,filter:Sr,select:Sr,reject:function(n,r,t){return Sr(n,fr(qn(r)),t)},every:Or,all:Or,some:Mr,any:Mr,contains:Er,includes:Er,include:Er,invoke:Br,pluck:Nr,where:function(n,r){return Sr(n,Dn(r))},max:Ir,min:function(n,r,t){var e,u,o=1/0,i=1/0;if(null==r||\"number\"==typeof r&&\"object\"!=typeof n[0]&&null!=n)for(var a=0,f=(n=er(n)?n:jn(n)).length;a<f;a++)null!=(e=n[a])&&e<o&&(o=e);else r=qn(r,t),jr(n,(function(n,t,e){((u=r(n,t,e))<i||u===1/0&&o===1/0)&&(o=n,i=u)}));return o},shuffle:function(n){return Tr(n,1/0)},sample:Tr,sortBy:function(n,r,t){var e=0;return r=qn(r,t),Nr(_r(n,(function(n,t,u){return{value:n,index:e++,criteria:r(n,t,u)}})).sort((function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(t<e||void 0===e)return-1}return n.index-r.index})),\"value\")},groupBy:Dr,indexBy:Rr,countBy:Fr,partition:Vr,toArray:function(n){return n?U(n)?i.call(n):S(n)?n.match(Pr):er(n)?_r(n,kn):jn(n):[]},size:function(n){return null==n?0:er(n)?n.length:nn(n).length},pick:Ur,omit:Wr,first:Lr,head:Lr,take:Lr,initial:zr,last:function(n,r,t){return null==n||n.length<1?null==r||t?void 0:[]:null==r||t?n[n.length-1]:$r(n,Math.max(0,n.length-r))},rest:$r,tail:$r,drop:$r,compact:function(n){return Sr(n,Boolean)},flatten:function(n,r){return ur(n,r,!1)},without:Kr,uniq:Jr,unique:Jr,union:Gr,intersection:function(n){for(var r=[],t=arguments.length,e=0,u=Y(n);e<u;e++){var o=n[e];if(!Er(r,o)){var i;for(i=1;i<t&&Er(arguments[i],o);i++);i===t&&r.push(o)}}return r},difference:Cr,unzip:Hr,transpose:Hr,zip:Qr,object:function(n,r){for(var t={},e=0,u=Y(n);e<u;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},range:function(n,r,t){null==r&&(r=n||0,n=0),t||(t=r<n?-1:1);for(var e=Math.max(Math.ceil((r-n)/t),0),u=Array(e),o=0;o<e;o++,n+=t)u[o]=n;return u},chunk:function(n,r){if(null==r||r<1)return[];for(var t=[],e=0,u=n.length;e<u;)t.push(i.call(n,e,e+=r));return t},mixin:Yr,default:tn});return Zr._=Zr,Zr}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(5842);\n"],"names":["root","factory","exports","module","define","amd","self","converters","days","value","hours","minutes","seconds","milliseconds","microseconds","nanoseconds","toMilliseconds","object","Object","entries","reduce","key","TypeError","Error","roundTowardsZero","Math","floor","ceil","x","__esModule","prototype","hasOwnProperty","call","commonjsGlobal","globalThis","window","global","_interopRequireDefault","obj","_interopRequireWildcard","newObj","base$1","base","_handlebarsSafeString2","safeString","_handlebarsException2","exception","Utils","utils","runtime$1","runtime","_handlebarsNoConflict2","noConflict","create","hb","HandlebarsEnvironment","extend","SafeString","Exception","escapeExpression","VM","template","spec","inst","handlebars_runtime","_Handlebars2","getDefaultExportFromCjs","_utils","_exception2","_helpers","helpers","_decorators","decorators","_logger2","logger","_internalProtoAccess","protoAccess","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","objectType","partials","this","registerDefaultHelpers","registerDefaultDecorators","constructor","log","registerHelper","name","fn","toString","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","resetLoggedPropertyAccesses","resetLoggedProperties","createFrame","instance","_decoratorsInline2","_decoratorsInline","inline","props","container","options","ret","context","original","args","errorProps","message","node","loc","line","undefined","endLineNumber","column","endColumn","start","end","tmp","idx","length","captureStackTrace","lineNumber","defineProperty","enumerable","nop","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","moveHelperToHooks","helperName","keepHelper","hooks","blockHelperMissing","each","helperMissing","_if","lookup","_with","inverse","isArray","ids","data","contextPath","appendContextPath","_exception","priorKey","i","execIteration","field","index","last","first","blockParams","isFunction","j","Symbol","iterator","newContext","it","next","done","push","keys","forEach","arguments","conditional","hash","includeZero","isEmpty","level","apply","lookupProperty","createNewLookupObject$1","createNewLookupObject","_len","sources","Array","_key","concat","createProtoAccessControl","runtimeOptions","defaultMethodWhiteList","defaultPropertyWhiteList","properties","whitelist","_createNewLookupObject","allowedProtoProperties","defaultValue","allowProtoPropertiesByDefault","methods","allowedProtoMethods","allowProtoMethodsByDefault","resultIsAllowed","result","protoAccessControl","propertyName","checkWhiteList","loggedProperties","logger$1","protoAccessControlForType","logUnexpecedPropertyAccessOnce","wrapHelper$1","wrapHelper","helper","transformOptionsFn","methodMap","lookupLevel","levelMap","indexOf","toLowerCase","parseInt","console","method","Handlebars","$Handlebars","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","env","main","decorator","main_d","compiler","templateWasPrecompiledWithCompilerV7","strict","parent","depths","len","lambda","current","invokePartial","resolvePartial","extendedOptions","compile","compilerOptions","indent","lines","split","l","join","programs","program","declaredBlockParams","programWrapper","wrapProgram","depth","_parent","mergeIfNeeded","param","common","nullContext","seal","noop","_setup","useData","initData","useBlockParams","useDepths","executeDecorators","isTop","mergedHelpers","_internalWrapHelper","passLookupPropertyOption","wrapHelpersToPassLookupProperty","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","currentPartialBlock","partialBlock","Function","prog","currentDepths","string","toHTML","array","possible","test","replace","badChars","escapeChar","frame","params","path","id","escape","chr","n","r","t","e","u","o","slice","a","f","c","ArrayBuffer","DataView","s","p","v","h","isView","y","isNaN","d","isFinite","g","propertyIsEnumerable","b","m","pow","max","_","w","A","S","O","M","E","B","N","I","T","k","document","childNodes","Int8Array","D","R","F","V","Map","P","q","getInt8","buffer","U","W","z","L","$","C","K","J","G","H","Q","X","Y","Z","contains","nn","rn","tn","_wrapped","en","Uint8Array","byteOffset","valueOf","toJSON","String","un","on","pop","an","hn","cn","ln","sn","pn","vn","yn","dn","gn","bn","mn","jn","_n","wn","sort","An","xn","Sn","On","Mn","En","Bn","Nn","toPath","In","Tn","kn","Dn","Rn","Fn","Vn","Pn","qn","iteratee","Un","Wn","random","zn","Date","now","getTime","Ln","RegExp","$n","Cn","Kn","Jn","templateSettings","evaluate","interpolate","Gn","Hn","Qn","Xn","Yn","Zn","nr","rr","placeholder","tr","er","ur","or","ir","setTimeout","ar","fr","cr","lr","sr","pr","vr","hr","yr","dr","min","gr","br","mr","jr","_r","wr","Ar","xr","Sr","Or","Mr","Er","Br","Nr","Ir","Tr","kr","Dr","Rr","Fr","Vr","Pr","qr","Ur","Wr","zr","Lr","$r","Cr","Kr","Jr","Gr","Hr","Qr","Xr","_chain","chain","Yr","Zr","__proto__","restArguments","isObject","isNull","isUndefined","isBoolean","isElement","nodeType","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isDataView","isArguments","parseFloat","isTypedArray","isMatch","isEqual","isMap","isWeakMap","isSet","isWeakSet","allKeys","values","pairs","invert","functions","extendOwn","assign","defaults","clone","tap","get","has","mapObject","identity","constant","property","propertyOf","matcher","matches","times","unescape","source","variable","uniqueId","bind","bindAll","memoize","cache","delay","defer","throttle","leading","clearTimeout","trailing","cancel","debounce","wrap","negate","compose","after","before","once","findKey","findIndex","findLastIndex","sortedIndex","lastIndexOf","find","detect","findWhere","map","collect","foldl","inject","reduceRight","foldr","filter","select","reject","every","all","some","any","includes","include","invoke","pluck","where","shuffle","sample","sortBy","criteria","groupBy","indexBy","countBy","partition","toArray","match","size","pick","omit","head","take","initial","rest","tail","drop","compact","Boolean","flatten","without","uniq","unique","union","intersection","difference","unzip","transpose","zip","range","chunk","mixin","default","underscoreMin","Controller","BaseController","render","BaseView","Select","remove","BaseInput","FrameworkView","compileTemplate","str","compiledTmpl","events","Keys","isEsc","model","trigger","TextBoxForSigninWidget","TextBox","PasswordBoxForSigninWidget","PasswordBox","Form","BaseForm","scrollOnError","settings","StringUtil","localize","createButton","ButtonFactory","createCallout","Callout","registerInput","InputRegistry","register","Collection","BaseCollection","View","Router","BaseRouter","internal","util","Util","Cookie","Clipboard","Logger","Class","views","components","BaseDropDown","Notification","forms","FormUtil","SchemaFormFactory","Toolbar","inputs","CheckBox","Radio","InputGroup","models","BaseSchema","SchemaProperty","STATE","FETCH_DATA","PAGINATION_DATA","DEFAULT_PARAMS","LINK_BY_HEADER","setLinkHeadersPagination","collection","xhr","links","header","paramexp","rels","href","substring","link","rel","paramsplit","charAt","parseLinkHeader","getResponseHeader","set","setPagination","collectionProps","preinitialize","state","Backbone","Model","defaultParams","oktaUnderscore","isCourageModel","sync","success","resp","status","fetch","fromFetch","abort","url","rawQueryStr","queryString","parts","decodeURIComponent","shift","parseQuery","getFetchData","getPaginationData","hasMore","fetchMore","add","update","reset","attrs","_reset","_byId","isCourageCollection","ListView","listenTo","addItem","fetchCollection","item","itemSelector","removeChildren","view","addShowMore","isModelPropertySchema","type","deps","objectTypeFields","target","val","unflatten","part","ref","createMessage","msg","normalizeSchemaDef","required","_validateRegex","pattern","error","StringFormatValidators","email","ERROR_INVALID_FORMAT_EMAIL","uri","ERROR_INVALID_FORMAT_URI","ipv4","ERROR_INVALID_FORMAT_IPV4","hostname","ERROR_INVALID_FORMAT_HOSTNAME","validateString","createMessageWith","invalidFormat","validator","format","validateStringFormat","minLength","ERROR_STRING_STRING_MIN_LENGTH","maxLength","ERROR_STRING_STRING_MAX_LENGTH","validateField","checkType","errorMessage","isDefined","validate","output","foundError","flags","passed","ERROR_BLANK","letter","toUpperCase","ERROR_WRONG_TYPE","ERROR_NOT_ALLOWED","ERROR_INVALID","arr","minItems","maxItems","uniqueItems","ERROR_IARRAY_UNIQUE","items","arrayField","validateArrayField","derived","local","flat","schema","computedProperties","schemaDef","localDefaults","res","_validateSchema","parse","__getDerivedValue","__syncedData","allows","warn","getPropertySchema","propName","errorFields","attr","verbose","clear","isSynced","memo","FrameworkModel","CHILDREN","RENDERED","PARENT","CHILD_DEFINITIONS","ADD_TO_CONTAINER","getIndex","cid","subscribeEvents","isEventPropertyRe","matchKeys","bindings","entity","callback","event","callbacks","cb","proto","children","__original_initialize__","initialize","childDefinition","autoRender","unregister","stopListening","viewIndex","splice","selector","bubble","prepend","extraOptions","$el","unescapingRexExp","elementUnescapedOuterHTMLLength","prop","templateUnescapedLength","html","el","empty","viewOptions","delegateEvents","append","rendered","renderTemplate","getTemplateData","modelData","preRender","doRender","postRender","getChildren","at","methodName","child","unshift","isCourageView","baseCollectionProps","secureJSON","dataType","hasProps","_builtInLocalProps","_setSynced","__attributes","sanitizeAttributes","attributes","unset","newModel","_syncedData","_getSynced","BaseModel","ComputedProperty","parseProperties","schemaMeta","__metadata","BaseSchemaSchema","displayName","getProperties","trimProperty","json","save","cleanup","BaseSchemaSchemas","__edit__","__pending__","STRING","SchemaUtils","NUMBER","INTEGER","OBJECT","SchemaPropertySubSchema","description","exec","SchemaPropertySubSchemaCollection","SchemaPropertySubSchemaAllOfCollection","_type","SchemaPropertySubSchemaOneOfCollection","SchemaPropertySubSchemaNoneOfCollection","constraintTypeErrorMessages","number","integer","escapedLoginCharsRe","constraintHandlers","between","greaterThan","lessThan","equals","SchemaPropertySchemaProperty","idAttribute","__oneOf__","title","subSchemas","permissions","SELF","PERMISSION","READ_ONLY","__metadata__","__isSensitive__","sensitive","__isPendingSensitive__","__unique__","__isUniqueValidated__","UNIQUENESS","UNIQUE_VALIDATED","__isPendingUniqueness__","PENDING_UNIQUENESS","__isUniqueness__","isValidated","isPending","__canBeSensitive__","metadata","sensitivizable","__userPermission__","__displayType__","__displayTypeLabel__","displayType","DATATYPE","__supportsMinMax__","__isReadOnly__","mutability","MUTABILITY","READONLY","__isWriteOnly__","WRITEONLY","__displayScope__","__isScopeSelf__","scope","SCOPE","__isNoneScopeArrayType__","isScopeSelf","isArrayDataType","__isImported__","externalName","__isFromBaseSchema__","__enumDefined__","__supportEnum__","SUPPORTENUM","__isNumberTypeEnum__","ARRAYDISPLAYTYPE","arrayofnumber","__isIntegerTypeEnum__","arrayofinteger","__isObjectTypeEnum__","arrayofobject","__isStringTypeEnum__","arrayofstring","__enumConstraintType__","isStringType","isNumberType","isIntegerType","isObjectType","__isEnumDefinedAndSupported__","enumDefined","supportEnum","__isLoginOfBaseSchema__","isFromBaseSchema","__isLoginFormatRestrictionToEmail__","loginFormatRestriction","LOGINPATTERNFORMAT","EMAIL","_updateTypeFormatConstraints","_updateDisplayType","_updateMinMax","_convertEqualsToMinMax","_setConstraintText","_setLoginPattern","extendedType","getDisplayType","_setRangeConstraints","SUPPORTSMINMAX","DISPLAYSCOPE","NA","_setMasterOverride","_setSubSchemas","_setUniqueness","enumValidationError","_validateEnumOneOf","constraitType","constraitHandler","_checkBetweenConstraints","minVal","maxVal","__minVal__","__maxVal__","_checkIntegerConstraints","_checkGreaterThanConstraint","_checkLessThanConstraint","_checkEqualsConstraint","masterOverride","masterOverrideValue","minimum","maximum","allOf","oneOf","noneOf","NONE","CUSTOM","_extractLoginPattern","FORMATDISPLAYTYPE","arraytype","elementType","getArrayTypeName","enumOneOf","_isValidateOneOfConstraint","constraintType","EnumTypeHelper","isConstraintValueMatchType","const","_enumAssignment","_attributeOverrideToJson","_normalizeUnionValue","_patternAssignment","_uniquenessAssignment","masterOverrideType","overrideProfile","_getEnumOneOfWithTitleCheck","enum","_buildLoginPattern","_escapedRegexChar","char","oktaJQueryStatic","trim","JSON","stringify","silent","DISPLAYTYPES","constraint","SYSTEM","isEnumType","getEnumValues","detectHasEnumDefined","enumValues","convertToOneOf","areAllReadOnly","createModelProperties","schemaProperty","clean","hasStateBeenInitialized","StateMachine","stateData","SettingsModel","listen","_notify","_confirm","MainView","getRoute","router","route","Dialog","ConfirmationDialog","dialog","notification","unload","controller","History","started","history","navigate","fragment","normalizeEvents","click","eventName","preventDefault","stopPropagation","disabled","BaseButtonLink","Events","clipboard","OPTIONS","ClipboardClipboardWrapper","text","__instance","__setCallback","Clipboard$1","attach","SECURED_COOKIE","location","setCookie","Cookie$1","secure","getCookie","removeCookie","UP","DOWN","DEL","TAB","RETURN","ENTER","ESC","COMMA","PAGEUP","PAGEDOWN","SPACE","BACKSPACE","__isKey","which","keyCode","isEnter","isSpaceBar","okta","debug","trace","dir","time","timeEnd","group","groupEnd","assert","info","BOOLEAN","locale","timezone","date","boolean","reference","image","password","READWRITE","IMMUTABLE","UNION","DISABLE","ENABLE","UNION_OPTIONS","HIDE","WRITE_ONLY","READ_WRITE","ENDUSER_ATTRIBUTE_PERMISSION_OPTIONS","ATTRIBUTE_LEVEL_MASTERING_OPTIONS","INHERIT","OKTA_MASTERED","OVERRIDE","USERNAMETYPE","OKTA_TO_APP","OKTA_TO_AD","APP_TO_OKTA","IDP_TO_OKTA","NOT_UNIQUE","itemType","getSourceUsernameType","mappingDirection","targetName","appName","sourceUsernameType","isObjectDataType","theme","orgId","orgName","serverStatus","persona","isDeveloperConsole","isPreview","features","_features","hasFeature","feature","hasAnyFeature","featureArray","hasPermission","permission","isDsTheme","entityMap","emailValidator","parseLocale","getRawLocale","isEnableBcp47OktaUi","getBundle","bundleName","Bundles","IECustomEvent","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","emitL10nError","reason","CustomEvent","dispatchEvent","getParsedLocale","isLocaleBundleExist","parsedLocale","sprintf","oldValue","triggerError","regex","query","encodeJSObject","jsObj","encodeURIComponent","decodeJSObject","unescapeHtml","getTemplate","bundle","int","parseObject","isPlainObject","randomString","characters","stringArray","endsWith","ends","isEmail","TemplateUtil","tpl","DEBOUNCE_DELAY","LOADING_FADE","UNLOADING_FADE","ROW_EXPANDER_TRANSITION","HIDE_ADD_MAPPING_FORM","redirect","reloadPage","reload","constantError","getUrlQueryString","queries","queriesString","isABaseView","isSafari","navigator","userAgent","calcDoWhen","modelValue","_doWhen","doWhen","toggle","animate","changeEventString","ViewUtil","applyDoWhen","clonedEscapeExpression","hbsEscape","code","tags","tag","localizedValue","escapedString","tagValue","escapedBeginningTag","escapedEndTag","beginningTag","endTag","replaceTagsWithPlaceholders","err","ajaxSetup","beforeSend","setRequestHeader","jQueryCourage","resultCtx","isInteger","jQuery","previousBackbone","emulateHTTP","emulateJSON","_listening","eventSplitter","eventsApi","opts","names","_events","onApi","ctx","listening","_listeners","interop","_listenId","listeningTo","_listeningTo","Listening","tryCatchOn","handlers","count","off","offApi","listeners","remaining","handler","_callback","onceMap","listenToOnce","offer","triggerApi","objEvents","allEvents","triggerEvents","ev","a1","a2","a3","listener","unbind","cidPrefix","changed","validationError","_validate","changes","changing","_changing","_previousAttributes","prev","_pending","hasChanged","changedAttributes","diff","old","previous","previousAttributes","serverAttrs","wrapError","wait","isNew","patch","destroy","urlError","isValid","comparator","setOptions","merge","addOptions","insert","singular","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sortable","sortAttr","existing","_prepareModel","_addReference","orderChanged","_removeReference","previousModels","modelId","callbackOpts","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","ITERATOR_KEYSVALUES","_onModelEvent","prevId","$$iterator","kind","_collection","_kind","_index","_ensureElement","delegateEventSplitter","tagName","_removeElement","setElement","element","undelegateEvents","_setElement","delegate","undelegate","_createElement","createElement","className","_setAttributes","addMethod","attribute","defaultVal","addUnderscoreMethods","modelMatcher","collectionMethods","modelMethods","config","Base","mappings","contentType","_method","processData","textStatus","errorThrown","ajax","delete","read","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","_routeToRegExp","_extractParameters","execute","optional","checkUrl","routeStripper","rootStripper","pathStripper","interval","atRoot","pathname","getSearch","matchRoot","decodeFragment","decodeURI","getHash","getPath","getFragment","_usePushState","_wantsHashChange","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","rootPath","iframe","src","style","display","tabIndex","body","iWindow","insertBefore","firstChild","contentWindow","open","close","addEventListener","attachEvent","_checkUrlInterval","setInterval","loadUrl","stop","removeEventListener","detachEvent","removeChild","clearInterval","decodedFragment","_updateHash","protoProps","staticProps","__super__","backbone","init","converter","api","expires","setMilliseconds","getMilliseconds","write","cookie","toUTCString","domain","cookies","rdecode","getJSON","withConverter","js_cookie","SelectParser","options_index","parsed","add_node","nodeName","add_group","add_option","group_position","option","_i","_ref","_results","array_index","label","group_disabled","innerHTML","selected","group_array_index","classes","cssText","select_to_array","parser","AbstractChosen","form_field","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","finish_setup","_this","click_test_action","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","result_single_selected","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","getAttribute","default_text","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","no_results_text","default_no_result_text","mouse_enter","mouse_leave","input_focus","container_mousedown","input_blur","blur_test","result_add_option","dom_id","container_id","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","results_toggle","results_hide","results_show","results_search","winnow_results","choices_count","selected_option_count","choices_click","is_disabled","keyup_checker","stroke","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","generate_field_id","new_id","generate_random_id","generate_random_char","chars","rand","container_width","width","offsetWidth","$$1","Chosen","__hasProp","chosen","input_field","$this","hasClass","_super","ctor","__extends","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","addClass","container_classes","container_props","hide","dropdown","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","mousedown","mouseup","container_mouseup","mouseenter","mouseleave","search_results_mouseup","mouseover","search_results_mouseover","mouseout","search_results_mouseout","search_results_mousewheel","blur","keyup","keydown","keydown_checker","focus","search_field_disabled","close_field","removeClass","parents","results_reset","delta","_ref1","_ref2","originalEvent","wheelDelta","originialEvent","scrollTop","clear_backstroke","show_search_field_default","content","parsing","results_data","readOnly","result_add_group","choice_build","single_deselect_control_build","result_do_highlight","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","css","position","top","outerHeight","ti","form_field_label","choice","close_link","choice_destroy_link_click","choice_destroy","result_deselect","high","high_id","substr","metaKey","ctrlKey","result_activate","result_deactivate","pos","result_data","show","deselected","found","regexAnchor","result_id","results","searchText","startpos","zregex","_j","_len1","no_results_clear","search","no_results","winnow_results_set_highlight","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","siblings","div","style_block","styles","f_width","outerWidth","customInput","is","input","closest","wrapAll","hover","isInputSupported","isTextareaSupported","valHooks","clearPlaceholder","$input","removeAttr","activeElement","setPlaceholder","$replacement","elem","newAttrs","rinlinejQuery","specified","textarea","not","$element","$inputs","Backbone_ListView","decorate","eventBus","broadcast","notify","confirm","okfn","cancelfn","subtitle","ok","cancelFn","alert","noCancelButton","TargetView","BaseViewView","disabledEvents","additionalAttr","__getAttribute","depth0","stack1","alias1","visible","enabled","enableWhen","showWhen","icon","toggleVisible","enable","disable","bool","toggleClass","hidden","optionsTemplate","alias2","alias3","alias4","BaseDropDownDropDownOption","action","seleniumId","addOption","screenReaderText","getOption","callout","getTopClass","klass","fadeOut","Time","CalloutCallout","dismissible","bullets","fade","dismissable","sectionTitleTemplate","pointerEventsSupported","pointerEvents","pointerEventsPolyfill","currentTarget","underneathElem","elementFromPoint","clientX","clientY","submit","__save","convertSavingState","rawSavingStateEvent","defaultEvent","savingStateEvent","slot","__buttons","__errorFields","__saveModelState","step","totalStep","__toolbar","__createToolbar","__addLayoutItem","__applyMode","showBanner","__showErrors","__cancel","__previous","hasSavingState","customSavingState","__setSavingState","__clearSavingState","saveBtnClassName","toolbar","saveId","saveClassName","noSubmitButton","buttonOrder","hasPrevStep","addButton","noButtonBar","danger","layout","totalSteps","autoSave","showErrors","resizeSelector","hasReadMode","isReadOnly","hasButtonBar","__readModeBar","readModeBar","ReadModeBar","formTitle","__toggleToolbar","_editMode","edit","__originalModel","clearErrors","validateArray","fieldName","getInputs","parseErrorMessage","_handleErrorScroll","$scrollContext","scrollParent","offset","errorSummary","responseJSON","ErrorParser","getResponseJSON","validationErrors","parseFieldErrors","errors","errorCauses","getErrorSummary","ErrorBanner","InputFactory","supports","addInput","__addNonInputLayoutItem","itemOptions","addSectionTitle","addDivider","applyShowWhen","applyToggleWhen","toggleWhen","_options","validateInput","inputsOptions","generateInputOptions","__createInput","reverse","validateOnlyIfDirty","errorField","inputId","multi","inputWrapper","__createWrapper","__createLabel","_createContainer","INPUT_OPTIONS","WRAPPER_OPTIONS","InputWrapper","LABEL_OPTIONS","InputLabel","CONTAINER_OPTIONS","InputContainer","contentHeight","height","getNameString","defaultPlaceholder","inlineValidation","addInlineValidation","addModelListeners","addAriaLabel","ariaLabel","toModelValue","to","__getDependencyCalloutBtn","btnConfig","btnOptions","originalClick","one","__showInputDependencies","getCalloutParent","getModelValue","__getCalloutMsgContainer","calloutMsg","showCallout","calloutConfig","dependencyResolved","btn","dependencyCallout","removeCallout","__evaluateCalloutObject","calloutTitle","__handleDependency","resolved","fieldDependency","func","fail","_isEdited","hasIMESupport","enableIMESupport","isComposing","isEditMode","editMode","applyEnabledState","readMode","__markError","__clearError","getReadModeString","readModeStr","toStringValue","from","Number","resize","changeType","getParams","getParam","getParamOrAttribute","modelEvents","createReadFormButton","buttonConfigs","__getButtonOrder","buttonName","buttonsToSkip","NAME","ENUM_KEY_PREFIX","getDropdownOptionsFromOneOf","isOneOfEnumObject","convertIndexToEnumIndex","convertEnumToOneOf","convertEnumObjectToOneOf","valueToTitle","enumObjectToValue","oneOfObj","valueToEnumObject","enumValue","valuesToEnumObjects","enumObjectsToValues","getEnumInputOptions","inputOptions","customExplain","explain","getDropdownOptions","isStringConstraint","isNumberConstraint","isIntegerConstraint","isObjectConstraint","FIELD_REGEX","responseText","parseErrorSummary","parseErrorCauseObject","errorCause","localizedMsg","apiMsg","parseErrors","cause","ALL_OPTIONS","SAVE_BUTTON_PHASES","decorateDoWhen","form","createFn","fieldNames","timeoutId","intervalId","phaseCount","__changeSaveText","__showLoadingText","fields","toggleAndResize","wide","_getNames","inputItem","_getInputElement","lastInput","explainTop","__setExplain","__setError","__errorState","errorId","__getHTMLForError","$elExplain","tmpl","iconLabel","multirowError","createInput","Input","isBaseInput","_isLabelView","_isRadioOrCheckbox","_standardLabel","tooltip","qtip","my","fixed","registry","runCallback","runIf","inputWrapperClassName","optionsClassName","getLabel","getInput","getInputContainer","convertStringToNumber","getChoices","getObjectName","schemaProp","objectName","augmentSchemaProp","possibleValues","profile","prefix","__nestedProperty__","defaultValues","userValues","fixedValues","augmentSchemaProps","schemaProps","cleanSchema","isValidSchemaProp","createInputOptions","preparedSchemaProp","custom","configs","customOptions","standard","TextBoxSet","BooleanSelect","defaultOptions","hasValidSchemaProps","prepareSchema","true","false","errorClass","updateArrayEvent","DeletableBox","getPlaceholderText","errorExplain","getErrorExplainText","debounceDelay","slideUp","updatedValue","parseFunc","clearInvalid","markInvalid","placeholderText","itemTypeMismatchMessages","num","InputGroupLabelInput","InputGroupInputGroupView","autoWidth","inputGroupView","strings","LabelInput","InputGroupView","toggleTemplate","__showPasswordToggle","showPasswordToggle","__showPassword","passwordToggleTimer","__hidePassword","RadioRadioOption","templates","optionId","realName","recalculateChosen","$chosen","$results","$clone","left","$win","rHeight","rBottom","wHeight","fixChosenModal","$select","textPlaceholder","$searchInput","$highlightedOption","elementId","noResult","handleKeyUpEvent","baseStyles","float","resizeHandler","scroll","appendOptions","__applyChosen","getOptions","applySortByKey","sortByKey","findSelectWidth","searchThreshold","isComboBox","accessibilityUpdate","searchPlaceholder","selectedOption","displayString","createAriaLiveNode","ariaDivId","insertAfter","txtBoxId","ulTagId","aria","inputValue","innerTooltip","hasTitleAndText","adjust","mouse","viewport","addNewElement","uniqueIdPrefix","_setArrayObject","arrayObject","_addDeletableBox","deletableBox","slideDown","includeHidden","excludeStaticParent","overflowRegex","eq","ownerDocument","postAction","postArgument","host","duoSig","appSig","DUO_MESSAGE_FORMAT","DUO_ERROR_FORMAT","DUO_OPEN_WINDOW_FORMAT","VALID_OPEN_WINDOW_DOMAINS","initializeStatefulVariables","throwError","givenUrl","hyphenize","getDataAttribute","dataset","fallbackEvent","onReady","offReady","onMessage","offMessage","parseSigRequest","sig","sigParts","sigRequest","isDuoMessage","origin","sig_request","post_action","post_argument","submit_callback","promptElement","getPromptElement","ready","iframeAttributes","asyncReady","iframeContainer","validateIframe","getUserDefinedElement","validateIframeContainer","getElementById","isIframe","generateIframeSrc","onReceivedMessage","isValidUrlToOpen","doPostBack","protocol","setAttribute","appendChild","response","_onReady","_parseSigRequest","_isDuoMessage","_doPostBack","zoom","finish","deferred","duration","easing","fx","always","resolve","promise","rotate","swapPages","$parent","$oldRoot","$newRoot","directionClassName","Enums","DIRECTION_BACK","newRootAnimations","opacity","clearStyles","SWAP_PAGE_TIME","swapBeacons","swap","implode","then","explode","radialProgressBar","circles","clip","leftHalf","transform","lighten","hex","lum","newHex","round","addStyle","colors","cspNonce","brand","WIDGET_CONTAINER_ID","WIDGET_CONFIG_COLORS_ID","nonce","createTextNode","isLoaded","LAST_USERNAME_COOKIE_NAME","username","countries","bundles","country","sorted","countryCode","countryCallingCodes","charCodeAt","bin","btoa","byte","fromCharCode","atob","base64UrlSafeToBase64","API_RATE_LIMIT","WIDGET_LOGIN_CONTAINER_ID","RECOVERY_TYPE_PASSWORD","RECOVERY_TYPE_UNLOCK","RECOVERY_FACTOR_TYPE_SMS","RECOVERY_FACTOR_TYPE_EMAIL","RECOVERY_FACTOR_TYPE_CALL","IOS","ANDROID","ODA","MDM","WS1","SUCCESS","FORGOT_PASSWORD_EMAIL_SENT","UNLOCK_ACCOUNT_EMAIL_SENT","CONFIG_ERROR","UNSUPPORTED_BROWSER_ERROR","OAUTH_ERROR","AUTH_STOP_POLL_INITIATION_ERROR","U2F_ERROR","WEB_AUTHN_ERROR","WEBAUTHN_ABORT_ERROR","CONFIGURED_FLOW_ERROR","ALL_OPTIONAL_NONE_ENROLLED","ALL_OPTIONAL_SOME_ENROLLED","HAS_REQUIRED_NONE_ENROLLED","HAS_REQUIRED_SOME_REQUIRED_ENROLLED","HAS_REQUIRED_ALL_REQUIRED_ENROLLED","PRIMARY_AUTH","FORGOT_PASSWORD","UNLOCK_ACCOUNT","SESSION_SSO","SESSION_STEP_UP","ACTIVATION_EMAIL_SENT","REGISTRATION_COMPLETE","REGISTRATION_FAILED","IDP_DISCOVERY","OKTA_VERIFY_APPLE_APP_STORE_URL","OKTA_VERIFY_GOOGLE_PLAY_STORE_URL","LOOPBACK_CHALLENGE","CUSTOM_URI_CHALLENGE","UNIVERSAL_LINK_CHALLENGE","APP_LINK_CHALLENGE","CHROME_DTC","factorData","OKTA_VERIFY","iconClassName","sortOrder","OKTA_VERIFY_PUSH","U2F","brandName","WEBAUTHN","WINDOWS_HELLO","YUBIKEY","GOOGLE_AUTH","CUSTOM_HOTP","SMS","CALL","QUESTION","DUO","SYMANTEC_VIP","RSA_SECURID","ON_PREM","PASSWORD","CUSTOM_CLAIMS","GENERIC_SAML","GENERIC_OIDC","getPasswordRequirements","policy","i18nKeys","isUpdatedPasswordRequirementsText","passwordRequirements","complexity","age","complexityFields","policyComplexity","excludeAttributes","excludeFirstName","excludeLastName","setExcludeAttributes","filteredPolicyComplexity","useADComplexityRequirements","requirements","complexityValue","complexityType","i18n","getPasswordComplexityRequirementsAsArray","historyRequirement","historyCount","many","getPasswordHistoryRequirementDescription","ageRequirement","minAgeMinutes","displayableTime","propertiesString","unit","getPasswordAgeRequirement","TimeUtil","getTimeInHighestRelevantUnit","getPasswordAgeRequirementDescription","getFactorName","provider","factorType","getFactorNameForFactorType","isOktaVerify","getFactorLabel","getFactorDescription","descriptionKey","getFactorIconClassName","getFactorSortOrder","getRememberDeviceValue","appState","getSecurityQuestionLabel","questionObj","localizedQuestion","question","questionText","removeRequirementsFromError","passwordRequirementsAsString","getPasswordComplexityDescription","getPasswordComplexityDescriptionForHtmlList","minLowerCase","minUpperCase","minNumber","minSymbol","excludeUsername","maxConsecutiveRepeatingCharacters","requirement","getCardinalityText","enrolled","cardinality","findFactorInFactorsArray","factors","factor","errorCode","isOneFactor","getU2fEnrollErrorMessageKeyByCode","getU2fVerifyErrorMessageKeyByCode","executeHookFunctions","hook","formName","hookToMerge","existingHook","SUPPORTED_SOCIAL_IDPS","loadLanguage","languageCode","defaultLanguage","assetBaseUrl","assetRewrite","supportedLanguages","timeout","baseUrl","rewrite","OktaSignInDebug","isEnabled","deprecate","AUTH_PARAMS","getTokens","callGlobalSuccess","typedError","getTypedOAuthError","errorDetails","triggerAfterError","NonRecoverableError","callGlobalError","authClient","getAuthClient","isAuthorizationCodeFlow","isPKCE","getTokenOptions","authParams","popupTitle","oAuthTimeout","token","getWithRedirect","catch","sessionToken","getWithoutPrompt","getWithPopup","MOMENT_UNIT","MILLISECOND","SECOND","MINUTE","HOUR","DAY","MOMENT_UNIT_KEYS","timeObj","normalizedUnit","ms","parseMs","highestUnit","momentUnit","entry","formatDateToDeviceAssuranceGracePeriodExpiryLocaleString","setMinutes","toLocaleString","year","month","day","hour","minute","timeZoneName","buildInputForParameter","buildSubmitInput","buildDynamicForm","splitOnFragment","splitOnQuery","targetUrl","queryParts","queryPart","parameterParts","expandLanguage","language","expanded","transformErrorXHR","errorMsg","doesTranslationExist","toLower","expandLanguages","languages","callAfterTimeout","callAfterTimeoutOrWindowRefocus","visHandler","delayAfterRefocus","invokeCallbackFn","debugMessage","logConsoleError","statusCode","win","isAppLink","BrowserFeatures","isAndroid","redirectWithFormGet","changeLocation","executeOnVisiblePage","visibilityState","visibilityChangeHandler","isAndroidOVEnrollment","ovEnrollment","redirectWithForm","mainContainer","querySelector","createInputExplain","explainKey","labelKey","explainParams","labelParams","isV1StateToken","startsWith","getAutocompleteValue","searchParamsToString","US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI","RU","KZ","EG","ZA","GR","NL","BE","FR","ES","HU","IT","VA","RO","CH","AT","GB","GG","IM","JE","DK","SE","NO","SJ","PL","DE","PE","MX","CU","AR","BR","CL","CO","VE","MY","AU","CC","CX","ID","PH","NZ","SG","TH","JP","KR","VN","CN","TR","IN","PK","AF","LK","MM","IR","SS","MA","EH","DZ","TN","LY","GM","SN","MR","ML","GN","CI","BF","NE","TG","BJ","MU","LR","SL","GH","NG","TD","CF","CM","CV","ST","GQ","GA","CG","CD","AO","GW","IO","AC","SC","SD","RW","ET","SO","DJ","KE","TZ","UG","BI","MZ","ZM","MG","RE","YT","ZW","MW","LS","BW","SZ","KM","SH","TA","ER","AW","FO","GL","GI","PT","LU","IE","IS","AL","MT","CY","FI","AX","BG","LT","LV","EE","MD","AM","BY","AD","MC","SM","UA","RS","ME","XK","HR","SI","BA","MK","CZ","SK","LI","FK","BZ","GT","SV","HN","NI","CR","PA","PM","HT","GP","BL","MF","BO","GY","EC","GF","PY","MQ","SR","UY","CW","BQ","TL","NF","BN","NR","PG","TO","SB","VU","FJ","PW","WF","CK","NU","WS","KI","NC","TV","PF","TK","FM","MH","KP","HK","MO","KH","LA","BD","TW","MV","LB","JO","SY","IQ","KW","SA","YE","OM","PS","AE","IL","BH","QA","BT","MN","NP","TJ","TM","AZ","GE","KG","UZ","GS","PN","AQ","UM","AN","adaptToOkta","makeCredential","accountInfo","cryptoParams","challenge","algorithm","msCredentials","cred","freeze","credential","publicKey","attestation","getAssertion","allowList","filters","accept","signature","clientData","authenticatorData","authnrData","processWebAuthnResponse","inputFunction","responseValue","isAvailable","isNewApiAvailable","credentials","isWebauthnOrU2fAvailable","FidoUtil","isU2fAvailable","isConditionalMediationAvailable","PublicKeyCredential","isPasskeyAutofillAvailable","SCOPE_N_GROUP_CONFIG","groups","myAccount","users","apps","authenticators","authorizationServers","clients","domains","idps","linkedObjects","policies","eventHooks","inlineHooks","logs","orgs","roles","schemas","sessions","trustedOrigins","findScopeGroupKey","groupType","ScopeGroupHeaderView","expandScopes","scopes","ScopeItem","allScopes","scopesWithGroup","SCOPE_GROUP_NAMES_CONFIG","groupName","groupKey","isCustomized","baseClass","classNames","tabindex","Beacon","DEFAULT","PROCEED","LOGIN","REGISTRATION","RESET_PASSWORD","proceedIfAvailable","idxState","remediation","flow","neededToProceed","proceed","nextIdxState","stepIntoSpecificIdxFlow","CONFIGURED_FLOW","FORMS","ConfigError","originalResp","configuredFlow","getFlow","idxResponse","interactionCode","getSavedTransactionMeta","transactionMeta","isRemediationMode","clearTransactionMeta","redirectUri","qs","toQueryString","codeVerifier","exchangeCodeForTokens","tokens","RecoverableError","finally","STATE_HANDLE_SESSION_STORAGE_KEY","LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY","RESEND_TIMESTAMP_SESSION_STORAGE_KEY","removeStateHandle","sessionStorage","removeItem","setStateHandle","setItem","getStateHandle","getItem","getLastInitiatedLoginUrl","removeResendTimestamp","setResendTimestamp","getResendTimestamp","convertErrorMessageToErrorSummary","remediationValues","messages","getMessage","errorKey","getMessageKey","getRemediationErrors","remediationFormFields","remediationForm","seen","uniqWith","getGlobalErrorKeys","convertFormErrors","allErrors","errorSummaryKeys","errorIntent","intent","isIonErrorResponse","version","isIdxSessionExpiredError","errorI18NKey","IDENTIFY","SELECT_IDENTIFY","IDENTIFY_RECOVERY","SELECT_ENROLL_PROFILE","ENROLL_PROFILE","ENROLL_PROFILE_UPDATE","REQUEST_ACTIVATION","CONSENT_ADMIN","CONSENT_ENDUSER","CONSENT_GRANULAR","CONSENT_EMAIL_CHALLENGE","SELECT_AUTHENTICATOR_AUTHENTICATE","SELECT_AUTHENTICATOR_UNLOCK","AUTHENTICATOR_VERIFICATION_DATA","CHALLENGE_AUTHENTICATOR","CHALLENGE_WEBAUTHN_AUTOFILLUI_AUTHENTICATOR","CHALLENGE_POLL","RESEND","SELECT_AUTHENTICATOR_ENROLL","SELECT_AUTHENTICATOR_ENROLL_DATA","AUTHENTICATOR_ENROLLMENT_DATA","ENROLL_AUTHENTICATOR","SELECT_ENROLLMENT_CHANNEL","ENROLLMENT_CHANNEL_DATA","ENROLL_POLL","REENROLL_AUTHENTICATOR","REENROLL_AUTHENTICATOR_WARNING","REENROLL_CUSTOM_PASSWORD_EXPIRY","REENROLL_CUSTOM_PASSWORD_EXPIRY_WARNING","RESET_AUTHENTICATOR","SKIP","POLL","FAILURE_REDIRECT","SUCCESS_REDIRECT","REDIRECT_IDP","REDIRECT_IDVERIFY","PIV_IDP","DEVICE_CHALLENGE_POLL","DEVICE_APPLE_SSO_EXTENSION","CANCEL_TRANSACTION","LAUNCH_AUTHENTICATOR","LAUNCH_WEBAUTHN_AUTHENTICATOR","ENROLL_WEBAUTHN_RESIDENTKEY","DEVICE_ENROLLMENT_TERMINAL","USER_CODE","KEEP_ME_SIGNED_IN","DEVICE_ASSURANCE_GRACE_PERIOD","TERMINAL","FORMS_WITHOUT_SIGNOUT","FORMS_WITH_STATIC_BACK_LINK","FORMS_FOR_VERIFICATION","PHONE","SECURITY_QUESTION","OV","GOOGLE_OTP","RSA","IDP","CUSTOM_OTP","CUSTOM_APP","SMARTCARD","PUSH","FORM_NAME_TO_OPERATION_MAP","ORG_PASSWORD_RECOVERY_LINK","ACTIONS","ENROLLED_PASSWORD_RECOVERY_LINK","CAPTCHA","TERMINAL_FORMS","X509","COUNTRY_CODE","IDV_PERSONA","FORMNAME_CLASSNAME_MAPPINGS","AUTHENTICATOR_KEY","RESEND_PUSH","getV1ClassName","authenticatorKey","methodType","isPasswordRecoveryFlow","v2ClassName","v1ClassName","updateLabelForUiSchema","uiSchema","mutable","relatesTo","authenticatorKeyPath","i18nPrefix","i18nPath","getI18NValue","getI18NParams","customLabel","i18nPathOption","optionsUiSchemas","optionsUiSchema","transformedResp","remediations","WEBAUTHN_API_GENERIC_ERROR_KEY","SECURITY_QUESTION_PREFIXES","I18N_OVERRIDE_MAPPINGS","I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS","I18N_PARAMS_MAPPING","getAuthenticatorDisplayName","I18N_OVERRIDE_WITH_PARAMS_MAP","Email","getI18nKey","i18nKey","securityQuestionValue","login","i18nParams","getI8nKeyUsingParams","isWebAuthnAPIError","flattenObj","tempObj","FormNameToTransformerHandler","RemediationForms","modelJSON","optedScopes","transformHandler","getFirstLevelObjects","getRemediationValues","hasSkipRemediationOnly","deviceEnrollment","injectIdPConfigButtonToRemediation","idxResp","widgetRemedations","idpsConfig","existsRedirectIdpIds","idp","stateHandle","redirectIdpRemedations","idpConfig","convertRedirectIdPToSuccessRedirectIffOneIdp","lastResult","redirectIdpRemediations","successRedirect","modifyFormNameForIdP","isVerifyFlow","IDP_FORM_TYPE","isFailureRedirect","failure","handleFailureRedirect","isDirectAuth","alwaysRedirect","failureRedirect","rawIdxState","firstLevelObjects","curResponse","lastResponse","i18nTransformer","uiSchemaTransformer","responseTransformer","ionFormField","desc","inputType","sublabel","modelType","createUISchema","createAuthenticatorOptions","opt","createOVOptions","signedNonceOption","ovItem","methodTypeObj","methodOptions","ovOptions","methodTypeIndex","newMethodTypeObj","newItem","ovIndex","deviceKnown","valueObject","ionOptionsToUiOptions","timezoneUISchema","optionalType","secret","getPasswordUiSchema","hint","HINTS","TimeZone","ionField","ATTR_FORMAT","CountryUtil","getCountryCode","populateUISchemaForDisplay","populateUISchemaForRadio","UISchemaHandlers","createUiSchemaForString","createUiSchemaForBoolean","createUiSchemaForObject","nestedForm","inputGroupName","uiSchemaDefaultConfig","fieldType","uiSchemaResult","uiSchemaHandler","AuthenticatorRow","backgroundImage","minimize","authenticatorUsageText","allowedFor","AUTHENTICATOR_ALLOWED_FOR_OPTIONS","ANY","RECOVERY","SSO","hasOptionalFactors","hasRemediationObject","skipAll","BaseFooter","getFactorPageCustomLink","getSwitchAuthenticatorLink","logoUri","handleSelect","handleModelInvalid","showAuthenticatorRequiredError","BaseAuthenticatorBeacon","HeaderBeacon","idvName","redirectIDVerifyRemediation","REMEDIATION_FORMS","getBeaconClassName","getIconClassNameForBeacon","Header","BaseHeader","Footer","AuthenticatorFooter","OKTA_AUTHENTICATOR","CantVerifyInfoVerifyFlowView","CantVerifyInfoOVEnrollmentFlowView","cantVerifyInfoView","showForgotPasswordLink","isIdentifierOnlyView","footerInfo","SignUpLinkWithText","signUpLinkData","getSignUpLink","Link","helpLinkHref","helpLink","forgotPasswordLink","getForgotPasswordLink","customHelpLinks","customHelpLink","unlockAccountLink","nameToClass","actionPath","clickHandler","getDeviceEnrollmentContext","platform","challengeMethod","enrollmentType","isIOS","isAndroidAppLink","isAndroidLoopback","signInUrl","appStoreLink","BaseOdaOktaVerifyTerminalView","IosAndAndroidLoopbackOdaTerminalView","AndroidAppLinkWithAccountOdaTerminalView","AndroidAppLinkWithoutAccountOdaTerminalView","getLocalizedLabel","scopeName","doesI18NKeyExist","getLocalizedDesc","isCustomizedScope","parentElement","textViewOptions","additionalOptions","linkName","linkOptions","slideToggle","hasBackToSignInLink","shouldShowSignOutLinkInCurrentForm","getSignOutLink","LinkView","ToggleTextLink","updateRefreshInterval","polling","stopPolling","startPolling","mainContentContainer","beaconContainer","Animations","convertUiSchemaFieldToProp","uiSchemaField","createPropsAndLocals","optionUiSchemaConfig","uiSchemas","optionUiSchemaIndex","optionUiSchemaValue","useRedirect","request","ajaxOptions","Body","BaseFormWithPolling","doCustomURI","pollingCancelAction","AUTHENTICATOR_CANCEL_ACTION","onPollingFail","doChallenge","stopProbing","getDeviceChallengePayload","doLoopback","deviceChallenge","currentPort","authenticatorDomainUrl","authenticatorHttpsDomainUrl","httpsDomain","ports","maxNumberOfPorts","challengeRequest","probeTimeoutMillis","foundPort","ovFailed","countFailedPorts","getAuthenticatorUrl","domainUrl","onFailure","Deferred","doProbing","CHALLENGE_TIMEOUT","onPortFound","enhancedPollingEnabled","cancelPollingWithParams","AUTHENTICATION_CANCEL_REASONS","OV_ERROR","LOOPBACK_FAILURE","probeChain","Promise","handlePortProbing","port","checkPortMaxFailure","ulDom","IframeView","createInvisibleIFrame","customURI","doChromeDTC","checkPortXhr","probingXhr","additionalClassNames","getClassNameMapping","renderForm","createModelClass","currentViewState","authenticator","getAuthenticatorData","idProofingData","ID_PROOFING_TYPE","getIDProofingData","errorJSON","FactorUtil","getButtonDataSeAttr","isVerifyAuthenticator","nicknameText","nickname","noTranslateClassName","buttonDataSeAttr","getVerifyEmailAriaLabel","phoneNumber","getVerifyPhoneAriaLabel","getOktaVerifyAriaLabel","vendorName","idpName","phone","isVerify","defaultLabel","totp","cancelReason","showFormErrors","actionParams","REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON","LOOPBACK_RESPONSE_STATUS_CODE","iFrameId","iFrameSrc","fromView","loginHint","HIDE_CLASS","downloadOVLink","downloadHref","appendLoginHint","deviceChallengeUrl","hideClass","IDENTIFIER_FLOW","FASTPASS_FALLBACK_SPINNER_TIMEOUT","isMessageObj","isBiometricsRequiredMobile","OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE","isBiometricsRequiredDesktop","OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP","bulletPoints","USER_CANCELED","generateDeviceFingerprint","fingerprint","getRemediationAuthenticationOptions","customForgotPasswordHref","getActionByPath","signupLink","signupLinkData","factorPageCustomLink","formsNeedFactorPageCustomLink","helpLinksFactorPageLabel","helpLinksFactorPageHref","GMT","WET","CET","MET","ECT","EET","MIT","HST","AST","PST","MST","PNT","CST","EST","IET","PRT","CNT","AGT","BET","ART","CAT","EAT","NET","PLT","IST","BST","VST","CTT","JST","ACT","AET","SST","NST","CUSTOM_ACCESS_DENIED_KEY","titleString","app","user","redirectView","INTERSTITIAL_REDIRECT_VIEW","appInstanceName","appDisplayName","userEmail","identifier","showMessages","isUnlockSuccess","containsMessageStartingWithI18nKey","CustomAccessDeniedErrorMessage","containsMessageWithI18nKey","getCurrentViewState","getHeader","getUISchema","optionalParams","getSkipSetupLink","getSchemaByName","uiDisplay","buttonLabel","saveForm","preRegistrationSubmit","postData","currentSchema","ModelClass","userProfile","uiSchemaProperty","parseRegistrationSchema","parseSchemaError","modelError","renderPasswordPolicySettings","idpButtons","createIdpButtons","_addIdpView","generatePasswordPolicyHtml","idpDisplay","isPrimaryIdpDisplay","signInWithIdps","_shouldAddUsername","_shouldApplyRememberMyUsername","_applyRememberMyUsername","DeviceFingerprinting","signInWithDeviceOption","isRequired","signInWithWebAuthn","_addForgotPasswordView","customButtons","createCustomButtons","customButtonsView","addSeparateLine","getCredentialsAndInvokeAction","identifierExplainLabeli18nKey","passwordExplainLabeli18nKey","newSchemas","newSchema","isCustomizedI18nKey","autoCompleteDefaultValue","webauthn","autoComplete","showCustomFormErrorCallout","webauthnAbortController","challengeData","AbortController","CryptoUtil","strToBin","mediation","signal","assertion","userHandle","binToStr","_generateErrorObject","clientDataJSON","signatureData","getMessageFromBrowserError","cookieUsername","CookieUtil","getCookieUsername","identifierRequiredi18nKey","passwordRequiredi18nKey","inlineErrors","isEmptyIdentifier","isEmptyPassword","IdentifierFooter","PollMessageView","countDownCounterValue","refreshInterval","refresh","refreshTimeout","MS_PER_SEC","startCountDown","stopCountDown","countDown","counterEl","IdentifierView","RETURN_LINK_EXPIRED_KEY","IDX_RETURN_LINK_OTP_ONLY","SAFE_MODE_KEY_PREFIX","UNLOCK_ACCOUNT_TERMINAL_KEY","RETURN_TO_ORIGINAL_TAB_KEY","OPERATION_CANCELED_ON_OTHER_DEVICE_KEY","DEVICE_ACTIVATED","DEVICE_NOT_ACTIVATED_CONSENT_DENIED","DEVICE_NOT_ACTIVATED_INTERNAL_ERROR","FLOW_CONTINUE_IN_NEW_TAB","REGISTRATION_NOT_ENABLED","FORGOT_PASSWORD_NOT_ENABLED","EMAIL_AUTHENTICATOR_TERMINAL_KEYS","DEVICE_CODE_ERROR_KEYS","DEVICE_CODE_FLOW_TERMINAL_KEYS","NO_BACKTOSIGNIN_LINK_VIEWS","terminalViewTitles","iconClass","getTerminalViewTitle","prepareMessageForCustomView","messagesObjs","hasCustomView","OTPInformationTerminalView","EndUserRemediationMessages","class","getReloadPageButtonLink","hasActionObject","getBackToSignInLink","EmailAuthenticatorHeader","UnlockAccountView","OktaSignInWidgetOnCaptchaLoadedCallback","OktaSignInWidgetOnCaptchaSolvedCallback","captchaConfig","siteKey","isCaptchaConfigured","onCaptchaSolvedCallback","_addCaptcha","hcaptcha","grecaptcha","onCaptchaSolved","captchaObject","_getCaptchaOject","captchaId","sitekey","_addHCaptchaFooter","_loadCaptchaLib","_getCaptchaUrl","scriptTag","async","footerContainer","getElementsByClassName","WIDGET_FOOTER_CLASS","insertAdjacentHTML","defaultBaseUrl","settingsKey","onload","hl","AdminConsentViewHeader","ConsentViewForm","i18nKeyPrefix","localizedScopes","scopeKey","descKey","doesLabelExist","doesDescExist","consent","titleText","hasIssuer","clientUri","logo","issuerObj","issuer","customLogo","altText","defaultLogo","clientURI","setConsent","cancelForm","challengeIntentToI18nKeyMap","getTerminalOtpEmailMagicLinkContext","browserOnOsString","isMobileDevice","geolocation","client","challengeIntentContentKey","enterCodeOnFlowPage","browser","os","city","generateGeolocationString","showRequestInfo","otp","contextualData","AdminConsentView","EnduserConsentViewHeader","EnduserConsentViewFooter","scopeList","consentAgreementText","EnduserConsentAgreementText","termsOfService","privacyPolicy","getInfo","enduserEmailConsentViewBody","BaseAuthenticatorView","requestInfo","granularConsentViewHeader","granularConsentViewForm","ScopeCheckBox","GranularConsentAgreementText","customExpiredPasswordName","customExpiredPasswordURL","daysToExpiry","DeviceAssuranceGracePeriodView","BaseOktaVerifyChallengeView","CANCEL_POLLING_ACTION","handleUpdateFooterLink","isFallbackApproach","isFallbackDelayed","backLink","OktaVerifyAuthenticatorHeader","addHyphen","currentVal","BaseDeviceEnrollTerminalForm","AndroidAppLinkPreselectForm","deviceEnrollmentContext","AndroidAppLinkWithAccountOdaTerminalForm","AndroidAppLinkWithoutAccountOdaTerminalForm","IosAndAndroidLoopbackOdaTerminalForm","MdmTerminalForm","MdmOktaVerifyTerminalView","AndroidAppLinkTerminalViewFooter","handleUpdateDeviceEnrollmentView","handleSwitchBackToPreselect","withAccount","isGetMethod","SignInWithDeviceOption","getContextualData","duoFrame","Duo","signedToken","signedData","BaseDuoAuthenticatorForm","CheckYourEmailEnrollTitle","CheckYourEmailTitle","EnterCodeLink","ResendView","BaseResendView","hideResendViewAndShowAfterTimeout","showCalloutAfterTimeout","handleResendLink","resendEmailAction","handleError","isFormPolling","isRateLimitError","BaseAuthenticatorEmailForm","SubtitleView","secondaryEmail","BaseAuthenticatorEmailView","useEmailMagicLinkValue","isUseEmailMagicLink","getEnterCodeLink","getCheckYourEmailTitle","showCodeEntryField","useEmailMagicLink","showAuthCodeEntry","removeEnterAuthCodeInsteadLink","$textField","getCheckYourEmailEnrollTitle","I18N_ACCESS_DENIED_KEY_PREFIX","HELP_AND_CONTACT_KEY_PREFIX","CUSTOM_URL_ADDITIONAL_HELP_KEY","REMEDIATION_OPTION_INDEX_KEY","ACCESS_DENIED_TITLE_KEY","GRACE_PERIOD_TITLE_KEY","ACCESS_DENIED_EXPLANATION_KEY_PREFIX","remediationOptions","explanation","useCustomHelpText","expiry","expiryDate","localizedExpiry","additionalHelpUrl","buildRemediationOptionBlockMessage","VIEW_TO_DISPLAY","viewToDisplayState","enterCodeSubtitle","nextButton","addCustomButton","verifyButton","viewToDisplay","EnrollGoogleAuthenticatorBarcodeView","EnrollAuthenticatorManualSetupView","sharedSecret","qrcode","BaseIdPAuthenticatorBody","BaseIdpAuthenticatorView","PrivacyTermsFooterView","isKeepMeSignedIn","_checkTokenChange","convertedErrors","getBiometricsErrorOptions","currentAuthenticator","selectedMethod","AUTHENTICATOR_METHODS","correctAnswer","NumberChallengePushView","ChallengePushViewBody","ChallengeOktaVerifyFastPassView","deviceMap","getDeviceMap","setupOVUrl","isDesktop","enrolledDeviceName","showAnotherDeviceLink","devicebootstrap","enrolledDevices","securityLevel","sameDeviceOVEnrollmentEnabled","sameDevice","samedevice","deviceBootstrap","qrChannel","selectEnrollmentChannelRemediation","idField","qrChannelField","platformLC","shouldStartPolling","selectedChannel","calloutOptions","EnrollChannelPollDescriptionView","SwitchEnrollChannelLinkView","OVResendView","phoneNumberUISchema","phoneNumberUISchemaIndex","countryUISchema","getCountries","phoneNumberWithCodeUISchema","handlePhoneCodeChange","innerText","phoneCode","getCallingCodeForCountry","formattedPhoneNumber","handleResendNumberChallenge","NumberChallengePhoneView","startPoll","addWarning","stopPoll","ResendNumberChallengeView","handelResendLink","startWarningTimeout","clearWarning","showWarning","warningTimeout","WARNING_TIMEOUT","sameDeviceChannel","sameDeviceChannelField","channelField","authenticatorFormValues","channel","SameDeviceEnrollLink","isQRcodeChannel","isSameDeviceChannel","isDeviceBootstrapChannel","passwordSchema","getPasswordPolicySettings","displayPasswordPolicy","rulesList","relatesToObject","confirmPassword","updatedSchema","EnrollAuthenticatorPasswordView","handleSecondaryLinkClick","secondaryMode","sendText","carrierChargesText","isPhoneNumberAvailable","extraCssClasses","extraNicknameCssClasses","nicknameTemplate","secondaryButtonTitle","primaryMode","resendActionKey","resendText","linkText","classList","enterCodeText","strongClass","mode","extensionUISchema","updateConditionalText","extension","EnrollResendView","ChallengeAuthenticatorPhoneView","addInstructions","startAuthentication","stopAuthentication","PIVHeader","questionKey","answer","sessionStorageHelper","showMeInterval","SHOW_RESEND_TIMEOUT","resendContext","resend","didFormNameChange","isPushOnlyWithAutoChallengeFlow","ChallengeOktaVerifyCustomAppPushOnlyFormView","ChallengeOktaVerifyCustomAppFormView","hasAutoChallengeSchema","methodTypeOptions","SelectAuthenticatorVerifyViewBody","methodsSchema","_sortMethodOptionsIfDeviceKnown","getAuthenticatorDataForVerification","isOV","AuthenticatorVerifyOptions","signedNonceIndex","signedNonceModel","checkbox","warningTemplate","isCustomApp","isAutoChallengeSupported","addView","warningText","warning","AuthenticatorView","newRefreshInterval","fixedPollingInterval","dynamicPollingInterval","pollingInterval","_startRemediationPolling","_startAuthenticatorPolling","responseKey","authenticatorPollAction","pollInterval","poll","idpButton","jsonData","deviceChallengePollRemediation","isUVapproach","isAppLinkapproach","UNIVERSAL_LINK_POST_DELAY","signInWithDeviceIsRequired","appLabel","resourceLabel","isSecondaryIdpDisplay","isAuthenticatorChallenge","userVerification","retryButton","getCredentialsAndSave","ChallengeWebauthnInfoView","_canSetupWebAuthnResidentKey","EnrollWebAuthnResidentKeyLinkView","_startVerification","allowCredentials","enrollement","credentialId","textContent","_stopVerification","ChallengeWebauthnFooter","activationData","isEdge","authenticatorSelection","EnrollWebauthnInfoView","triggerWebauthnPrompt","_startEnrollment","excludeCredentials","requireResidentKey","getExcludeCredentials","newCredential","attestationObject","transports","getTransports","clientExtensions","getClientExtensionResults","_stopEnrollment","ExampleView","widgetOptions","OAuth2Util","clientId","renderOptions","successFn","errorFn","_resolve","_reject","routerOptions","globalSuccessFn","globalErrorFn","OptionsConstructor","createIdxOptionsConstructor","StorageManager","createIdxStorageManager","IdxTransactionManager","createIdxTransactionManager","OktaAuthOAuth","createOktaAuthOAuth","OktaAuth","mixinIdx","OktaSignIn","useClassicEngine","createOktaSignIn","routerClassFactory","Hooks","mergeHook","SharedUtil","assetBaseUrlTpl","recoveryToken","stateToken","relayState","signOutLink","backToSignInLink","transformUsername","processCreds","logoText","helpSupportNumber","proxyIdxResponse","overrideExistingStateToken","defaultCountryCode","codeChallenge","codeChallengeMethod","authScheme","policyId","piv","backToSignInUri","customizedValue","showPasswordToggleOnSignInPage","redirectUtilFn","redirectByFormSubmit","hostedLanguages","userLanguages","getUserLanguages","preferred","supportedLowerCase","supportedPos","oauth2Enabled","oauthRedirectUri","encodeURI","configuredSocialIdps","dataAttr","hasPivCard","certAuthUrl","socialAuthPositionTop","hasConfiguredButtons","Settings","setAcceptLanguageHeader","attributeName","getIssuerOrigin","setFlow","corsIsNotSupported","UnsupportedBrowserError","http","operation","transformFn","creds","onSuccess","parseSchema","preSubmit","postSubmit","labels","overrides","assets","abu","V2Router","hasFullCorsSupport","XMLHttpRequest","hasXDomainRequest","XDomainRequest","corsIsNotEnabled","jqXhr","localStorageIsNotSupported","localStorage","supportsPushState","isIE","isFirefox","isMac","MSStream","STORAGE_KEY","parseOverrides","i18nWithLowerCaseKeys","mapped","getCachedLanguages","storage","addLanguageToCache","loginJson","countryJson","fetchJson","headers","Accept","txt","getBundles","localStorageIsSupported","cached","courage","currentLanguage","parsedOverrides","lowerCaseLanguage","CustomError","setPrototypeOf","OAuthError","RegistrationError","AuthStopPollInitiationError","U2FError","WebAuthnError","WebauthnAbortError","ConfiguredFlowError","flowSetting","UserNotAssignedError","JITProfileProvisioningError","MfaRequiredError","ClockDriftError","InlineErrorType","TerminalErrorType","terminal","TypedOAuthError","originalError","errorTypeCtor","errorType","orginalError","errorTrait","getOwnPropertyDescriptor","ignoreIncorrectParams","createCustomEvent","newValue","NO_BEACON_CLS","LOADING_BEACON_CLS","isLoadingBeacon","beacon","LoadingBeacon","removeBeacon","currentBeacon","addBeacon","NextBeacon","setLoadingBeacon","removeLoadingBeacon","transition","loading","typeOfTransition","isLoading","setBeacon","BaseLoginRouter","hasControllerRendered","AppState","wrapper","AuthContainer","updateDeviceFingerprint","restartLoginFlow","details","formatError","updateAppState","formattedError","getContentEl","LanguageUtil","startLoginFlow","handleIdxResponseFailure","handleConfiguredFlow","requestDidSucceed","IonHelper","transactionManager","setNonIdxError","ColorsUtil","controllerOptions","setUsernameCookie","removeUsernameCookie","successWithInteractionCode","WidgetRouter","FormController","idxOptions","meta","interactionHandle","isInvalidRecoveryTokenError","formatInvalidRecoveryTokenError","isInvalidActivationTokenError","formatInvalidActivationTokenError","isOIENotEnabledError","formatOIENotEnabledError","isOIEConfigurationError","formatOIEConfigurationError","formatIDXError","error_description","idxError","idxMessage","handleProxyIdxResponse","emailVerifyCallback","stateHandleFromSession","interactionCodeFlow","ionResponse","transformIdxResponse","setIonResponse","appStateEvents","clearMetadata","TheView","ViewFactory","formView","triggerAfterRenderEvent","contextData","createAfterEventContext","handleFormNameChange","handleAfterError","errorContextData","eventData","handleSwitchForm","handleInvokeAction","invokeOptions","clearIdxResponse","clearAppStateCache","actions","invokeAction","handleIdxResponse","handleSaveForm","toggleFormButtonState","payload","transformPayload","transformIdentifier","IdxStatus","FAILURE","IonResponseHelper","stepUp","postRegistrationSubmit","showErrorBanner","idxStateError","errorObj","hasFormError","nestedOmit","currentFormName","dynamicRefreshInterval","deviceFingerprint","authenticatorProfile","currentAuthenticatorEnrollment","authenticatorMethodType","isPasswordRecovery","recoveryAuthenticator","actionName","authenticatorOptions","targetObject","paths","allFormNames","transformedResponse","previousRawState","identicalResponse","getRefreshInterval","_isReRenderRequired","hideSignOutLinkInMFA","idxActions","messagesObj","keySubStr","firstRemediation","doRerender","shouldReRenderView","chooseRemediation","getHook","executeHooksBefore","executeHooksAfter","reRender","_isChallengeAuthenticatorPoll","isSameExceptMessages","isChallengeAuthenticator","isCurrentAuthenticatorEmail","VIEWS_MAPPING","IdentifyRecoveryView","DeviceChallengePollView","SignInDeviceView","SSOExtensionView","ChallengeOktaVerifySSOExtensionView","EnrollProfileView","EnrollProfileUpdateView","PollView","RequestActivationEmail","SelectAuthenticatorEnrollView","EnrollAuthenticatorDataPhoneView","ChallengeAuthenticatorDataEmailView","EnduserConsentView","GranularConsentView","EnduserEmailConsentView","EnrollDuoAuthenticatorView","EnrollAuthenticatorEmailView","EnrollAuthenticatorGoogleAuthenticatorView","AuthenticatorIdPEnrollView","EnrollAuthenticatorOnPremView","EnrollAuthenticatorPhoneView","EnrollAuthenticatorSecurityQuestion","AuthenticatorSymantecView","EnrollWebauthnView","AuthenticatorYubiKeyView","ChallengeCustomOTPAuthenticatorView","ChallengeDuoAuthenticatorView","ChallengeAuthenticatorEmailView","ChallengeGoogleAuthenticatorView","AuthenticatorIdPVerifyView","ChallengeAuthenticatorOnPremView","ChallengeOktaVerifyTotpView","ChallengeAuthenticatorPasswordView","ChallengeAuthenticatorSecurityQuestion","ChallengeWebauthnView","EnrollPollOktaVerifyView","SelectEnrollmentChannelOktaVerifyView","EnrollementChannelDataOktaVerifyView","ReEnrollAuthenticatorPasswordView","ReEnrollCustomPasswordExpiryView","ReEnrollCustomPasswordExpiryWarningView","ReEnrollAuthenticatorWarningPasswordView","ResetAuthenticatorPasswordView","SelectAuthenticatorVerifyView","SelectAuthenticatorUnlockAccountView","ChallengeOktaVerifyView","ChallengePushView","ChallengeOktaVerifyResendPushView","ChallengeCustomAppResendPushView","ChallengeAuthenticatorDataPhoneView","ChallengeOktaVerifyCustomAppDataView","AutoRedirectView","RedirectIdPView","RedirectIdvView","ChallengePIVView","DeviceEnrollmentTerminalView","DeviceCodeActivateView","PostAuthKeepMeSignedInView","TerminalView","FormInputFactory","addInputOrView","handleClearFormError","formErrorContainer","infoContainer","addIdentifier","identifierHTMLString","errContainer","isTextOverflowing","maxWidth","whiteSpace","clientWidth","inputCreationStrategy","authenticatorEnrollSelect","optionItems","getAuthenticatorDataForEnroll","AuthenticatorEnrollOptions","authenticatorVerifySelect","authSet","Set","isDuplicate","AdminScopeList","EnduserScopeList","CaptchaView","uiSchemaObj","pivButton","pivConfig","createPIVButton","idpObject","button","customButton","customButtonSettings","authClientConstructor","oktaData","signIn","_eventCallbackMap","WeakMap","createRouter","buildRenderOptions","renderEl","callbackFn","getUser","EVENTS_LIST","origCallback","callbackArgs","_oktaUserAgent","addEnvironment","createOktaAuthBase","OktaAuthBase","removeNils","emitter","Emitter","constants","createBaseOptionsConstructor","devMode","defaultAttributes","stringifiedAttributes","jar","foundKey","withAttributes","storageUtil","browserHasLocalStorage","getLocalStorage","testStorage","browserHasSessionStorage","getSessionStorage","testStorageType","storageType","supported","getStorageByType","storageProvider","getCookieStorage","getInMemoryStorage","AuthSdkError","findStorageType","types","curType","nextType","isIE11OrLess","onstorage","sameSite","sessionCookie","expiresAt","useSeparateCookies","existingValues","storageKey","valueToStore","inMemoryStore","cookieOptions","Cookies","isMessageFromCorrectSource","sdk","isFingerprintSupported","postMessage","addListener","removeListener","STATE_TOKEN_KEY_NAME","DEFAULT_POLLING_DELAY","IOS_PAGE_AWAKEN_TIMEOUT","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_CACHE_DURATION","TOKEN_STORAGE_NAME","CACHE_STORAGE_NAME","PKCE_STORAGE_NAME","TRANSACTION_STORAGE_NAME","SHARED_TRANSACTION_STORAGE_NAME","ORIGINAL_URI_STORAGE_NAME","IDX_RESPONSE_STORAGE_NAME","ACCESS_TOKEN_STORAGE_KEY","ID_TOKEN_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","REFERRER_PATH_STORAGE_KEY","MIN_VERIFIER_LENGTH","MAX_VERIFIER_LENGTH","DEFAULT_CODE_CHALLENGE_METHOD","IDX_API_VERSION","INITIAL_AUTH_STATE","DEFAULT_PENDING","updateAuthStatePromise","canceledTimes","EVENT_AUTH_STATE_CHANGE","AuthStateManager","_sdk","_authState","_logOptions","_prevAuthState","_transformQueue","PromiseQueue","quiet","tokenManager","EVENT_ADDED","_setLogOptions","updateAuthState","EVENT_REMOVED","transformAuthState","getConsole","emitAuthStateChange","authState","prevState","isAuthenticated","idToken","accessToken","emit","finalPromise","origPromise","curPromise","getAuthState","cancelablePromise","PCancelable","onCancel","shouldReject","emitAndResolve","isCanceled","getTokensSync","refreshToken","PROMISE_RESOLVED_TRUE","PROMISE_RESOLVED_VOID","sleep","resolveWith","randomToken","lastMs","additional","microSeconds","NativeMethod","channelName","messagesCallback","bc","BroadcastChannel","subFns","onmessage","channelState","messageJson","canBeUsed","_pubkey","averageResponseTime","ObliviousSet","ttl","_to","obliviousSet","olderThen","originalOptions","webWorkerSupport","idb","fallbackInterval","onclose","localstorage","removeTimeout","maxParallelWrites","useFastPath","OBJECT_STORE_ID","TRANSACTION_SETTINGS","durability","getIdb","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","commitIndexedDBTransaction","tx","commit","_readLoop","closed","readNewMessages","db","lastCursorId","transaction","objectStore","keyRangeValue","IDBKeyRange","bound","getAll","getAllRequest","rej","onerror","onsuccess","openCursorRequest","openCursor","cursor","newerMessages","useMessages","msgObj","uuid","eMIs","messagesCallbackTime","msgObjA","msgObjB","IndexedDBMethod","dbName","openRequest","onupgradeneeded","createObjectStore","keyPath","autoIncrement","writeBlockPromise","readQueuePromises","readerUuid","writeObject","oncomplete","msgObk","tooOld","deleteRequest","ls","LocalstorageMethod","writeObj","initEvent","defaultTime","SIMULATE_CHANNELS","SimulateMethod","METHODS","OPEN_BROADCAST_CHANNELS","lastId","maybePromise","chooseMethods","useMethod","_iL","_onML","_addEL","_uMP","_befC","_prepP","_state","_post","broadcastChannel","sendPromise","_hasMessageListeners","_addListenerObject","listenerFn","listenerObject","minMessageTime","_removeListenerObject","postInternal","listenObj","awaitPrepare","isClosed","USE_METHOD","process","exit","WorkerGlobalScope","oldClose","LISTENERS","startedListening","runAll","promises","sendLeaderMessage","leaderElector","msgJson","beLeader","isLeader","_hasLeader","unloadFn","run","die","_unl","isLeaderListener","_dpLC","_dpL","_lstns","LeaderElectionWebLock","isDead","_wKMC","lN","hasLeader","_this2","locks","relevantLocks","held","lock","awaitLeadership","_this3","_wLMP","returnPromise","onduplicate","_fn","_this4","uFn","LeaderElection","_aplQ","_aplQC","hasLeaderListener","createLeaderElection","_leaderElector","responseTime","elector","applyOnce","isFromFallbackInterval","stopCriteriaPromiseResolve","stopCriteria","stopCriteriaPromise","handleMessage","waitForAnswerTime","race","_aLP","whenDeathListener","tryOnFallBack","LeaderElectionService","onLeaderDuplicate","onLeader","canStart","electionChannelName","isBrowser","AutoRenewService","renewTimeQueue","onTokenExpiredHandler","firstTime","syncStorage","getStorage","isRefreshToken","hasExpired","autoRenew","shouldThrottleRenew","emitError","renew","autoRemove","EVENT_EXPIRED","isStarted","processExpiredTokens","SyncStorageService","onTokenAddedHandler","onTokenRemovedHandler","onTokenRenewedHandler","onSetStorageHandler","onSyncMessageHandler","syncChannelName","EVENT_RENEWED","EVENT_SET_STORAGE","enablePostMessage","oldToken","setStorage","emitAdded","setExpireEventTimeout","clearExpireEventTimeout","emitRemoved","emitRenewed","getNow","RenewOnTabActivationService","onPageVisbilityChange","_onPageVisbilityChange","lastHidden","tabInactivityDuration","getStorageKeyByType","renewOnTabActivation","AUTO_RENEW","SYNC_STORAGE","LEADER_ELECTION","RENEW_ON_TAB_ACTIVATION","ServiceManager","broadcastChannelName","services","knownServices","svc","createService","startServices","getService","srv","requiresLeadership","stopServices","canStartService","isLeaderRequired","service","createOktaAuthCore","StorageManagerConstructor","TransactionManagerConstructor","WithStorage","mixinStorage","WithHttp","mixinHttp","WithSession","mixinSession","WithOAuth","mixinOAuth","mixinCore","authStateManager","serviceManager","isLoginRedirect","originalUri","handleLoginRedirect","setTokens","getOriginalUri","parseOAuthResponseFromUrl","oAuthResponse","storeTokensFromRedirect","removeOriginalUri","restoreOriginalUri","createCoreOptionsConstructor","createOAuthOptionsConstructor","createCoreStorageManager","createOAuthStorageManager","stringToBase64Url","base64ToBase64Url","b64","base64UrlToBase64","b64u","base64UrlToString","utf8","stringToBuffer","base64UrlDecode","base64UrlToBuffer","bufferToBase64Url","crypto","getOidcHash","TextEncoder","encode","webcrypto","arrayBuffer","firstHalf","verifyToken","algo","use","cryptoKey","jwt","b64Signature","AuthApiError","errorLink","AuthPollStopError","_construct","Parent","Reflect","construct","sham","Proxy","_wrapNativeSuper","_cache","Wrapper","getPrototypeOf","writable","configurable","summary","WWWAuthError","scheme","parameters","UNKNOWN_ERROR","errorDescription","realm","firstSpace","isAuthApiError","isOAuthError","isWWWAuthError","EMPTY","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","TYPE","VENDOR","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","XR","EMBEDDED","INAPP","USER_AGENT","UA_MAX_LENGTH","BRANDS","FORMFACTORS","FULLVERLIST","PLATFORM","PLATFORMVER","BITNESS","CH_HEADER","CH_HEADER_FULL_VER_LIST","CH_HEADER_ARCH","CH_HEADER_BITNESS","CH_HEADER_FORM_FACTORS","CH_HEADER_MOBILE","CH_HEADER_MODEL","CH_HEADER_PLATFORM","CH_HEADER_PLATFORM_VER","CH_ALL_VALUES","UA_BROWSER","UA_CPU","UA_DEVICE","UA_ENGINE","UA_OS","UA_RESULT","AMAZON","APPLE","ASUS","BLACKBERRY","GOOGLE","HUAWEI","LENOVO","LG","MICROSOFT","MOTOROLA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","PREFIX_MOBILE","SUFFIX_BROWSER","CHROME","CHROMECAST","FIREFOX","OPERA","FACEBOOK","SOGOU","WINDOWS","NAVIGATOR","NAVIGATOR_UADATA","userAgentData","defaultRgx","extensions","mergedRgx","extraRgx","isExtensions","enumerize","enums","str1","str2","lowerize","deep","itemListToArray","strip","majorize","setProps","stripQuotes","rgxMapper","ua","arrays","strMapper","windowsVersionMap","formFactorsMap","defaultRegexes","cpu","device","engine","EDGE","defaultProps","isIgnore","isIgnoreRgx","createIData","init_props","is_ignoreProps","is_ignoreRgx","toString_props","IData","withClientHints","getHighEntropyValues","setCH","UACHData","parseCH","withFeatureCheck","detectFeature","strToCheck","that","IDataResolve","resolveData","uach","isHttpUACH","UAItem","rgxMap","uaCH","ch","brave","isBrave","standalone","maxTouchPoints","parseUA","prevName","brands","brandVersion","archName","ff","osName","osVersion","UAParser","kv","getResult","httpUACH","regexMap","createItemFunc","getBrowser","getCPU","getDevice","getEngine","getOS","setUA","BROWSER","CPU","DEVICE","ENGINE","OS","isWindowsPhone","getUserAgent","agent","isPopupPostMessageSupported","isIE8or9","isWebCryptoSubtleSupported","isTokenVerifySupported","hasTextEncoder","isPKCESupported","isHTTPS","isLocalhost","isDPoPSupported","isMobileSafari18","major","OktaUserAgent","environments","SDK_VERSION","maybeAddNodeEnvironment","versions","headerName","headerValue","appJsonContentTypeRegex","fetchPromise","crossFetch","withCredentials","pair","responseType","createHttpOptionsConstructor","httpRequestClient","fetchRequest","httpRequestInterceptors","createStorageOptionsConstructor","trackDateDocumentBecameVisible","dateDocumentBecameVisible","serverErr","wwwAuthHeader","wwwAuthErr","max_age","acr_values","httpRequest","saveAuthnState","httpCache","storageManager","getHttpCache","pollingIntent","cacheResponse","cachedResponse","getHttpHeader","waitForVisibleAndAwakenDocument","waitForAwakenDocument","recursiveFetch","timeSinceDocumentIsVisible","pageVisibilityHandler","retryableFetch","updateStorage","isAbsoluteUrl","post","postOptions","saveLastResponse","getIdxResponseStorage","storedValue","isRawIdxResponse","rawIdxResponse","useGenericRemediator","clearStorage","createTransactionManager","authenticate","AuthenticatorKey","Authenticator","OktaPassword","passcode","revokeSessions","idxRemediationValue","formatAuthenticator","incoming","isAuthenticator","compareAuthenticators","auth1","auth2","findMatchedOption","load","flowSpec","getFlowSpecification","EmailVerifyCallbackError","isEmailVerifyCallbackError","isEmailVerifyCallback","urlPath","parseEmailVerifyCallback","urlParamsToObject","handleEmailVerifyCallback","canProceed","createOktaAuthIdx","Core","createIdxAPI","setRemediatorsCtx","remediators","boundStartTransaction","startTransaction","interact","introspect","makeIdxResponse","makeIdxState","recoverPassword","handleInteractionCodeRedirect","isInteractionRequired","isInteractionRequiredError","createTransactionMeta","getTransactionMeta","saveTransactionMeta","isTransactionMetaValid","unlockAccount","AuthenticationFlow","Identify","SelectAuthenticatorAuthenticate","SelectAuthenticatorEnroll","AuthenticatorEnrollmentData","AuthenticatorVerificationData","EnrollAuthenticator","ChallengeAuthenticator","ChallengePoll","ReEnrollAuthenticator","ReEnrollAuthenticatorWarning","EnrollPoll","SelectEnrollmentChannel","EnrollmentChannelData","RedirectIdp","Skip","PasswordRecoveryFlow","ResetAuthenticator","RegistrationFlow","SelectEnrollProfile","EnrollProfile","AccountUnlockFlow","SelectAuthenticatorUnlockAccount","oktaAuth","savedState","URL","searchParams","isFieldMutable","divideSingleActionParamsByMutability","defaultParamsForAction","neededParamsForAction","immutableParamsForAction","generateDirectFetch","actionDefinition","toPersist","accepts","generator","actionList","neededParams","immutableParams","jsonpathRegex","SKIP_FIELDS","expandRelatesTo","steps","lastStep","curr","innerValue","parseIdxResponse","remediationData","authenticatorChallenge","remediationActions","remediationValue","generateIdxAction","actionFn","fieldValue","subField","remediationChoice","paramsFromUser","remediationChoiceObject","parsersForVersion","v1","validateVersionConfig","mixinMinimalIdx","mixinMinimalOAuth","prepareTokenParams","decode","decodeToken","pkce","hasResponseType","createMinimalOktaAuthIdx","getResponse","getOAuthBaseUrl","activationToken","maxAge","acrValues","clientSecret","client_id","redirect_uri","code_challenge","code_challenge_method","activation_token","recovery_token","client_secret","interaction_handle","newMeta","savedIdxResponse","loadIdxResponse","getOAuthDomain","availablePollingRemeditaions","nextStep","hasSavedInteractionHandle","autoRemediate","enabledFeatures","IdxFeature","getAuthenticatorFromRemediation","AuthenticatorData","valueKey","getAuthenticator","formatAuthenticatorData","authenticatorsData","mapAuthenticatorDataFromValues","enrollmentId","Remediator","formatAuthenticators","acc","getRequiredValues","hasData","getAllValues","getData","titleCase","_authClient","_context","getName","inputFromRemediation","alias","aliases","inputsFromRemediation","inputsFromRemediator","authenticatorFromRemediation","SelectAuthenticator","matchedOption","isCurrentAuthenticator","isCurrentAuthenticatorEnrollment","selectedAuthenticator","VerificationCodeAuthenticator","verificationCode","OktaVerifyTotp","SecurityQuestionEnrollment","SecurityQuestionVerification","enrolledQuestion","WebauthnEnrollment","WebauthnVerification","VerifyAuthenticator","authenticatorEnrollments","canVerify","mapCredentials","getCredentialsFromRemediation","userProfileFromValues","canRemediate","attributeValues","errorRemediation","unwrapFormValue","formKeys","unwrappedForm","GenericRemediator","produces","newPassword","isRecoveryFlow","authenticatorMap","methodTypeOption","methodTypeValue","filterKey","skip","idxRemediation","cur","getActionFromValues","removeActionFromValues","removeActionFromOptions","remediate","remediator","getRemediator","actionFromValues","actionFromOptions","valuesWithoutExecutedAction","optionsWithoutExecutedAction","handleFailedResponse","canceled","isTerminalResponse","filterValuesForRemediation","getNextStep","getValuesAfterProceed","initializeValues","initializeData","getDataFromIntrospect","interactResponse","getDataFromRemediate","idxResponseFromRemediation","ignoreSignature","urls","tokenResponse","finalizeData","shouldSaveResponse","shouldClearTransaction","clearSharedStorage","getEnabledFeatures","availableSteps","getAvailableSteps","getMessagesFromResponse","hasActions","hasErrors","saveIdxResponse","storageManagerOptions","transactionStorage","getTransactionStorage","SavedObject","tokenParams","pkceMeta","createOAuthMeta","savedMeta","validExistingMeta","muteWarning","isTransactionMetaValidForOptions","isTransactionMetaValidForFlow","_oktaAuth","newCtx","getMessagesFromIdxRemediationValue","messagesFromForm","optionValues","messagesFromOptions","globalMessages","fieldMessages","filtered","remediatorMap","remediatorClass","remediationName","getRemediatorClass","stepObj","split2","part1","part2","actionObj","idxRemediations","remediatorCandidates","canSkip","canResend","getEnrolledCredentials","buildCredentialCreationOptions","rp","pubKeyCredParams","buildCredentialRequestOptions","getAttestation","SdkClock","localOffset","DEFAULT_OPTIONS","clearPendingRemoveTokens","expireEarlySeconds","TokenManager","storageOptions","getTokenStorage","clock","expireTimeouts","renewPromise","setExpireEventTimeoutAll","clearExpireEventTimeoutAll","getExpireTime","freshToken","EVENT_ERROR","expireTime","expireEventWait","expireEventTimeout","emitExpired","tokenStorage","validateToken","emitSetStorageEvent","getSync","isAccessToken","isIDToken","accessTokenCb","idTokenCb","refreshTokenCb","handleTokenCallback","getTokenType","handleAdded","handleRemoved","existingTokens","newToken","existingToken","removedToken","shouldRenew","refreshKey","renewTokens","tokenKey","removedTokens","pendingRemove","MAX_ENTRY_LIFETIME","enableSharedStorage","sharedStorage","getSharedTansactionStorage","isTransactionMeta","dateCreated","decodedToken","INDEXEDDB_NAME","DB_KEY","isDPoPNonceError","createJwt","claims","signingKey","cryptoRandomValue","byteLen","generateKeyPair","modulusLength","publicExponent","hashAccessToken","invokeStoreMethod","req","store","storeKeyPair","pairId","keyPair","findKeyPair","clearDPoPKeyPair","clearAllDPoPKeyPairs","createDPoPKeyPair","keyPairId","clearDPoPKeyPairAfterRevoke","revokedToken","shouldClear","tokenType","dpopPairId","generateDPoPProof","kty","crv","alg","typ","jwk","htm","htu","iat","jti","ath","privateKey","generateDPoPForTokenRequest","convertTokenParamsToOAuthParams","oauthParams","idpScope","prompt","responseMode","enrollAmrValues","mayBeArray","buildAuthorizeParams","oauthQueryParams","extraParams","validateOptions","authorizationCode","getPostData","makeTokenRequest","dpopKeyPair","dpop","proof","DPoP","dpopNonce","postToTokenEndpoint","tokenUrl","postRefreshToken","grant_type","refresh_token","getWellKnown","authServerUri","getKey","kid","wellKnown","jwksUri","cachedKey","getOAuthUrls","getDefaultTokenParams","handleResponseOptions","oauthResponse","handleOAuthResponse","enrollAuthenticator","prepareEnrollAuthenticatorParams","createEnrollAuthenticatorMeta","requestUrl","authorizeUrl","setLocation","createTokenAPI","queue","useQueue","getWithRedirectFn","parseFromUrlFn","parseFromUrl","parseFromUrlApi","_getHistory","_getLocation","_getDocument","revoke","revokeToken","renewToken","renewTokensWithRefresh","getUserInfo","accessTokenObject","idTokenObject","verify","oidcIntrospect","createEndpoints","authorize","getToken","popupWindow","iframePromise","addPostMessageListener","iframeEl","loadFrame","oauthPromise","closePoller","userinfoUrl","getDPoPAuthorizationHeaders","userInfo","sub","loadPopup","validateResponse","token_type","interaction_code","tokenDict","expiresIn","expires_in","access_token","id_token","accessJwt","idJwt","idTokenObj","exp","validationParams","hintMap","TokenKind","iss","introspectUrl","introspection_endpoint","authHeader","token_type_hint","WithOriginalUri","browserStorage","getOriginalUriStorage","PKCE","generateVerifier","computeChallenge","handleLogin","_tokenQueue","endpoints","onExpiredToken","shouldRemove","additionalParams","setOriginalUri","accessTokenKey","refreshTokenKey","postLogoutRedirectUri","logoutUrl","idTokenHint","logoutUri","defaultUri","currentUri","revokeAccessToken","revokeRefreshToken","getSignOutRedirectUrl","closeSession","sessionClosed","clearTokensBeforeRedirect","addPendingRemoveFlags","Authorization","Dpop","wwwAuth","wwwErr","removeTrailingSlash","revokeUrl","toAbsoluteUrl","ignoreLifetime","maxClockSkew","getResponseMode","defaultResponseMode","paramStr","nativeLoc","cleanOAuthResponseFromUrl","nativeHistory","nativeDoc","replaceState","throwInvalidTokenError","getSingleToken","originalToken","refreshTokenObject","renewTokenParams","endpointParams","isSameRefreshToken","updateRefreshToken","isRefreshTokenInvalidError","removeRefreshToken","getOptionsForSection","logServerSideMemoryStorageWarning","BaseStorageManager","isToken","isObjectWithProperties","isOAuthTransactionMeta","isPKCETransactionMeta","isIdxTransactionMeta","isCustomAuthTransactionMeta","eventTarget","responseHandler","getDefaultEnrollAuthenticatorParams","defaultRedirectUri","generateState","generateNonce","isAuthorizationCodeError","errorResponse","hasTokensInHash","hasAuthorizationCode","hashOrSearch","hasInteractionCode","hasErrorInUrl","isRedirectUri","isCodeFlow","getHashOrSearch","codeFlow","genRandomString","getIssuer","oauthMeta","dec2hex","dec","verifier","assertPKCESupport","validateCodeChallengeMethod","preparePKCE","isRefreshTokenError","plus2space","paramSplit","validateClaims","aud","acr","configuredIssuer","validationOptions","sdkCrypto","at_hash","sessionExists","session","getSession","getLink","refreshSession","setCookieAndRedirect","redirectUrl","checkAccountSetupComplete","createSessionApi","exists","sectionName","overrideOptions","storageTypes","storageName","storageString","STORAGE_MANAGER_OPTIONS","cookieSettings","running","thisObject","queueItem","isPromise","getNativeConsole","nativeConsole","deprecateWrap","isoToUTCString","isoTime","UTC","randomCharset","delim","additionalArgs","obj1","cleaned","newobj","altName","_links","toRelativeUrl","CancelError","executor","_cancelHandlers","_isPending","_isCanceled","_rejectOnCancel","_promise","defineProperties","onFulfilled","onRejected","onFinally","userFn","arguments_","__self__","DOMException","support","iterable","blob","Blob","formData","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","Headers","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","buf","byteLength","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","readAsText","thisArg","Request","upcased","referrer","bytes","Response","bodyInit","statusText","redirectStatuses","RangeError","stack","aborted","abortXhr","rawHeaders","getAllResponseHeaders","responseURL","ontimeout","onabort","onreadystatechange","readyState","send","polyfill","ponyfill","evtArr","evts","liveEvents","ReferenceError","Constructor","isNativeReflectConstruct","_defineProperties","descriptor","_getPrototypeOf","subClass","superClass","_typeof","assertThisInitialized","_regeneratorRuntime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","arg","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","doneResult","isGeneratorFunction","genFun","mark","awrap","iter","skipTempReset","rootRecord","rval","handle","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","_setPrototypeOf","isNativeFunction","regeneratorRuntime","accidentalStrictMode","_arrayLikeToArray","arr2","_assertThisInitialized","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","_createClass","_defineProperty","_get","receiver","_inherits","_objectWithoutProperties","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","_possibleConstructorReturn","_slicedToArray","_s","_e","_arr","_d","unsupportedIterableToArray","_toConsumableArray","arrayLikeToArray","_unsupportedIterableToArray","minLen","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","TransactionManager","_select","_select2","ClipboardAction","resolveOptions","initSelection","selectedText","selectFake","selectTarget","isRTL","documentElement","removeFake","fakeHandlerCallback","fakeHandler","fakeElem","fontSize","border","padding","margin","yPosition","pageYOffset","copyText","succeeded","execCommand","handleResult","clearSelection","getSelection","removeAllRanges","_action","hasAttribute","_target","_clipboardAction","_tinyEmitter","_goodListener","_clipboardAction2","_tinyEmitter2","_goodListener2","_Emitter","listenClick","defaultAction","defaultTarget","defaultText","onClick","delegateTarget","clipboardAction","getAttributeValue","queryCommandSupported","suffix","readArrayBufferAsText","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","parentNode","_delegate","useCapture","elements","querySelectorAll","HTMLElement","nodeList","listenNode","listenNodeList","listenSelector","noGlobal","class2type","fnToString","ObjectFunctionString","isWindow","preservedScriptAttributes","noModule","DOMEval","doc","script","toType","isArrayLike","jquery","pushStack","elems","prevObject","even","grep","_elem","odd","copy","copyIsArray","expando","isReady","Ctor","isEmptyObject","globalEval","makeArray","inArray","second","callbackExpect","guid","Sizzle","Expr","getText","isXML","tokenize","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","pushNative","list","booleans","whitespace","pseudos","rwhitespace","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","nonHex","rcssescape","fcssescape","asCodePoint","unloadHandler","inDisabledFieldset","addCombinator","els","seed","nid","newSelector","getElementsByTagName","qsa","testContext","toSelector","qsaError","removeAttribute","cacheLength","markFunction","addHandle","attrHandle","siblingCheck","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","hasCompare","subWindow","defaultView","createComment","getById","getElementsByName","attrId","getAttributeNode","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","sel","uniqueSort","duplicates","detectDuplicates","sortStable","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","operator","check","what","_argument","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","useCache","lastChild","uniqueID","pseudo","setFilters","matched","unmatched","lang","elemLang","hasFocus","checked","_matchIndexes","radio","file","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","compiled","_name","isXMLDoc","escapeSelector","until","truncate","rneedsContext","needsContext","rsingleTag","winnow","qualifier","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","contents","sibling","targets","addBack","parentsUntil","nextUntil","prevUntil","contentDocument","rnothtmlwhite","Identity","Thrower","ex","adoptValue","noValue","Callbacks","flag","createOptions","firing","memory","fired","locked","firingIndex","fire","stopOnFalse","fireWith","tuples","pipe","fns","newDefer","tuple","returned","progress","onProgress","maxDepth","special","mightThrow","notifyWith","exceptionHook","stackTrace","rejectWith","getStackHook","stateString","when","singleValue","resolveContexts","resolveValues","primary","updateFunc","rerrorNames","readyException","readyList","completed","readyWait","doScroll","access","chainable","emptyGet","raw","bulk","rmsPrefix","rdashAlpha","fcamelCase","_all","camelCase","acceptData","owner","Data","uid","dataPriv","dataUser","rbrace","rmultiDash","removeData","_data","_removeData","dequeue","startLength","_queueHooks","setter","clearQueue","pnum","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","rcheckableType","rtagName","rscriptType","createDocumentFragment","checkClone","cloneNode","noCloneChecked","wrapMap","thead","col","td","_default","setGlobalEval","refElements","tbody","tfoot","colgroup","caption","th","optgroup","buildFragment","scripts","selection","ignored","attached","nodes","htmlPrefilter","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","origFn","leverageNative","notAsync","saved","isTrigger","delegateType","stopImmediatePropagation","Event","handleObjIn","eventHandle","handleObj","namespaces","origType","elemData","triggered","dispatch","bindType","delegateCount","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","preDispatch","isPropagationStopped","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","changedTouches","eventPhase","pageX","pageY","shiftKey","charCode","buttons","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","udataOld","udataCur","fixInput","domManip","hasScripts","iNoClone","valueIsFunction","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","replaceWith","replaceChild","appendTo","prependTo","replaceAll","rnumnonpx","rcustomProp","getStyles","opener","getComputedStyle","rboxStyle","rtrimCSS","curCSS","computed","minWidth","isCustomProp","getPropertyValue","pixelBoxStyles","addGetHookIf","conditionFn","hookFn","computeStyleTests","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","scrollboxSizeVal","measure","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","table","trChild","trStyle","borderTopWidth","borderBottomWidth","offsetHeight","cssPrefixes","emptyStyle","vendorProps","finalPropName","final","cssProps","capName","vendorPropName","rdisplayswap","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","boxModelAdjustment","dimension","box","isBorderBox","computedVal","extra","getWidthOrHeight","valueIsBorderBox","offsetProp","getClientRects","Tween","cssHooks","origName","setProperty","getBoundingClientRect","scrollboxSizeBuggy","expand","propHooks","percent","eased","scrollLeft","linear","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","requestAnimationFrame","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","stopped","prefilters","currentTime","startTime","tweens","specialEasing","originalProperties","gotoEnd","propFilter","timer","anim","tweener","oldfire","propTween","restoreDisplay","isBox","dataShow","unqueued","overflow","overflowX","overflowY","prefilter","speed","speeds","fadeTo","optall","doAnimation","stopQueue","timers","cssFn","fadeIn","fadeToggle","slow","fast","checkOn","optSelected","radioValue","boolHook","nType","attrHooks","attrNames","lowercaseName","rfocusable","rclickable","stripAndCollapse","getClass","classesToArray","removeProp","propFix","curValue","finalValue","stateVal","isValidValue","rreturn","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","parserErrorElem","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","valueOrFunction","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rnoContent","rprotocol","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","active","lastModified","etag","isLocal","responseFields","ajaxPrefilter","ajaxTransport","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","requestHeaders","requestHeadersNames","strAbort","overrideMimeType","mimeType","finalText","crossDomain","hasContent","ifModified","nativeStatusText","responses","isSuccess","modified","ct","finalDataType","firstDataType","ajaxHandleResponses","conv2","conv","dataFilter","throws","ajaxConvert","getScript","firstElementChild","wrapInner","htmlIsFunction","unwrap","xhrSuccessStatus","xhrSupported","cors","errorCallback","xhrFields","binary","scriptAttrs","charset","scriptCharset","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","curElem","using","rect","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","fnOver","fnOut","proxy","holdReady","hold","parseJSON","isNumeric","_jQuery","_$","bootstrap","hasStacks","qFileName","qStartingLine","captureLine","nextTick","task","flushing","requestTick","isNodeJS","laterQueue","flush","enter","runSingle","setImmediate","MessageChannel","port1","requestPortTick","port2","runAfter","uncurryThis","QReturnValue","array_slice","array_reduce","basis","array_indexOf","array_map","thisp","object_create","Type","object_hasOwnProperty","object_keys","object_toString","isStopIteration","ReturnValue","STACK_JUMP_SEPARATOR","makeStackTraceLong","stacks","concatedStacks","stackString","desiredLines","isInternalFrame","isNodeFrame","filterStackString","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","qEndingLine","isPromiseAlike","coerce","fulfill","resolvedPromise","progressListeners","promiseDispatch","op","operands","nearerValue","nearer","longStackSupport","become","newPromise","progressListener","resolver","answerPs","fallback","fulfilled","progressed","Q_DEBUG","makeNodeResolver","passByCopy","spread","makePromise","_fulfilled","newException","_rejected","threw","_progressed","fcall","thenResolve","thenReject","isFulfilled","isRejected","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","rejection","atReport","untrackRejection","trackRejection","rhs","pendingCount","snapshot","allResolved","getUnhandledReasons","stopUnhandledRejectionTracking","master","makeGenerator","continuer","verb","StopIteration","errback","spawn","promised","del","mapply","mcall","fapply","fbind","allSettled","regardless","fin","onUnhandledError","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","nmapply","npost","nsend","nmcall","ninvoke","nodeify","nodeback","setSelectionRange","createRange","selectNodeContents","addRange","TinyEmitter","QTIP","PROTOTYPE","CORNER","CHECKS","trackingBound","TRUE","FALSE","NULL","WIDTH","HEIGHT","TOP","LEFT","BOTTOM","RIGHT","CENTER","FLIPINVERT","SHIFT","PLUGINS","NAMESPACE","ATTR_HAS","ATTR_ID","WIDGET","SELECTOR","INACTIVE_EVENTS","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","CLASS_DISABLED","replaceSuffix","oldtitle","ie","NaN","iOS","QTip","_id","img","plugins","onTooltip","lastClass","destroyed","waiting","hiddenDuringWait","positioning","triggering","invalidOpt","invalidContent","sanitizeOptions","newContent","sanitize","convertNotation","notation","levels","setCallback","category","rule","checks","_when","deferreds","posOptions","posClass","_createPosClass","_createTitle","_updateTitle","_createButton","_updateContent","_setWidget","_unassignEvents","_assignEvents","_trigger","immediate","suppress","builtin","nextid","newId","_removeTitle","_updateButton","precedance","rmove","rrender","reposition","_update","_waitForContent","images","imagesLoaded","titlebar","widget","createWidgetClass","abbrev","effect","pluginCalculations","newClass","tooltipWidth","tooltipHeight","targetWidth","targetHeight","isScroll","distance","innerWidth","scrollX","scrollY","innerHeight","imagemap","svg","ownerSVGElement","adjustable","scrolled","quirks","compatMode","Corner","corner","forceY","cls","showMethod","hideMethod","ontoTooltip","ontoTarget","inactiveMethod","inactive","repositionMethod","docBody","newTarget","metadata5","html5","solo","overwrite","center","identicalState","allow","contentOptions","sameTarget","_storeMouse","autofocus","qtips","curIndex","zIndex","newIndex","zindex","def","_bind","ns","_unbind","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","_assignInitialEvents","showTarget","hideTarget","hoverIntent","hoverEvent","prerender","moveEvent","onTarget","containerTarget","viewportTarget","documentTarget","windowTarget","leave","isAncestor","inactiveEvents","limit","abs","command","ui","move","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BORDER","COLOR","BG_COLOR","TRANSPARENT","IMPORTANT","HASCANVAS","getContext","INVALID","camel","vendorCss","ucProp","intCss","Tip","_ns","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","tip","lineJoin","miterLimit","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","_parseRadius","_invalidColour","_parseColours","borderSide","colorElem","color","_calculateSize","ratio","isCenter","smallHyp","sqrt","hyp","_calculateTip","width2","height2","tips","bl","tl","tc","rc","lc","lt","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","bigCoords","translate","newSize","inner","curSize","mimic","lineHeight","restore","clearRect","fillStyle","fill","coordsize","antialias","fillcolor","filled","stroked","opera","calculate","corners","userOffset","bottom","newCorner","horizontal","vertical","shiftflip","cornerTop","cornerLeft","shiftonly","direction","popposite","opposite","xy","MODAL","OVERLAY","MODALCLASS","MODALSELECTOR","Modal","focusableElems","focusable","mapName","isTabIndexNotNaN","focusInputs","blurElems","stealFocus","modal","stealfocus","visibleModals","overlay","modal_zindex","oEvent","elemWidth","elemHeight","newMy","containerOffset","containerStatic","viewportWidth","viewportHeight","viewportScroll","viewportOffset","methodX","methodY","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","overflow1","overflow2","polys","polygon","baseCoords","newWidth","newHeight","compareX","compareY","realX","realY","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","rys","sin","circle","frameOffset","mtx","transformed","points","strokeWidth2","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","createSVGPoint","getScreenCTM","matrixTransform","frameElement","area","imageOffset","shape","coordsArray","BGIFRAME","Ie6","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","tipAdjust","dimensions","plugin","drawing","perc","ie6"],"sourceRoot":""}